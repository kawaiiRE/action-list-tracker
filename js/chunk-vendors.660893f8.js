"use strict";(self["webpackChunkaction_tracker"]=self["webpackChunkaction_tracker"]||[]).push([[504],{33:(e,t,n)=>{
/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function r(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}n.d(t,{$3:()=>f,$H:()=>V,BH:()=>z,BX:()=>re,Bm:()=>_,C4:()=>Y,CE:()=>v,CP:()=>u,DY:()=>F,Gv:()=>E,J$:()=>ee,Kg:()=>w,MZ:()=>a,Mp:()=>l,NO:()=>s,Oj:()=>o,PT:()=>N,Qd:()=>R,Ro:()=>W,SU:()=>A,TF:()=>d,Tg:()=>L,Tn:()=>b,Tr:()=>H,We:()=>j,X$:()=>c,Y2:()=>te,ZH:()=>P,Zf:()=>C,_B:()=>J,bB:()=>B,cy:()=>p,gd:()=>y,pD:()=>r,rU:()=>M,tE:()=>i,u3:()=>ae,vM:()=>m,v_:()=>ie,yI:()=>I,yL:()=>T,yQ:()=>$});const a={},o=[],i=()=>{},s=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u=e=>e.startsWith("onUpdate:"),c=Object.assign,d=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,f=(e,t)=>h.call(e,t),p=Array.isArray,v=e=>"[object Map]"===k(e),m=e=>"[object Set]"===k(e),g=e=>"[object Date]"===k(e),y=e=>"[object RegExp]"===k(e),b=e=>"function"===typeof e,w=e=>"string"===typeof e,_=e=>"symbol"===typeof e,E=e=>null!==e&&"object"===typeof e,T=e=>(E(e)||b(e))&&b(e.then)&&b(e.catch),S=Object.prototype.toString,k=e=>S.call(e),C=e=>k(e).slice(8,-1),R=e=>"[object Object]"===k(e),I=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,A=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),x=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},O=/-(\w)/g,N=x(e=>e.replace(O,(e,t)=>t?t.toUpperCase():"")),D=/\B([A-Z])/g,L=x(e=>e.replace(D,"-$1").toLowerCase()),P=x(e=>e.charAt(0).toUpperCase()+e.slice(1)),M=x(e=>{const t=e?`on${P(e)}`:"";return t}),V=(e,t)=>!Object.is(e,t),F=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},$=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},B=e=>{const t=parseFloat(e);return isNaN(t)?e:t},W=e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t};let U;const j=()=>U||(U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const G="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",z=r(G);function H(e){if(p(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=w(r)?Q(r):H(r);if(a)for(const e in a)t[e]=a[e]}return t}if(w(e)||E(e))return e}const K=/;(?![^(]*\))/g,X=/:([^]+)/,q=/\/\*[^]*?\*\//g;function Q(e){const t={};return e.replace(q,"").split(K).forEach(e=>{if(e){const n=e.split(X);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Y(e){let t="";if(w(e))t=e;else if(p(e))for(let n=0;n<e.length;n++){const r=Y(e[n]);r&&(t+=r+" ")}else if(E(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function J(e){if(!e)return null;let{class:t,style:n}=e;return t&&!w(t)&&(e.class=Y(t)),n&&(e.style=H(n)),e}const Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ee=r(Z);function te(e){return!!e||""===e}function ne(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=re(e[r],t[r]);return n}function re(e,t){if(e===t)return!0;let n=g(e),r=g(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=_(e),r=_(t),n||r)return e===t;if(n=p(e),r=p(t),n||r)return!(!n||!r)&&ne(e,t);if(n=E(e),r=E(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,o=Object.keys(t).length;if(a!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),a=t.hasOwnProperty(n);if(r&&!a||!r&&a||!re(e[n],t[n]))return!1}}return String(e)===String(t)}function ae(e,t){return e.findIndex(e=>re(e,t))}const oe=e=>!(!e||!0!==e["__v_isRef"]),ie=e=>w(e)?e:null==e?"":p(e)||E(e)&&(e.toString===S||!b(e.toString))?oe(e)?ie(e.value):JSON.stringify(e,se,2):String(e),se=(e,t)=>oe(t)?se(e,t.value):v(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[le(t,r)+" =>"]=n,e),{})}:m(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>le(e))}:_(t)?le(t):!E(t)||p(t)||R(t)?t:String(t),le=(e,t="")=>{var n;return _(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},72:(e,t,n)=>{n.d(t,{cY:()=>w,FA:()=>U,g:()=>W,u:()=>c,Uj:()=>u,Fy:()=>T,tD:()=>Y,bD:()=>H,hp:()=>Q,T9:()=>y,Tj:()=>m,yU:()=>g,XA:()=>b,mS:()=>d,Ku:()=>te,ZQ:()=>A,sr:()=>D,zJ:()=>_,c1:()=>N,Im:()=>z,lT:()=>P,zW:()=>F,jZ:()=>x,lV:()=>L,nr:()=>M,Ov:()=>V,gE:()=>E,Am:()=>X,I9:()=>q,P1:()=>I,eX:()=>$});const r=()=>{},a=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},o=function(e){const t=[];let n=0,r=0;while(n<e.length){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&o)}else if(a>239&&a<365){const o=e[n++],i=e[n++],s=e[n++],l=((7&a)<<18|(63&o)<<12|(63&i)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&i)}}return t.join("")},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],o=a+1<e.length,i=o?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,u=t>>2,c=(3&t)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):o(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],o=a<e.length,i=o?n[e.charAt(a)]:0;++a;const l=a<e.length,u=l?n[e.charAt(a)]:64;++a;const c=a<e.length,d=c?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==u||null==d)throw new s;const h=t<<2|i>>4;if(r.push(h),64!==u){const e=i<<4&240|u>>2;if(r.push(e),64!==d){const e=u<<6&192|d;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(e){const t=a(e);return i.encodeByteArray(t,!0)},u=function(e){return l(e).replace(/\./g,"")},c=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h=()=>d().__FIREBASE_DEFAULTS__,f=()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",BASE_URL:"/action-list-tracker/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},p=()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&c(e[1]);return t&&JSON.parse(t)},v=()=>{try{return r()||h()||f()||p()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},m=e=>{var t,n;return null===(n=null===(t=v())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},g=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},y=()=>{var e;return null===(e=v())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=v())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e){try{const t=e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e;return t.endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function E(e){const t=await fetch(e,{credentials:"include"});return t.ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[u(JSON.stringify(n)),u(JSON.stringify(i)),s].join(".")}const S={};function k(){const e={prod:[],emulator:[]};for(const t of Object.keys(S))S[t]?e.emulator.push(t):e.prod.push(t);return e}function C(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let R=!1;function I(e,t){if("undefined"===typeof window||"undefined"===typeof document||!_(window.location.host)||S[e]===t||S[e]||R)return;function n(e){return`__firebase__banner__${e}`}S[e]=t;const r="__firebase__banner",a=k(),o=a.prod.length>0;function i(){const e=document.getElementById(r);e&&e.remove()}function s(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}function l(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}function u(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{R=!0,i()},e}function c(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}function d(){const e=C(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),i=n("learnmore"),d=document.getElementById(i)||document.createElement("a"),h=n("preprendIcon"),f=document.getElementById(h)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;s(t),c(d,i);const n=u();l(f,h),t.append(f,a,d,n),document.body.appendChild(t)}o?(a.innerText="Preview backend disconnected.",f.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(f.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",d):d()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function x(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function O(){var e;const t=null===(e=v())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function N(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function D(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function L(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function P(){const e=A();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function M(){return!O()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){return!O()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function F(){try{return"object"===typeof indexedDB}catch(e){return!1}}function $(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const B="FirebaseError";class W extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=B,Object.setPrototypeOf(this,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?j(a,n):"Error",i=`${this.serviceName}: ${o} (${r}).`,s=new W(r,i,n);return s}}function j(e,t){return e.replace(G,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}const G=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],o=t[a];if(K(n)&&K(o)){if(!H(n,o))return!1}else if(n!==o)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function K(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function X(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function q(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Q(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t){const n=new J(e,t);return n.subscribe.bind(n)}class J{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=Z(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ee),void 0===r.error&&(r.error=ee),void 0===r.complete&&(r.complete=ee);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function ee(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function te(e){return e&&e._delegate?e._delegate:e}},125:(e,t,n)=>{n.d(t,{h1:()=>u,uA:()=>a});var r=n(72);class a{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(l(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,o]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(a);n===e&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:s(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function s(e){return e===o?void 0:e}function l(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},223:(e,t,n)=>{n.d(t,{Wp:()=>r.Wp});var r=n(928),a="firebase",o="11.10.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,r.KO)(a,o,"app")},262:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n}},415:(e,t,n)=>{n.d(t,{eJ:()=>Ft,xI:()=>ta,hg:()=>Ut,x9:()=>$t,CI:()=>jt});var r=n(928),a=n(72),o=n(424);function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(125);function l(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u=l,c=new a.FA("auth","Firebase",l()),d=new o.Vy("@firebase/auth");function h(e,...t){d.logLevel<=o.$b.WARN&&d.warn(`Auth (${r.MF}): ${e}`,...t)}function f(e,...t){d.logLevel<=o.$b.ERROR&&d.error(`Auth (${r.MF}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(e,...t){throw y(e,...t)}function v(e,...t){return y(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},u()),{[t]:n}),o=new a.FA("auth","Firebase",r);return o.create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c.create(e,...t)}function b(e,t,...n){if(!e)throw y(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function _(e,t){e||w(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===S()||"https:"===S()}function S(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(T()||(0,a.sr)()||"connection"in navigator))||navigator.onLine}function C(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return k()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["INVALID_LOGIN_CREDENTIALS"]:"invalid-credential",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["PASSWORD_DOES_NOT_MEET_REQUIREMENTS"]:"password-does-not-meet-requirements",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},O=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N=new R(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function L(e,t,n,r,o={}){return P(e,o,async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=(0,a.Am)(Object.assign({key:e.config.apiKey},i)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return(0,a.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),A.fetch()(await V(e,e.config.apiHost,n,s),u)})}async function P(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},x),t);try{const t=new $(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw B(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const t=a.ok?o.errorMessage:o.error.message,[n,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw B(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw B(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw m(e,s,i);p(e,s)}}catch(o){if(o instanceof a.g)throw o;p(e,"network-request-failed",{message:String(o)})}}async function M(e,t,n,r,a={}){const o=await L(e,t,n,r,a);return"mfaPendingCredential"in o&&p(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function V(e,t,n,r){const a=`${t}${n}?${r}`,o=e,i=o.config.emulator?I(e.config,a):`${e.config.apiScheme}://${a}`;if(O.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){const e=o._getPersistence();return e._getFinalTarget(i).toString()}return i}function F(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(v(this.auth,"network-request-failed")),N.get())})}}function B(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=v(e,t,r);return a.customData._tokenResponse=n,a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e){return void 0!==e&&void 0!==e.enterprise}class U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j(e,t){return L(e,"GET","/v2/recaptchaConfig",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G(e,t){return L(e,"POST","/v1/accounts:delete",t)}async function z(e,t){return L(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(e,t=!1){const n=(0,a.Ku)(e),r=await n.getIdToken(t),o=q(r);b(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i["sign_in_provider"];return{claims:o,token:r,authTime:H(X(o.auth_time)),issuedAtTime:H(X(o.iat)),expirationTime:H(X(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i["sign_in_second_factor"])||null}}function X(e){return 1e3*Number(e)}function q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(o){return f("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Q(e){const t=q(e);return b(t,"internal-error"),b("undefined"!==typeof t.exp,"internal-error"),b("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof a.g&&J(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function J({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=H(this.lastLoginAt),this.creationTime=H(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function te(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Y(e,z(n,{idToken:r}));b(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const o=a.users[0];e._notifyReloadListener(o);const i=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?ae(o.providerUserInfo):[],s=re(e.providerData,i),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),c=!!l&&u,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ee(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function ne(e){const t=(0,a.Ku)(e);await te(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function re(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}function ae(e){return e.map(e=>{var{providerId:t}=e,n=i(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oe(e,t){const n=await P(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await V(e,r,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),A.fetch()(i,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ie(e,t){return L(e,"POST","/v2/accounts:revokeToken",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b("undefined"!==typeof e.idToken,"internal-error"),b("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){b(0!==e.length,"internal-error");const t=Q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(b(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await oe(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,o=new se;return n&&(b("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(b("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),a&&(b("number"===typeof a,"internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new se,this.toJSON())}_performRefresh(){return w("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e,t){b("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=i(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ee(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Y(this,this.stsTokenManager.getToken(this.auth,e));return b(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K(this,e)}reload(){return ne(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await te(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await Y(this,G(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,o,i,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(i=t.tenantId)&&void 0!==i?i:void 0,v=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:_,providerData:E,stsTokenManager:T}=t;b(y&&T,e,"internal-error");const S=se.fromJSON(this.name,T);b("string"===typeof y,e,"internal-error"),le(c,e.name),le(d,e.name),b("boolean"===typeof w,e,"internal-error"),b("boolean"===typeof _,e,"internal-error"),le(h,e.name),le(f,e.name),le(p,e.name),le(v,e.name),le(m,e.name),le(g,e.name);const k=new ue({uid:y,auth:e,email:d,emailVerified:w,displayName:c,isAnonymous:_,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:g});return E&&Array.isArray(E)&&(k.providerData=E.map(e=>Object.assign({},e))),v&&(k._redirectEventId=v),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new se;r.updateFromServerResponse(t);const a=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await te(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];b(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?ae(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),i=new se;i.updateFromIdToken(n);const s=new ue({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ee(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(s,l),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=new Map;function de(e){_(e instanceof Function,"Expected a class definition");let t=ce.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ce.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}he.type="NONE";const fe=he;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e,t,n){return`firebase:${e}:${t}:${n}`}class ve{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=pe(this.userKey,r.apiKey,a),this.fullPersistenceKey=pe("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await z(this.auth,{idToken:e}).catch(()=>{});return t?ue._fromGetAccountInfoResponse(this.auth,t,e):null}return ue._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ve(de(fe),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||de(fe);const o=pe(n,e.config.apiKey,e.name);let i=null;for(const u of t)try{const t=await u._get(o);if(t){let n;if("string"===typeof t){const r=await z(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ue._fromGetAccountInfoResponse(e,r,t)}else n=ue._fromJSON(e,t);u!==a&&(i=n),a=u;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&s.length?(a=s[0],i&&await a._set(o,i.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(o)}catch(l){}})),new ve(a,e,n)):new ve(a,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(we(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ee(t))return"Blackberry";if(Te(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||be(t))&&!t.includes("edge/"))return"Chrome";if(_e(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ge(e=(0,a.ZQ)()){return/firefox\//i.test(e)}function ye(e=(0,a.ZQ)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function be(e=(0,a.ZQ)()){return/crios\//i.test(e)}function we(e=(0,a.ZQ)()){return/iemobile/i.test(e)}function _e(e=(0,a.ZQ)()){return/android/i.test(e)}function Ee(e=(0,a.ZQ)()){return/blackberry/i.test(e)}function Te(e=(0,a.ZQ)()){return/webos/i.test(e)}function Se(e=(0,a.ZQ)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ke(e=(0,a.ZQ)()){var t;return Se(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Ce(){return(0,a.lT)()&&10===document.documentMode}function Re(e=(0,a.ZQ)()){return Se(e)||_e(e)||Te(e)||Ee(e)||/windows phone/i.test(e)||we(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e,t=[]){let n;switch(e){case"Browser":n=me((0,a.ZQ)());break;case"Worker":n=`${me((0,a.ZQ)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.MF}/${o}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{const r=e(t);n(r)}catch(a){r(a)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xe(e,t={}){return L(e,"GET","/v2/passwordPolicy",D(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe=6;class Ne{constructor(e){var t,n,r,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:Oe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,o,i;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(a=s.containsUppercaseLetter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(i=s.containsNonAlphanumericCharacter)||void 0===i||i),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pe(this),this.idTokenSubscription=new Pe(this),this.beforeStateQueue=new Ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=de(t)),this._initializationPromise=this.queue(async()=>{var n,r,a;if(!this._deleted&&(this.persistenceManager=await ve.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(a=this.currentUser)||void 0===a?void 0:a.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await z(this,{idToken:e}),n=await ue._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===a||void 0===a?void 0:a._redirectEventId,i=await this.tryRedirectSignIn(e);n&&n!==r||!(null===i||void 0===i?void 0:i.user)||(a=i.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(i){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return b(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await te(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,a.Ku)(e):null;return t&&b(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&b(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(de(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xe(this),t=new Ne(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};null!=this.tenantId&&(n.tenantId=this.tenantId),await ie(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&de(e)||this._popupRedirectResolver;b(t,this,"argument-error"),this.redirectPersistenceManager=await ve.create(this,[de(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let o=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(b(i,this,"internal-error"),i.then(()=>{o||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{o=!0,a()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&h(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Le(e){return(0,a.Ku)(e)}class Pe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Me={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ve(e){Me=e}function Fe(e){return Me.loadJS(e)}function $e(){return Me.recaptchaEnterpriseScript}function Be(){return Me.gapiScript}function We(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(){this.enterprise=new je}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class je{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ge="recaptcha-enterprise",ze="NO_RECAPTCHA";class He{constructor(e){this.type=Ge,this.auth=Le(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{j(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new U(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const a=window.grecaptcha;W(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ze)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){const e=new Ue;return e.execute("siteKey",{action:"verify"})}return new Promise((e,a)=>{n(this.auth).then(n=>{if(!t&&W(window.grecaptcha))r(n,e,a);else{if("undefined"===typeof window)return void a(new Error("RecaptchaVerifier is only supported in browser"));let t=$e();0!==t.length&&(t+=n),Fe(t).then(()=>{r(n,e,a)}).catch(e=>{a(e)})}}).catch(e=>{a(e)})})}}async function Ke(e,t,n,r=!1,a=!1){const o=new He(e);let i;if(a)i=ze;else try{i=await o.verify(n)}catch(l){i=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Xe(e,t,n,r,a){var o,i;if("EMAIL_PASSWORD_PROVIDER"===a){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ke(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if("auth/missing-recaptcha-token"===a.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ke(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}if("PHONE_PROVIDER"===a){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("PHONE_PROVIDER")){const a=await Ke(e,t,n);return r(e,a).catch(async a=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===a.code||"auth/invalid-app-credential"===a.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const a=await Ke(e,t,n,!1,!0);return r(e,a)}return Promise.reject(a)})}{const a=await Ke(e,t,n,!1,!0);return r(e,a)}}return Promise.reject(a+" provider is not supported.")}async function qe(e){const t=Le(e),n=await j(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new U(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){const e=new He(t);e.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;p(e,"already-initialized")}const o=n.initialize({options:t});return o}function Ye(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(de);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}function Je(e,t,n){const r=Le(e);b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Ze(t),{host:s,port:l}=et(t),u=null===l?"":`:${l}`,c={url:`${i}//${s}${u}/`},d=Object.freeze({host:s,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return b(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void b((0,a.bD)(c,r.config.emulator)&&(0,a.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(s)?((0,a.gE)(`${i}//${s}${u}`),(0,a.P1)("Auth",!0)):o||nt()}function Ze(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function et(e){const t=Ze(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:tt(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:tt(t)}}}function tt(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function nt(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function at(e,t){return L(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ot(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function it(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}async function st(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends rt{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new lt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xe(e,t,"signInWithPassword",ot,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return it(e,{email:this._email,oobCode:this._password});default:p(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xe(e,n,"signUpPassword",at,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return st(e,{idToken:t,email:this._email,oobCode:this._password});default:p(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ut(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="http://localhost";class dt extends rt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new dt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=i(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new dt(n,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return ut(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ut(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ut(e,t)}buildRequest(){const e={requestUri:ct,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,a.Am)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ht(e,t){return L(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))}async function ft(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))}async function pt(e,t){const n=await M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw B(e,"account-exists-with-different-credential",n);return n}const vt={["USER_NOT_FOUND"]:"user-not-found"};async function mt(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,n),vt)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends rt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new gt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new gt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return ft(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return pt(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return mt(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new gt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bt(e){const t=(0,a.I9)((0,a.hp)(e))["link"],n=t?(0,a.I9)((0,a.hp)(t))["deep_link_id"]:null,r=(0,a.I9)((0,a.hp)(e))["deep_link_id"],o=r?(0,a.I9)((0,a.hp)(r))["link"]:null;return o||r||n||t||e}class wt{constructor(e){var t,n,r,o,i,s;const l=(0,a.I9)((0,a.hp)(e)),u=null!==(t=l["apiKey"])&&void 0!==t?t:null,c=null!==(n=l["oobCode"])&&void 0!==n?n:null,d=yt(null!==(r=l["mode"])&&void 0!==r?r:null);b(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(o=l["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(i=l["lang"])&&void 0!==i?i:null,this.tenantId=null!==(s=l["tenantId"])&&void 0!==s?s:null}static parseLink(e){const t=bt(e);try{return new wt(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _t{constructor(){this.providerId=_t.PROVIDER_ID}static credential(e,t){return lt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=wt.parseLink(t);return b(n,"argument-error"),lt._fromEmailAndCode(e,n.code,n.tenantId)}}_t.PROVIDER_ID="password",_t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Et{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends Et{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class St extends Tt{constructor(){super("facebook.com")}static credential(e){return dt._fromParams({providerId:St.PROVIDER_ID,signInMethod:St.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return St.credentialFromTaggedObject(e)}static credentialFromError(e){return St.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return St.credential(e.oauthAccessToken)}catch(t){return null}}}St.FACEBOOK_SIGN_IN_METHOD="facebook.com",St.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kt extends Tt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return dt._fromParams({providerId:kt.PROVIDER_ID,signInMethod:kt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return kt.credentialFromTaggedObject(e)}static credentialFromError(e){return kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return kt.credential(t,n)}catch(r){return null}}}kt.GOOGLE_SIGN_IN_METHOD="google.com",kt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ct extends Tt{constructor(){super("github.com")}static credential(e){return dt._fromParams({providerId:Ct.PROVIDER_ID,signInMethod:Ct.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ct.credentialFromTaggedObject(e)}static credentialFromError(e){return Ct.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ct.credential(e.oauthAccessToken)}catch(t){return null}}}Ct.GITHUB_SIGN_IN_METHOD="github.com",Ct.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rt extends Tt{constructor(){super("twitter.com")}static credential(e,t){return dt._fromParams({providerId:Rt.PROVIDER_ID,signInMethod:Rt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rt.credentialFromTaggedObject(e)}static credentialFromError(e){return Rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Rt.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function It(e,t){return M(e,"POST","/v1/accounts:signUp",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt.TWITTER_SIGN_IN_METHOD="twitter.com",Rt.PROVIDER_ID="twitter.com";class At{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const a=await ue._fromIdTokenResponse(e,n,r),o=xt(n),i=new At({user:a,providerId:o,_tokenResponse:n,operationType:t});return i}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=xt(n);return new At({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function xt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ot extends a.g{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ot.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ot(e,t,n,r)}}function Nt(e,t,n,r){const a="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return a.catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ot._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dt(e,t,n=!1){const r=await Y(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return At._forOperation(e,"link",r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Lt(e,t,n=!1){const{auth:a}=e;if((0,r.xZ)(a.app))return Promise.reject(g(a));const o="reauthenticate";try{const r=await Y(e,Nt(a,o,t,e),n);b(r.idToken,a,"internal-error");const i=q(r.idToken);b(i,a,"internal-error");const{sub:s}=i;return b(e.uid===s,a,"user-mismatch"),At._forOperation(e,o,r)}catch(i){throw"auth/user-not-found"===(null===i||void 0===i?void 0:i.code)&&p(a,"user-mismatch"),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pt(e,t,n=!1){if((0,r.xZ)(e.app))return Promise.reject(g(e));const a="signIn",o=await Nt(e,a,t),i=await At._fromIdTokenResponse(e,a,o);return n||await e._updateCurrentUser(i.user),i}async function Mt(e,t){return Pt(Le(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Vt(e){const t=Le(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ft(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));const a=Le(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},i=Xe(a,o,"signUpPassword",It,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Vt(e),t}),l=await At._fromIdTokenResponse(a,"signIn",s);return await a._updateCurrentUser(l.user),l}function $t(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):Mt((0,a.Ku)(e),_t.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Vt(e),t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(e,t,n,r){return(0,a.Ku)(e).onIdTokenChanged(t,n,r)}function Wt(e,t,n){return(0,a.Ku)(e).beforeAuthStateChanged(t,n)}function Ut(e,t,n,r){return(0,a.Ku)(e).onAuthStateChanged(t,n,r)}function jt(e){return(0,a.Ku)(e).signOut()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}function zt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}function Ht(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}function Kt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}new WeakMap;const Xt="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xt,"1"),this.storage.removeItem(Xt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=1e3,Yt=10;class Jt extends qt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Re(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);Ce()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Yt):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Qt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jt.type="LOCAL";const Zt=Jt,en=1e3;
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(a))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function nn(e){const t="http:"===window.location.protocol;return`${t?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class rn{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=nn(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return tn(t)}async _remove(e){if(!this._isAvailable())return;const t=await this._get(e);if(!t)return;const n=nn(e);document.cookie=`${n}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=nn(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);const a=e.deleted.find(e=>e.name===n);a&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=tn(n);const a=setInterval(()=>{const e=tn(n);e!==r&&(t(e),r=e)},en),o=()=>clearInterval(a);this.listenerUnsubscribes.set(t,o)}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}rn.type="COOKIE";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class an extends qt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}an.type="SESSION";const on=an;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(e){return Promise.all(e.map(async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ln(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const i=Array.from(o).map(async e=>e(t.origin,a)),s=await sn(i);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function un(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.receivers=[];class cn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((i,s)=>{const l=un("",20);r.port1.start();const u=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),i(t.data.response);break;default:clearTimeout(u),clearTimeout(a),s(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function hn(e){dn().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return"undefined"!==typeof dn()["WorkerGlobalScope"]&&"function"===typeof dn()["importScripts"]}async function pn(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function vn(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function mn(){return fn()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="firebaseLocalStorageDb",yn=1,bn="firebaseLocalStorage",wn="fbase_key";class _n{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function En(e,t){return e.transaction([bn],t?"readwrite":"readonly").objectStore(bn)}function Tn(){const e=indexedDB.deleteDatabase(gn);return new _n(e).toPromise()}function Sn(){const e=indexedDB.open(gn,yn);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(bn,{keyPath:wn})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(bn)?t(n):(n.close(),await Tn(),t(await Sn()))})})}async function kn(e,t,n){const r=En(e,!0).put({[wn]:t,value:n});return new _n(r).toPromise()}async function Cn(e,t){const n=En(e,!1).get(t),r=await new _n(n).toPromise();return void 0===r?null:r.value}function Rn(e,t){const n=En(e,!0).delete(t);return new _n(n).toPromise()}const In=800,An=3;class xn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Sn()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>An)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ln._getInstance(mn()),this.receiver._subscribe("keyChanged",async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pn(),!this.activeServiceWorker)return;this.sender=new cn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&vn()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sn();return await kn(e,Xt,"1"),await Rn(e,Xt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kn(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>Cn(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rn(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=En(e,!1).getAll();return new _n(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),In)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xn.type="LOCAL";const On=xn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}function Dn(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}function Ln(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We("rcb"),new R(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Pn="recaptcha";async function Mn(e,t,n){var r;if(!e._getRecaptchaConfig())try{await qe(e)}catch(a){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){b("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ze){b((null===n||void 0===n?void 0:n.type)===Pn,e,"argument-error");const r=await Vn(e,t,n);return Gt(e,r)}return Gt(e,t)},i=Xe(e,r,"mfaSmsEnrollment",o,"PHONE_PROVIDER"),s=await i.catch(e=>Promise.reject(e));return s.phoneSessionInfo.sessionInfo}{b("signin"===t.type,e,"internal-error");const o=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;b(o,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ze){b((null===n||void 0===n?void 0:n.type)===Pn,e,"argument-error");const r=await Vn(e,t,n);return Nn(e,r)}return Nn(e,t)},l=Xe(e,i,"mfaSmsSignIn",s,"PHONE_PROVIDER"),u=await l.catch(e=>Promise.reject(e));return u.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===ze){b((null===n||void 0===n?void 0:n.type)===Pn,e,"argument-error");const r=await Vn(e,t,n);return ht(e,r)}return ht(e,t)},o=Xe(e,t,"sendVerificationCode",r,"PHONE_PROVIDER"),i=await o.catch(e=>Promise.reject(e));return i.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Vn(e,t,n){b(n.type===Pn,e,"argument-error");const r=await n.verify();b("string"===typeof r,e,"argument-error");const a=Object.assign({},t);if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,o=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.providerId=Fn.PROVIDER_ID,this.auth=Le(e)}verifyPhoneNumber(e,t){return Mn(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return gt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Fn.credentialFromTaggedObject(t)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?gt._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $n(e,t){return t?de(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.PROVIDER_ID="phone",Fn.PHONE_SIGN_IN_METHOD="phone";class Bn extends rt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ut(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ut(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ut(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wn(e){return Pt(e.auth,new Bn(e),e.bypassAuthState)}function Un(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Lt(n,new Bn(e),e.bypassAuthState)}async function jn(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Dt(n,new Bn(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t,n,r,a=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:o,type:i}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wn;case"linkViaPopup":case"linkViaRedirect":return jn;case"reauthViaPopup":case"reauthViaRedirect":return Un;default:p(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new R(2e3,1e4);class Hn extends Gn{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,Hn.currentPopupAction&&Hn.currentPopupAction.cancel(),Hn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return b(e,this.auth,"internal-error"),e}async onExecution(){_(1===this.filter.length,"Popup operations only handle one event");const e=un();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(v(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(v(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(v(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,zn.get())};e()}}Hn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Kn="pendingRedirect",Xn=new Map;class qn extends Gn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Xn.get(this.auth._key());if(!e){try{const t=await Qn(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Xn.set(this.auth._key(),e)}return this.bypassAuthState||Xn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Qn(e,t){const n=Zn(t),r=Jn(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}function Yn(e,t){Xn.set(e._key(),t)}function Jn(e){return de(e._redirectPersistence)}function Zn(e){return pe(Kn,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function er(e,t,n=!1){if((0,r.xZ)(e.app))return Promise.reject(g(e));const a=Le(e),o=$n(a,t),i=new qn(a,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await a._persistUserIfCurrent(s.user),await a._setRedirectUser(null,t)),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const tr=6e5;class nr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!or(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ar(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(v(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tr&&this.cachedEventUids.clear(),this.cachedEventUids.has(rr(e))}saveEventToCache(e){this.cachedEventUids.add(rr(e)),this.lastProcessedEventTime=Date.now()}}function rr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ar({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function or(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ar(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ir(e,t={}){return L(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lr=/^https?/;async function ur(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ir(e);for(const r of t)try{if(cr(r))return}catch(n){}p(e,"unauthorized-domain")}function cr(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!lr.test(n))return!1;if(sr.test(e))return r===e;const a=e.replace(/\./g,"\\."),o=new RegExp("^(.+\\."+a+"|"+a+")$","i");return o.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new R(3e4,6e4);function hr(){const e=dn().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fr(e){return new Promise((t,n)=>{var r,a,o;function i(){hr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hr(),n(v(e,"network-request-failed"))},timeout:dr.get()})}if(null===(a=null===(r=dn().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=dn().gapi)||void 0===o?void 0:o.load)){const t=We("iframefcb");return dn()[t]=()=>{gapi.load?i():n(v(e,"network-request-failed"))},Fe(`${Be()}?onload=${t}`).catch(e=>n(e))}i()}}).catch(e=>{throw pr=null,e})}let pr=null;function vr(e){return pr=pr||fr(e),pr}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new R(5e3,15e3),gr="__/auth/iframe",yr="emulator/auth/iframe",br={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _r(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?I(t,yr):`https://${e.config.authDomain}/${gr}`,o={apiKey:t.apiKey,appName:e.name,v:r.MF},i=wr.get(e.config.apiHost);i&&(o.eid=i);const s=e._getFrameworks();return s.length&&(o.fw=s.join(",")),`${n}?${(0,a.Am)(o).slice(1)}`}async function Er(e){const t=await vr(e),n=dn().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:_r(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:br,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=v(e,"network-request-failed"),o=dn().setTimeout(()=>{r(a)},mr.get());function i(){dn().clearTimeout(o),n(t)}t.ping(i).then(i,()=>{r(a)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sr=500,kr=600,Cr="_blank",Rr="http://localhost";class Ir{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ar(e,t,n,r=Sr,o=kr){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Tr),{width:r.toString(),height:o.toString(),top:i,left:s}),c=(0,a.ZQ)().toLowerCase();n&&(l=be(c)?Cr:n),ge(c)&&(t=t||Rr,u.scrollbars="yes");const d=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(ke(c)&&"_self"!==l)return xr(t||"",l),new Ir(null);const h=window.open(t||"",l,d);b(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Ir(h)}function xr(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="__/auth/handler",Nr="emulator/auth/handler",Dr=encodeURIComponent("fac");async function Lr(e,t,n,o,i,s){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:r.MF,eventId:i};if(t instanceof Et){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))l[e]=t}if(t instanceof Tt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];const c=await e._getAppCheckToken(),d=c?`#${Dr}=${encodeURIComponent(c)}`:"";return`${Pr(e)}?${(0,a.Am)(u).slice(1)}${d}`}function Pr({config:e}){return e.emulator?I(e,Nr):`https://${e.authDomain}/${Or}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="webStorageSupport";class Vr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=on,this._completeRedirectFn=er,this._overrideRedirectResult=Yn}async _openPopup(e,t,n,r){var a;_(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Lr(e,t,n,E(),r);return Ar(e,o,un())}async _openRedirect(e,t,n,r){await this._originValidation(e);const a=await Lr(e,t,n,E(),r);return hn(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Er(e),n=new nr(e);return t.register("authEvent",t=>{b(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(Mr,{type:Mr},n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Mr];void 0!==a&&t(!!a),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ur(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Re()||ye()||Se()}}const Fr=Vr;class $r{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}class Br extends $r{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Br(e)}_finalizeEnroll(e,t,n){return zt(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Dn(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Wr{constructor(){}static assertion(e){return Br._fromCredential(e)}}Wr.FACTOR_ID="phone";class Ur{static assertionForEnrollment(e,t){return jr._fromSecret(e,t)}static assertionForSignIn(e,t){return jr._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const n=e;b("undefined"!==typeof(null===(t=n.user)||void 0===t?void 0:t.auth),"internal-error");const r=await Ht(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return Gr._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}}Ur.FACTOR_ID="totp";class jr extends $r{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new jr(t,void 0,e)}static _fromEnrollmentId(e,t){return new jr(t,e)}async _finalizeEnroll(e,t,n){return b("undefined"!==typeof this.secret,e,"argument-error"),Kt(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){b(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return Ln(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class Gr{constructor(e,t,n,r,a,o,i){this.sessionInfo=o,this.auth=i,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Gr(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(zr(e)||zr(t))&&(r=!0),r&&(zr(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),zr(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function zr(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Hr="@firebase/auth",Kr="1.10.8";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qr(e){(0,r.om)(new s.uA("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:i,authDomain:s}=r.options;b(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(e)},u=new De(r,a,o,l);return Ye(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()})),(0,r.om)(new s.uA("auth-internal",e=>{const t=Le(e.getProvider("auth").getImmediate());return(e=>new Xr(e))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Hr,Kr,qr(e)),(0,r.KO)(Hr,Kr,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=300,Jr=(0,a.XA)("authIdTokenMaxAge")||Yr;let Zr=null;const ea=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jr)return;const a=null===n||void 0===n?void 0:n.token;Zr!==a&&(Zr=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ta(e=(0,r.Sx)()){const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Qe(e,{popupRedirectResolver:Fr,persistence:[On,Zt,on]}),o=(0,a.XA)("authTokenSyncURL");if(o&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(o,location.origin);if(location.origin===e.origin){const t=ea(e.toString());Wt(n,t,()=>t(n.currentUser)),Bt(n,e=>t(e))}}const i=(0,a.Tj)("auth");return i&&Je(n,`http://${i}`),n}function na(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}Ve({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=v("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",na().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Qr("Browser")},424:(e,t,n)=>{n.d(t,{$b:()=>a,Vy:()=>u});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var a;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(a||(a={}));const o={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},i=a.INFO,s={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),a=s[t];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[a](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=i,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in a))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...e),this._logHandler(this,a.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...e),this._logHandler(this,a.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,a.INFO,...e),this._logHandler(this,a.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,a.WARN,...e),this._logHandler(this,a.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,a.ERROR,...e),this._logHandler(this,a.ERROR,...e)}}},641:(e,t,n)=>{n.d(t,{$u:()=>Ee,$y:()=>Ne,CE:()=>Pn,Df:()=>ae,EW:()=>_r,EY:()=>kn,FK:()=>Sn,Gt:()=>pt,Gy:()=>H,HF:()=>Xe,Ht:()=>Ge,Ic:()=>_e,Im:()=>W,K9:()=>Mt,KC:()=>be,Lk:()=>Wn,MZ:()=>re,Mw:()=>Cn,Ng:()=>Gn,OA:()=>ze,OW:()=>ee,Q3:()=>Kn,QP:()=>X,RG:()=>Ve,Tb:()=>$e,WQ:()=>vt,Wv:()=>Mn,bF:()=>Un,bo:()=>A,dY:()=>m,eW:()=>Hn,eX:()=>Me,g2:()=>xe,h:()=>Er,k6:()=>I,nI:()=>rr,nT:()=>Kt,pI:()=>Pe,pM:()=>oe,pR:()=>J,qL:()=>i,sV:()=>we,tY:()=>fn,uX:()=>xn,v6:()=>Yn,vv:()=>Vn,wB:()=>Xt,xo:()=>Te});var r=n(953),a=n(33);function o(e,t,n,r){try{return r?e(...r):e()}catch(a){s(a,t,n)}}function i(e,t,n,r){if((0,a.Tn)(e)){const i=o(e,t,n,r);return i&&(0,a.yL)(i)&&i.catch(e=>{s(e,t,n)}),i}if((0,a.cy)(e)){const a=[];for(let o=0;o<e.length;o++)a.push(i(e[o],t,n,r));return a}}function s(e,t,n,i=!0){const s=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||a.MZ;if(t){let a=t.parent;const i=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;while(a){const t=a.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,s))return;a=a.parent}if(u)return(0,r.C4)(),o(u,null,10,[e,i,s]),void(0,r.bl)()}l(e,n,s,i,c)}function l(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const u=[];let c=-1;const d=[];let h=null,f=0;const p=Promise.resolve();let v=null;function m(e){const t=v||p;return e?t.then(this?e.bind(this):e):t}function g(e){let t=c+1,n=u.length;while(t<n){const r=t+n>>>1,a=u[r],o=T(a);o<e||o===e&&2&a.flags?t=r+1:n=r}return t}function y(e){if(!(1&e.flags)){const t=T(e),n=u[u.length-1];!n||!(2&e.flags)&&t>=T(n)?u.push(e):u.splice(g(t),0,e),e.flags|=1,b()}}function b(){v||(v=p.then(S))}function w(e){(0,a.cy)(e)?d.push(...e):h&&-1===e.id?h.splice(f+1,0,e):1&e.flags||(d.push(e),e.flags|=1),b()}function _(e,t,n=c+1){for(0;n<u.length;n++){const t=u[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;0,u.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function E(e){if(d.length){const e=[...new Set(d)].sort((e,t)=>T(e)-T(t));if(d.length=0,h)return void h.push(...e);for(h=e,f=0;f<h.length;f++){const e=h[f];0,4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}h=null,f=0}}const T=e=>null==e.id?2&e.flags?-1:1/0:e.id;function S(e){a.tE;try{for(c=0;c<u.length;c++){const e=u[c];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),o(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;c<u.length;c++){const e=u[c];e&&(e.flags&=-2)}c=-1,u.length=0,E(e),v=null,(u.length||d.length)&&S(e)}}let k=null,C=null;function R(e){const t=k;return k=e,C=e&&e.type.__scopeId||null,t}function I(e,t=k,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Dn(-1);const a=R(t);let o;try{o=e(...n)}finally{R(a),r._d&&Dn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function A(e,t){if(null===k)return e;const n=yr(k),o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,s,l,u=a.MZ]=t[i];e&&((0,a.Tn)(e)&&(e={mounted:e,updated:e}),e.deep&&(0,r.hV)(s),o.push({dir:e,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u}))}return e}function x(e,t,n,a){const o=e.dirs,s=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];s&&(u.oldValue=s[l].value);let c=u.dir[a];c&&((0,r.C4)(),i(c,n,8,[e.el,u,e,t]),(0,r.bl)())}}const O=Symbol("_vte"),N=e=>e.__isTeleport,D=e=>e&&(e.disabled||""===e.disabled),L=e=>e&&(e.defer||""===e.defer),P=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,M=e=>"function"===typeof MathMLElement&&e instanceof MathMLElement,V=(e,t)=>{const n=e&&e.to;if((0,a.Kg)(n)){if(t){const e=t(n);return e}return null}return n},F={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,o,i,s,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:v,createComment:m}}=u,g=D(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(null==e){const e=t.el=v(""),u=t.anchor=v("");f(e,n,r),f(u,n,r);const d=(e,t)=>{16&y&&(a&&a.isCE&&(a.ce._teleportTarget=e),c(b,e,t,a,o,i,s,l))},h=()=>{const e=t.target=V(t.props,p),n=j(e,t,v,f);e&&("svg"!==i&&P(e)?i="svg":"mathml"!==i&&M(e)&&(i="mathml"),g||(d(e,n),U(t,!1)))};g&&(d(n,u),U(t,!0)),L(t.props)?(t.el.__isMounted=!1,Pt(()=>{h(),delete t.el.__isMounted},o)):h()}else{if(L(t.props)&&!1===e.el.__isMounted)return void Pt(()=>{F.process(e,t,n,r,a,o,i,s,l,u)},o);t.el=e.el,t.targetStart=e.targetStart;const c=t.anchor=e.anchor,f=t.target=e.target,v=t.targetAnchor=e.targetAnchor,m=D(e.props),y=m?n:f,b=m?c:v;if("svg"===i||P(f)?i="svg":("mathml"===i||M(f))&&(i="mathml"),w?(h(e.dynamicChildren,w,y,a,o,i,s),Wt(e,t,!0)):l||d(e,t,y,b,a,o,i,s,!1),g)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):$(t,n,c,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=V(t.props,p);e&&$(t,e,null,u,0)}else m&&$(t,f,v,u,1);U(t,g)}},remove(e,t,n,{um:r,o:{remove:a}},o){const{shapeFlag:i,children:s,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=e;if(d&&(a(u),a(c)),o&&a(l),16&i){const e=o||!D(h);for(let a=0;a<s.length;a++){const o=s[a];r(o,t,n,e,!!o.dynamicChildren)}}},move:$,hydrate:B};function $(e,t,n,{o:{insert:r},m:a},o=2){0===o&&r(e.targetAnchor,t,n);const{el:i,anchor:s,shapeFlag:l,children:u,props:c}=e,d=2===o;if(d&&r(i,t,n),(!d||D(c))&&16&l)for(let h=0;h<u.length;h++)a(u[h],t,n,2);d&&r(s,t,n)}function B(e,t,n,r,a,o,{o:{nextSibling:i,parentNode:s,querySelector:l,insert:u,createText:c}},d){const h=t.target=V(t.props,l);if(h){const l=D(t.props),f=h._lpa||h.firstChild;if(16&t.shapeFlag)if(l)t.anchor=d(i(e),t,s(e),n,r,a,o),t.targetStart=f,t.targetAnchor=f&&i(f);else{t.anchor=i(e);let s=f;while(s){if(s&&8===s.nodeType)if("teleport start anchor"===s.data)t.targetStart=s;else if("teleport anchor"===s.data){t.targetAnchor=s,h._lpa=t.targetAnchor&&i(t.targetAnchor);break}s=i(s)}t.targetAnchor||j(h,t,c,u),d(f&&i(f),t,h,n,r,a,o)}U(t,l)}return t.anchor&&i(t.anchor)}const W=F;function U(e,t){const n=e.ctx;if(n&&n.ut){let r,a;t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);while(r&&r!==a)1===r.nodeType&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function j(e,t,n,r){const a=t.targetStart=n(""),o=t.targetAnchor=n("");return a[O]=o,e&&(r(a,e),r(o,e)),o}const G=Symbol("_leaveCb"),z=Symbol("_enterCb");function H(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return we(()=>{e.isMounted=!0}),Te(()=>{e.isUnmounting=!0}),e}const K=[Function,Array],X={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:K,onEnter:K,onAfterEnter:K,onEnterCancelled:K,onBeforeLeave:K,onLeave:K,onAfterLeave:K,onLeaveCancelled:K,onBeforeAppear:K,onAppear:K,onAfterAppear:K,onAppearCancelled:K},q=e=>{const t=e.subTree;return t.component?q(t.component):t},Q={name:"BaseTransition",props:X,setup(e,{slots:t}){const n=rr(),a=H();return()=>{const o=t.default&&ae(t.default(),!0);if(!o||!o.length)return;const i=Y(o),s=(0,r.ux)(e),{mode:l}=s;if(a.isLeaving)return te(i);const u=ne(i);if(!u)return te(i);let c=ee(u,s,a,n,e=>c=e);u.type!==Cn&&re(u,c);let d=n.subTree&&ne(n.subTree);if(d&&d.type!==Cn&&!Fn(u,d)&&q(n).type!==Cn){let e=ee(d,s,a,n);if(re(d,e),"out-in"===l&&u.type!==Cn)return a.isLeaving=!0,e.afterLeave=()=>{a.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,d=void 0},te(i);"in-out"===l&&u.type!==Cn?e.delayLeave=(e,t,n)=>{const r=Z(a,d);r[String(d.key)]=d,e[G]=()=>{t(),e[G]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function Y(e){let t=e[0];if(e.length>1){let n=!1;for(const r of e)if(r.type!==Cn){0,t=r,n=!0;break}}return t}const J=Q;function Z(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ee(e,t,n,r,o){const{appear:s,mode:l,persisted:u=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:v,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:b,onAfterAppear:w,onAppearCancelled:_}=t,E=String(e.key),T=Z(n,e),S=(e,t)=>{e&&i(e,r,9,t)},k=(e,t)=>{const n=t[1];S(e,t),(0,a.cy)(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},C={mode:l,persisted:u,beforeEnter(t){let r=c;if(!n.isMounted){if(!s)return;r=y||c}t[G]&&t[G](!0);const a=T[E];a&&Fn(e,a)&&a.el[G]&&a.el[G](),S(r,[t])},enter(e){let t=d,r=h,a=f;if(!n.isMounted){if(!s)return;t=b||d,r=w||h,a=_||f}let o=!1;const i=e[z]=t=>{o||(o=!0,S(t?a:r,[e]),C.delayedLeave&&C.delayedLeave(),e[z]=void 0)};t?k(t,[e,i]):i()},leave(t,r){const a=String(e.key);if(t[z]&&t[z](!0),n.isUnmounting)return r();S(p,[t]);let o=!1;const i=t[G]=n=>{o||(o=!0,r(),S(n?g:m,[t]),t[G]=void 0,T[a]===e&&delete T[a])};T[a]=e,v?k(v,[t,i]):i()},clone(e){const a=ee(e,t,n,r,o);return o&&o(a),a}};return C}function te(e){if(ue(e))return e=zn(e),e.children=null,e}function ne(e){if(!ue(e))return N(e.type)&&e.children?Y(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&(0,a.Tn)(n.default))return n.default()}}function re(e,t){6&e.shapeFlag&&e.component?(e.transition=t,re(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ae(e,t=!1,n){let r=[],a=0;for(let o=0;o<e.length;o++){let i=e[o];const s=null==n?i.key:String(n)+String(null!=i.key?i.key:o);i.type===Sn?(128&i.patchFlag&&a++,r=r.concat(ae(i.children,t,s))):(t||i.type!==Cn)&&r.push(null!=s?zn(i,{key:s}):i)}if(a>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function oe(e,t){return(0,a.Tn)(e)?(()=>(0,a.X$)({name:e.name},t,{setup:e}))():e}function ie(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function se(e,t,n,i,s=!1){if((0,a.cy)(e))return void e.forEach((e,r)=>se(e,t&&((0,a.cy)(t)?t[r]:t),n,i,s));if(le(i)&&!s)return void(512&i.shapeFlag&&i.type.__asyncResolved&&i.component.subTree.component&&se(e,t,n,i.component.subTree));const l=4&i.shapeFlag?yr(i.component):i.el,u=s?null:l,{i:c,r:d}=e;const h=t&&t.r,f=c.refs===a.MZ?c.refs={}:c.refs,p=c.setupState,v=(0,r.ux)(p),m=p===a.MZ?()=>!1:e=>(0,a.$3)(v,e);if(null!=h&&h!==d&&((0,a.Kg)(h)?(f[h]=null,m(h)&&(p[h]=null)):(0,r.i9)(h)&&(h.value=null)),(0,a.Tn)(d))o(d,c,12,[u,f]);else{const t=(0,a.Kg)(d),o=(0,r.i9)(d);if(t||o){const r=()=>{if(e.f){const n=t?m(d)?p[d]:f[d]:d.value;s?(0,a.cy)(n)&&(0,a.TF)(n,l):(0,a.cy)(n)?n.includes(l)||n.push(l):t?(f[d]=[l],m(d)&&(p[d]=f[d])):(d.value=[l],e.k&&(f[e.k]=d.value))}else t?(f[d]=u,m(d)&&(p[d]=u)):o&&(d.value=u,e.k&&(f[e.k]=u))};u?(r.id=-1,Pt(r,n)):r()}else 0}}(0,a.We)().requestIdleCallback,(0,a.We)().cancelIdleCallback;const le=e=>!!e.type.__asyncLoader;
/*! #__NO_SIDE_EFFECTS__ */const ue=e=>e.type.__isKeepAlive;RegExp,RegExp;function ce(e,t){return(0,a.cy)(e)?e.some(e=>ce(e,t)):(0,a.Kg)(e)?e.split(",").includes(t):!!(0,a.gd)(e)&&(e.lastIndex=0,e.test(t))}function de(e,t){fe(e,"a",t)}function he(e,t){fe(e,"da",t)}function fe(e,t,n=nr){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(ge(t,r,n),n){let e=n.parent;while(e&&e.parent)ue(e.parent.vnode)&&pe(r,t,n,e),e=e.parent}}function pe(e,t,n,r){const o=ge(t,e,r,!0);Se(()=>{(0,a.TF)(r[t],o)},n)}function ve(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function me(e){return 128&e.shapeFlag?e.ssContent:e}function ge(e,t,n=nr,a=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{(0,r.C4)();const o=ir(n),s=i(t,n,e,a);return o(),(0,r.bl)(),s});return a?o.unshift(s):o.push(s),s}}const ye=e=>(t,n=nr)=>{dr&&"sp"!==e||ge(e,(...e)=>t(...e),n)},be=ye("bm"),we=ye("m"),_e=ye("bu"),Ee=ye("u"),Te=ye("bum"),Se=ye("um"),ke=ye("sp"),Ce=ye("rtg"),Re=ye("rtc");function Ie(e,t=nr){ge("ec",e,t)}const Ae="components";function xe(e,t){return De(Ae,e,!0,t)||e}const Oe=Symbol.for("v-ndc");function Ne(e){return(0,a.Kg)(e)?De(Ae,e,!1)||e:e||Oe}function De(e,t,n=!0,r=!1){const o=k||nr;if(o){const n=o.type;if(e===Ae){const e=br(n,!1);if(e&&(e===t||e===(0,a.PT)(t)||e===(0,a.ZH)((0,a.PT)(t))))return n}const i=Le(o[e]||n[e],t)||Le(o.appContext[e],t);return!i&&r?n:i}}function Le(e,t){return e&&(e[t]||e[(0,a.PT)(t)]||e[(0,a.ZH)((0,a.PT)(t))])}function Pe(e,t,n,o){let i;const s=n&&n[o],l=(0,a.cy)(e);if(l||(0,a.Kg)(e)){const n=l&&(0,r.g8)(e);let a=!1,o=!1;n&&(a=!(0,r.fE)(e),o=(0,r.Tm)(e),e=(0,r.qA)(e)),i=new Array(e.length);for(let l=0,u=e.length;l<u;l++)i[l]=t(a?o?(0,r.a1)((0,r.lJ)(e[l])):(0,r.lJ)(e[l]):e[l],l,void 0,s&&s[l])}else if("number"===typeof e){0,i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,s&&s[n])}else if((0,a.Gv)(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,s&&s[n]));else{const n=Object.keys(e);i=new Array(n.length);for(let r=0,a=n.length;r<a;r++){const a=n[r];i[r]=t(e[a],a,r,s&&s[r])}}else i=[];return n&&(n[o]=i),i}function Me(e,t){for(let n=0;n<t.length;n++){const r=t[n];if((0,a.cy)(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function Ve(e,t,n={},r,o){if(k.ce||k.parent&&le(k.parent)&&k.parent.ce)return"default"!==t&&(n.name=t),xn(),Mn(Sn,null,[Un("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),xn();const s=i&&Fe(i(n)),l=n.key||s&&s.key,u=Mn(Sn,{key:(l&&!(0,a.Bm)(l)?l:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&1===e._?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function Fe(e){return e.some(e=>!Vn(e)||e.type!==Cn&&!(e.type===Sn&&!Fe(e.children)))?e:null}function $e(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:(0,a.rU)(r)]=e[r];return n}const Be=e=>e?lr(e)?yr(e):Be(e.parent):null,We=(0,a.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Be(e.parent),$root:e=>Be(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>et(e),$forceUpdate:e=>e.f||(e.f=()=>{y(e.update)}),$nextTick:e=>e.n||(e.n=m.bind(e.proxy)),$watch:e=>Qt.bind(e)}),Ue=(e,t)=>e!==a.MZ&&!e.__isScriptSetup&&(0,a.$3)(e,t),je={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:o,data:i,props:s,accessCache:l,type:u,appContext:c}=e;let d;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Ue(o,t))return l[t]=1,o[t];if(i!==a.MZ&&(0,a.$3)(i,t))return l[t]=2,i[t];if((d=e.propsOptions[0])&&(0,a.$3)(d,t))return l[t]=3,s[t];if(n!==a.MZ&&(0,a.$3)(n,t))return l[t]=4,n[t];qe&&(l[t]=0)}}const h=We[t];let f,p;return h?("$attrs"===t&&(0,r.u4)(e.attrs,"get",""),h(e)):(f=u.__cssModules)&&(f=f[t])?f:n!==a.MZ&&(0,a.$3)(n,t)?(l[t]=4,n[t]):(p=c.config.globalProperties,(0,a.$3)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return Ue(o,t)?(o[t]=n,!0):r!==a.MZ&&(0,a.$3)(r,t)?(r[t]=n,!0):!(0,a.$3)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let l;return!!n[s]||e!==a.MZ&&(0,a.$3)(e,s)||Ue(t,s)||(l=i[0])&&(0,a.$3)(l,s)||(0,a.$3)(r,s)||(0,a.$3)(We,s)||(0,a.$3)(o.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,a.$3)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ge(){return He().slots}function ze(){return He().attrs}function He(){const e=rr();return e.setupContext||(e.setupContext=gr(e))}function Ke(e){return(0,a.cy)(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}function Xe(e,t){const n=Ke(e);for(const r in t){if(r.startsWith("__skip"))continue;let e=n[r];e?(0,a.cy)(e)||(0,a.Tn)(e)?e=n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(e=n[r]={default:t[r]}),e&&t[`__skip_${r}`]&&(e.skipFactory=!0)}return n}let qe=!0;function Qe(e){const t=et(e),n=e.proxy,o=e.ctx;qe=!1,t.beforeCreate&&Je(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:l,watch:u,provide:c,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:v,updated:m,activated:g,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:E,render:T,renderTracked:S,renderTriggered:k,errorCaptured:C,serverPrefetch:R,expose:I,inheritAttrs:A,components:x,directives:O,filters:N}=t,D=null;if(d&&Ye(d,o,D),l)for(const r in l){const e=l[r];(0,a.Tn)(e)&&(o[r]=e.bind(n))}if(i){0;const t=i.call(n,n);0,(0,a.Gv)(t)&&(e.data=(0,r.Kh)(t))}if(qe=!0,s)for(const r in s){const e=s[r],t=(0,a.Tn)(e)?e.bind(n,n):(0,a.Tn)(e.get)?e.get.bind(n,n):a.tE;0;const i=!(0,a.Tn)(e)&&(0,a.Tn)(e.set)?e.set.bind(n):a.tE,l=_r({get:t,set:i});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const r in u)Ze(u[r],o,n,r);if(c){const e=(0,a.Tn)(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{pt(t,e[t])})}function L(e,t){(0,a.cy)(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(h&&Je(h,e,"c"),L(be,f),L(we,p),L(_e,v),L(Ee,m),L(de,g),L(he,y),L(Ie,C),L(Re,S),L(Ce,k),L(Te,w),L(Se,E),L(ke,R),(0,a.cy)(I))if(I.length){const t=e.exposed||(e.exposed={});I.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});T&&e.render===a.tE&&(e.render=T),null!=A&&(e.inheritAttrs=A),x&&(e.components=x),O&&(e.directives=O),R&&ie(e)}function Ye(e,t,n=a.tE){(0,a.cy)(e)&&(e=ot(e));for(const o in e){const n=e[o];let i;i=(0,a.Gv)(n)?"default"in n?vt(n.from||o,n.default,!0):vt(n.from||o):vt(n),(0,r.i9)(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[o]=i}}function Je(e,t,n){i((0,a.cy)(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ze(e,t,n,r){let o=r.includes(".")?Yt(n,r):()=>n[r];if((0,a.Kg)(e)){const n=t[e];(0,a.Tn)(n)&&Xt(o,n)}else if((0,a.Tn)(e))Xt(o,e.bind(n));else if((0,a.Gv)(e))if((0,a.cy)(e))e.forEach(e=>Ze(e,t,n,r));else{const r=(0,a.Tn)(e.handler)?e.handler.bind(n):t[e.handler];(0,a.Tn)(r)&&Xt(o,r,e)}else 0}function et(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,l=i.get(t);let u;return l?u=l:o.length||n||r?(u={},o.length&&o.forEach(e=>tt(u,e,s,!0)),tt(u,t,s)):u=t,(0,a.Gv)(t)&&i.set(t,u),u}function tt(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&tt(e,o,n,!0),a&&a.forEach(t=>tt(e,t,n,!0));for(const i in t)if(r&&"expose"===i);else{const r=nt[i]||n&&n[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const nt={data:rt,props:lt,emits:lt,methods:st,computed:st,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:st,directives:st,watch:ut,provide:rt,inject:at};function rt(e,t){return t?e?function(){return(0,a.X$)((0,a.Tn)(e)?e.call(this,this):e,(0,a.Tn)(t)?t.call(this,this):t)}:t:e}function at(e,t){return st(ot(e),ot(t))}function ot(e){if((0,a.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function st(e,t){return e?(0,a.X$)(Object.create(null),e,t):t}function lt(e,t){return e?(0,a.cy)(e)&&(0,a.cy)(t)?[...new Set([...e,...t])]:(0,a.X$)(Object.create(null),Ke(e),Ke(null!=t?t:{})):t}function ut(e,t){if(!e)return t;if(!t)return e;const n=(0,a.X$)(Object.create(null),e);for(const r in t)n[r]=it(e[r],t[r]);return n}function ct(){return{app:null,config:{isNativeTag:a.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dt=0;function ht(e,t){return function(n,r=null){(0,a.Tn)(n)||(n=(0,a.X$)({},n)),null==r||(0,a.Gv)(r)||(r=null);const o=ct(),s=new WeakSet,l=[];let u=!1;const c=o.app={_uid:dt++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Tr,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,a.Tn)(e.install)?(s.add(e),e.install(c,...t)):(0,a.Tn)(e)&&(s.add(e),e(c,...t))),c},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),c},component(e,t){return t?(o.components[e]=t,c):o.components[e]},directive(e,t){return t?(o.directives[e]=t,c):o.directives[e]},mount(a,i,s){if(!u){0;const l=c._ceVNode||Un(n,r);return l.appContext=o,!0===s?s="svg":!1===s&&(s=void 0),i&&t?t(l,a):e(l,a,s),u=!0,c._container=a,a.__vue_app__=c,yr(l.component)}},onUnmount(e){l.push(e)},unmount(){u&&(i(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return o.provides[e]=t,c},runWithContext(e){const t=ft;ft=c;try{return e()}finally{ft=t}}};return c}}let ft=null;function pt(e,t){if(nr){let n=nr.provides;const r=nr.parent&&nr.parent.provides;r===n&&(n=nr.provides=Object.create(r)),n[e]=t}else 0}function vt(e,t,n=!1){const r=nr||k;if(r||ft){let o=ft?ft._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,a.Tn)(t)?t.call(r&&r.proxy):t}else 0}const mt={},gt=()=>Object.create(mt),yt=e=>Object.getPrototypeOf(e)===mt;function bt(e,t,n,a=!1){const o={},i=gt();e.propsDefaults=Object.create(null),_t(e,t,o,i);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=a?o:(0,r.Gc)(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function wt(e,t,n,o){const{props:i,attrs:s,vnode:{patchFlag:l}}=e,u=(0,r.ux)(i),[c]=e.propsOptions;let d=!1;if(!(o||l>0)||16&l){let r;_t(e,t,i,s)&&(d=!0);for(const o in u)t&&((0,a.$3)(t,o)||(r=(0,a.Tg)(o))!==o&&(0,a.$3)(t,r))||(c?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Et(c,u,o,void 0,e,!0)):delete i[o]);if(s!==u)for(const e in s)t&&(0,a.$3)(t,e)||(delete s[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(tn(e.emitsOptions,o))continue;const l=t[o];if(c)if((0,a.$3)(s,o))l!==s[o]&&(s[o]=l,d=!0);else{const t=(0,a.PT)(o);i[t]=Et(c,u,t,l,e,!1)}else l!==s[o]&&(s[o]=l,d=!0)}}d&&(0,r.hZ)(e.attrs,"set","")}function _t(e,t,n,o){const[i,s]=e.propsOptions;let l,u=!1;if(t)for(let r in t){if((0,a.SU)(r))continue;const c=t[r];let d;i&&(0,a.$3)(i,d=(0,a.PT)(r))?s&&s.includes(d)?(l||(l={}))[d]=c:n[d]=c:tn(e.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,u=!0)}if(s){const t=(0,r.ux)(n),o=l||a.MZ;for(let r=0;r<s.length;r++){const l=s[r];n[l]=Et(i,t,l,o[l],e,!(0,a.$3)(o,l))}}return u}function Et(e,t,n,r,o,i){const s=e[n];if(null!=s){const e=(0,a.$3)(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&!s.skipFactory&&(0,a.Tn)(e)){const{propsDefaults:a}=o;if(n in a)r=a[n];else{const i=ir(o);r=a[n]=e.call(null,t),i()}}else r=e;o.ce&&o.ce._setProp(n,r)}s[0]&&(i&&!e?r=!1:!s[1]||""!==r&&r!==(0,a.Tg)(n)||(r=!0))}return r}const Tt=new WeakMap;function St(e,t,n=!1){const r=n?Tt:t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},l=[];let u=!1;if(!(0,a.Tn)(e)){const r=e=>{u=!0;const[n,r]=St(e,t,!0);(0,a.X$)(s,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!i&&!u)return(0,a.Gv)(e)&&r.set(e,a.Oj),a.Oj;if((0,a.cy)(i))for(let d=0;d<i.length;d++){0;const e=(0,a.PT)(i[d]);kt(e)&&(s[e]=a.MZ)}else if(i){0;for(const e in i){const t=(0,a.PT)(e);if(kt(t)){const n=i[e],r=s[t]=(0,a.cy)(n)||(0,a.Tn)(n)?{type:n}:(0,a.X$)({},n),o=r.type;let u=!1,c=!0;if((0,a.cy)(o))for(let e=0;e<o.length;++e){const t=o[e],n=(0,a.Tn)(t)&&t.name;if("Boolean"===n){u=!0;break}"String"===n&&(c=!1)}else u=(0,a.Tn)(o)&&"Boolean"===o.name;r[0]=u,r[1]=c,(u||(0,a.$3)(r,"default"))&&l.push(t)}}}const c=[s,l];return(0,a.Gv)(e)&&r.set(e,c),c}function kt(e){return"$"!==e[0]&&!(0,a.SU)(e)}const Ct=e=>"_"===e[0]||"$stable"===e,Rt=e=>(0,a.cy)(e)?e.map(Xn):[Xn(e)],It=(e,t,n)=>{if(t._n)return t;const r=I((...e)=>Rt(t(...e)),n);return r._c=!1,r},At=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Ct(o))continue;const n=e[o];if((0,a.Tn)(n))t[o]=It(o,n,r);else if(null!=n){0;const e=Rt(n);t[o]=()=>e}}},xt=(e,t)=>{const n=Rt(t);e.slots.default=()=>n},Ot=(e,t,n)=>{for(const r in t)!n&&Ct(r)||(e[r]=t[r])},Nt=(e,t,n)=>{const r=e.slots=gt();if(32&e.vnode.shapeFlag){const e=t.__;e&&(0,a.yQ)(r,"__",e,!0);const o=t._;o?(Ot(r,t,n),n&&(0,a.yQ)(r,"_",o,!0)):At(t,r)}else t&&xt(e,t)},Dt=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=a.MZ;if(32&r.shapeFlag){const e=t._;e?n&&1===e?i=!1:Ot(o,t,n):(i=!t.$stable,At(t,o)),s=t}else t&&(xt(e,t),s={default:1});if(i)for(const a in o)Ct(a)||null!=s[a]||delete o[a]};function Lt(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,a.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Pt=_n;function Mt(e){return Vt(e)}function Vt(e,t){Lt();const n=(0,a.We)();n.__VUE__=!0;const{insert:o,remove:i,patchProp:s,createElement:l,createText:u,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:v=a.tE,insertStaticContent:m}=e,g=(e,t,n,r=null,a=null,o=null,i=void 0,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Fn(e,t)&&(r=Q(e),z(e,a,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case kn:b(e,t,n,r);break;case Cn:w(e,t,n,r);break;case Rn:null==e&&T(t,n,r,i);break;case Sn:P(e,t,n,r,a,o,i,s,l);break;default:1&d?C(e,t,n,r,a,o,i,s,l):6&d?M(e,t,n,r,a,o,i,s,l):(64&d||128&d)&&u.process(e,t,n,r,a,o,i,s,l,Z)}null!=c&&a?se(c,e&&e.ref,o,t||e,!t):null==c&&e&&null!=e.ref&&se(e.ref,null,o,e,!0)},b=(e,t,n,r)=>{if(null==e)o(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},w=(e,t,n,r)=>{null==e?o(t.el=c(t.children||""),n,r):t.el=e.el},T=(e,t,n,r)=>{[e.el,e.anchor]=m(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t},n,r)=>{let a;while(e&&e!==t)a=p(e),o(e,n,r),e=a;o(t,n,r)},k=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),i(e),e=n;i(t)},C=(e,t,n,r,a,o,i,s,l)=>{"svg"===t.type?i="svg":"math"===t.type&&(i="mathml"),null==e?R(t,n,r,a,o,i,s,l):N(e,t,a,o,i,s,l)},R=(e,t,n,r,i,u,c,d)=>{let f,p;const{props:v,shapeFlag:m,transition:g,dirs:y}=e;if(f=e.el=l(e.type,u,v&&v.is,v),8&m?h(f,e.children):16&m&&A(e.children,f,null,r,i,Ft(e,u),c,d),y&&x(e,null,r,"created"),I(f,e,e.scopeId,c,r),v){for(const e in v)"value"===e||(0,a.SU)(e)||s(f,e,null,v[e],u,r);"value"in v&&s(f,"value",null,v.value,u),(p=v.onVnodeBeforeMount)&&Jn(p,r,e)}y&&x(e,null,r,"beforeMount");const b=Bt(i,g);b&&g.beforeEnter(f),o(f,t,n),((p=v&&v.onVnodeMounted)||b||y)&&Pt(()=>{p&&Jn(p,r,e),b&&g.enter(f),y&&x(e,null,r,"mounted")},i)},I=(e,t,n,r,a)=>{if(n&&v(e,n),r)for(let o=0;o<r.length;o++)v(e,r[o]);if(a){let n=a.subTree;if(t===n||cn(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=a.vnode;I(e,t,t.scopeId,t.slotScopeIds,a.parent)}}},A=(e,t,n,r,a,o,i,s,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=s?qn(e[u]):Xn(e[u]);g(null,l,t,n,r,a,o,i,s)}},N=(e,t,n,r,o,i,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:f}=t;c|=16&e.patchFlag;const p=e.props||a.MZ,v=t.props||a.MZ;let m;if(n&&$t(n,!1),(m=v.onVnodeBeforeUpdate)&&Jn(m,n,t,e),f&&x(t,e,n,"beforeUpdate"),n&&$t(n,!0),(p.innerHTML&&null==v.innerHTML||p.textContent&&null==v.textContent)&&h(u,""),d?D(e.dynamicChildren,d,u,n,r,Ft(t,o),i):l||W(e,t,u,null,n,r,Ft(t,o),i,!1),c>0){if(16&c)L(u,p,v,n,o);else if(2&c&&p.class!==v.class&&s(u,"class",null,v.class,o),4&c&&s(u,"style",p.style,v.style,o),8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t],a=p[r],i=v[r];i===a&&"value"!==r||s(u,r,a,i,o,n)}}1&c&&e.children!==t.children&&h(u,t.children)}else l||null!=d||L(u,p,v,n,o);((m=v.onVnodeUpdated)||f)&&Pt(()=>{m&&Jn(m,n,t,e),f&&x(t,e,n,"updated")},r)},D=(e,t,n,r,a,o,i)=>{for(let s=0;s<t.length;s++){const l=e[s],u=t[s],c=l.el&&(l.type===Sn||!Fn(l,u)||198&l.shapeFlag)?f(l.el):n;g(l,u,c,null,r,a,o,i,!0)}},L=(e,t,n,r,o)=>{if(t!==n){if(t!==a.MZ)for(const i in t)(0,a.SU)(i)||i in n||s(e,i,t[i],null,o,r);for(const i in n){if((0,a.SU)(i))continue;const l=n[i],u=t[i];l!==u&&"value"!==i&&s(e,i,u,l,o,r)}"value"in n&&s(e,"value",t.value,n.value,o)}},P=(e,t,n,r,a,i,s,l,c)=>{const d=t.el=e?e.el:u(""),h=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:v}=t;v&&(l=l?l.concat(v):v),null==e?(o(d,n,r),o(h,n,r),A(t.children||[],n,h,a,i,s,l,c)):f>0&&64&f&&p&&e.dynamicChildren?(D(e.dynamicChildren,p,n,a,i,s,l),(null!=t.key||a&&t===a.subTree)&&Wt(e,t,!0)):W(e,t,n,h,a,i,s,l,c)},M=(e,t,n,r,a,o,i,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?a.ctx.activate(t,n,r,i,l):V(t,n,r,a,o,i,l):F(e,t,l)},V=(e,t,n,r,a,o,i)=>{const s=e.component=tr(e,r,a);if(ue(e)&&(s.ctx.renderer=Z),hr(s,!1,i),s.asyncDep){if(a&&a.registerDep(s,$,i),!e.el){const e=s.subTree=Un(Cn);w(null,e,t,n)}}else $(s,e,t,n,a,o,i)},F=(e,t,n)=>{const r=t.component=e.component;if(sn(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},$=(e,t,n,o,i,s,l)=>{const u=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:o,vnode:c}=e;{const n=jt(e);if(n)return t&&(t.el=c.el,B(e,t,l)),void n.asyncDep.then(()=>{e.isUnmounted||u()})}let d,h=t;0,$t(e,!1),t?(t.el=c.el,B(e,t,l)):t=c,n&&(0,a.DY)(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&Jn(d,o,t,c),$t(e,!0);const p=nn(e);0;const v=e.subTree;e.subTree=p,g(v,p,f(v.el),Q(v),e,i,s),t.el=p.el,null===h&&un(e,p.el),r&&Pt(r,i),(d=t.props&&t.props.onVnodeUpdated)&&Pt(()=>Jn(d,o,t,c),i)}else{let r;const{el:l,props:u}=t,{bm:c,m:d,parent:h,root:f,type:p}=e,v=le(t);if($t(e,!1),c&&(0,a.DY)(c),!v&&(r=u&&u.onVnodeBeforeMount)&&Jn(r,h,t),$t(e,!0),l&&te){const t=()=>{e.subTree=nn(e),te(l,e.subTree,e,i,null)};v&&p.__asyncHydrate?p.__asyncHydrate(l,e,t):t()}else{f.ce&&!1!==f.ce._def.shadowRoot&&f.ce._injectChildStyle(p);const r=e.subTree=nn(e);0,g(null,r,n,o,e,i,s),t.el=r.el}if(d&&Pt(d,i),!v&&(r=u&&u.onVnodeMounted)){const e=t;Pt(()=>Jn(r,h,e),i)}(256&t.shapeFlag||h&&le(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&Pt(e.a,i),e.isMounted=!0,t=n=o=null}};e.scope.on();const c=e.effect=new r.X2(u);e.scope.off();const d=e.update=c.run.bind(c),h=e.job=c.runIfDirty.bind(c);h.i=e,h.id=e.uid,c.scheduler=()=>y(h),$t(e,!0),d()},B=(e,t,n)=>{t.component=e;const a=e.vnode.props;e.vnode=t,e.next=null,wt(e,t.props,a,n),Dt(e,t.children,n),(0,r.C4)(),_(e),(0,r.bl)()},W=(e,t,n,r,a,o,i,s,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void j(u,d,n,r,a,o,i,s,l);if(256&f)return void U(u,d,n,r,a,o,i,s,l)}8&p?(16&c&&q(u,a,o),d!==u&&h(n,d)):16&c?16&p?j(u,d,n,r,a,o,i,s,l):q(u,a,o,!0):(8&c&&h(n,""),16&p&&A(d,n,r,a,o,i,s,l))},U=(e,t,n,r,o,i,s,l,u)=>{e=e||a.Oj,t=t||a.Oj;const c=e.length,d=t.length,h=Math.min(c,d);let f;for(f=0;f<h;f++){const r=t[f]=u?qn(t[f]):Xn(t[f]);g(e[f],r,n,null,o,i,s,l,u)}c>d?q(e,o,i,!0,!1,h):A(t,n,r,o,i,s,l,u,h)},j=(e,t,n,r,o,i,s,l,u)=>{let c=0;const d=t.length;let h=e.length-1,f=d-1;while(c<=h&&c<=f){const r=e[c],a=t[c]=u?qn(t[c]):Xn(t[c]);if(!Fn(r,a))break;g(r,a,n,null,o,i,s,l,u),c++}while(c<=h&&c<=f){const r=e[h],a=t[f]=u?qn(t[f]):Xn(t[f]);if(!Fn(r,a))break;g(r,a,n,null,o,i,s,l,u),h--,f--}if(c>h){if(c<=f){const e=f+1,a=e<d?t[e].el:r;while(c<=f)g(null,t[c]=u?qn(t[c]):Xn(t[c]),n,a,o,i,s,l,u),c++}}else if(c>f)while(c<=h)z(e[c],o,i,!0),c++;else{const p=c,v=c,m=new Map;for(c=v;c<=f;c++){const e=t[c]=u?qn(t[c]):Xn(t[c]);null!=e.key&&m.set(e.key,c)}let y,b=0;const w=f-v+1;let _=!1,E=0;const T=new Array(w);for(c=0;c<w;c++)T[c]=0;for(c=p;c<=h;c++){const r=e[c];if(b>=w){z(r,o,i,!0);continue}let a;if(null!=r.key)a=m.get(r.key);else for(y=v;y<=f;y++)if(0===T[y-v]&&Fn(r,t[y])){a=y;break}void 0===a?z(r,o,i,!0):(T[a-v]=c+1,a>=E?E=a:_=!0,g(r,t[a],n,null,o,i,s,l,u),b++)}const S=_?Ut(T):a.Oj;for(y=S.length-1,c=w-1;c>=0;c--){const e=v+c,a=t[e],h=e+1<d?t[e+1].el:r;0===T[c]?g(null,a,n,h,o,i,s,l,u):_&&(y<0||c!==S[y]?G(a,n,h,2):y--)}}},G=(e,t,n,r,a=null)=>{const{el:s,type:l,transition:u,children:c,shapeFlag:d}=e;if(6&d)return void G(e.component.subTree,t,n,r);if(128&d)return void e.suspense.move(t,n,r);if(64&d)return void l.move(e,t,n,Z);if(l===Sn){o(s,t,n);for(let e=0;e<c.length;e++)G(c[e],t,n,r);return void o(e.anchor,t,n)}if(l===Rn)return void S(e,t,n);const h=2!==r&&1&d&&u;if(h)if(0===r)u.beforeEnter(s),o(s,t,n),Pt(()=>u.enter(s),a);else{const{leave:r,delayLeave:a,afterLeave:l}=u,c=()=>{e.ctx.isUnmounted?i(s):o(s,t,n)},d=()=>{r(s,()=>{c(),l&&l()})};a?a(s,c,d):d()}else o(s,t,n)},z=(e,t,n,a=!1,o=!1)=>{const{type:i,props:s,ref:l,children:u,dynamicChildren:c,shapeFlag:d,patchFlag:h,dirs:f,cacheIndex:p}=e;if(-2===h&&(o=!1),null!=l&&((0,r.C4)(),se(l,null,n,e,!0),(0,r.bl)()),null!=p&&(t.renderCache[p]=void 0),256&d)return void t.ctx.deactivate(e);const v=1&d&&f,m=!le(e);let g;if(m&&(g=s&&s.onVnodeBeforeUnmount)&&Jn(g,t,e),6&d)X(e.component,n,a);else{if(128&d)return void e.suspense.unmount(n,a);v&&x(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,n,Z,a):c&&!c.hasOnce&&(i!==Sn||h>0&&64&h)?q(c,t,n,!1,!0):(i===Sn&&384&h||!o&&16&d)&&q(u,t,n),a&&H(e)}(m&&(g=s&&s.onVnodeUnmounted)||v)&&Pt(()=>{g&&Jn(g,t,e),v&&x(e,null,t,"unmounted")},n)},H=e=>{const{type:t,el:n,anchor:r,transition:a}=e;if(t===Sn)return void K(n,r);if(t===Rn)return void k(e);const o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){const{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},K=(e,t)=>{let n;while(e!==t)n=p(e),i(e),e=n;i(t)},X=(e,t,n)=>{const{bum:r,scope:o,job:i,subTree:s,um:l,m:u,a:c,parent:d,slots:{__:h}}=e;Gt(u),Gt(c),r&&(0,a.DY)(r),d&&(0,a.cy)(h)&&h.forEach(e=>{d.renderCache[e]=void 0}),o.stop(),i&&(i.flags|=8,z(s,e,t,n)),l&&Pt(l,t),Pt(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},q=(e,t,n,r=!1,a=!1,o=0)=>{for(let i=o;i<e.length;i++)z(e[i],t,n,r,a)},Q=e=>{if(6&e.shapeFlag)return Q(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=p(e.anchor||e.el),n=t&&t[O];return n?p(n):t};let Y=!1;const J=(e,t,n)=>{null==e?t._vnode&&z(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,n),t._vnode=e,Y||(Y=!0,_(),E(),Y=!1)},Z={p:g,um:z,m:G,r:H,mt:V,mc:A,pc:W,pbc:D,n:Q,o:e};let ee,te;return t&&([ee,te]=t(Z)),{render:J,hydrate:ee,createApp:ht(J,ee)}}function Ft({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function $t({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bt(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Wt(e,t,n=!1){const r=e.children,o=t.children;if((0,a.cy)(r)&&(0,a.cy)(o))for(let a=0;a<r.length;a++){const e=r[a];let t=o[a];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[a]=qn(o[a]),t.el=e.el),n||-2===t.patchFlag||Wt(e,t)),t.type===kn&&(t.el=e.el),t.type!==Cn||t.el||(t.el=e.el)}}function Ut(e){const t=e.slice(),n=[0];let r,a,o,i,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(a=n[n.length-1],e[a]<l){t[r]=a,n.push(r);continue}o=0,i=n.length-1;while(o<i)s=o+i>>1,e[n[s]]<l?o=s+1:i=s;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,i=n[o-1];while(o-- >0)n[o]=i,i=t[i];return n}function jt(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:jt(t)}function Gt(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const zt=Symbol.for("v-scx"),Ht=()=>{{const e=vt(zt);return e}};function Kt(e,t){return qt(e,null,t)}function Xt(e,t,n){return qt(e,t,n)}function qt(e,t,n=a.MZ){const{immediate:o,deep:s,flush:l,once:u}=n;const c=(0,a.X$)({},n);const d=t&&o||!t&&"post"!==l;let h;if(dr)if("sync"===l){const e=Ht();h=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=a.tE,e.resume=a.tE,e.pause=a.tE,e}const f=nr;c.call=(e,t,n)=>i(e,f,t,n);let p=!1;"post"===l?c.scheduler=e=>{Pt(e,f&&f.suspense)}:"sync"!==l&&(p=!0,c.scheduler=(e,t)=>{t?e():y(e)}),c.augmentJob=e=>{t&&(e.flags|=4),p&&(e.flags|=2,f&&(e.id=f.uid,e.i=f))};const v=(0,r.wB)(e,t,c);return dr&&(h?h.push(v):d&&v()),v}function Qt(e,t,n){const r=this.proxy,o=(0,a.Kg)(e)?e.includes(".")?Yt(r,e):()=>r[e]:e.bind(r,r);let i;(0,a.Tn)(t)?i=t:(i=t.handler,n=t);const s=ir(this),l=qt(o,i.bind(r),n);return s(),l}function Yt(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const Jt=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${(0,a.PT)(t)}Modifiers`]||e[`${(0,a.Tg)(t)}Modifiers`];function Zt(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||a.MZ;let o=n;const s=t.startsWith("update:"),l=s&&Jt(r,t.slice(7));let u;l&&(l.trim&&(o=n.map(e=>(0,a.Kg)(e)?e.trim():e)),l.number&&(o=n.map(a.bB)));let c=r[u=(0,a.rU)(t)]||r[u=(0,a.rU)((0,a.PT)(t))];!c&&s&&(c=r[u=(0,a.rU)((0,a.Tg)(t))]),c&&i(c,e,6,o);const d=r[u+"Once"];if(d){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,i(d,e,6,o)}}function en(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const i=e.emits;let s={},l=!1;if(!(0,a.Tn)(e)){const r=e=>{const n=en(e,t,!0);n&&(l=!0,(0,a.X$)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||l?((0,a.cy)(i)?i.forEach(e=>s[e]=null):(0,a.X$)(s,i),(0,a.Gv)(e)&&r.set(e,s),s):((0,a.Gv)(e)&&r.set(e,null),null)}function tn(e,t){return!(!e||!(0,a.Mp)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,a.$3)(e,t[0].toLowerCase()+t.slice(1))||(0,a.$3)(e,(0,a.Tg)(t))||(0,a.$3)(e,t))}function nn(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:l,attrs:u,emit:c,render:d,renderCache:h,props:f,data:p,setupState:v,ctx:m,inheritAttrs:g}=e,y=R(e);let b,w;try{if(4&n.shapeFlag){const e=o||r,t=e;b=Xn(d.call(t,e,h,f,v,p,m)),w=u}else{const e=t;0,b=Xn(e.length>1?e(f,{attrs:u,slots:l,emit:c}):e(f,null)),w=t.props?u:an(u)}}catch(E){In.length=0,s(E,e,1),b=Un(Cn)}let _=b;if(w&&!1!==g){const e=Object.keys(w),{shapeFlag:t}=_;e.length&&7&t&&(i&&e.some(a.CP)&&(w=on(w,i)),_=zn(_,w,!1,!0))}return n.dirs&&(_=zn(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&re(_,n.transition),b=_,R(y),b}function rn(e,t=!0){let n;for(let r=0;r<e.length;r++){const t=e[r];if(!Vn(t))return;if(t.type!==Cn||"v-if"===t.children){if(n)return;n=t}}return n}const an=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,a.Mp)(n))&&((t||(t={}))[n]=e[n]);return t},on=(e,t)=>{const n={};for(const r in e)(0,a.CP)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function sn(e,t,n){const{props:r,children:a,component:o}=e,{props:i,children:s,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!a&&!s||s&&s.$stable)||r!==i&&(r?!i||ln(r,i,u):!!i);if(1024&l)return!0;if(16&l)return r?ln(r,i,u):!!i;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(i[n]!==r[n]&&!tn(u,n))return!0}}return!1}function ln(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!tn(n,o))return!0}return!1}function un({vnode:e,parent:t},n){while(t){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const cn=e=>e.__isSuspense;let dn=0;const hn={name:"Suspense",__isSuspense:!0,process(e,t,n,r,a,o,i,s,l,u){if(null==e)vn(t,n,r,a,o,i,s,l,u);else{if(o&&o.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);mn(e,t,n,r,a,i,s,l,u)}},hydrate:yn,normalize:bn},fn=hn;function pn(e,t){const n=e.props&&e.props[t];(0,a.Tn)(n)&&n()}function vn(e,t,n,r,a,o,i,s,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=e.suspense=gn(e,a,r,t,d,n,o,i,s,l);u(null,h.pendingBranch=e.ssContent,d,null,r,h,o,i),h.deps>0?(pn(e,"onPending"),pn(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,o,i),En(h,e.ssFallback)):h.resolve(!1,!0)}function mn(e,t,n,r,a,o,i,s,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const h=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:v,isInFallback:m,isHydrating:g}=d;if(v)d.pendingBranch=h,Fn(h,v)?(l(v,h,d.hiddenContainer,null,a,d,o,i,s),d.deps<=0?d.resolve():m&&(g||(l(p,f,n,r,a,null,o,i,s),En(d,f)))):(d.pendingId=dn++,g?(d.isHydrating=!1,d.activeBranch=v):u(v,a,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),m?(l(null,h,d.hiddenContainer,null,a,d,o,i,s),d.deps<=0?d.resolve():(l(p,f,n,r,a,null,o,i,s),En(d,f))):p&&Fn(h,p)?(l(p,h,n,r,a,d,o,i,s),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,a,d,o,i,s),d.deps<=0&&d.resolve()));else if(p&&Fn(h,p))l(p,h,n,r,a,d,o,i,s),En(d,h);else if(pn(t,"onPending"),d.pendingBranch=h,512&h.shapeFlag?d.pendingId=h.component.suspenseId:d.pendingId=dn++,l(null,h,d.hiddenContainer,null,a,d,o,i,s),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout(()=>{d.pendingId===t&&d.fallback(f)},e):0===e&&d.fallback(f)}}function gn(e,t,n,r,o,i,l,u,c,d,h=!1){const{p:f,m:p,um:v,n:m,o:{parentNode:g,remove:y}}=d;let b;const _=Tn(e);_&&t&&t.pendingBranch&&(b=t.pendingId,t.deps++);const E=e.props?(0,a.Ro)(e.props.timeout):void 0;const T=i,S={vnode:e,parent:t,parentComponent:n,namespace:l,container:r,hiddenContainer:o,deps:0,pendingId:dn++,timeout:"number"===typeof E?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:a,pendingBranch:o,pendingId:s,effects:l,parentComponent:u,container:c}=S;let d=!1;S.isHydrating?S.isHydrating=!1:e||(d=a&&o.transition&&"out-in"===o.transition.mode,d&&(a.transition.afterLeave=()=>{s===S.pendingId&&(p(o,c,i===T?m(a):i,0),w(l))}),a&&(g(a.el)===c&&(i=m(a)),v(a,u,S,!0)),d||p(o,c,i,0)),En(S,o),S.pendingBranch=null,S.isInFallback=!1;let h=S.parent,f=!1;while(h){if(h.pendingBranch){h.effects.push(...l),f=!0;break}h=h.parent}f||d||w(l),S.effects=[],_&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),pn(r,"onResolve")},fallback(e){if(!S.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:a,namespace:o}=S;pn(t,"onFallback");const i=m(n),s=()=>{S.isInFallback&&(f(null,e,a,i,r,null,o,u,c),En(S,e))},l=e.transition&&"out-in"===e.transition.mode;l&&(n.transition.afterLeave=s),S.isInFallback=!0,v(n,r,null,!0),l||s()},move(e,t,n){S.activeBranch&&p(S.activeBranch,e,t,n),S.container=e},next(){return S.activeBranch&&m(S.activeBranch)},registerDep(e,t,n){const r=!!S.pendingBranch;r&&S.deps++;const a=e.vnode.el;e.asyncDep.catch(t=>{s(t,e,0)}).then(o=>{if(e.isUnmounted||S.isUnmounted||S.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:i}=e;pr(e,o,!1),a&&(i.el=a);const s=!a&&e.subTree.el;t(e,i,g(a||e.subTree.el),a?null:m(e.subTree),S,l,n),s&&y(s),un(e,i.el),r&&0===--S.deps&&S.resolve()})},unmount(e,t){S.isUnmounted=!0,S.activeBranch&&v(S.activeBranch,n,e,t),S.pendingBranch&&v(S.pendingBranch,n,e,t)}};return S}function yn(e,t,n,r,a,o,i,s,l){const u=t.suspense=gn(t,r,n,e.parentNode,document.createElement("div"),null,a,o,i,s,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,o,i);return 0===u.deps&&u.resolve(!1,!0),c}function bn(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=wn(r?n.default:n),e.ssFallback=r?wn(n.fallback):Un(Cn)}function wn(e){let t;if((0,a.Tn)(e)){const n=Nn&&e._c;n&&(e._d=!1,xn()),e=e(),n&&(e._d=!0,t=An,On())}if((0,a.cy)(e)){const t=rn(e);0,e=t}return e=Xn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function _n(e,t){t&&t.pendingBranch?(0,a.cy)(e)?t.effects.push(...e):t.effects.push(e):w(e)}function En(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let a=t.el;while(!a&&t.component)t=t.component.subTree,a=t.el;n.el=a,r&&r.subTree===n&&(r.vnode.el=a,un(r,a))}function Tn(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}const Sn=Symbol.for("v-fgt"),kn=Symbol.for("v-txt"),Cn=Symbol.for("v-cmt"),Rn=Symbol.for("v-stc"),In=[];let An=null;function xn(e=!1){In.push(An=e?null:[])}function On(){In.pop(),An=In[In.length-1]||null}let Nn=1;function Dn(e,t=!1){Nn+=e,e<0&&An&&t&&(An.hasOnce=!0)}function Ln(e){return e.dynamicChildren=Nn>0?An||a.Oj:null,On(),Nn>0&&An&&An.push(e),e}function Pn(e,t,n,r,a,o){return Ln(Wn(e,t,n,r,a,o,!0))}function Mn(e,t,n,r,a){return Ln(Un(e,t,n,r,a,!0))}function Vn(e){return!!e&&!0===e.__v_isVNode}function Fn(e,t){return e.type===t.type&&e.key===t.key}const $n=({key:e})=>null!=e?e:null,Bn=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,a.Kg)(e)||(0,r.i9)(e)||(0,a.Tn)(e)?{i:k,r:e,k:t,f:!!n}:e:null);function Wn(e,t=null,n=null,r=0,o=null,i=(e===Sn?0:1),s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$n(t),ref:t&&Bn(t),scopeId:C,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:k};return l?(Qn(u,n),128&i&&e.normalize(u)):n&&(u.shapeFlag|=(0,a.Kg)(n)?8:16),Nn>0&&!s&&An&&(u.patchFlag>0||6&i)&&32!==u.patchFlag&&An.push(u),u}const Un=jn;function jn(e,t=null,n=null,o=0,i=null,s=!1){if(e&&e!==Oe||(e=Cn),Vn(e)){const r=zn(e,t,!0);return n&&Qn(r,n),Nn>0&&!s&&An&&(6&r.shapeFlag?An[An.indexOf(e)]=r:An.push(r)),r.patchFlag=-2,r}if(wr(e)&&(e=e.__vccOpts),t){t=Gn(t);let{class:e,style:n}=t;e&&!(0,a.Kg)(e)&&(t.class=(0,a.C4)(e)),(0,a.Gv)(n)&&((0,r.ju)(n)&&!(0,a.cy)(n)&&(n=(0,a.X$)({},n)),t.style=(0,a.Tr)(n))}const l=(0,a.Kg)(e)?1:cn(e)?128:N(e)?64:(0,a.Gv)(e)?4:(0,a.Tn)(e)?2:0;return Wn(e,t,n,o,i,l,s,!0)}function Gn(e){return e?(0,r.ju)(e)||yt(e)?(0,a.X$)({},e):e:null}function zn(e,t,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:l,transition:u}=e,c=t?Yn(o||{},t):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&$n(c),ref:t&&t.ref?n&&i?(0,a.cy)(i)?i.concat(Bn(t)):[i,Bn(t)]:Bn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Sn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zn(e.ssContent),ssFallback:e.ssFallback&&zn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&re(d,u.clone(d)),d}function Hn(e=" ",t=0){return Un(kn,null,e,t)}function Kn(e="",t=!1){return t?(xn(),Mn(Cn,null,e)):Un(Cn,null,e)}function Xn(e){return null==e||"boolean"===typeof e?Un(Cn):(0,a.cy)(e)?Un(Sn,null,e.slice()):Vn(e)?qn(e):Un(kn,null,String(e))}function qn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:zn(e)}function Qn(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,a.cy)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Qn(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||yt(t)?3===r&&k&&(1===k.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=k}}else(0,a.Tn)(t)?(t={default:t,_ctx:k},n=32):(t=String(t),64&r?(n=16,t=[Hn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,a.C4)([t.class,r.class]));else if("style"===e)t.style=(0,a.Tr)([t.style,r.style]);else if((0,a.Mp)(e)){const n=t[e],o=r[e];!o||n===o||(0,a.cy)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function Jn(e,t,n,r=null){i(e,t,7,[n,r])}const Zn=ct();let er=0;function tr(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||Zn,s={uid:er++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new r.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:St(o,i),emitsOptions:en(o,i),emit:null,emitted:null,propsDefaults:a.MZ,inheritAttrs:o.inheritAttrs,ctx:a.MZ,data:a.MZ,props:a.MZ,attrs:a.MZ,slots:a.MZ,refs:a.MZ,setupState:a.MZ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Zt.bind(null,s),e.ce&&e.ce(s),s}let nr=null;const rr=()=>nr||k;let ar,or;{const e=(0,a.We)(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};ar=t("__VUE_INSTANCE_SETTERS__",e=>nr=e),or=t("__VUE_SSR_SETTERS__",e=>dr=e)}const ir=e=>{const t=nr;return ar(e),e.scope.on(),()=>{e.scope.off(),ar(t)}},sr=()=>{nr&&nr.scope.off(),ar(null)};function lr(e){return 4&e.vnode.shapeFlag}let ur,cr,dr=!1;function hr(e,t=!1,n=!1){t&&or(t);const{props:r,children:a}=e.vnode,o=lr(e);bt(e,r,o,t),Nt(e,a,n||t);const i=o?fr(e,t):void 0;return t&&or(!1),i}function fr(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,je);const{setup:i}=n;if(i){(0,r.C4)();const n=e.setupContext=i.length>1?gr(e):null,l=ir(e),u=o(i,e,0,[e.props,n]),c=(0,a.yL)(u);if((0,r.bl)(),l(),!c&&!e.sp||le(e)||ie(e),c){if(u.then(sr,sr),t)return u.then(n=>{pr(e,n,t)}).catch(t=>{s(t,e,0)});e.asyncDep=u}else pr(e,u,t)}else vr(e,t)}function pr(e,t,n){(0,a.Tn)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,a.Gv)(t)&&(e.setupState=(0,r.Pr)(t)),vr(e,n)}function vr(e,t,n){const o=e.type;if(!e.render){if(!t&&ur&&!o.render){const t=o.template||et(e).template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:i,compilerOptions:s}=o,l=(0,a.X$)((0,a.X$)({isCustomElement:n,delimiters:i},r),s);o.render=ur(t,l)}}e.render=o.render||a.tE,cr&&cr(e)}{const t=ir(e);(0,r.C4)();try{Qe(e)}finally{(0,r.bl)(),t()}}}const mr={get(e,t){return(0,r.u4)(e,"get",""),e[t]}};function gr(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,mr),slots:e.slots,emit:e.emit,expose:t}}function yr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy((0,r.Pr)((0,r.IG)(e.exposed)),{get(t,n){return n in t?t[n]:n in We?We[n](e):void 0},has(e,t){return t in e||t in We}})):e.proxy}function br(e,t=!0){return(0,a.Tn)(e)?e.displayName||e.name:e.name||t&&e.__name}function wr(e){return(0,a.Tn)(e)&&"__vccOpts"in e}const _r=(e,t)=>{const n=(0,r.EW)(e,t,dr);return n};function Er(e,t,n){const r=arguments.length;return 2===r?(0,a.Gv)(t)&&!(0,a.cy)(t)?Vn(t)?Un(e,null,[t]):Un(e,t):Un(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Vn(n)&&(n=[n]),Un(e,t,n))}const Tr="3.5.17"},751:(e,t,n)=>{n.d(t,{D$:()=>$e,Ef:()=>He,F:()=>ge,Jo:()=>Ce,XX:()=>ze,aG:()=>F,eB:()=>w,hp:()=>Le,jR:()=>We});var r=n(641),a=n(33),o=n(953);
/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let i;const s="undefined"!==typeof window&&window.trustedTypes;if(s)try{i=s.createPolicy("vue",{createHTML:e=>e})}catch(qe){}const l=i?e=>i.createHTML(e):e=>e,u="http://www.w3.org/2000/svg",c="http://www.w3.org/1998/Math/MathML",d="undefined"!==typeof document?document:null,h=d&&d.createElement("template"),f={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a="svg"===t?d.createElementNS(u,e):"mathml"===t?d.createElementNS(c,e):n?d.createElement(e,{is:n}):d.createElement(e);return"select"===e&&r&&null!=r.multiple&&a.setAttribute("multiple",r.multiple),a},createText:e=>d.createTextNode(e),createComment:e=>d.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>d.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const i=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling)){while(1)if(t.insertBefore(a.cloneNode(!0),n),a===o||!(a=a.nextSibling))break}else{h.innerHTML=l("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);const a=h.content;if("svg"===r||"mathml"===r){const e=a.firstChild;while(e.firstChild)a.appendChild(e.firstChild);a.removeChild(e)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},p="transition",v="animation",m=Symbol("_vtc"),g={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},y=(0,a.X$)({},r.QP,g),b=e=>(e.displayName="Transition",e.props=y,e),w=b((e,{slots:t})=>(0,r.h)(r.pR,T(e),t)),_=(e,t=[])=>{(0,a.cy)(e)?e.forEach(e=>e(...t)):e&&e(...t)},E=e=>!!e&&((0,a.cy)(e)?e.some(e=>e.length>1):e.length>1);function T(e){const t={};for(const a in e)a in g||(t[a]=e[a]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:c=s,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,v=S(o),m=v&&v[0],y=v&&v[1],{onBeforeEnter:b,onEnter:w,onEnterCancelled:T,onLeave:k,onLeaveCancelled:A,onBeforeAppear:O=b,onAppear:N=w,onAppearCancelled:D=T}=t,P=(e,t,n,r)=>{e._enterCancelled=r,R(e,t?d:l),R(e,t?c:s),n&&n()},M=(e,t)=>{e._isLeaving=!1,R(e,h),R(e,p),R(e,f),t&&t()},V=e=>(t,n)=>{const a=e?N:w,o=()=>P(t,e,n);_(a,[t,o]),I(()=>{R(t,e?u:i),C(t,e?d:l),E(a)||x(t,r,m,o)})};return(0,a.X$)(t,{onBeforeEnter(e){_(b,[e]),C(e,i),C(e,s)},onBeforeAppear(e){_(O,[e]),C(e,u),C(e,c)},onEnter:V(!1),onAppear:V(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>M(e,t);C(e,h),e._enterCancelled?(C(e,f),L()):(L(),C(e,f)),I(()=>{e._isLeaving&&(R(e,h),C(e,p),E(k)||x(e,r,y,n))}),_(k,[e,n])},onEnterCancelled(e){P(e,!1,void 0,!0),_(T,[e])},onAppearCancelled(e){P(e,!0,void 0,!0),_(D,[e])},onLeaveCancelled(e){M(e),_(A,[e])}})}function S(e){if(null==e)return null;if((0,a.Gv)(e))return[k(e.enter),k(e.leave)];{const t=k(e);return[t,t]}}function k(e){const t=(0,a.Ro)(e);return t}function C(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[m]||(e[m]=new Set)).add(t)}function R(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const n=e[m];n&&(n.delete(t),n.size||(e[m]=void 0))}function I(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let A=0;function x(e,t,n,r){const a=e._endId=++A,o=()=>{a===e._endId&&r()};if(null!=n)return setTimeout(o,n);const{type:i,timeout:s,propCount:l}=O(e,t);if(!i)return r();const u=i+"end";let c=0;const d=()=>{e.removeEventListener(u,h),o()},h=t=>{t.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},s+1),e.addEventListener(u,h)}function O(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),a=r(`${p}Delay`),o=r(`${p}Duration`),i=N(a,o),s=r(`${v}Delay`),l=r(`${v}Duration`),u=N(s,l);let c=null,d=0,h=0;t===p?i>0&&(c=p,d=i,h=o.length):t===v?u>0&&(c=v,d=u,h=l.length):(d=Math.max(i,u),c=d>0?i>u?p:v:null,h=c?c===p?o.length:l.length:0);const f=c===p&&/\b(transform|all)(,|$)/.test(r(`${p}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function N(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>D(t)+D(e[n])))}function D(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function L(){return document.body.offsetHeight}function P(e,t,n){const r=e[m];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const M=Symbol("_vod"),V=Symbol("_vsh"),F={beforeMount(e,{value:t},{transition:n}){e[M]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):$(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),$(e,!0),r.enter(e)):r.leave(e,()=>{$(e,!1)}):$(e,t))},beforeUnmount(e,{value:t}){$(e,t)}};function $(e,t){e.style.display=t?e[M]:"none",e[V]=!t}const B=Symbol("");const W=/(^|;)\s*display\s*:/;function U(e,t,n){const r=e.style,o=(0,a.Kg)(n);let i=!1;if(n&&!o){if(t)if((0,a.Kg)(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&G(r,t,"")}else for(const e in t)null==n[e]&&G(r,e,"");for(const e in n)"display"===e&&(i=!0),G(r,e,n[e])}else if(o){if(t!==n){const e=r[B];e&&(n+=";"+e),r.cssText=n,i=W.test(n)}}else t&&e.removeAttribute("style");M in e&&(e[M]=i?r.display:"",e[V]&&(r.display="none"))}const j=/\s*!important$/;function G(e,t,n){if((0,a.cy)(n))n.forEach(n=>G(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=K(e,t);j.test(n)?e.setProperty((0,a.Tg)(r),n.replace(j,""),"important"):e[r]=n}}const z=["Webkit","Moz","ms"],H={};function K(e,t){const n=H[t];if(n)return n;let r=(0,a.PT)(t);if("filter"!==r&&r in e)return H[t]=r;r=(0,a.ZH)(r);for(let a=0;a<z.length;a++){const n=z[a]+r;if(n in e)return H[t]=n}return t}const X="http://www.w3.org/1999/xlink";function q(e,t,n,r,o,i=(0,a.J$)(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(X,t.slice(6,t.length)):e.setAttributeNS(X,t,n):null==n||i&&!(0,a.Y2)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":(0,a.Bm)(n)?String(n):n)}function Q(e,t,n,r,o){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?l(n):n));const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){const r="OPTION"===i?e.getAttribute("value")||"":e.value,a=null==n?"checkbox"===e.type?"on":"":String(n);return r===a&&"_value"in e||(e.value=a),null==n&&e.removeAttribute(t),void(e._value=n)}let s=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,a.Y2)(n):null==n&&"string"===r?(n="",s=!0):"number"===r&&(n=0,s=!0)}try{e[t]=n}catch(qe){0}s&&e.removeAttribute(o||t)}function Y(e,t,n,r){e.addEventListener(t,n,r)}function J(e,t,n,r){e.removeEventListener(t,n,r)}const Z=Symbol("_vei");function ee(e,t,n,r,a=null){const o=e[Z]||(e[Z]={}),i=o[t];if(r&&i)i.value=r;else{const[n,s]=ne(t);if(r){const i=o[t]=ie(r,a);Y(e,n,i,s)}else i&&(J(e,n,i,s),o[t]=void 0)}}const te=/(?:Once|Passive|Capture)$/;function ne(e){let t;if(te.test(e)){let n;t={};while(n=e.match(te))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,a.Tg)(e.slice(2));return[n,t]}let re=0;const ae=Promise.resolve(),oe=()=>re||(ae.then(()=>re=0),re=Date.now());function ie(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,r.qL)(se(e,n.value),t,5,[e])};return n.value=e,n.attached=oe(),n}function se(e,t){if((0,a.cy)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}const le=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ue=(e,t,n,r,o,i)=>{const s="svg"===o;"class"===t?P(e,r,s):"style"===t?U(e,n,r):(0,a.Mp)(t)?(0,a.CP)(t)||ee(e,t,n,r,i):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):ce(e,t,r,s))?(Q(e,t,r),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||q(e,t,r,s,i,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&(0,a.Kg)(r)?("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),q(e,t,r,s)):Q(e,(0,a.PT)(t),r,i,t)};function ce(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&le(t)&&(0,a.Tn)(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!le(t)||!(0,a.Kg)(n))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const de=new WeakMap,he=new WeakMap,fe=Symbol("_moveCb"),pe=Symbol("_enterCb"),ve=e=>(delete e.props.mode,e),me=ve({name:"TransitionGroup",props:(0,a.X$)({},y,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.nI)(),a=(0,r.Gy)();let i,s;return(0,r.$u)(()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!_e(i[0].el,n.vnode.el,t))return void(i=[]);i.forEach(ye),i.forEach(be);const r=i.filter(we);L(),r.forEach(e=>{const n=e.el,r=n.style;C(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const a=n[fe]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",a),n[fe]=null,R(n,t))};n.addEventListener("transitionend",a)}),i=[]}),()=>{const l=(0,o.ux)(e),u=T(l);let c=l.tag||r.FK;if(i=[],s)for(let e=0;e<s.length;e++){const t=s[e];t.el&&t.el instanceof Element&&(i.push(t),(0,r.MZ)(t,(0,r.OW)(t,u,a,n)),de.set(t,t.el.getBoundingClientRect()))}s=t.default?(0,r.Df)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,r.MZ)(t,(0,r.OW)(t,u,a,n))}return(0,r.bF)(c,null,s)}}}),ge=me;function ye(e){const t=e.el;t[fe]&&t[fe](),t[pe]&&t[pe]()}function be(e){he.set(e,e.el.getBoundingClientRect())}function we(e){const t=de.get(e),n=he.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${a}px)`,t.transitionDuration="0s",e}}function _e(e,t,n){const r=e.cloneNode(),a=e[m];a&&a.forEach(e=>{e.split(/\s+/).forEach(e=>e&&r.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&r.classList.add(e)),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=O(r);return o.removeChild(r),i}const Ee=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,a.cy)(t)?e=>(0,a.DY)(t,e):t};function Te(e){e.target.composing=!0}function Se(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ke=Symbol("_assign"),Ce={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[ke]=Ee(o);const i=r||o.props&&"number"===o.props.type;Y(e,t?"change":"input",t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),i&&(r=(0,a.bB)(r)),e[ke](r)}),n&&Y(e,"change",()=>{e.value=e.value.trim()}),t||(Y(e,"compositionstart",Te),Y(e,"compositionend",Se),Y(e,"change",Se))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:i}},s){if(e[ke]=Ee(s),e.composing)return;const l=!i&&"number"!==e.type||/^0\d/.test(e.value)?e.value:(0,a.bB)(e.value),u=null==t?"":t;if(l!==u){if(document.activeElement===e&&"range"!==e.type){if(r&&t===n)return;if(o&&e.value.trim()===u)return}e.value=u}}},Re={deep:!0,created(e,t,n){e[ke]=Ee(n),Y(e,"change",()=>{const t=e._modelValue,n=Ne(e),r=e.checked,o=e[ke];if((0,a.cy)(t)){const e=(0,a.u3)(t,n),i=-1!==e;if(r&&!i)o(t.concat(n));else if(!r&&i){const n=[...t];n.splice(e,1),o(n)}}else if((0,a.vM)(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(De(e,r))})},mounted:Ie,beforeUpdate(e,t,n){e[ke]=Ee(n),Ie(e,t,n)}};function Ie(e,{value:t,oldValue:n},r){let o;if(e._modelValue=t,(0,a.cy)(t))o=(0,a.u3)(t,r.props.value)>-1;else if((0,a.vM)(t))o=t.has(r.props.value);else{if(t===n)return;o=(0,a.BX)(t,De(e,!0))}e.checked!==o&&(e.checked=o)}const Ae={created(e,{value:t},n){e.checked=(0,a.BX)(t,n.props.value),e[ke]=Ee(n),Y(e,"change",()=>{e[ke](Ne(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[ke]=Ee(r),t!==n&&(e.checked=(0,a.BX)(t,r.props.value))}},xe={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=(0,a.vM)(t);Y(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?(0,a.bB)(Ne(e)):Ne(e));e[ke](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,(0,r.dY)(()=>{e._assigning=!1})}),e[ke]=Ee(o)},mounted(e,{value:t}){Oe(e,t)},beforeUpdate(e,t,n){e[ke]=Ee(n)},updated(e,{value:t}){e._assigning||Oe(e,t)}};function Oe(e,t){const n=e.multiple,r=(0,a.cy)(t);if(!n||r||(0,a.vM)(t)){for(let o=0,i=e.options.length;o<i;o++){const i=e.options[o],s=Ne(i);if(n)if(r){const e=typeof s;i.selected="string"===e||"number"===e?t.some(e=>String(e)===String(s)):(0,a.u3)(t,s)>-1}else i.selected=t.has(s);else if((0,a.BX)(Ne(i),t))return void(e.selectedIndex!==o&&(e.selectedIndex=o))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Ne(e){return"_value"in e?e._value:e.value}function De(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Le={created(e,t,n){Me(e,t,n,null,"created")},mounted(e,t,n){Me(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Me(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Me(e,t,n,r,"updated")}};function Pe(e,t){switch(e){case"SELECT":return xe;case"TEXTAREA":return Ce;default:switch(t){case"checkbox":return Re;case"radio":return Ae;default:return Ce}}}function Me(e,t,n,r,a){const o=Pe(e.tagName,n.props&&n.props.type),i=o[a];i&&i(e,t,n,r)}const Ve=["ctrl","shift","alt","meta"],Fe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ve.some(n=>e[`${n}Key`]&&!t.includes(n))},$e=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=Fe[t[e]];if(r&&r(n,t))return}return e(n,...r)})},Be={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},We=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=(0,a.Tg)(n.key);return t.some(e=>e===r||Be[e]===r)?e(n):void 0})},Ue=(0,a.X$)({patchProp:ue},f);let je;function Ge(){return je||(je=(0,r.K9)(Ue))}const ze=(...e)=>{Ge().render(...e)},He=(...e)=>{const t=Ge().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=Xe(e);if(!r)return;const o=t._component;(0,a.Tn)(o)||o.render||o.template||(o.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const i=n(r,!1,Ke(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Ke(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function Xe(e){if((0,a.Kg)(e)){const t=document.querySelector(e);return t}return e}},857:(e,t,n)=>{n.d(t,{c:()=>a_});var r=n(641);const a=(e,t=null)=>(0,r.k6)(()=>[e],t),o=e=>"string"===typeof e?(0,r.h)(r.EY,e):(0,r.vv)(e)?e:(0,r.Wv)(e),i=(e,t=null)=>Object.keys(e).reduce((n,r)=>{const o=e[r];return n[r]="function"===typeof o?o:a(o,t),n},{}),s=e=>{const t=e.render||e.ssrRender;if(!t)return;const n="_sfc_render"===t.name||"_sfc_ssrRender"===t.name;return function(...e){const r=e[0],a=r.$.slots,o=new Proxy(r,{get(e,t){return"$slots"===t?i(a):e[t]}}),s=n?void 0:o;return t.call(s,o,...e.slice(1))}};var l=n(953);const u=(e,t)=>Object.keys(e).filter(e=>!t.includes(e)).reduce((t,n)=>(t[n]=e[n],t),{}),c="child:",d="$va:childComponents",h=e=>Object.keys(e).reduce((e,t)=>{const n=`${c}${t}`;return e[n]={type:Object,required:!1,default:void 0},e},{}),f=e=>{const t=(0,r.EW)(()=>{const t=Object.keys(e);return t.reduce((t,n)=>{if(n.startsWith(c)){const r=n.slice(c.length);t[r]=e[n]}return t},{})});(0,r.Gt)(d,t)},p=()=>{var e;const t=null==(e=(0,r.nI)())?void 0:e.attrs["va-child"];if(!t)return null;const n=(0,r.WQ)(d);return(null==n?void 0:n.value)?(0,r.EW)(()=>n.value[t]):null},v=/([a-z0-9])([A-Z])/g,m=e=>e.replace(v,"$1-$2").toLowerCase(),g=(e,t)=>t in e?e[t]:e[m(t)],y=(e,t)=>{const n=e.props,r=p();return new Proxy(n,{get:(n,a)=>{var o,i;if("string"!==typeof a)return n[a];const s=null==(o=null==r?void 0:r.value)?void 0:o[a];if(void 0!==s)return s;const l=e.vnode.props||{},u=n[a],c=g(l,a);if(void 0!==c)return u;const d=null==(i=t.value)?void 0:i[a];return void 0!==d?d:u}})};var b=n(33);const w=(e,t)=>{const n=e.attrs;return new Proxy(n,{get:(e,r)=>{var a;if("string"!==typeof r)return e[r];if("class"===r)return(0,b.C4)([t.value.class,n.class]);if("style"===r)return(0,b.Tr)([t.value.style,n.style]);const o=null==(a=t.value)?void 0:a[r];return void 0!==o?o:e[r]},ownKeys(e){return[...new Set([...Object.keys(n),...Object.keys(t.value)])]},getOwnPropertyDescriptor(e,r){return Reflect.getOwnPropertyDescriptor(t.value,r)??Reflect.getOwnPropertyDescriptor(n,r)}})},_="slot:",E=(e,t)=>{const n=e.slots,i=p(),s=(0,r.EW)(()=>Object.keys(t.value).reduce((e,n)=>(n.startsWith(_)&&(e[n.slice(_.length)]=t.value[n]),e),{}));return new Proxy(n,{get:(e,t)=>{var n,r;if("string"!==typeof t)return e[t];const l=`${_}${t}`,u=null==(n=null==i?void 0:i.value)?void 0:n[l];if(void 0!==u)return a(o(u));const c=e[t];if(void 0!==c)return c;const d=null==(r=s.value)?void 0:r[t];return void 0!==d?a(o(d)):c},ownKeys(e){return[...new Set([...Object.keys(n),...Object.keys(s.value)])]},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(s.value,t)??Reflect.getOwnPropertyDescriptor(n,t)}})},T="VaLocalConfig",S=(0,r.EW)(()=>[]);function k(){return(0,r.WQ)(T,S)}function C(e){(0,r.Gt)(T,e)}function R(e){const t=k(),n=(0,r.EW)(()=>[...t.value,e.value]);C(n)}const I=[null,void 0,""],A=[null,void 0],x=e=>I.includes(e),O=e=>!x(e),N=e=>A.includes(e),D="undefined"!==typeof process?process:{},L=D.env||{},P=L.NODE_ENV||"",M="undefined"!==typeof __DEV__?__DEV__:!["prod","production"].includes(P),V=(...e)=>(M&&console.warn(...e),!1),F=e=>{throw new Error(`[Vuestic] ${e}`)};let $=null,B=null;const W=e=>{null===(null==B?void 0:B._instance)&&(B=null),null===e&&null===B||(B=$,$=e)},U=()=>$,j=(e,t=void 0)=>{var n;const a=null==(n=U())?void 0:n._context.provides[e],o=(0,r.nI)();return o?(0,r.WQ)(e,t):a??F("You're using Vuestic composable outside Vue app. Since you registered Vuestic in multiple apps, composables can not be used outside setup function anymore.")},G=e=>null!==e&&"object"===typeof e,z=e=>null===e||"object"!==typeof e?e:Array.isArray(e)?e.map(z):e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Map?new Map(Array.from(e.entries()).map(([e,t])=>[e,z(t)])):e instanceof Set?new Set(Array.from(e.values()).map(z)):G(e)?Object.keys(e).reduce((t,n)=>(t[n]=z(e[n]),t),{}):e,H=Symbol("vaBreakpoint"),K={xs:0,sm:640,md:1024,lg:1440,xl:1920},X=()=>({enabled:!0,bodyClass:!0,thresholds:K}),q=e=>e&&"object"===typeof e&&!Array.isArray(e),Q=(e,t)=>(q(e)||(e={}),Object.keys(t).forEach(n=>{const r=e[n],a=t[n];a instanceof RegExp||a instanceof Date?e[n]=a:q(r)&&q(a)?e[n]=Q(Object.create(Object.getPrototypeOf(r),Object.getOwnPropertyDescriptors(r)),a):e[n]=a}),e),Y=(...e)=>e.reduce((e,t)=>Q(e,t),{}),J=[{prefix:"bg",property:"background-color"},{prefix:"text",property:["color","fill"]}],Z=()=>J,ee={light:{primary:"#154EC1",secondary:"#767C88",success:"#3D9209",info:"#158DE3",danger:"#E42222",warning:"#FFD43A",backgroundPrimary:"#f6f6f6",backgroundSecondary:"#FFFFFF",backgroundElement:"#ECF0F1",backgroundBorder:"#DEE5F2",textPrimary:"#262824",textInverted:"#FFFFFF",shadow:"rgba(0, 0, 0, 0.12)",focus:"#49A8FF",transparent:"rgba(0, 0, 0, 0)"},dark:{primary:"#3472F0",secondary:"#767C88",success:"#66BE33",info:"#3EAAF8",danger:"#F34030",warning:"#FFD952",backgroundPrimary:"#050A10",backgroundSecondary:"#1F262F",backgroundElement:"#131A22",backgroundBorder:"#3D4C58",textPrimary:"#F1F1F1",textInverted:"#0B121A",shadow:"rgba(255, 255, 255, 0.12)",focus:"#49A8FF",transparent:"rgba(0, 0, 0, 0)"}},te=e=>({...e,get variables(){return this.presets[this.currentPresetName]},set variables(e){this.presets[this.currentPresetName]=e}}),ne=()=>te({threshold:150,presets:{light:ee.light,dark:ee.dark},currentPresetName:"light"}),re=e=>e,ae=re([{name:"va-unsorted",to:"swap_vert"},{name:"va-sort-asc",to:"va-arrow-up"},{name:"va-sort-desc",to:"va-arrow-down"},{name:"va-arrow-first",to:"mi-first_page"},{name:"va-arrow-last",to:"mi-last_page"},{name:"va-arrow-right",to:"mi-chevron_right"},{name:"va-arrow-left",to:"mi-chevron_left"},{name:"va-arrow-down",to:"mi-expand_more"},{name:"va-arrow-up",to:"mi-expand_less"},{name:"va-calendar",to:"mi-calendar_today"},{name:"va-delete",to:"mi-delete_outline"},{name:"va-check",to:"mi-check"},{name:"va-check-circle",to:"mi-check_circle"},{name:"va-warning",to:"mi-warning"},{name:"va-clear",to:"mi-highlight_off"},{name:"va-close",to:"mi-close"},{name:"va-loading",to:"mi-loop"},{name:"va-plus",to:"mi-add"},{name:"va-minus",to:"mi-remove"}]),oe=[{name:"mi-{icon}",class:"material-icons",resolve:({icon:e})=>({content:e})},{name:"{icon}",class:"material-icons",resolve:({icon:e})=>({content:e})}],ie=e=>(e.aliases=e.aliases||[],e.fonts=e.fonts||[],[...e.aliases,...ae,...e.fonts,...oe]),se=()=>ie({}),le=()=>({VaIcon:{sizesConfig:{defaultSize:18,sizes:{small:14,medium:18,large:24}}},VaRating:{sizesConfig:{defaultSize:18,sizes:{small:14,medium:18,large:24}}},all:{},presets:{VaButton:{default:{backgroundOpacity:1,hoverBehavior:"mask",hoverOpacity:.15,pressedBehavior:"mask",pressedOpacity:.13},primary:{backgroundOpacity:.1,hoverBehavior:"opacity",hoverOpacity:.07,pressedBehavior:"opacity",pressedOpacity:.13},secondary:{backgroundOpacity:0,hoverBehavior:"opacity",hoverOpacity:.07,pressedBehavior:"opacity",pressedOpacity:.13},plain:{plain:!0,hoverBehavior:"mask",hoverOpacity:.15,pressedBehavior:"mask",pressedOpacity:.13},plainOpacity:{plain:!0,textOpacity:.6,hoverBehavior:"opacity",hoverOpacity:1,pressedBehavior:"opacity",pressedOpacity:.9}},VaInputWrapper:{solid:{background:"backgroundElement"},bordered:{class:"va-input-wrapper--bordered",background:"backgroundElement"}},VaCheckbox:{solid:{style:"--va-checkbox-background: var(--va-background-element)"}},VaRadio:{solid:{style:"--va-radio-background: var(--va-background-element)"}},VaMenu:{context:{cursor:!0,placement:"right-start",trigger:"right-click"}}}}),ue=()=>({search:"Search",noOptions:"Items not found",ok:"OK",cancel:"Cancel",uploadFile:"Upload file",undo:"Undo",dropzone:"Drop files here to upload",fileDeleted:"File deleted",closeAlert:"close alert",backToTop:"back to top",toggleDropdown:"toggle dropdown",carousel:"carousel",goPreviousSlide:"go previous slide",goNextSlide:"go next slide",goSlide:"go slide {index}",slideOf:"slide {index} of {length}",close:"close",openColorPicker:"open color picker",colorSelection:"color selection",colorName:"color {color}",decreaseCounter:"decrease counter",increaseCounter:"increase counter",selectAllRows:"select all rows",sortColumnBy:"sort column by {name}",selectRowByIndex:"select row {index}",resetDate:"reset date",nextPeriod:"next period",switchView:"switch view",previousPeriod:"previous period",removeFile:"remove file",reset:"reset",pagination:"pagination",goToTheFirstPage:"go to the first page",goToPreviousPage:"go to the previous page",goToSpecificPage:"go to the {page} page",goToSpecificPageInput:"enter the page number to go",goNextPage:"go next page",goLastPage:"go last page",currentRating:"current rating {value} of {max}",voteRating:"vote rating {value} of {max}",optionsFilter:"options filter",splitPanels:"split panels",movePaginationLeft:"move pagination left",movePaginationRight:"move pagination right",resetTime:"reset time",closeToast:"close toast",selectedOption:"Selected option",noSelectedOption:"Option is not selected",breadcrumbs:"breadcrumbs",counterValue:"counter value",selectedDate:"selected date",selectedTime:"selected time",progressState:"progress state",color:"color",next:"Next",back:"Previous",finish:"Finish",step:"step",progress:"progress",loading:"Loading",sliderValue:"Current slider value is {value}",switch:"Switch",inputField:"Input field",fileTypeIncorrect:"File type is incorrect",select:"Select an option"}),ce=Symbol("GLOBAL_CONFIG"),de=()=>({colors:ne(),icons:se(),components:le(),breakpoint:X(),i18n:ue(),colorsClasses:Z(),routerComponent:void 0}),he=(e={})=>{const t=(0,l.KR)(Q(de(),e)),n=()=>t.value,r=e=>{const n="function"===typeof e?e(t.value):e;t.value=z(n)},a=e=>{const n="function"===typeof e?e(t.value):e;t.value=Q(z(t.value),n)};return{getGlobalConfig:n,setGlobalConfig:r,mergeGlobalConfig:a,globalConfig:t}},fe=e=>{var t,n;const a=(null==(t=(0,r.nI)())?void 0:t.appContext.provides)||(null==(n=U())?void 0:n._context.provides);if(!a)throw new Error("Vue app not found for provide");return a[ce]=e,e};function pe(){let e=j(ce);return e||(e=he(),fe(e)),e}const ve=e=>"preset"in e,me=e=>ve(e)?e.preset:void 0,ge=(e,t)=>{const n=k(),{globalConfig:a}=pe(),o=e.name,i=e=>(e instanceof Array?e:[e]).reduce((e,t)=>{var n,r,s;const l=null==(s=null==(r=null==(n=a.value.components)?void 0:n.presets)?void 0:r[o])?void 0:s[t];if(!l)return e;const u=me(l);return{...e,...u?i(u):void 0,...l}},{}),s=p();return(0,r.EW)(()=>{var e,r;const l={...null==(e=a.value.components)?void 0:e.all,...null==(r=a.value.components)?void 0:r[o]},u=n.value.reduce((e,t)=>{const n=t[o];return n?{...e,...n}:e},{}),c=[t,null==s?void 0:s.value,u,l].filter(O).map(me).filter(O).at(0),d=c?i(c):void 0;return{...l,...u,...d}})},ye=e=>(t,n)=>{var a;const o=(0,r.nI)(),i=ge(e,t),s=(0,r.EW)(()=>u(i.value,Object.keys(t))),c=y(o,i),d=w(o,s),h=E(o,i);o.props=c,o.attrs=d,o.slots=h;const f=null==(a=e.setup)?void 0:a.call(e,(0,l.nD)(c),{...n,attrs:d,slots:h});return"object"!==typeof f||o.exposed||n.expose(f),f},be=e=>{const t=ye(e),n=s(e);return new Proxy(e,{get(r,a){return a in e?"setup"===a?t:"render"===a||"ssrRender"===a?n:Reflect.get(r,a):Reflect.get(r,a)}})},we="__c",_e=e=>(e[we]=be(e[we]),e),Ee=e=>"setup"in e?be(e):we in e?_e(e):(e.setup=()=>({}),be(e)),Te=Ee,Se=Symbol("AccordionService"),ke=(e,t)=>{const n=(0,l.KR)([]),a=()=>{const e=Math.max(n.value.length,t.value.length);return Array.from({length:e},(e,n)=>t.value[n]??!1)},o=e=>t.value[n.value.indexOf(e)]??!1,i=()=>{t.value=a()},s=e=>{n.value.push(e),i()},u=e=>{n.value=n.value.filter(t=>t!==e),(0,r.dY)(i)},c=(r,o)=>{const i=n.value.indexOf(r);-1!==i?e.multiple?t.value[i]=o:t.value=a().map((e,t)=>t===i&&o):V("Accordion item is not registered yet")};return(0,r.Gt)(Se,{registerItem:s,unregisterItem:u,getItemValue:o,setItemValue:c,props:(0,r.EW)(()=>e)}),{items:n}},Ce=()=>{const e=(0,r.WQ)(Se,void 0);if(!e)return{accordionProps:(0,l.KR)({})};const t={};e.registerItem(t),(0,r.xo)(()=>e.unregisterItem(t));const n=(0,r.EW)({get:()=>e.getItemValue(t),set:n=>e.setItemValue(t,n)});return{accordionItemValue:n,accordionProps:e.props}},Re=Symbol("NOT_PROVIDED"),Ie=(e,t)=>{const n=(0,r.nI)();return(0,r.EW)(()=>{if(!(null==n?void 0:n.vnode.props))return Re;const r=t[e];return e in n.vnode.props?r:Re})},Ae={stateful:{type:Boolean,default:!1},modelValue:{type:void 0}},xe=(e=!1)=>({stateful:{type:Boolean,default:e}}),Oe=["update:modelValue"],Ne=(e,t,n="modelValue",a={})=>{const{eventName:o,defaultValue:i}=a,s=o||`update:${n.toString()}`,u=Ie(n,e),c="defaultValue"in a,d=(0,l.KR)(u.value===Re?c?i:e[n]:u.value);let h;const f=()=>{h=(0,r.wB)(()=>e[n],e=>{d.value=e})};(0,r.wB)(()=>e.stateful,e=>{e?f():null==h||h()},{immediate:!0});const p=(0,r.EW)({get:()=>e.stateful?d.value:e[n],set:n=>{e.stateful&&(d.value=n),t(s,n)}});return Object.defineProperty(p,"stateful",{get:()=>e.stateful}),Object.defineProperty(p,"userProvided",{get:()=>u.value!==Re}),{valueComputed:p}},De={preset:{type:[String,Array],default:void 0}},Le={class:"va-accordion"},Pe=(0,r.pM)({name:"VaAccordion",__name:"VaAccordion",props:{...Ae,...De,modelValue:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},inset:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0},popout:{type:Boolean,default:!1}},emits:[...Oe],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=Ne(a,o,"modelValue"),{items:s}=ke(a,i),l=s,u=i;return t({collapses:l,value:u}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",Le,[(0,r.RG)(e.$slots,"default")]))}}),Me=Te(Pe),Ve=()=>{},Fe=()=>"undefined"===typeof window,$e=()=>!Fe(),Be=()=>"undefined"===typeof window?void 0:window,We={},Ue=()=>Fe()?"undefined"===typeof globalThis?We:globalThis:window,je=e=>{const t=(0,r.nI)().props,n=(0,r.EW)(()=>{const n=null==t?void 0:t[e];return void 0===n?n:Number(n)});return n},Ge=(e,t)=>{let n=0;return function(...r){const a=Date.now();a-n<t||(e.apply(this,r),n=a)}};function ze(){return document.documentElement.clientHeight||window.innerHeight||document.body.clientHeight}function He({coordinates:e,offsetTop:t,offsetBottom:n,target:r}){let a=!1,o=!1;const i=ze();if(null!=t&&i)if(r===window)a=e.top<=t;else{const{top:n}=r.getBoundingClientRect();a=e.top-n<=t}if(null!=n&&i)if(r===window)o=e.bottom>=i-n;else{const{bottom:t}=r.getBoundingClientRect();o=t-e.bottom<=n}return{isTopAffixed:a,isBottomAffixed:o}}function Ke(e,t){return e.isTopAffixed!==t.isTopAffixed||e.isBottomAffixed!==t.isBottomAffixed}function Xe(e,t){const{target:n,element:r,offsetTop:a,offsetBottom:o,setState:i,getState:s,initialPosition:l}=t;if(!r)return;const u=!e,c=r.getBoundingClientRect(),d={offsetBottom:o,offsetTop:a,target:n},h=He(u&&l?{coordinates:l,...d}:{coordinates:c,...d}),f=s();Ke(f,h)?i({...h,width:c.width}):f.width!==c.width&&i({...f,width:c.width})}function qe(e){return"scroll"===e}function Qe(e,{handler:t,useCapture:n=qe,wait:r=50}){const a=e.map(e=>{const a=Ge(n=>t(e,n),r);return window.addEventListener(e,a,n(e)),()=>window.removeEventListener(e,a,n(e))});return()=>a.forEach(e=>e())}const Ye=(0,r.pM)({name:"VaAffix",__name:"VaAffix",props:{...De,offsetTop:{type:[Number,String],default:void 0},offsetBottom:{type:[Number,String],default:void 0},target:{type:[Object,Function],default:Be}},emits:["change"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),i=()=>"function"===typeof n.target?n.target():n.target,s=(0,r.EW)(()=>u.value.isTopAffixed||u.value.isBottomAffixed),u=(0,l.KR)({isTopAffixed:!1,isBottomAffixed:!1}),c=()=>u.value,d=e=>{u.value=e,a("change",s)},h=je("offsetTop"),f=je("offsetBottom"),p=()=>{const e=i();if(!e)return 0;if(void 0!==h.value){if(!(e instanceof Window)){const{top:t}=e.getBoundingClientRect();return t+h.value}return h.value}},v=()=>{const e=i();if(!e)return 0;if(void 0!==f.value){if(!(e instanceof Window)){const{bottom:t}=e.getBoundingClientRect(),{borderTopWidth:n,borderBottomWidth:r}=getComputedStyle(e),{offsetHeight:a,clientHeight:o}=e,i=a-o-parseInt(n)-parseInt(r);return ze()-(t-f.value)+i}return f.value}},m=e=>{const t=e();return void 0===t?void 0:`${t}px`},g=(0,r.EW)(()=>[{"va-affix--affixed":s}]),y=(0,r.EW)(()=>({top:u.value.isTopAffixed?m(p):void 0,bottom:u.value.isBottomAffixed?m(v):void 0,width:`${u.value.width}px`})),w=(0,l.KR)(),_=(e,t)=>{const r={...n,offsetTop:h.value,offsetBottom:f.value,initialPosition:w.value,element:o.value,target:i(),setState:d,getState:c};if(e&&"resize"!==e){if(t&&t.target){const n=i();n===t.target||n instanceof Window?Xe(e,r):d({isBottomAffixed:!1,isTopAffixed:!1})}}else Xe(e,r)};let E=Ve;return(0,r.sV)(()=>{var e;w.value=null==(e=o.value)?void 0:e.getBoundingClientRect();const t=["scroll","resize"];E=Qe(t,{handler:_}),(0,r.dY)(()=>{_(null)})}),(0,r.xo)(E),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"element",ref:o,class:"va-affix"},[(0,r.Lk)("div",{style:(0,b.Tr)({visibility:s.value?"hidden":"inherit"})},[(0,r.RG)(e.$slots,"default")],4),s.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,b.C4)(g.value),style:(0,b.Tr)(y.value)},[(0,r.RG)(e.$slots,"default")],6)):(0,r.Q3)("",!0)],512))}}),Je=Te(Ye);var Ze=n(751);const et=e=>e,tt=Symbol("VaAppCachePlugin"),nt=et(()=>({install(e){const t={colorContrast:{}};e.provide(tt,t)}})),rt=()=>{const e=j(tt);return e||{colorContrast:{}}},at=e=>{const t=(0,r.EW)(e),n=new Proxy(t,{get(e,n,r){if("object"===typeof t.value)return(0,l.R1)(Reflect.get(t.value,n,r))},set(e,n,r){return(0,l.i9)(t.value[n])&&!(0,l.i9)(r)?t.value[n].value=r:t.value[n]=r,!0},deleteProperty(e,n){return Reflect.deleteProperty(t.value,n)},has(e,n){return"object"===typeof t.value&&Reflect.has(t.value,n)},ownKeys(){return"object"!==typeof t.value?[]:Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return(0,l.Kh)(n)},ot=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),it=/[A-Z0-9]*(?:[^\-_|A-Z|\s.])*/gm,st=e=>{var t;return(null==(t=e.match(it))?void 0:t.map(e=>e.trim().split(/([0-9]+)|([a-zA-Z]+)/g)).flat().filter(Boolean))||[]},lt=e=>st(e).map(e=>e.toLowerCase()).join("-"),ut=e=>st(e).map((e,t)=>0===t?e.toLowerCase():ot(e)).join(""),ct=e=>st(e).map(ot).join(" "),dt=/^#([A-Fa-f0-9]{3,4}|[A-Fa-f0-9]{6,8})$/,ht=/^rgba?\(([\d.]+, ?){2}[\d.]+(, ?[\d.]+)?\)$/,ft=/hsla?\([\d.]+(deg|rad|turn|grad)?(,?\s?[\d.]+%?){2}(,?\s?(\/\s?)?[\d.]+%?)?\)/,pt=e=>dt.test(e)||ht.test(e)||ft.test(e),vt=e=>"object"===typeof e&&null!==e&&("h"in e&&"s"in e&&"l"in e),mt=e=>"object"===typeof e&&null!==e&&("r"in e&&"g"in e&&"b"in e),gt=e=>{if(!dt.test(e))return null;const t=e.replace("#",""),n=t.length<6,[r,a,o,i]=n?t.split("").map(e=>parseInt(e+e,16)):t.match(/.{2}/g).map(e=>parseInt(e,16));return{r,g:a,b:o,a:i??1}},yt=e=>{if(!ht.test(e))return null;const[t,n,r,a=1]=e.match(/[\d.]+/g).map(Number);return{r:t,g:n,b:r,a}},bt=e=>{if(!ft.test(e))return null;const[t,n,r,a="1"]=e.match(/[\d.]+%?/g);return{h:Number(t),s:Number(n.replace("%","")),l:Number(r.replace("%","")),a:a.endsWith("%")?Number(a.replace("%",""))/100:Number(a)}},wt=e=>{const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),o=Math.min(t,n,r);let i=0,s=0;const l=(a+o)/2;if(a!==o){const e=a-o;switch(s=l>.5?e/(2-a-o):e/(a+o),a){case t:i=(n-r)/e+(n<r?6:0);break;case n:i=(r-t)/e+2;break;case r:i=(t-n)/e+4;break}i*=60}return{h:Math.round(i),s:Math.round(100*s),l:Math.round(100*l),a:e.a}},_t=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),Et=e=>{const t=e.h/360,n=e.s/100,r=e.l/100,a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,i=_t(o,a,t+1/3),s=_t(o,a,t),l=_t(o,a,t-1/3);return{r:Math.round(255*i),g:Math.round(255*s),b:Math.round(255*l),a:e.a}},Tt=e=>{if(vt(e))return{...e};if(mt(e))return wt(e);const t=gt(e)??yt(e);if(t)return wt(t);const n=bt(e);if(n)return n;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},St=({h:e,s:t,l:n,a:r})=>`hsla(${e},${t}%,${n}%,${r??1})`,kt=e=>{if(mt(e))return{...e};if(vt(e))return Et(e);const t=bt(e);if(t)return Et(t);const n=gt(e)??yt(e);if(n)return n;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},Ct=({r:e,g:t,b:n,a:r})=>1===r?`rgb(${e},${t},${n})`:`rgba(${e},${t},${n},${r??1})`,Rt=e=>{if(vt(e))return St(e);if(mt(e))return Ct(e);if("string"===typeof e)return e;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},It=(e,{h:t,s:n,l:r,a})=>{const o=Tt(e);return o.a=o.a??1,o.h=t??o.h,o.s=n??o.s,o.l=r??o.l,o.a=a??o.a,o.h<0&&(o.h=360+o.h),o.h>360&&(o.h=o.h-360),o.s=Math.max(0,Math.min(100,o.s)),o.l=Math.max(0,Math.min(100,o.l)),o.a=Math.max(0,Math.min(1,o.a)),o},At=(e,{h:t,s:n,l:r,a})=>{const o=Tt(e);return o.a=o.a??1,o.h+=t??0,o.s+=n??0,o.l+=r??0,o.a+=a??0,o.h<0&&(o.h=360+o.h),o.h>360&&(o.h=o.h-360),o.s=Math.max(0,Math.min(100,o.s)),o.l=Math.max(0,Math.min(100,o.l)),o.a=Math.max(0,Math.min(1,o.a)),o},xt=e=>/var\(--.+\)/.test(e),Ot=e=>`--va-${lt(e)}`,Nt=e=>ut(e),Dt=(e,t)=>{const{r:n,g:r,b:a}=kt(e);return Ct({r:n,g:r,b:a,a:t})},Lt=e=>{const{r:t,g:n,b:r}=kt(e);return Math.sqrt(t*t*.241+n*n*.691+r*r*.068)},Pt=(e,t=.4)=>Dt(e,t),Mt=(e,t=.4)=>Dt(e,t),Vt=(e,t=.2)=>Dt(e,t),Ft=(e,t=.3)=>Dt(e,t),$t=(e,t)=>St(At(Tt(e),t)),Bt=(e,t)=>St(It(Tt(e),t)),Wt=e=>{const t=Tt(e);if(t.s<10)return $t(t,{h:2,s:5,l:10});if(t.s<30)return $t(t,{s:-14,l:11});if(t.h>=0&&t.h<44||t.h>=285)return $t(t,{h:11,s:27,l:8});if(t.h>=44&&t.h<85)return $t(t,{h:3,l:9});if(t.h>=85&&t.h<165)return $t(t,{h:16,l:14});if(t.h>=165&&t.h<285)return $t(t,{h:-15,s:3,l:2});throw new Error("This method should handle all colors. But it didn't for some reason.")},Ut=e=>{const t=Wt(e);return`linear-gradient(to right, ${t}, ${Rt(e)})`},jt=(e,t,n)=>{const r=Dt(t,n);return`linear-gradient(0deg, ${r}, ${r}), ${e}`},Gt=(e,t)=>{const n=kt(e),r=kt(t),a=r.a;return Ct(1===a?r:0===a?n:{r:Math.round(n.r*(1-a)+r.r*a),g:Math.round(n.g*(1-a)+r.g*a),b:Math.round(n.b*(1-a)+r.b*a),a:n.a})},zt=e=>!!e&&("transparent"===e||kt(e).a<=.1),Ht={color:{type:String,default:""}},Kt=()=>{const e=pe();if(!e)throw new Error("useColors must be used in setup function or Vuestic GlobalConfigPlugin is not registered!");const{globalConfig:t}=e,n=at({get:()=>t.value.colors.presets[t.value.colors.currentPresetName],set:e=>{a(e)}}),a=e=>{t.value.colors.presets[t.value.colors.currentPresetName]={...t.value.colors.variables,...e}},o=()=>n,i=(e,t,r)=>{if(t||(t=n.primary),"transparent"===e)return"#ffffff00";if("currentColor"===e)return e;if(null==e?void 0:e.startsWith("on")){const t=e.slice(2);if(n[Nt(t)])return i(f(i(t)),void 0,r)}e||(e=i(t));const a=n[e]||n[Nt(e)];return a?r?`var(${Ot(e)})`:a:pt(e)||r&&xt(e)?e:(V(`'${e}' is not a proper color! Use HEX or default color themes\n      names (https://vuestic.dev/en/styles/colors#default-color-themes)`),i(t))},s=e=>(0,r.EW)({get(){return i(e)},set(t){a({[e]:t})}}),l=(e,t="va")=>Object.keys(e).filter(t=>void 0!==e[t]).reduce((n,r)=>(n[`--${t}-${lt(r)}`]=i(e[r],void 0,!0),n[`--${t}-on-${lt(r)}`]=i(f(i(e[r])),void 0,!0),n),{}),u=rt(),c=e=>"string"!==typeof e?Lt(e):(u.colorContrast[e]||(u.colorContrast[e]=Lt(e)),u.colorContrast[e]),d=(0,r.EW)(()=>c(i("textPrimary"))>127.5?"textInverted":"textPrimary"),h=(0,r.EW)(()=>c(i("textPrimary"))>127.5?"textPrimary":"textInverted"),f=(e,r,a)=>{const o=`on${(0,b.ZH)(String(e))}`;return n[o]?n[o]:(r=r||d.value,a=a||h.value,c(e)>t.value.colors.threshold?r:a)},p=(0,r.EW)({get:()=>t.value.colors.currentPresetName,set:e=>{m(e)}}),v=(0,r.EW)(()=>t.value.colors.presets),m=e=>{if(t.value.colors.currentPresetName=e,!t.value.colors.presets[e])return V(`Preset ${e} does not exist`)};return{colors:n,currentPresetName:p,presets:v,applyPreset:m,setColors:a,getColors:o,getColor:i,getComputedColor:s,getBoxShadowColor:Pt,getBoxShadowColorFromBg:Mt,getHoverColor:Vt,getFocusColor:Ft,getGradientBackground:Ut,getTextColor:f,shiftHSLAColor:$t,setHSLAColor:Bt,colorsToCSSVariable:l,colorToRgba:Dt,getStateMaskGradientBackground:jt}},Xt=(e,t=!1)=>{const{props:n}=(0,r.nI)(),{getColor:a,getTextColor:o}=Kt(),i=(0,r.EW)(()=>{if(n.textColor)return a(n.textColor);const r=e?(0,l.R1)(e):n.color;if(!r)return"currentColor";const i=a(r);return zt(i)?"currentColor":(0,l.R1)(t)?i:a(o(i))});return{textColorComputed:i}},qt=e=>{const{textColorComputed:t}=Xt(e);return t},Qt=e=>{let t;return t=e.startsWith("rgba")?e.substring(5,e.length-1).split(","):e.substring(4,e.length-1).split(","),t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),void 0===t[3]?t[3]=1:t[3]=Number(t[3]),t},Yt=e=>"#"+(256|e[0]).toString(16).slice(1)+(256|e[1]).toString(16).slice(1)+(256|e[2]).toString(16).slice(1)+(255*e[3]|256).toString(16).slice(1),Jt=e=>{const t=[];let n=e;while(n){if(!(n instanceof HTMLElement)||!n)return t;const{backgroundColor:e,willChange:r}=window.getComputedStyle(n),a=r.includes("background"),o=Qt(e);if(1===o[3]&&!a)return t.push(n),t;(0!==o[3]||a)&&t.push(n),n=n.parentElement}return t},Zt="va-background-watcher",en=(e,t)=>(e.className=Zt+" "+e.className,e.addEventListener("transitionend",n=>{n.target===e&&t()}),()=>{e.className=e.className.replace(Zt,""),e.removeEventListener("transitionend",t)}),tn=(e,t)=>{const n=e.map(e=>en(e,t));return()=>{n.forEach(e=>e())}},nn=(e,t)=>{const n=t[3];if(1===n)return t;if(0===n)return e;const r=Math.round(e[0]*(1-n)+t[0]*n),a=Math.round(e[1]*(1-n)+t[1]*n),o=Math.round(e[2]*(1-n)+t[2]*n);return[r,a,o,1]},rn=e=>{let t=[0,0,0,0];for(let n=e.length-1;n>=0;n--)t=nn(t,Qt(window.getComputedStyle(e[n]).backgroundColor));return t},an=e=>{const t=(0,l.KR)("#000000");let n=()=>{};return(0,r.nT)(()=>{if(n(),e.value){const r=Jt(e.value);n=tn(r,()=>{t.value=Yt(rn(r))}),t.value=Yt(rn(r))}}),t},on=e=>{if(e)return e;const t=(0,r.nI)(),n=(0,l.IJ)();return(0,r.sV)(()=>{n.value=t.proxy.$el??void 0}),(0,r.$u)(()=>{n.value=t.proxy.$el??void 0}),(0,r.xo)(()=>{n.value=t.proxy.$el??void 0}),n},sn=e=>{const{getColor:t}=Kt(),n=(0,r.EW)(()=>Boolean(e.outline||e.border)),{textColorComputed:a}=Xt((0,l.lW)(e,"color"),n),o=(0,r.EW)(()=>t(e.color)),i=(0,r.EW)(()=>{let t=o.value,n="none";return e.outline&&(t="transparent"),e.border&&(t="var(--va-background-primary)",n="var(--va-alert-box-shadow)"),{border:e.outline?`1px solid ${o.value}`:"",padding:e.dense?"var(--va-alert-padding-y-dense) var(--va-alert-padding-x)":"",backgroundColor:t,boxShadow:n}}),s=qt(an(on())),u=(0,r.EW)(()=>({alignItems:e.center?"center":"",color:e.border||e.outline?s.value:a.value})),c=(0,r.EW)(()=>({color:a.value})),d=(0,r.EW)(()=>({backgroundColor:e.borderColor?t(e.borderColor):o.value}));return{alertStyle:i,contentStyle:u,titleStyle:c,borderStyle:d}},ln={defaultSize:48,sizes:{small:32,medium:48,large:64}},un={defaultSize:1,sizes:{small:.75,medium:1,large:1.25}},cn={size:{type:[String,Number],default:"",validator:e=>"string"===typeof e||"number"===typeof e},sizesConfig:{type:Object,default:()=>ln},fontSizesConfig:{type:Object,default:()=>un}},dn=/(?<fontSize>\d+)(?<extension>px|rem)/i,hn=e=>e/16-.5,fn=e=>"number"===typeof e?`${e}px`:String(e),pn=e=>"sizesConfig"in e,vn=e=>{const t="size";return(0,r.EW)(()=>{let n=e[t];if(pn(e)){const{defaultSize:t,sizes:r}=e.sizesConfig;if(x(n)&&(n=t),r){const e=r[n];if(e)return fn(e)}}return fn(n)})},mn=(e,t=(e=>null==(e=(0,r.nI)())?void 0:e.type.name)())=>{const{getGlobalConfig:n}=pe(),a=(0,r.EW)(()=>{var e,r;return t?null==(r=null==(e=n().components)?void 0:e[t])?void 0:r.sizesConfig:void 0}),o=(0,r.EW)(()=>{var t,n,r;const{defaultSize:o,sizes:i}=e.sizesConfig,s=null==(t=a.value)?void 0:t.defaultSize;if(!e.size)return`${o||s}px`;if("string"===typeof e.size){const t=null==(r=null==(n=a.value)?void 0:n.sizes)?void 0:r[e.size],o=i[e.size];return o?`${o}px`:t?`${t}px`:e.size}return`${e.size}px`}),i=(0,r.EW)(()=>{const{defaultSize:t,sizes:n}=e.fontSizesConfig;if(!e.size)return t;if("string"===typeof e.size){if(e.size in n)return n[e.size];const t=e.size.match(dn);if(!t||!t.groups)throw new Error("Size prop should be either valid string or number");const{extension:r,fontSize:a}=t.groups;return"rem"===r?+a:hn(+a)}return hn(e.size)}),s=(0,r.EW)(()=>`${i.value}rem`);return{sizeComputed:o,fontSizeComputed:s,fontSizeInRem:i}},gn=(e,t)=>t.test(e),yn=(e,t)=>{if("string"!==typeof t&&t.global)return[...e.matchAll(t)].map(e=>e.slice(1));const n=e.match(t)||[];return n?n.length>1?n.slice(1):n:[]},bn=/{[^}]*}/g,wn=e=>e.replace(bn,"(.*)"),_n=e=>(e.match(bn)||[]).map(e=>e.replace(/{|}/g,"")),En=(e,t)=>yn(e,wn(t)),Tn=(e,t)=>{const n=_n(t),r=En(e,t);return n.reduce((e,t,n)=>({...e,[t]:r[n]}),{})},Sn=(e,t)=>(e.match(t)||[])[0]===e,kn=(e,t)=>{const n=wn(t);return Sn(e,new RegExp(n))},Cn=e=>"string"===typeof e.name,Rn=e=>e.name instanceof RegExp,In=(e,t)=>Cn(t)?kn(e,t.name):!!Rn(t)&&gn(e,t.name),An=(e,t)=>{const n=Tn(e,t.name);return t.resolve&&t.resolve(n)},xn=(e,t)=>{if(t.name.global)throw new Error(`Bad icon config with name ${t.name}. Please, don't use global regex as name.`);const n=yn(e,t.name);return t.resolveFromRegex&&t.resolveFromRegex(...n)},On=(e,t)=>{if(Cn(t))return An(e,t);if(Rn(t))return xn(e,t);throw Error("Unknown icon config")},Nn=(e,t,n=[])=>{const r=t.find(t=>!n.includes(t.name.toString())&&In(e,t));if(!r)throw new Error(`Can not find icon config from ${e}. Please provide default config.`);return r},Dn=(e,t,n=[])=>{if(!e)return;const r=Nn(e,t,n),a=Q(On(e,r),r);return n=[...n,r.name.toString()],Q(Dn(a.to,t,n),a)},Ln=e=>{const t=["name","to","resolve","resolveFromRegex"],n=e;return t.forEach(e=>{delete n[e]}),n},Pn=(e,t)=>{const n=Dn(e,t);return void 0===n?{}:Ln(n)},Mn=()=>{const{globalConfig:e}=pe();return{getIcon:t=>Pn(t,e.value.icons)}},Vn=(0,r.pM)({name:"VaIcon",__name:"VaIcon",props:{...cn,...De,name:{type:String,default:""},tag:{type:String},component:{type:Object},color:{type:String},rotation:{type:[String,Number]},spin:{type:[String,Boolean]},flip:{type:String,default:"off",validator:e=>["off","horizontal","vertical","both"].includes(e)}},setup(e){const t=e,{getColor:n}=Kt(),{sizeComputed:a}=mn(t),{getIcon:o}=Mn(),i=(0,r.EW)(()=>o(t.name)),s=(0,r.EW)(()=>t.component||t.tag||i.value.component||i.value.tag||"i"),l=(0,r.OA)(),c=(0,r.EW)(()=>({...i.value.attrs,...u(l,["class"])})),d=e=>{if(void 0!==e&&!1!==e)return"counter-clockwise"===e?"va-icon--spin-reverse":"va-icon--spin"},h=(0,r.EW)(()=>[i.value.class,d(t.spin??i.value.spin)]),f=(0,r.EW)(()=>{const e=t.rotation?`rotate(${t.rotation}deg)`:"",n="vertical"===t.flip||"both"===t.flip?-1:1,r="horizontal"===t.flip||"both"===t.flip?-1:1,a="off"===t.flip?"":`scale(${n}, ${r})`;return`${a} ${e}`.trim()}),p=(0,r.EW)(()=>({transform:f.value,cursor:l.onClick?"pointer":null,color:t.color?n(t.color,void 0,!0):i.value.color,fontSize:a.value,height:a.value,lineHeight:a.value})),v=(0,r.EW)(()=>l.tabindex??-1),m=(0,r.EW)(()=>"button"!==l.role||v.value<0);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(s.value),(0,r.v6)({class:["va-icon",h.value],style:p.value,"aria-hidden":m.value,notranslate:""},c.value),{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default",{},()=>[i.value.content?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.eW)((0,b.v_)(i.value.content),1)],64)):(0,r.Q3)("",!0)])]),_:3},16,["class","style","aria-hidden"]))}}),Fn=Te(Vn),$n=e=>e.startsWith("$t:"),Bn=e=>({type:String,default:e}),Wn=(e,t)=>t?(Object.keys(t).forEach(n=>{e=e.replace(`{${n}}`,String(t[n]))}),e):e,Un=()=>{const{globalConfig:e}=pe(),t=(0,r.EW)(()=>e.value.i18n);function n(e,n){var a;const o=null==(a=(0,r.nI)())?void 0:a.appContext.config.globalProperties.$t;if("function"===typeof o){const t=o(`vuestic.${e}`,n);if(t)return t}const i=t.value[e];return i?Wn(i,n)||e:(V(`${e} not found in VuesticUI i18n config`),e)}function a(e,t){return e?$n(e)?n(e.slice(3),t):Wn(e,t)||e:""}return{tp:a,t:n}},jn={key:1,class:"va-alert__close"},Gn=["aria-label"],zn=(0,r.pM)({name:"VaAlert",__name:"VaAlert",props:{...Ae,...De,modelValue:{type:Boolean,default:!0},stateful:{type:Boolean,default:!0},color:{type:String,default:"primary"},textColor:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},icon:{type:String,default:""},closeText:{type:String,default:""},closeIcon:{type:String,default:"close"},closeable:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},center:{type:Boolean,default:!1},borderColor:{type:String,default:""},border:{type:String,default:"",validator:e=>["top","right","bottom","left",""].includes(e)}},emits:[...Oe],setup(e,{expose:t,emit:n}){const a=e,o=n,{contentStyle:i,titleStyle:s,alertStyle:u,borderStyle:c}=sn(a),{valueComputed:d}=Ne(a,o),h=()=>{d.value=!1},f=()=>{d.value=!0},p=(0,r.Ht)(),v=(0,r.EW)(()=>a.icon||p.icon),m=(0,r.EW)(()=>a.title||p.title),g=(0,r.EW)(()=>`va-alert__border--${a.border}`),{tp:y,t:w}=Un();return t({hide:h,show:f}),(t,n)=>((0,r.uX)(),(0,r.Wv)(Ze.eB,{name:"fade"},{default:(0,r.k6)(()=>[(0,l.R1)(d)?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-alert",style:(0,b.Tr)((0,l.R1)(u)),role:"alert"},[(0,r.Lk)("div",{style:(0,b.Tr)((0,l.R1)(c)),class:(0,b.C4)([g.value,"va-alert__border"])},null,6),v.value?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)((0,l.R1)(i)),class:"va-alert__icon","aria-hidden":"true"},[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.bF)((0,l.R1)(Fn),{name:e.icon},null,8,["name"])])],4)):(0,r.Q3)("",!0),(0,r.Lk)("div",{style:(0,b.Tr)((0,l.R1)(i)),class:"va-alert__content"},[m.value?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)((0,l.R1)(s)),class:"va-alert__title"},[(0,r.RG)(t.$slots,"title",{},()=>[(0,r.eW)((0,b.v_)(e.title),1)])],4)):(0,r.Q3)("",!0),(0,r.Lk)("span",null,[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.eW)((0,b.v_)(t.$props.description),1)])])],4),e.closeable?((0,r.uX)(),(0,r.CE)("div",jn,[(0,r.Lk)("div",{role:"button",class:"va-alert__close--closeable",tabindex:"0","aria-label":e.closeText||(0,l.R1)(w)("closeAlert"),style:(0,b.Tr)((0,l.R1)(i)),onClick:h,onKeydown:[(0,Ze.jR)(h,["space"]),(0,Ze.jR)(h,["enter"])]},[(0,r.RG)(t.$slots,"close",{},()=>[e.closeText?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,name:e.closeIcon},null,8,["name"])),(0,r.eW)(" "+(0,b.v_)(e.closeText),1)])],44,Gn)])):(0,r.Q3)("",!0)],4)):(0,r.Q3)("",!0)]),_:3}))}}),Hn=Te(zn),Kn={hideOnScroll:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1}};function Xn(e,t){const n=(0,r.EW)(()=>!!t.value&&!!e.hideOnScroll),a=(0,r.EW)(()=>{if(e.bottom||n.value)return e.bottom&&n.value?"translateY(100%)":e.bottom?e.fixed?"translateY(-100%)":"translateY(0)":"translateY(-100%)"}),o=(0,r.EW)(()=>e.fixed?"fixed":n.value?"absolute":void 0),i=(0,r.EW)(()=>{const t={top:e.bottom&&(n.value||e.fixed)?"100%":void 0,transform:e.hideOnScroll||e.fixed?a.value:void 0};return o.value&&Object.assign(t,{position:o.value}),t});return{fixedBarStyleComputed:i}}function qn(e){if(!e)throw new Error("No target was provided for `useScroll` hook!");return"string"===typeof e?document.querySelector(e):e}function Qn(e,t){const n=(0,l.IJ)();let a;const o=(0,l.KR)(!1),i=(0,l.KR)(0),s=e=>{const t=e.target,n=e.target instanceof Window?t.scrollY:t.scrollTop;o.value=i.value<n,i.value=n};return(0,r.sV)(()=>{a=e?window:qn(t||n.value),null==a||a.addEventListener("scroll",s,e)}),(0,r.xo)(()=>{null==a||a.removeEventListener("scroll",s)}),{scrollRoot:n,isScrolledDown:o}}const Yn=(0,r.pM)({name:"VaAppBar",__name:"VaAppBar",props:{...Kn,...De,gradient:{type:Boolean,default:!1},target:{type:[Object,String],default:""},shadowOnScroll:{type:Boolean,default:!1},shadowColor:{type:String,default:""},color:{type:String,default:"primary"}},setup(e){const t=e,{scrollRoot:n,isScrolledDown:a}=Qn(t.fixed,t.target),{fixedBarStyleComputed:o}=Xn(t,a),{getColor:i,getGradientBackground:s,getBoxShadowColor:u}=Kt(),c=(0,r.EW)(()=>i(t.color)),{textColorComputed:d}=Xt((0,l.lW)(t,"color")),h=(0,r.EW)(()=>!!a.value&&!!t.shadowOnScroll),f=(0,r.EW)(()=>i(t.shadowColor,c.value)),p=(0,r.EW)(()=>{const e=u(t.shadowColor?f.value:c.value);return h.value?`var(--va-app-bar-shadow) ${e}`:""}),v=(0,r.EW)(()=>({...o.value,background:t.gradient?s(c.value):c.value,boxShadow:p.value,color:d.value}));return(e,t)=>((0,r.uX)(),(0,r.CE)("header",{ref_key:"scrollRoot",ref:n,role:"toolbar",class:"va-app-bar",style:(0,b.Tr)(v.value)},[(0,r.RG)(e.$slots,"default")],4))}}),Jn=Te(Yn),Zn=(0,r.pM)({name:"VaAspectRatio",__name:"VaAspectRatio",props:{...De,ratio:{type:[Number,String],default:"auto"},contentHeight:{type:[Number,String],default:1},contentWidth:{type:[Number,String],default:1},maxWidth:{type:[Number,String],default:0,validator:e=>Number(e)>=0}},setup(e){const t=e,n=je("contentHeight"),a=je("contentWidth"),o=(0,r.EW)(()=>"auto"===t.ratio&&1===t.contentHeight&&1===t.contentWidth?0:isNaN(+t.ratio)?a.value/n.value:t.ratio),i=(0,r.EW)(()=>{if(o.value)return{paddingBottom:1/o.value*100+"%"}}),s=(0,r.EW)(()=>t.maxWidth?`${t.maxWidth}px`:void 0);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-aspect-ratio",style:(0,b.Tr)(`--va-max-width-computed: ${String(s.value)}`)},[i.value?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)(i.value)},null,4)):(0,r.Q3)("",!0),(0,r.RG)(e.$slots,"default")],4))}}),er=Te(Zn),tr=(e,t)=>Object.keys(e).filter(e=>t.includes(e)).reduce((t,n)=>(t[n]=e[n],t),{}),nr=(e,t,n)=>Math.min(Math.max(e,t),n),rr={class:"va-progress-circle__wrapper",viewBox:"0 0 40 40"},ar=["r","stroke","stroke-width","stroke-dasharray","stroke-dashoffset"],or=(0,r.pM)({name:"VaProgressCircle",__name:"VaProgressCircle",props:{...cn,...De,modelValue:{type:[Number,String],default:0},indeterminate:{type:Boolean,default:!1},thickness:{type:[Number,String],default:.06},color:{type:String,default:"primary"},ariaLabel:Bn("$t:progressState")},setup(e){const t=e,{getColor:n}=Kt(),{sizeComputed:a}=mn(t),o=(0,r.EW)(()=>nr(Number(t.thickness),0,1)/2*100),i=(0,r.EW)(()=>20-20*o.value/100),s=(0,r.EW)(()=>2*Math.PI*i.value),l=(0,r.EW)(()=>s.value*(1-nr(Number(t.modelValue),0,100)/100)),u=(0,r.EW)(()=>n(t.color,void 0,!0)),{tp:c}=Un(),d=(0,r.EW)(()=>({color:u.value})),h=(0,r.EW)(()=>({width:a.value,height:a.value})),f=(0,r.EW)(()=>({"va-progress-circle--indeterminate":t.indeterminate})),p=(0,r.EW)(()=>({role:"progressbar","aria-label":c(t.ariaLabel),"aria-valuenow":t.indeterminate?void 0:t.modelValue}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-progress-circle",f.value],style:h.value},p.value),[((0,r.uX)(),(0,r.CE)("svg",rr,[(0,r.Lk)("circle",{class:"va-progress-circle__overlay",cx:"50%",cy:"50%",r:i.value,fill:"none",stroke:u.value,"stroke-width":o.value+"%","stroke-dasharray":s.value,"stroke-dashoffset":l.value},null,8,ar)])),e.$slots.default?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)(d.value),class:"va-progress-circle__info"},[(0,r.RG)(e.$slots,"default")],4)):(0,r.Q3)("",!0)],16))}}),ir=Te(or),sr=(0,r.pM)({name:"VaFallback",props:{fallbackSrc:{type:String},fallbackText:{type:String},fallbackIcon:{type:String},fallbackRender:{type:Function}},components:{VaIcon:Fn},emits:["fallback"],setup(e,{emit:t}){return(0,r.sV)(()=>{t("fallback")}),e.fallbackIcon?()=>(0,r.h)(Fn,{name:e.fallbackIcon}):e.fallbackSrc?()=>(0,r.h)("img",{src:e.fallbackSrc}):e.fallbackRender?()=>{var t;return(0,r.h)(null==(t=e.fallbackRender)?void 0:t.call(e))}:()=>(0,r.h)("span",e.fallbackText)}}),lr=Te(sr);function ur(e){switch(!0){case Array.isArray(e):return e.reduce((e,t)=>({...e,[t]:null}),{});case"object"===typeof e&&null!==e:return e;default:return{}}}function cr(e,t,n="props"){const{mixins:r,extends:a}=t;a&&cr(e,a,n),r&&r.forEach(t=>cr(e,t,n));const o=ur(t[n]);for(const i in o)e[i]=o[i]}function dr(e){return e.options?e.options:e.__vccOpts||e.__b?{...e.__vccOpts,...e.__b}:e}function hr(e,t="props"){const n=e.mixins??[],r=e.extends??[],a={};cr(a,r,t);for(let o=0;o<n.length;o++)cr(a,n[o],t);return Object.assign(a,ur(e[t])),a}const fr=e=>hr(dr(e));function pr(e,t){const n=fr(e);return t?Object.keys(n).reduce((e,r)=>(t.includes(r)||void 0===n[r]||(e[r]="string"===typeof n[r]?{}:n[r]),e),{}):n}function vr(e){return[...new Set(e.emits)]}const mr={loading:{type:Boolean,default:!1}},gr=(e,t)=>{M&&!e&&console.warn('You must pass the @param "prefix" to the useBem hook!');const n=(0,r.EW)(()=>"function"===typeof t?t():(0,l.R1)(t)),a=(0,r.EW)(()=>Object.entries((0,l.R1)(n)).reduce((t,[n,r])=>(r&&(t[`${e}--${lt(n)}`]=!0),t),{})),o=(0,r.EW)(()=>Object.keys(a.value)),i=(0,r.EW)(()=>o.value.join(" "));return new Proxy({},{ownKeys(){return Reflect.ownKeys(a.value)},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(a.value,t)},get(e,t,n){switch(t){case"asArray":return o;case"asString":return i;case"asObject":return a;default:return Reflect.get(a.value,t,n)}}})},yr=e=>{const{props:t}=(0,r.nI)();return(0,r.EW)(()=>Object.keys(e).reduce((e,n)=>(e[n]=t[n],e),{}))},br=["src","alt"],wr=pr(lr),_r=(0,r.pM)({name:"VaAvatar",__name:"VaAvatar",props:{...mr,...cn,...De,...wr,color:{type:String,default:"primary"},textColor:{type:String},square:{type:Boolean,default:!1},fontSize:{type:String,default:""},src:{type:String,default:null},icon:{type:String,default:""},alt:{type:String,default:""}},emits:["error","fallback"],setup(e,{expose:t,emit:n}){const a=e,o=n,{getColor:i}=Kt(),s=(0,r.EW)(()=>i(a.color)),u=(0,r.EW)(()=>{if(!(a.loading||a.src&&!v.value))return s.value}),{sizeComputed:c,fontSizeComputed:d}=mn(a,"VaAvatar"),{textColorComputed:h}=Xt(u),f=(0,r.EW)(()=>({fontSize:a.fontSize||d.value})),p=gr("va-avatar",()=>({...tr(a,["square"])})),v=(0,l.KR)(!1),m=e=>{v.value=!0,o("error",e)};(0,r.wB)(()=>a.src,()=>{v.value=!1});const g=(0,r.EW)(()=>({hasError:v.value,onError:m})),y=yr(wr);return t({hasLoadError:v}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-avatar",(0,l.R1)(p)]),style:(0,b.Tr)([f.value,`--va-background-color-computed: ${String(u.value)};--va-text-color-computed: ${String((0,l.R1)(h))};--va-size-computed: ${String((0,l.R1)(c))}`])},[e.$props.loading?((0,r.uX)(),(0,r.Wv)((0,l.R1)(ir),{key:0,size:(0,l.R1)(c),color:s.value,indeterminate:""},null,8,["size","color"])):(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.v6)({key:1},g.value)),()=>[e.$props.src&&!v.value?((0,r.uX)(),(0,r.CE)("img",{key:0,src:e.$props.src,alt:e.$props.alt,onError:m},null,40,br)):v.value&&e.$props.src?(0,r.RG)(e.$slots,"fallback",{key:1},()=>[(0,r.bF)((0,l.R1)(lr),(0,r.v6)((0,l.R1)(y),{onFallback:t[0]||(t[0]=t=>e.$emit("fallback"))}),null,16)]):e.$props.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:2,name:e.$props.icon},null,8,["name"])):(0,r.RG)(e.$slots,"fallback",{key:3},()=>[(0,r.bF)((0,l.R1)(lr),(0,r.v6)((0,l.R1)(y),{onFallback:t[1]||(t[1]=t=>e.$emit("fallback"))}),null,16)])])],6))}}),Er=Te(_r),Tr=pr(Er),Sr=(0,r.pM)({name:"VaAvatarGroup",__name:"VaAvatarGroup",props:{...cn,...De,...Tr,max:{type:[Number,String],default:0},vertical:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},restColor:{type:String,default:"secondary"}},setup(e){const t=e,n=je("max"),a=gr("va-avatar-group",()=>({...tr(t,["vertical"])})),o=(0,r.EW)(()=>n.value&&n.value<=t.options.length?t.options.slice(0,n.value):t.options),i=(0,r.EW)(()=>{const e=t.options.length>0,r=o.value.length<t.options.length,a=t.options.length-(n.value||0);return e&&r?a:0}),{sizeComputed:s,fontSizeComputed:u}=mn(t,"VaAvatarGroup"),c=yr(Tr),d=(0,r.EW)(()=>({...c.value,fontSize:u.value,size:s.value}));return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-avatar-group",(0,l.R1)(a)]),role:"list"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.value,(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Er),(0,r.v6)({key:t},{...d.value,...e},{role:"listitem"}),null,16))),128)),i.value>0?(0,r.RG)(t.$slots,"rest",(0,b._B)((0,r.v6)({key:0},d.value)),()=>[(0,r.bF)((0,l.R1)(Er),(0,r.v6)(d.value,{color:e.restColor,class:"va-avatar-group__rest",role:"listitem"}),{default:(0,r.k6)(()=>[(0,r.eW)(" +"+(0,b.v_)(i.value),1)]),_:1},16,["color"])]):(0,r.Q3)("",!0)],2))}}),kr=Te(Sr),Cr=(e,t,n)=>{const a=(0,r.nI)();if(!a)throw new Error("`useButtonBackground` hook must be used only inside of setup function!");const o=a.props,{getColor:i,getGradientBackground:s}=Kt(),l=(0,r.EW)(()=>o.plain?"transparent":o.gradient?s(e.value):e.value),u=(0,r.EW)(()=>!o.plain&&n.value),c=(0,r.EW)(()=>!o.plain&&t.value),d=(0,r.EW)(()=>c.value&&"opacity"===o.pressedBehavior?o.pressedOpacity:u.value&&"opacity"===o.hoverBehavior?Number(o.hoverOpacity):Number(o.backgroundOpacity)),h=(0,r.EW)(()=>u.value&&"mask"===o.hoverBehavior),f=(0,r.EW)(()=>c.value&&"mask"===o.pressedBehavior),p=(0,r.EW)(()=>f.value?o.pressedOpacity:h.value?Number(o.hoverOpacity):0),v=(0,r.EW)(()=>f.value?i(o.pressedMaskColor):h.value?i(o.hoverMaskColor):"transparent");return{backgroundColor:l,backgroundColorOpacity:d,backgroundMaskOpacity:p,backgroundMaskColor:v}},Rr={tag:{type:String,default:"span"},to:{type:[String,Object],default:void 0},replace:{type:Boolean,default:void 0},append:{type:Boolean,default:void 0},exact:{type:Boolean,default:void 0},activeClass:{type:String,default:void 0},exactActiveClass:{type:String,default:void 0},href:{type:String,default:void 0},target:{type:String,default:void 0},disabled:{type:Boolean,default:!1}},Ir=e=>{const t=(0,r.nI)(),n=(0,r.EW)(()=>null==t?void 0:t.appContext.config.globalProperties),a=(0,r.EW)(()=>{var e;return null==(e=n.value)?void 0:e.$router}),o=(0,r.EW)(()=>{var e;return null==(e=n.value)?void 0:e.$route}),{getGlobalConfig:i}=pe(),s=(0,r.EW)(()=>{if(e.disabled)return e.tag;if(e.href&&!e.to)return"a";const t=i();return t.routerComponent&&e.to?t.routerComponent:e.to&&void 0!==a.value?"router-link":e.to&&void 0===a.value?"a":e.tag||"div"}),l=(0,r.EW)(()=>!e.disabled&&Boolean(e.href||e.to)),u=(0,r.EW)(()=>l.value?"a"===s.value?{target:e.target,href:d.value}:{target:e.target,to:e.to,replace:e.replace,append:e.append,activeClass:e.activeClass,exact:e.exact,exactActiveClass:e.exactActiveClass}:{}),c=(0,r.EW)(()=>{if(!a.value||!e.to)return!1;const t=a.value.resolve(e.to).href,n=a.value.currentRoute.value.path;return t.replace("#","")===n.replace("#","")}),d=(0,r.EW)(()=>{var t;return e.href?e.href:void 0===o.value&&e.to?e.to:e.to?null==(t=a.value)?void 0:t.resolve(e.to,o.value).href:void 0});return{isLinkTag:l,tagComputed:s,hrefComputed:d,isActiveRouterLink:c,linkAttributesComputed:u}},Ar=e=>{const{linkAttributesComputed:t,isLinkTag:n}=Ir(e),a=(0,r.EW)(()=>n.value?void 0:e.type),o=(0,r.EW)(()=>{const t={"aria-disabled":!!e.disabled,disabled:!!e.disabled};return n.value?t:{type:a.value,tabindex:e.loading||e.disabled?-1:0,...t}});return(0,r.EW)(()=>({...t.value,...o.value}))},xr=e=>{var t,n,r;if(Fe())return e;if(e>0){const a=null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent,o=a&&/^((?!chrome|android).)*safari/i.test(null==(n=null==window?void 0:window.navigator)?void 0:n.userAgent),i=a&&/(version.)15|16/i.test(null==(r=null==window?void 0:window.navigator)?void 0:r.userAgent);if(o&&!i)return e<1?1-e:e}return e},Or=(e,t,n,a)=>{const o=(0,r.nI)();if(!o)throw new Error("`useButtonTextColor` hook must be used only inside of setup function!");const i=o.props,{getColor:s,colorToRgba:l,getStateMaskGradientBackground:u}=Kt(),c=(0,r.EW)(()=>({background:"transparent",color:e.value,"-webkit-background-clip":"text","background-clip":"text",opacity:p.value})),d=(n,r,a)=>{const o=s(n);let i;return i="opacity"===a?{color:l(e.value,r)}:{background:u(t.value,o,r),color:r<1?l(e.value,xr(r)):o},{...c.value,...i}},h=(0,r.EW)(()=>d(i.hoverMaskColor,Number(i.hoverOpacity),i.hoverBehavior)),f=(0,r.EW)(()=>d(i.pressedMaskColor,i.pressedOpacity,i.pressedBehavior)),p=(0,r.EW)(()=>{if(!i.disabled)return 1===i.textOpacity||a.value&&!n.value?1:n.value?.9:i.textOpacity});return(0,r.EW)(()=>{const t={color:e.value,background:"transparent"};return i.plain&&Object.assign(t,c.value,{background:e.value}),i.plain?n.value?f.value:a.value?h.value:t:t})},Nr={hoverBehavior:{type:String,default:"mask",validator:e=>["opacity","mask"].includes(e)},hoverOpacity:{type:[Number,String],default:.15},hoverMaskColor:{type:String,default:"textInverted"}},Dr={pressedBehavior:{type:String,default:"mask",validator:e=>["opacity","mask"].includes(e)},pressedOpacity:{type:Number,default:.13},pressedMaskColor:{type:String,default:"textPrimary"}},Lr=e=>{if(e&&"object"===typeof e&&(e=(0,l.R1)(e),e))return"undefined"!==typeof e.$el?e.$el:e},Pr=e=>e instanceof HTMLElement,Mr=e=>{e&&Pr(e)&&(e.focus(),e.dispatchEvent(new FocusEvent("focus",{bubbles:!0})))},Vr=e=>{e&&Pr(e)&&(e.blur(),e.dispatchEvent(new Event("blur",{bubbles:!0})))},Fr=e=>{if(-1!==e.tabIndex)return void Mr(e);const t=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&Mr(t)},$r=e=>{const t=(0,r.EW)($e),n=(0,l.KR)(null);return(0,r.wB)(t,()=>{t.value&&(n.value=e())},{immediate:!0}),n},Br=()=>$r(()=>window),Wr=(e,...t)=>{e&&"object"===typeof e&&("addEventListener"in e&&"function"===typeof e.addEventListener?e.addEventListener(...t):"parentElement"in e&&Wr(e.parentElement,...t))},Ur=(e,...t)=>{e&&"object"===typeof e&&("removeEventListener"in e&&"function"===typeof e.removeEventListener?e.removeEventListener(...t):"parentElement"in e&&Ur(e.parentElement,...t))},jr=(e,t,n)=>{const a=n&&"boolean"!==typeof n?n:Br(),o="boolean"===typeof n&&n;(0,r.wB)(a,(n,r)=>{Array.isArray(e)?e.forEach(e=>{Wr(Lr((0,l.R1)(n)),e,t,o),Ur(Lr((0,l.R1)(r)),e,t,o)}):(Wr(Lr((0,l.R1)(n)),e,t,o),Ur(Lr((0,l.R1)(r)),e,t,o))},{immediate:!0})},Gr=(e,t,n={})=>{(0,r.sV)(()=>window.addEventListener(e,t,{capture:!0,...n})),(0,r.xo)(()=>window.removeEventListener(e,t,{capture:!0,...n}))},zr=()=>{const e=(0,l.IJ)(),t=()=>{e.value=document.activeElement};return(0,r.sV)(t),Gr("focus",t),Gr("blur",t),e},Hr=["focus","blur"];function Kr(e,t){const n=zr(),a=(0,r.EW)({get:()=>!x(n.value)&&(!x(null==e?void 0:e.value)&&n.value===(null==e?void 0:e.value)),set:e=>{e?s():l()}}),o=e=>{null==t||t("focus",e)},i=e=>{null==t||t("blur",e)},s=()=>{(null==e?void 0:e.value)&&Mr(Lr(null==e?void 0:e.value))},l=()=>{(null==e?void 0:e.value)&&Vr(Lr(null==e?void 0:e.value))};return jr("focus",o,e),jr("blur",i,e),{isFocused:a,onFocus:o,onBlur:i,focus:s,blur:l}}const Xr=e=>{const t=(0,r.nI)();let n=()=>{};const a=(0,l.rY)((r,a)=>(n=a,{get(){var n;return r(),null==(n=t.proxy)?void 0:n.$refs[e]},set(e){}}));return(0,r.sV)(n),(0,r.$u)(n),a},qr=e=>{if((0,l.i9)(e))return(0,r.EW)({get(){return Lr(e.value)},set(t){e.value=t}});if(e){const t=Xr(e);return(0,r.EW)({get(){return Lr(t.value)},set(e){t.value=e}})}const t=(0,l.IJ)();return(0,r.EW)({set(e){t.value=Lr(e)},get(){return t.value}})};function Qr(e,t){const n=(0,l.KR)(!1),a=()=>{(null==t?void 0:t.value)||(n.value=!0)},o=()=>{n.value=!1};t&&(0,r.wB)(t,e=>{e&&(n.value=!1)});const i=qr(e);return jr("mouseenter",a,i),jr("mouseleave",o,i),{isHovered:n,onMouseEnter:a,onMouseLeave:o}}function Yr(e){const t=(0,l.KR)(!1),n=()=>{t.value=!0},r=()=>{t.value=!1},a=qr(e);return jr(["mousedown","touchstart","dragstart"],n,a),jr(["mouseup","mouseleave","touchend","touchcancel","drop","dragend"],r,!0),{isPressed:t,onMouseDown:n,onMouseUp:r}}const Jr=e=>"function"===typeof e,Zr=(e,t=!0)=>{var n;if((0,r.vv)(e))return!0;if(!e||t&&(!Jr(e)||!(null==(n=e())?void 0:n.length)))return!1;const a=t?e():e;return Array.isArray(a)?a.some(e=>Array.isArray(e.children)?Zr(e.children,!1):e.children||e.props):!!a.children},ea=(e="default")=>{const{slots:t}=(0,r.nI)();return(0,r.EW)(()=>Zr(t[e]))},ta=(0,r.pM)({name:"VaButton",__name:"VaButton",props:{...De,...cn,...Nr,...Dr,...mr,...Rr,tag:{type:String,default:"button"},type:{type:String,default:"button"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},textColor:{type:String,default:""},textOpacity:{type:[Number,String],default:1},backgroundOpacity:{type:[Number,String],default:1},borderColor:{type:String,default:""},gradient:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},icon:{type:String,default:""},iconRight:{type:String,default:""},iconColor:{type:String,default:""}},setup(e,{expose:t}){const n=e,{getColor:a}=Kt(),o=(0,r.EW)(()=>a(n.color)),{sizeComputed:i}=mn(n),s=(0,r.EW)(()=>{const e=/([0-9]*)(px)/.exec(i.value);return e?`${+e[1]/2}${e[2]}`:i.value}),{tagComputed:u}=Ir(n),c=Ar(n),{disabled:d}=(0,l.QW)(n),h=(0,l.IJ)(),{focus:f,blur:p}=Kr(h),{isHovered:v}=Qr(h,d),{isPressed:m}=Yr(h),g=(0,r.EW)(()=>n.iconColor?a(n.iconColor):I.value),y=(0,r.EW)(()=>({color:g.value,size:n.size})),w=(0,r.EW)(()=>({"va-button__content--loading":n.loading})),_=ea(),E=(0,r.EW)(()=>!!(n.iconRight&&!n.icon||!n.iconRight&&n.icon)),T=(0,r.EW)(()=>!_.value&&E.value),S=je("textOpacity"),k=je("backgroundOpacity"),C=gr("va-button",()=>({...tr(n,["disabled","block","loading","round","plain"]),small:"small"===n.size,normal:!n.size||"medium"===n.size,large:"large"===n.size,opacity:S.value<1,bordered:!!n.borderColor,iconOnly:T.value,leftIcon:!T.value&&!!n.icon&&!n.iconRight,rightIcon:!T.value&&!n.icon&&!!n.iconRight})),R=(0,r.EW)(()=>n.plain||k.value<.5),{textColorComputed:I}=Xt(o,R),{backgroundColor:A,backgroundColorOpacity:x,backgroundMaskOpacity:O,backgroundMaskColor:N}=Cr(o,m,v),D=Or(I,o,m,v),L=(0,r.EW)(()=>({borderColor:n.borderColor?a(n.borderColor):"transparent",...D.value}));return t({focus:f,blur:p}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(u)),(0,r.v6)({ref_key:"button",ref:h,class:["va-button",(0,l.R1)(C)],style:[L.value,`--va-background-color: ${String((0,l.R1)(A))};--va-background-color-opacity: ${String((0,l.R1)(x))};--va-background-mask-color: ${String((0,l.R1)(N))};--va-background-mask-opacity: ${String((0,l.R1)(O))}`]},(0,l.R1)(c)),{default:(0,r.k6)(()=>[(0,r.Lk)("span",{class:(0,b.C4)(["va-button__content",w.value])},[(0,r.RG)(t.$slots,"prepend",(0,b._B)((0,r.Ng)({icon:e.icon,iconAttributes:y.value})),()=>[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:0,class:"va-button__left-icon",name:e.icon},y.value),null,16,["name"])):(0,r.Q3)("",!0)]),(0,r.RG)(t.$slots,"default"),(0,r.RG)(t.$slots,"append",(0,b._B)((0,r.Ng)({icon:e.iconRight,iconAttributes:y.value})),()=>[e.iconRight?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:0,class:"va-button__right-icon",name:e.iconRight},y.value),null,16,["name"])):(0,r.Q3)("",!0)])],2),t.loading?(0,r.RG)(t.$slots,"loading",(0,b._B)((0,r.v6)({key:0},{size:s.value,color:(0,l.R1)(I)})),()=>[(0,r.bF)((0,l.R1)(ir),{class:"va-button__loader",size:s.value,color:(0,l.R1)(I),thickness:.15,indeterminate:""},null,8,["size","color"])]):(0,r.Q3)("",!0)]),_:3},16,["class","style"]))}}),na=Te(ta),ra=["aria-label","onKeydown"],aa=(0,r.pM)({name:"VaBacktop",__name:"VaBacktop",props:{...De,target:{type:[Object,String],default:void 0},visibilityHeight:{type:[Number,String],default:300},speed:{type:[Number,String],default:50},verticalOffset:{type:String,default:"1rem"},horizontalOffset:{type:String,default:"1rem"},color:{type:String,default:""},horizontalPosition:{type:String,default:"right",validator:e=>["right","left"].includes(e)},verticalPosition:{type:String,default:"bottom",validator:e=>["bottom","top"].includes(e)},ariaLabel:Bn("$t:backToTop")},setup(e){const t=e,n=(0,l.KR)(0),a=(0,r.EW)(()=>({[t.verticalPosition]:t.verticalOffset,[t.horizontalPosition]:t.horizontalOffset}));let o;const i=je("visibilityHeight"),s=je("speed"),u=()=>{if(!t.target)return window;if("string"===typeof t.target){const e=document.querySelector(t.target);return e||(V(`Target element [${t.target}] is not found, falling back to window.`),window)}return t.target},c=(0,l.KR)(!1),d=(0,l.KR)(0),h=()=>{c.value||(c.value=!0,o instanceof Window?window.scrollTo({top:0,behavior:"smooth"}):d.value=window.setInterval(()=>{if(o instanceof Element)if(0===o.scrollTop)clearInterval(d.value),c.value=!1;else{const e=Math.floor(o.scrollTop-s.value);o.scrollTo(0,e)}},15))},f=()=>{n.value=o instanceof Window?o.scrollY:o.scrollTop},p=Fe(),v=(0,r.EW)(()=>!p&&n.value>i.value);p||((0,r.sV)(()=>{o=u(),o.addEventListener("scroll",f,!0)}),(0,r.xo)(()=>null==o?void 0:o.removeEventListener("scroll",f)));const{tp:m}=Un();return(t,n)=>v.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-backtop",role:"button","aria-label":(0,l.R1)(m)(t.$props.ariaLabel),tabindex:"1",style:(0,b.Tr)(a.value),onClick:h,onKeydown:(0,Ze.jR)((0,Ze.D$)(h,["stop"]),["enter"])},[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.bF)((0,l.R1)(na),{"aria-hidden":"true",icon:"va-arrow-up",color:e.color},null,8,["color"])])],44,ra)):(0,r.Q3)("",!0)}}),oa=Te(aa),ia=["top","bottom"],sa=["left","right"],la=[...ia,...sa],ua=["start","end","center"],ca=la.reduce((e,t)=>(e.push(t),ua.forEach(n=>e.push(`${t}-${n}`)),e),["auto"]),da=ia.reduce((e,t)=>(sa.forEach(n=>{e.push(`${t}-${n}`),e.push(`${n}-${t}`)}),e),[]),ha=[...ca,...da],fa={"top-left":"top-start","left-top":"top-start","top-right":"top-end","right-top":"top-end","bottom-left":"bottom-start","left-bottom":"bottom-start","bottom-right":"bottom-end","right-bottom":"bottom-end"},pa={placement:{type:String,default:"auto",validator:e=>ha.includes(e)}},va=e=>{const t=(0,r.EW)(()=>{const t=fa[e.placement]||e.placement;return t.split("-")}),n=(0,r.EW)(()=>{const e=t.value[0];return"auto"===e?"bottom":e}),a=(0,r.EW)(()=>t.value[1]||"center");return{position:n,align:a}},ma=()=>{const e=e=>"string"===typeof e&&(!isNaN(+e)||e.endsWith("px")||e.endsWith("rem")),t=t=>"number"===typeof t?t>=0:e(t)&&parseInt(t)>=0,n=(e,t=16)=>{const n=(0,l.R1)(e);if("string"===typeof n){const e=parseInt(n);return isNaN(e)?0:n.endsWith("rem")?e*(0,l.R1)(t):e}return n};return{isParsableMeasure:e,isParsablePositiveMeasure:t,parseSizeValue:n}},{isParsableMeasure:ga,parseSizeValue:ya}=ma(),ba={overlap:{type:Boolean,default:!1},placement:{type:String,default:"top-end",validator:e=>ha.includes(e)},offset:{type:[Number,String,Array],default:0,validator:e=>Array.isArray(e)?e.every(ga):"string"===typeof e?ga(e):!isNaN(e)}},wa=(e,t)=>{if(!t.value)return{};const{position:n,align:a}=va(e),o=(0,r.EW)(()=>{const t={start:e.overlap?"-50%":"-100%",center:"-50%",end:e.overlap?"-50%":"0%"};return t[a.value]}),i=(0,r.EW)(()=>{if(!e.offset)return{};const t=["left","right"].includes(n.value)?"top":"left",r="top"===t?"left":"top";if(Array.isArray(e.offset)){const[n,a]=e.offset.map(ya);return{[`margin-${t}`]:`${n}px`,[`margin-${r}`]:`${a}px`}}const a=ya(e.offset);return{[`margin-${r}`]:`${a}px`}}),s=(0,r.EW)(()=>{const e=["left","right"].includes(n.value)?"top":"left",t="top"===e?"left":"top";let r="0%";"top"===t&&"bottom"===n.value&&(r="100%"),"left"===t&&"right"===n.value&&(r="100%");const o={start:{[e]:"0%",[t]:r},center:{[e]:"50%",[t]:r},end:{[e]:"100%",[t]:r}};return o[a.value]}),l=(0,r.EW)(()=>{const t={top:{x:o.value,y:e.overlap?"-50%":"-100%"},bottom:{x:o.value,y:e.overlap?"-50%":"0%"},left:{x:e.overlap?"-50%":"-100%",y:o.value},right:{x:e.overlap?"-50%":"0%",y:o.value}},{x:r,y:a}=t[n.value];return{transform:`translate(${r}, ${a})`}});return(0,r.EW)(()=>({...s.value,...l.value,...i.value}))},_a={props:"prop",attrs:"prop",slots:"slot"},Ea=(e,t=["props","attrs"])=>{if(!M)return;const n=(0,r.nI)();if(!n)throw new Error("`useDeprecated` hook must be used only inside of setup function!");const a=n.type.name,o=(0,l.R1)(e);t.every(e=>{var t;const r=_a[e],i=e=>console.warn(`The '${e}' ${r} (${a} component) is deprecated! Please, check the documentation.`);if("props"===e){const e=(null==(t=n.propsOptions)?void 0:t[0])||{},r=n.props||{};return o.forEach(t=>{e[t]&&r[t]!==e[t].default&&i(t)}),!0}return Object.keys({...n[e]}).forEach(e=>{o.includes(e)&&i(e)}),!0})},Ta=["aria-labelledby"],Sa={class:"va-badge__text"},ka=(0,r.pM)({name:"VaBadge",__name:"VaBadge",props:{...De,...ba,color:{type:String,default:"danger"},textColor:{type:String},text:{type:[String,Number],default:""},multiLine:{type:Boolean,default:!1},visibleEmpty:{type:Boolean,default:!1},dot:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1}},setup(e){const t=e;Ea(["transparent"]);const n=(0,r.Ht)(),a=(0,r.EW)(()=>!(t.text||t.visibleEmpty||t.dot||n.text)),o=(0,r.EW)(()=>!(!n.default&&!t.dot)),i=gr("va-badge",()=>({...tr(t,["visibleEmpty","dot","multiLine"]),empty:a.value,floating:o.value})),{getColor:s}=Kt(),u=(0,r.EW)(()=>s(t.color)),{textColorComputed:c}=Xt(u),d=wa(t,o),h=(0,r.EW)(()=>({color:c.value,borderColor:u.value,backgroundColor:u.value,opacity:t.transparent?.5:1,...(0,l.R1)(d)})),f=(0,r.EW)(()=>t.text?String(t.text):void 0);return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-badge",(0,l.R1)(i)]),role:"status","aria-labelledby":f.value},[(0,r.Lk)("span",{class:"va-badge__text-wrapper",style:(0,b.Tr)(h.value)},[(0,r.Lk)("span",Sa,[(0,r.RG)(t.$slots,"text",{},()=>[(0,r.eW)((0,b.v_)(e.text),1)])])],4),(0,r.RG)(t.$slots,"default")],10,Ta))}}),Ca=Te(ka),Ra=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Ia=e=>e&&"function"===typeof e?e():e,Aa={align:{type:String,default:"left"},vertical:{type:Boolean,default:!1}},xa={left:"flex-start",center:"center",right:"flex-end",between:"space-between",around:"space-around"},Oa={left:"flex-start",center:"center",right:"flex-end",stretch:"stretch"},Na=(e,t)=>t?"center":e?xa[e]:"flex-start",Da=(e,t)=>t?Oa[e]:"center";function La(e){const t=(0,r.EW)(()=>({display:"flex",flexDirection:e.vertical?"column":"row",justifyContent:Na(e.align,e.vertical),alignItems:Da(e.align,e.vertical)}));return{alignComputed:t}}const Pa=(0,r.pM)({name:"VaBreadcrumbs",props:{...Aa,...De,separator:{type:String,default:"/"},color:{type:String,default:null},disabledColor:{type:String,default:"secondary"},activeColor:{type:String,default:null},separatorColor:{type:String,default:null},ariaLabel:Bn("$t:breadcrumbs")},setup(e,{slots:t}){const{alignComputed:n}=La(e),{getColor:a}=Kt(),o=(0,r.EW)(()=>e.separatorColor?a(e.separatorColor):null),i=(0,r.EW)(()=>e.color?a(e.color):null),s=(0,r.EW)(()=>e.activeColor?a(e.activeColor):null),u=(e,t)=>{const n=t&&t.type===r.FK&&t.children?t.children:[t];return[...e,...n.filter(e=>{var t,n;return!!(null==(n=null==(t=null==e?void 0:e.type)?void 0:t.name)?void 0:n.match(/VaBreadcrumbsItem$/))})]},c=()=>{const n=Ia(t.separator)||[e.separator];return(0,r.h)("span",{"aria-hidden":!0,class:["va-breadcrumbs__separator"],style:[{color:o.value}]},n)},d=e=>{const t=null==e?void 0:e.props;return!(!t||!Ra(t,"disabled"))&&(""===t.disabled||Boolean(t.disabled))},h=(0,l.KR)(!0),f=()=>{const n=Ia(t.default);if(!n)return;const o=n.reduce(u,[])||[],l=o.length,f=e=>e===l-1,p=e=>{const t=null==e?void 0:e.props;return!(!t||!Ra(t,"to"))&&!(!t.to||t.disabled)},v=(t,n)=>(0,r.h)("span",{class:["va-breadcrumbs__item",{"va-breadcrumbs__item--disabled":d(t)}],"aria-current":!(!f(n)||!p(t))&&"location",style:{color:d(t)?a(e.disabledColor):f(n)?s.value:i.value}},[t]),m=[];return l&&o.forEach((e,t)=>{h.value&&!p(e)&&(h.value=!1),m.push(v(e,t)),f(t)||m.push(c())}),m},{tp:p}=Un();return()=>(0,r.h)("div",{class:"va-breadcrumbs",style:n.value,role:h.value?"navigation":void 0,"aria-label":h.value?p(e.ariaLabel):void 0},f())}}),Ma=(0,r.pM)({name:"VaBreadcrumbsItem",__name:"VaBreadcrumbsItem",props:{...Rr,disabled:{type:Boolean,default:!1},label:{type:String,default:""}},setup(e){const t=e,{tagComputed:n,hrefComputed:a,isLinkTag:o}=Ir(t),i=(0,r.EW)(()=>({"va-breadcrumb-item--link":o.value}));return(t,o)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(n)),{class:(0,b.C4)(["va-breadcrumb-item",i.value]),"active-class":t.$props.activeClass,href:(0,l.R1)(a),to:t.$props.to,target:t.$props.target,replace:t.$props.replace,append:t.$props.append,exact:t.$props.exact,"exact-active-class":t.$props.exactActiveClass},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])]),_:3},8,["class","active-class","href","to","target","replace","append","exact","exact-active-class"]))}}),Va=Te(Ma),Fa=Te(Pa),$a=e=>{const{globalConfig:t,mergeGlobalConfig:n,setGlobalConfig:a,getGlobalConfig:o}=pe(),i=(0,r.EW)(()=>{var n;const r=z(t.value),a={...r,colors:te(r.colors)},o=Q(a,e.value);return(null==(n=e.value.colors)?void 0:n.variables)&&Object.keys(e.value.colors.variables).forEach(t=>{o.colors.variables[t]=e.value.colors.variables[t]}),o});return(0,r.Gt)(ce,{mergeGlobalConfig:n,setGlobalConfig:a,getGlobalConfig:o,globalConfig:i}),i},Ba=(e,t)=>{if(!e)return null;if(!("type"in e)||e.type===r.EY||"string"===typeof e)return(0,r.h)("div",t,e);if(e.type===r.Mw)return e;if("$el"in e)return Ba(e.$el,t);if(e.type===r.tY)return(0,r.h)(e.ssContent,t);if(e.type===r.Im){if(null===e.children)return e;const n=Ba(e.children[0],t);return n&&(e.children[0]=(0,r.h)(n,t)),e}if(e.type===r.FK)return null===e.children?e:1===e.children.length?(0,r.h)(r.FK,e.props,[Ba(e.children[0],t)]):(0,r.h)("div",t,e);if("function"===typeof e.type.render){const n=(0,r.h)(e,t);if(Array.isArray(n.children)&&n.children.length>1)return(0,r.h)("div",t,n.children)}return(0,r.h)(e,t)},Wa=(e,t={},n={})=>{const a=null==e?void 0:e(t);if(!a)return null;const o=a.filter(e=>e.type!==r.Mw);return 0===o.length?null:1===o.length?Ba(o[0],n):(0,r.h)("div",{...n,class:(0,b.C4)([n.class,"va-headless-wrapper"])},a)},Ua=(e,t={},n={})=>{const r=null==e?void 0:e(t);return r?r.map(e=>Ba(e,n)):null},ja=(0,r.pM)({name:"VaCssVarsRenderer",inheritAttrs:!1,setup(e,{slots:t,attrs:n}){const{colorsToCSSVariable:a,colors:o}=Kt(),i=(0,r.EW)(()=>a(o));return()=>(0,r.h)(r.FK,n,Ua(t.default,{},{style:i.value})||void 0)}}),Ga=(0,r.pM)({name:"VaConfig",inheritAttrs:!1,__name:"VaConfig",props:{...De,components:{type:Object,default:()=>({})},colors:{type:Object},i18n:{type:Object}},setup(e){const t=e,n=k(),a=(0,r.EW)(()=>[...n.value,t.components]);C(a),$a((0,r.EW)(()=>{const e={};return t.colors&&(e.colors=t.colors),t.i18n&&(e.i18n=t.i18n),e}));const o=(0,r.EW)(()=>Boolean(t.colors));return(e,t)=>o.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(ja),(0,b._B)((0,r.v6)({key:0},e.$attrs)),{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},16)):(0,r.RG)(e.$slots,"default",{key:1})}}),za=u(pr(na),["block","gradient"]),Ha=(0,r.pM)({name:"VaButtonGroup",__name:"VaButtonGroup",props:{...za,...De,grow:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1}},setup(e){const t=e,{getColor:n,getGradientBackground:a}=Kt(),o=(0,r.EW)(()=>n(t.color)),{textColorComputed:i}=Xt(o),s=yr(za),u=(0,r.EW)(()=>({VaButton:{...s.value,...t.gradient&&{color:"#00000000",textColor:i.value}}})),c=gr("va-button-group",()=>({square:!t.round,grow:t.grow,small:"small"===t.size,large:"large"===t.size})),d=(0,r.EW)(()=>t.gradient?a(o.value):"transparent");return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-button-group",(0,l.R1)(c)]),style:(0,b.Tr)(`--va-background-color: ${String(d.value)}`)},[(0,r.bF)((0,l.R1)(Ga),{components:u.value},{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},8,["components"])],6))}}),Ka=Te(Ha),Xa=(e,t)=>{let n=null;const r=function(...r){n&&clearTimeout(n),n=setTimeout(()=>{n=null,e.apply(this,r)},t)};return r.cancel=()=>{n&&clearTimeout(n),n=null},r},qa=e=>{let t=null;const n=()=>Xa(()=>{null==t||t(),t=null},(0,l.R1)(e));let a=n();return(0,l.i9)(e)&&(0,r.wB)(e,()=>{a=n()}),{debounced:e=>{t=e,a()},cancel:()=>a.cancel()}},Qa=e=>{const t=e.target;return("INPUT"===t.tagName||"TEXTAREA"===t.tagName)&&!t.attributes.getNamedItem("readonly")},Ya=e=>Array.isArray(e),Ja=(e,t,n,a)=>{const o=e=>(e=e.replace(/-/g,"").toLowerCase(),"space"===e?" ":"rightclick"===e?"contextmenu":e),i=(0,r.EW)(()=>Ya(a.trigger)?a.trigger.map(e=>o(e)):[o(a.trigger)]);jr("keydown",t=>{a.disabled||("Escape"===t.key&&e.value&&(e.value=!1,t.preventDefault()),Qa(t)||i.value.includes(o(t.key))&&(e.value=!e.value,t.preventDefault()))},t),jr("keydown",t=>{a.disabled||"Escape"===t.key&&e.value&&(e.value=!1,t.preventDefault())},n),jr(["click","contextmenu","dblclick"],t=>{a.disabled||Qa(t)||i.value.includes(o(t.type))&&(t.preventDefault(),e.value&&a.closeOnAnchorClick?(e.value=!1,a.cursor&&setTimeout(()=>{e.value=!0},16)):e.value=!0)},t),jr(["click","contextmenu","dblclick"],t=>{a.closeOnContentClick&&(e.value=!1)},n);const{debounced:s,cancel:l}=qa(je("hoverOverTimeout")),{debounced:u,cancel:c}=qa(je("hoverOutTimeout")),d=t=>{if(!a.disabled&&i.value.includes("hover"))if("mouseleave"===t.type){if(l(),!a.isContentHoverable)return void(e.value=!1);u(()=>{e.value=!1})}else c(),s(()=>{e.value=!0})};jr(["mouseleave","mouseenter"],d,t),jr(["mouseleave","mouseenter"],d,n)},Za=()=>$r(()=>document),eo=()=>{const e=(0,l.KR)(!1);return(0,r.sV)(()=>{e.value=!0}),(0,r.xo)(()=>{e.value=!1}),e},to=e=>{const t=(0,l.KR)(),n=Za(),a=eo(),o=(0,r.EW)({set(e){t.value=Lr(e)},get(){var r,o,i;return a.value,"string"===typeof e.anchor?(null==(r=n.value)?void 0:r.querySelector(e.anchor))??t.value:"object"===typeof e.anchor?e.anchor:e.anchorSelector?(null==(o=n.value)?void 0:o.querySelector(e.anchorSelector))??t.value:e.innerAnchorSelector&&t.value?(null==(i=t.value)?void 0:i.querySelector(e.innerAnchorSelector))??t.value:t.value}});return{anchorRef:o}},no=(e,t)=>{const n=(0,l.Kh)({x:0,y:0});return jr(["mousemove","mousedown","mouseup"],r=>{var a;if(!t.value)return;const{x:o,y:i}=(null==(a=e.value)?void 0:a.getBoundingClientRect())??{x:0,y:0};n.x=r.clientX-o,n.y=r.clientY-i},e),(0,r.EW)(()=>({getBoundingClientRect(){var t;const{x:r,y:a}=(null==(t=e.value)?void 0:t.getBoundingClientRect())??{x:0,y:0},o=n.x+r,i=n.y+a;return{width:0,height:0,x:o,y:i,top:i,right:o,bottom:i,left:o}},contextElement:e.value}))},ro=Math.min,ao=Math.max,oo=Math.round,io=Math.floor,so=e=>({x:e,y:e}),lo={left:"right",right:"left",bottom:"top",top:"bottom"},uo={start:"end",end:"start"};function co(e,t,n){return ao(e,ro(t,n))}function ho(e,t){return"function"===typeof e?e(t):e}function fo(e){return e.split("-")[0]}function po(e){return e.split("-")[1]}function vo(e){return"x"===e?"y":"x"}function mo(e){return"y"===e?"height":"width"}const go=new Set(["top","bottom"]);function yo(e){return go.has(fo(e))?"y":"x"}function bo(e){return vo(yo(e))}function wo(e,t,n){void 0===n&&(n=!1);const r=po(e),a=bo(e),o=mo(a);let i="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Ao(i)),[i,Ao(i)]}function _o(e){const t=Ao(e);return[Eo(e),t,Eo(t)]}function Eo(e){return e.replace(/start|end/g,e=>uo[e])}const To=["left","right"],So=["right","left"],ko=["top","bottom"],Co=["bottom","top"];function Ro(e,t,n){switch(e){case"top":case"bottom":return n?t?So:To:t?To:So;case"left":case"right":return t?ko:Co;default:return[]}}function Io(e,t,n,r){const a=po(e);let o=Ro(fo(e),"start"===n,r);return a&&(o=o.map(e=>e+"-"+a),t&&(o=o.concat(o.map(Eo)))),o}function Ao(e){return e.replace(/left|right|bottom|top/g,e=>lo[e])}function xo(e){return{top:0,right:0,bottom:0,left:0,...e}}function Oo(e){return"number"!==typeof e?xo(e):{top:e,right:e,bottom:e,left:e}}function No(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function Do(e,t,n){let{reference:r,floating:a}=e;const o=yo(t),i=bo(t),s=mo(i),l=fo(t),u="y"===o,c=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,h=r[s]/2-a[s]/2;let f;switch(l){case"top":f={x:c,y:r.y-a.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-a.width,y:d};break;default:f={x:r.x,y:r.y}}switch(po(t)){case"start":f[i]-=h*(n&&u?-1:1);break;case"end":f[i]+=h*(n&&u?-1:1);break}return f}const Lo=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,s=o.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:d}=Do(u,r,l),h=r,f={},p=0;for(let v=0;v<s.length;v++){const{name:n,fn:o}=s[v],{x:m,y:g,data:y,reset:b}=await o({x:c,y:d,initialPlacement:r,placement:h,strategy:a,middlewareData:f,rects:u,platform:i,elements:{reference:e,floating:t}});c=null!=m?m:c,d=null!=g?g:d,f={...f,[n]:{...f[n],...y}},b&&p<=50&&(p++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(u=!0===b.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):b.rects),({x:c,y:d}=Do(u,h,l))),v=-1)}return{x:c,y:d,placement:h,strategy:a,middlewareData:f}};async function Po(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:o,rects:i,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=ho(t,e),p=Oo(f),v="floating"===d?"reference":"floating",m=s[h?v:d],g=No(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y="floating"===d?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),w=await(null==o.isElement?void 0:o.isElement(b))&&await(null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},_=No(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(g.top-_.top+p.top)/w.y,bottom:(_.bottom-g.bottom+p.bottom)/w.y,left:(g.left-_.left+p.left)/w.x,right:(_.right-g.right+p.right)/w.x}}const Mo=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...m}=ho(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const g=fo(a),y=yo(s),b=fo(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(u.floating)),_=h||(b||!v?[Ao(s)]:_o(s)),E="none"!==p;!h&&E&&_.push(...Io(s,v,p,w));const T=[s,..._],S=await Po(t,m),k=[];let C=(null==(r=o.flip)?void 0:r.overflows)||[];if(c&&k.push(S[g]),d){const e=wo(a,i,w);k.push(S[e[0]],S[e[1]])}if(C=[...C,{placement:a,overflows:k}],!k.every(e=>e<=0)){var R,I;const e=((null==(R=o.flip)?void 0:R.index)||0)+1,t=T[e];if(t){const n="alignment"===d&&y!==yo(t);if(!n||C.every(e=>e.overflows[0]>0&&yo(e.placement)===y))return{data:{index:e,overflows:C},reset:{placement:t}}}let n=null==(I=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:I.placement;if(!n)switch(f){case"bestFit":{var A;const e=null==(A=C.filter(e=>{if(E){const t=yo(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:A[0];e&&(n=e);break}case"initialPlacement":n=s;break}if(a!==n)return{reset:{placement:n}}}return{}}}};const Vo=new Set(["left","top"]);async function Fo(e,t){const{placement:n,platform:r,elements:a}=e,o=await(null==r.isRTL?void 0:r.isRTL(a.floating)),i=fo(n),s=po(n),l="y"===yo(n),u=Vo.has(i)?-1:1,c=o&&l?-1:1,d=ho(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}const $o=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:i,middlewareData:s}=t,l=await Fo(t,e);return i===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:o+l.y,data:{...l,placement:i}}}}},Bo=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=ho(e,t),u={x:n,y:r},c=await Po(t,l),d=yo(fo(a)),h=vo(d);let f=u[h],p=u[d];if(o){const e="y"===h?"top":"left",t="y"===h?"bottom":"right",n=f+c[e],r=f-c[t];f=co(n,f,r)}if(i){const e="y"===d?"top":"left",t="y"===d?"bottom":"right",n=p+c[e],r=p-c[t];p=co(n,p,r)}const v=s.fn({...t,[h]:f,[d]:p});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[d]:i}}}}}},Wo=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:i,elements:s}=t,{apply:l=()=>{},...u}=ho(e,t),c=await Po(t,u),d=fo(a),h=po(a),f="y"===yo(a),{width:p,height:v}=o.floating;let m,g;"top"===d||"bottom"===d?(m=d,g=h===(await(null==i.isRTL?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,m="end"===h?"top":"bottom");const y=v-c.top-c.bottom,b=p-c.left-c.right,w=ro(v-c[m],y),_=ro(p-c[g],b),E=!t.middlewareData.shift;let T=w,S=_;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(T=y),E&&!h){const e=ao(c.left,0),t=ao(c.right,0),n=ao(c.top,0),r=ao(c.bottom,0);f?S=p-2*(0!==e||0!==t?e+t:ao(c.left,c.right)):T=v-2*(0!==n||0!==r?n+r:ao(c.top,c.bottom))}await l({...t,availableWidth:S,availableHeight:T});const k=await i.getDimensions(s.floating);return p!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Uo(){return"undefined"!==typeof window}function jo(e){return Ho(e)?(e.nodeName||"").toLowerCase():"#document"}function Go(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function zo(e){var t;return null==(t=(Ho(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Ho(e){return!!Uo()&&(e instanceof Node||e instanceof Go(e).Node)}function Ko(e){return!!Uo()&&(e instanceof Element||e instanceof Go(e).Element)}function Xo(e){return!!Uo()&&(e instanceof HTMLElement||e instanceof Go(e).HTMLElement)}function qo(e){return!(!Uo()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Go(e).ShadowRoot)}const Qo=new Set(["inline","contents"]);function Yo(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ci(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Qo.has(a)}const Jo=new Set(["table","td","th"]);function Zo(e){return Jo.has(jo(e))}const ei=[":popover-open",":modal"];function ti(e){return ei.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const ni=["transform","translate","scale","rotate","perspective"],ri=["transform","translate","scale","rotate","perspective","filter"],ai=["paint","layout","strict","content"];function oi(e){const t=si(),n=Ko(e)?ci(e):e;return ni.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||ri.some(e=>(n.willChange||"").includes(e))||ai.some(e=>(n.contain||"").includes(e))}function ii(e){let t=hi(e);while(Xo(t)&&!ui(t)){if(oi(t))return t;if(ti(t))return null;t=hi(t)}return null}function si(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const li=new Set(["html","body","#document"]);function ui(e){return li.has(jo(e))}function ci(e){return Go(e).getComputedStyle(e)}function di(e){return Ko(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hi(e){if("html"===jo(e))return e;const t=e.assignedSlot||e.parentNode||qo(e)&&e.host||zo(e);return qo(t)?t.host:t}function fi(e){const t=hi(e);return ui(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xo(t)&&Yo(t)?t:fi(t)}function pi(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=fi(e),o=a===(null==(r=e.ownerDocument)?void 0:r.body),i=Go(a);if(o){const e=vi(i);return t.concat(i,i.visualViewport||[],Yo(a)?a:[],e&&n?pi(e):[])}return t.concat(a,pi(a,[],n))}function vi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mi(e){const t=ci(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Xo(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:r,s=oo(n)!==o||oo(r)!==i;return s&&(n=o,r=i),{width:n,height:r,$:s}}function gi(e){return Ko(e)?e:e.contextElement}function yi(e){const t=gi(e);if(!Xo(t))return so(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=mi(t);let i=(o?oo(n.width):n.width)/r,s=(o?oo(n.height):n.height)/a;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}const bi=so(0);function wi(e){const t=Go(e);return si()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:bi}function _i(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Go(e))&&t}function Ei(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),o=gi(e);let i=so(1);t&&(r?Ko(r)&&(i=yi(r)):i=yi(e));const s=_i(o,n,r)?wi(o):so(0);let l=(a.left+s.x)/i.x,u=(a.top+s.y)/i.y,c=a.width/i.x,d=a.height/i.y;if(o){const e=Go(o),t=r&&Ko(r)?Go(r):r;let n=e,a=vi(n);while(a&&r&&t!==n){const e=yi(a),t=a.getBoundingClientRect(),r=ci(a),o=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=i,n=Go(a),a=vi(n)}}return No({width:c,height:d,x:l,y:u})}function Ti(e,t){const n=di(e).scrollLeft;return t?t.left+n:Ei(zo(e)).left+n}function Si(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:Ti(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function ki(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o="fixed"===a,i=zo(r),s=!!t&&ti(t.floating);if(r===i||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=so(1);const c=so(0),d=Xo(r);if((d||!d&&!o)&&(("body"!==jo(r)||Yo(i))&&(l=di(r)),Xo(r))){const e=Ei(r);u=yi(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}const h=!i||d||o?so(0):Si(i,l,!0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}}function Ci(e){return Array.from(e.getClientRects())}function Ri(e){const t=zo(e),n=di(e),r=e.ownerDocument.body,a=ao(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ao(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ti(e);const s=-n.scrollTop;return"rtl"===ci(r).direction&&(i+=ao(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:s}}function Ii(e,t){const n=Go(e),r=zo(e),a=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,s=0,l=0;if(a){o=a.width,i=a.height;const e=si();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:o,height:i,x:s,y:l}}const Ai=new Set(["absolute","fixed"]);function xi(e,t){const n=Ei(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Xo(e)?yi(e):so(1),i=e.clientWidth*o.x,s=e.clientHeight*o.y,l=a*o.x,u=r*o.y;return{width:i,height:s,x:l,y:u}}function Oi(e,t,n){let r;if("viewport"===t)r=Ii(e,n);else if("document"===t)r=Ri(zo(e));else if(Ko(t))r=xi(t,n);else{const n=wi(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return No(r)}function Ni(e,t){const n=hi(e);return!(n===t||!Ko(n)||ui(n))&&("fixed"===ci(n).position||Ni(n,t))}function Di(e,t){const n=t.get(e);if(n)return n;let r=pi(e,[],!1).filter(e=>Ko(e)&&"body"!==jo(e)),a=null;const o="fixed"===ci(e).position;let i=o?hi(e):e;while(Ko(i)&&!ui(i)){const t=ci(i),n=oi(i);n||"fixed"!==t.position||(a=null);const s=o?!n&&!a:!n&&"static"===t.position&&!!a&&Ai.has(a.position)||Yo(i)&&!n&&Ni(e,i);s?r=r.filter(e=>e!==i):a=t,i=hi(i)}return t.set(e,r),r}function Li(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o="clippingAncestors"===n?ti(t)?[]:Di(t,this._c):[].concat(n),i=[...o,r],s=i[0],l=i.reduce((e,n)=>{const r=Oi(t,n,a);return e.top=ao(r.top,e.top),e.right=ro(r.right,e.right),e.bottom=ro(r.bottom,e.bottom),e.left=ao(r.left,e.left),e},Oi(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Pi(e){const{width:t,height:n}=mi(e);return{width:t,height:n}}function Mi(e,t,n){const r=Xo(t),a=zo(t),o="fixed"===n,i=Ei(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=so(0);function u(){l.x=Ti(a)}if(r||!r&&!o)if(("body"!==jo(t)||Yo(a))&&(s=di(t)),r){const e=Ei(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&u();o&&!r&&a&&u();const c=!a||r||o?so(0):Si(a,s),d=i.left+s.scrollLeft-l.x-c.x,h=i.top+s.scrollTop-l.y-c.y;return{x:d,y:h,width:i.width,height:i.height}}function Vi(e){return"static"===ci(e).position}function Fi(e,t){if(!Xo(e)||"fixed"===ci(e).position)return null;if(t)return t(e);let n=e.offsetParent;return zo(e)===n&&(n=n.ownerDocument.body),n}function $i(e,t){const n=Go(e);if(ti(e))return n;if(!Xo(e)){let t=hi(e);while(t&&!ui(t)){if(Ko(t)&&!Vi(t))return t;t=hi(t)}return n}let r=Fi(e,t);while(r&&Zo(r)&&Vi(r))r=Fi(r,t);return r&&ui(r)&&Vi(r)&&!oi(r)?n:r||ii(e)||n}const Bi=async function(e){const t=this.getOffsetParent||$i,n=this.getDimensions,r=await n(e.floating);return{reference:Mi(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Wi(e){return"rtl"===ci(e).direction}const Ui={convertOffsetParentRelativeRectToViewportRelativeRect:ki,getDocumentElement:zo,getClippingRect:Li,getOffsetParent:$i,getElementRects:Bi,getClientRects:Ci,getDimensions:Pi,getScale:yi,isElement:Ko,isRTL:Wi};function ji(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Gi(e,t){let n,r=null;const a=zo(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}function i(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:h,height:f}=u;if(s||t(),!h||!f)return;const p=io(d),v=io(a.clientWidth-(c+h)),m=io(a.clientHeight-(d+f)),g=io(c),y=-p+"px "+-v+"px "+-m+"px "+-g+"px",b={rootMargin:y,threshold:ao(0,ro(1,l))||1};let w=!0;function _(t){const r=t[0].intersectionRatio;if(r!==l){if(!w)return i();r?i(!1,r):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||ji(u,e.getBoundingClientRect())||i(),w=!1}try{r=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch(E){r=new IntersectionObserver(_,b)}r.observe(e)}return i(!0),o}function zi(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,u=gi(e),c=a||o?[...u?pi(u):[],...pi(t)]:[];c.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=u&&s?Gi(u,n):null;let h,f=-1,p=null;i&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let v=l?Ei(e):null;function m(){const t=Ei(e);v&&!ji(v,t)&&n(),v=t,h=requestAnimationFrame(m)}return l&&m(),n(),()=>{var e;c.forEach(e=>{a&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const Hi=$o,Ki=Bo,Xi=Mo,qi=Wo,Qi=(e,t,n)=>{const r=new Map,a={platform:Ui,...n},o={...a.platform,_c:r};return Lo(e,t,{...a,platform:o})};function Yi(e){return null!=e&&"object"===typeof e&&"$el"in e}function Ji(e){if(Yi(e)){const t=e.$el;return Ho(t)&&"#comment"===jo(t)?null:t}return e}function Zi(e){return"function"===typeof e?e():(0,l.R1)(e)}function es(e){if("undefined"===typeof window)return 1;const t=e.ownerDocument.defaultView||window;return t.devicePixelRatio||1}function ts(e,t){const n=es(e);return Math.round(t*n)/n}function ns(e,t,n){void 0===n&&(n={});const a=n.whileElementsMounted,o=(0,r.EW)(()=>{var e;return null==(e=Zi(n.open))||e}),i=(0,r.EW)(()=>Zi(n.middleware)),s=(0,r.EW)(()=>{var e;return null!=(e=Zi(n.placement))?e:"bottom"}),u=(0,r.EW)(()=>{var e;return null!=(e=Zi(n.strategy))?e:"absolute"}),c=(0,r.EW)(()=>{var e;return null==(e=Zi(n.transform))||e}),d=(0,r.EW)(()=>Ji(e.value)),h=(0,r.EW)(()=>Ji(t.value)),f=(0,l.KR)(0),p=(0,l.KR)(0),v=(0,l.KR)(u.value),m=(0,l.KR)(s.value),g=(0,l.IJ)({}),y=(0,l.KR)(!1),b=(0,r.EW)(()=>{const e={position:v.value,left:"0",top:"0"};if(!h.value)return e;const t=ts(h.value,f.value),n=ts(h.value,p.value);return c.value?{...e,transform:"translate("+t+"px, "+n+"px)",...es(h.value)>=1.5&&{willChange:"transform"}}:{position:v.value,left:t+"px",top:n+"px"}});let w;function _(){if(null==d.value||null==h.value)return;const e=o.value;Qi(d.value,h.value,{middleware:i.value,placement:s.value,strategy:u.value}).then(t=>{f.value=t.x,p.value=t.y,v.value=t.strategy,m.value=t.placement,g.value=t.middlewareData,y.value=!1!==e})}function E(){"function"===typeof w&&(w(),w=void 0)}function T(){E(),void 0!==a?null==d.value||null==h.value||(w=a(d.value,h.value,_)):_()}function S(){o.value||(y.value=!1)}return(0,r.wB)([i,s,u,o],_,{flush:"sync"}),(0,r.wB)([d,h],T,{flush:"sync"}),(0,r.wB)(o,S,{flush:"sync"}),(0,l.o5)()&&(0,l.jr)(E),{x:(0,l.nD)(f),y:(0,l.nD)(p),strategy:(0,l.nD)(v),placement:(0,l.nD)(m),middlewareData:(0,l.nD)(g),isPositioned:(0,l.nD)(y),floatingStyles:b,update:_}}const rs=(e,t,n,a)=>{const o=(0,r.EW)(()=>{const{position:e,align:t}=va({placement:a.value.placement});return`${e.value}-${t.value}`}),i=(0,r.EW)(()=>{const e=a.value.offset,t={mainAxis:0,crossAxis:0};return Array.isArray(e)&&(t.mainAxis=e[0],t.crossAxis=e[1]),"number"===typeof e&&(t.mainAxis=e),t}),s=(0,r.EW)(()=>{const{autoPlacement:e,stickToEdges:t,keepAnchorWidth:r,verticalScrollOnOverflow:o}=a.value,s=[Hi(i.value)];return e&&s.push(Xi({boundary:n.value})),t&&s.push(Ki()),(r||o)&&s.push(qi({apply({elements:e,availableHeight:t}){if(r){const t=e.reference,n=t.getBoundingClientRect().width;Object.assign(e.floating.style,{maxWidth:`${n}px`,minWidth:`${n}px`})}o&&Object.assign(e.floating.style,{maxHeight:`${t}px`})}})),s}),{floatingStyles:u,isPositioned:c}="undefined"===typeof document?{floatingStyles:{},isPositioned:(0,l.KR)(!1)}:ns(e,t,{placement:o,whileElementsMounted:zi,middleware:s,transform:!0});return{floatingStyles:(0,r.EW)(()=>c.value?u.value:{position:"fixed"}),isPositioned:c}},as=(e,t)=>!!t&&(!(t instanceof Window)&&(t.parentElement===e||e.contains(t))),os=e=>Array.isArray(e)?e:[e],is=(e,t,n={})=>{let r=!1;n.onlyKeyboard&&jr("mousedown",e=>{r=!0,setTimeout(()=>{r=!1},200)},!0),jr("focus",a=>{if(n.onlyKeyboard&&r)return;const o=a.target;if(a.target.shadowRoot)return;const i=os(e).some(e=>{const t=Lr((0,l.R1)(e));return t&&as(t,o)});i||t(o)},!0)},ss=()=>{const e=(0,r.nI)();return e.appContext.app?`${e.appContext.app._uid}_${e.uid}`:String(e.uid)},ls="data-va-teleported-from",us="data-va-teleported",cs=e=>{if(!e)return null;const t=e.getAttribute(us);return null===t?cs(e.parentElement):document.querySelector(`[${ls}="${t}"]`)},ds=()=>{var e,t;const n=ss(),a=(0,r.nI)(),o=null==a?void 0:a.vnode.scopeId;return{teleportFromAttrs:{[ls]:n},teleportedAttrs:{[us]:n,...o?{[o]:""}:void 0,...null==(t=null==(e=null==a?void 0:a.appContext.config)?void 0:e.globalProperties)?void 0:t.$vaColorConfig.getAppStylesRootAttribute()},findTeleportedFrom:cs}};let hs=0;const fs=(e=4)=>Math.random().toString(36).substring(2,e+2),ps=()=>`${fs(8)}-${fs(4)}-${fs(4)}-${++hs}`,vs=()=>ps(),ms=(0,l.Gc)([]),gs=e=>{const t=vs(),n=()=>{ms.includes(t)||ms.push(t)},a=()=>{const e=ms.findIndex(e=>e===t);-1!==e&&ms.splice(e,1)},o=(0,r.EW)(()=>{const e=ms.findIndex(e=>e===t);return-1===e?-1:e+1}),i=(0,r.EW)(()=>o.value===ms.length-1),s=(0,r.EW)(()=>0===o.value);return(0,r.sV)(()=>{e.value&&n()}),(0,r.xo)(()=>{a()}),(0,r.wB)(e,e=>{e?n():a()}),{zIndex:o,isTop:i,isLowest:s,register:n,unregister:a}},ys=e=>(0,r.EW)(()=>"string"===typeof(null==e?void 0:e.value)?null==document?void 0:document.querySelector(e.value):Lr(null==e?void 0:e.value)),bs=(e,t)=>!!t&&(t.parentElement===e||e.contains(t)),ws=e=>Array.isArray(e)?e:[e],_s=(e,t)=>{Gr("mousedown",n=>{const r=n.target;if(n.target.shadowRoot)return;const a=cs(r),o=ws(e).some(e=>{const t=Lr((0,l.R1)(e));return!!t&&(a?bs(t,r)||bs(t,a):bs(t,r))});o||t(r)})},Es=(0,r.pM)({name:"VaDropdown",props:{...pa,...xe(!0),modelValue:{type:Boolean,default:!1},anchor:{type:[String,Object],default:void 0},anchorSelector:{type:String,default:""},innerAnchorSelector:{type:String,default:""},trigger:{type:[String,Array],default:()=>["click","space","enter","arrow-down","arrow-up"]},disabled:{type:Boolean},readonly:{type:Boolean},closeOnClickOutside:{type:Boolean,default:!0},closeOnFocusOutside:{type:Boolean,default:!0},closeOnAnchorClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},hoverOverTimeout:{type:[Number,String],default:30},hoverOutTimeout:{type:[Number,String],default:200},isContentHoverable:{type:Boolean,default:!0},offset:{type:[Array,Number],default:0},keepAnchorWidth:{type:Boolean,default:!1},verticalScrollOnOverflow:{type:Boolean,default:!0},cursor:{type:[Boolean,Object],default:!1},autoPlacement:{type:Boolean,default:!0},stickToEdges:{type:Boolean,default:!1},target:{type:[String,Object],default:void 0},teleport:{type:[String,Object],default:void 0},keyboardNavigation:{type:Boolean,default:!0},ariaLabel:Bn("$t:toggleDropdown"),role:{type:String,default:"button"},contentClass:{type:String,default:""}},emits:[...Oe,"anchor-click","anchor-right-click","content-click","click-outside","focus-outside","close","open","anchor-dblclick"],setup(e,{emit:t}){const{valueComputed:n}=Ne(e,t,"modelValue");(0,r.wB)(n,e=>{t(e?"open":"close")});const a=eo(),{anchorRef:o}=to(e),i=no(o,(0,r.EW)(()=>Boolean(e.cursor))),s=qr("floating"),u=ys((0,l.KR)("body")),c=ys((0,r.EW)(()=>e.target)),d=ys((0,r.EW)(()=>e.teleport)),h=gr("va-dropdown",()=>tr(e,["disabled"])),f=(0,r.EW)(()=>{if(d.value)return d.value;if(c.value)return c.value;if(o.value){const e=o.value.getRootNode();if(e instanceof ShadowRoot){const t=[...e.children].find(e=>"STYLE"!==e.tagName);if(t)return t}}return u.value}),p=(0,r.EW)(()=>a.value&&n.value);Ja(n,o,s,e);const v=(e,r,a)=>{t(e,a),r&&(n.value=!1)};_s([o,s],()=>{e.closeOnClickOutside&&n.value&&v("click-outside",e.closeOnClickOutside)}),is([s],()=>{e.closeOnFocusOutside&&n.value&&v("focus-outside",e.closeOnFocusOutside)},{onlyKeyboard:!0});const m=(0,r.EW)(()=>"object"===typeof e.cursor?e.cursor:e.cursor?i.value:o.value),{floatingStyles:g}=rs(m,s,c,(0,r.EW)(()=>({placement:e.placement,offset:e.offset,autoPlacement:e.autoPlacement,stickToEdges:e.stickToEdges,keepAnchorWidth:e.keepAnchorWidth,verticalScrollOnOverflow:e.verticalScrollOnOverflow}))),y=()=>{n.value=!1},b=()=>{n.value=!0},{zIndex:w}=gs(n);return(0,r.wB)(n,t=>{if(e.keyboardNavigation)if(t)(0,r.dY)(()=>{const e=Lr(s.value);e&&Fr(e)});else{if(!o.value)return;Fr(o.value)}}),{...Un(),...ds(),anchorRef:o,anchorClass:h,floating:s,floatingStyles:g,showFloating:p,teleportTarget:f,isMounted:a,valueComputed:n,hide:y,show:b,zIndex:w}},render(){const e={isOpened:this.valueComputed,hide:this.hide,show:this.show,toggle:()=>this.valueComputed?this.hide():this.show(),getAnchorWidth:()=>{var e;return(null==(e=this.anchorRef)?void 0:e.offsetWidth)+"px"},getAnchorHeight:()=>{var e;return(null==(e=this.anchorRef)?void 0:e.offsetHeight)+"px"}},t=this.showFloating&&Wa(this.$slots.default,e,{ref:"floating",class:["va-dropdown__content-wrapper",this.$props.contentClass],style:[this.floatingStyles,{zIndex:this.zIndex}],...this.teleportedAttrs}),n=Wa(this.$slots.anchor,e,{ref:"anchorRef",role:this.$props.role,class:["va-dropdown",...this.anchorClass.asArray.value],style:{position:"relative"},"aria-label":this.tp(this.$props.ariaLabel),"aria-disabled":this.$props.disabled,"aria-expanded":this.$props.role&&"none"!==this.$props.role?!!this.showFloating:void 0,...this.teleportFromAttrs,...this.$attrs});if("object"===typeof this.$props.cursor&&t)return(0,r.h)(r.Im,{to:this.teleportTarget,disabled:this.$props.disabled},[t]);if(this.$props.anchorSelector||n){if(!this.showFloating||t)return(0,r.h)(r.FK,{},[n,t&&(0,r.h)(r.Im,{to:this.teleportTarget,disabled:this.$props.disabled},[t])]);V("VaDropdown: default slot is missing")}else V("VaDropdown: #anchor slot is missing")}}),Ts=Te(Es),Ss=(0,r.pM)({name:"VaDropdownContent",__name:"VaDropdownContent",props:{noPadding:{type:Boolean,default:!1},background:{type:String,default:"background-secondary"},textColor:{type:String}},setup(e){const t=e,{getColor:n}=Kt(),{textColorComputed:a}=Xt((0,l.lW)(t,"background")),o=(0,r.EW)(()=>({background:n(t.background,void 0,!0),color:a.value,padding:t.noPadding?0:void 0}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-dropdown__content",style:(0,b.Tr)(o.value),role:"listbox"},[(0,r.RG)(e.$slots,"default")],4))}}),ks=Te(Ss),Cs=e=>"object"===typeof e?e.listen:e,Rs=e=>"object"===typeof e?e.emit:e,Is=e=>{const t=()=>e.map(Rs),n=e=>{const t=e.charAt(0).toUpperCase()+e.slice(1);return`on${t}`},r=t=>e.reduce((e,r)=>({...e,[n(Cs(r))]:(...e)=>t(Rs(r),...e)}),{}),a=t=>e.reduce((e,n)=>({...e,[Cs(n)]:(...e)=>t(Rs(n),...e)}),{});return{createListeners:r,createVOnListeners:a,createEmits:t}},{createEmits:As,createVOnListeners:xs}=Is(["click"]),{createEmits:Os,createVOnListeners:Ns}=Is([{listen:"click",emit:"main-button-click"}]),Ds=u(pr(na),["iconRight","block"]),Ls=pr(Ts),Ps=(0,r.pM)({name:"VaButtonDropdown",__name:"VaButtonDropdown",props:{...De,...Ds,...Ls,...Ae,...pa,modelValue:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0},icon:{type:String,default:"va-arrow-down"},openedIcon:{type:String,default:"va-arrow-up"},hideIcon:{type:Boolean,default:!1},leftIcon:{type:Boolean,default:!1},iconColor:{type:String,default:""},disabled:{type:Boolean,default:!1},disableButton:{type:Boolean,default:!1},disableDropdown:{type:Boolean,default:!1},offset:{type:[Number,Array],default:2},keepAnchorWidth:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},split:{type:Boolean},splitTo:{type:String,default:""},splitHref:{type:String,default:""},loading:{type:Boolean,default:!1},label:{type:String},ariaLabel:Bn("$t:toggleDropdown")},emits:["update:modelValue",...As(),...Os()],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=Ne(a,o),s=(0,r.EW)(()=>i.value?a.openedIcon:a.icon),c=(0,r.Ht)(),d=(0,r.EW)(()=>{if(a.hideIcon)return{};const e=!a.label&&!c.label||a.leftIcon?"icon":"icon-right";return{[e]:s.value}}),h=(0,r.EW)(()=>{const e=["to","href","loading","icon"],t=["plain","textOpacity","backgroundOpacity","hoverOpacity","hoverBehavior","hoverOpacity","pressedOpacity","pressedBehavior","pressedOpacity"];return a.preset?Object.keys(u(Ds,[...e,...t])):Object.keys(u(Ds,e))}),f=(0,r.EW)(()=>Object.entries(a).filter(([e,t])=>h.value.includes(e)).reduce((e,[t,n])=>(Object.assign(e,{[t]:n}),e),{})),p=(0,r.EW)(()=>({to:a.splitTo,href:a.splitHref,loading:a.loading})),v=()=>{i.value=!1},m=yr(Ls),g=xs(o),y=Ns(o),{t:w,tp:_}=Un();return t({hideDropdown:v}),(t,n)=>t.$props.split?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ka),(0,r.v6)({key:1},f.value,{class:["va-button-dropdown","va-button-dropdown--split"]}),{default:(0,r.k6)(()=>[t.$props.leftIcon?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,disabled:t.$props.disabled||t.$props.disableButton},p.value,(0,r.Tb)((0,l.R1)(y))),{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])]),_:3},16,["disabled"])),(0,r.bF)((0,l.R1)(Ts),(0,r.v6)((0,l.R1)(m),{modelValue:(0,l.R1)(i),"onUpdate:modelValue":n[1]||(n[1]=e=>(0,l.i9)(i)?i.value=e:null),disabled:t.$props.disabled||t.$props.disableDropdown}),{anchor:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)({"aria-label":t.$props.ariaLabel||(0,l.R1)(w)("toggleDropdown"),disabled:t.$props.disabled||t.$props.disableDropdown,icon:s.value,"icon-color":t.$props.iconColor},(0,r.Tb)((0,l.R1)(g)),{onKeydown:(0,Ze.jR)((0,Ze.D$)(v,["prevent"]),["esc"])}),null,16,["aria-label","disabled","icon","icon-color","onKeydown"])]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(ks),null,{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3})]),_:3},16,["modelValue","disabled"]),t.$props.leftIcon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:1,disabled:t.$props.disabled||t.$props.disableButton},p.value,(0,r.Tb)((0,l.R1)(y))),{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])]),_:3},16,["disabled"])):(0,r.Q3)("",!0)]),_:3},16)):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ts),(0,r.v6)({key:0},(0,l.R1)(m),{modelValue:(0,l.R1)(i),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,l.i9)(i)?i.value=e:null),disabled:t.$props.disabled||t.$props.disableDropdown,class:["va-button-dropdown"]}),{anchor:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)({"aria-label":(0,l.R1)(_)(t.$props.ariaLabel)},{...d.value,...f.value},(0,r.Tb)((0,l.R1)(g))),{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])]),_:3},16,["aria-label"])]),default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"content",{},()=>[(0,r.bF)((0,l.R1)(ks),null,{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3})])]),_:3},16,["modelValue","disabled"]))}}),Ms=Te(Ps),Vs=(e,t)=>{if(0===t.length)return e;const n=e[t[0]];return G(n)?Vs(n,t.slice(1)):1===t.length?n:void 0},Fs=(e,t)=>t in e?e[t]:(t=t.replace(/^\./,""),Vs(e,t.split("."))),$s=(e,t)=>{if(!x(e)&&"object"===typeof e&&!Array.isArray(e))return t?"string"===typeof t?Fs(e,t):"function"===typeof t?t(e):e:e},Bs={options:{type:Array,default:()=>[]},textBy:{type:[String,Function],default:"text"},valueBy:{type:[String,Function],default:""},trackBy:{type:[String,Function],default:""},disabledBy:{type:[String,Function],default:"disabled"},groupBy:{type:[String,Function],default:"group"}};function Ws(e){const t=t=>{const n=e.options;for(let e=0;e<n.length;e++)if(s(n[e])===t)return n[e];return t},n=(e,t)=>G(e)?$s(e,t):e,r=t=>e.trackBy?n(t,e.trackBy):s(t),a=t=>!!G(t)&&n(t,e.disabledBy),o=t=>{const r=n(t,e.textBy);return["number","boolean"].includes(typeof r)?String(r):r},i=t=>{if(G(t))return n(t,e.groupBy)},s=t=>n(t,e.valueBy);return{tryResolveByValue:t,getValue:s,getText:o,getDisabled:a,getTrackBy:r,getGroupBy:i}}const Us=pr(Ka),js=(0,r.pM)({name:"VaButtonToggle",__name:"VaButtonToggle",props:{...Us,...De,...Bs,modelValue:{type:[String,Number,Boolean,Object],default:""},options:{type:Array,required:!0},activeButtonTextColor:{type:String},toggleColor:{type:String,default:""},textBy:{type:[String,Function],default:"label"},valueBy:{type:[String,Function],default:"value"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{getText:o,getTrackBy:i}=Ws(n),{getColor:s,shiftHSLAColor:u}=Kt(),c=(0,r.EW)(()=>s(n.color)),d=e=>i(e)===n.modelValue,h=(0,r.EW)(()=>n.toggleColor?s(n.toggleColor):u(c.value,{l:n.plain?-16:-6})),f=(0,r.EW)(()=>n.preset&&"default"!==n.preset?{backgroundOpacity:n.pressedOpacity}:{}),p=(0,r.EW)(()=>({color:h.value,textColor:n.activeButtonTextColor,...f.value})),v=(e={})=>{const t={icon:e.icon,iconRight:e.iconRight};return d(e)?{...d(e)&&p.value,...t}:t},m=yr(Us),g=e=>a("update:modelValue",i(e));return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ka),(0,r.v6)({class:"va-button-toggle"},(0,l.R1)(m)),{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,e=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:(0,l.R1)(i)(e),"aria-pressed":d(e)},v(e),{onClick:t=>g(e)}),{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(o)(e)),1)]),_:2},1040,["aria-pressed","onClick"]))),128))]),_:1},16))}}),Gs=Te(js),zs=(0,r.pM)({name:"VaCard",__name:"VaCard",props:{...Rr,...De,tag:{type:String,default:"div"},square:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},bordered:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:""},stripe:{type:Boolean,default:!1},stripeColor:{type:String,default:""},gradient:{type:Boolean,default:!1},textColor:{type:String},color:{type:String,default:"background-secondary"}},setup(e){const t=e,{getColor:n}=Kt(),{isLinkTag:a,tagComputed:o,hrefComputed:i}=Ir(t),{textColorComputed:s}=Xt((0,r.EW)(()=>n(t.color))),u=(0,r.EW)(()=>n(t.stripeColor)),c=gr("va-card",()=>({...tr(t,["square","outlined","disabled","stripe"]),noBorder:!t.bordered,link:a.value})),d=(0,r.EW)(()=>{const e=t.gradient&&t.color?Ut(n(t.color)):n(t.color);return{background:e,color:s.value}});return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(o)),{class:(0,b.C4)(["va-card",(0,l.R1)(c)]),style:(0,b.Tr)([d.value,`--va-stripe-color-computed: ${String(u.value)}`]),href:(0,l.R1)(i),target:e.target,to:t.to,replace:t.replace,exact:t.exact,"active-class":t.activeClass,"exact-active-class":t.exactActiveClass},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},8,["class","style","href","target","to","replace","exact","active-class","exact-active-class"]))}}),Hs={class:"va-card__content"},Ks=(0,r.pM)({name:"VaCardContent",__name:"VaCardContent",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Hs,[(0,r.RG)(e.$slots,"default")]))}}),Xs=(0,r.pM)({name:"VaCardTitle",__name:"VaCardTitle",props:{...De,textColor:{type:String}},setup(e){const t=e,{getColor:n}=Kt(),a=(0,r.EW)(()=>({color:t.textColor?n(t.textColor):""}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-card-title va-card__title",style:(0,b.Tr)(a.value)},[(0,r.RG)(e.$slots,"default",{},void 0,!0)],4))}}),qs=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},Qs=qs(Xs,[["__scopeId","data-v-5cd66b25"]]),Ys=(0,r.pM)({name:"VaCardActions",__name:"VaCardActions",props:{...Aa,...De},setup(e){const t=e,{alignComputed:n}=La(t),a=gr("va-card__actions",()=>({...tr(t,["vertical"])}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-card__actions",(0,l.R1)(a)]),style:(0,b.Tr)((0,l.R1)(n))},[(0,r.RG)(e.$slots,"default")],6))}}),Js=(0,r.pM)({name:"VaCardBlock",__name:"VaCardBlock",props:{horizontal:{type:Boolean,default:!1}},setup(e){const t=e,n=(0,r.EW)(()=>({"va-card-block--horizontal":t.horizontal}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-card-block",n.value])},[(0,r.RG)(e.$slots,"default")],2))}}),Zs=Te(Ks),el=Te(Qs),tl=Te(Ys),nl=Te(Js),rl=Te(zs),al=(e,t)=>{const n=e=>{t.value=e},a=()=>{e.infinite&&t.value<=0?t.value=e.items.length-1:t.value-=1},o=()=>{e.infinite&&t.value>=e.items.length-1?t.value=0:t.value+=1},i=(0,r.EW)(()=>e.items.length>1),s=(0,r.EW)(()=>t.value>0||e.infinite),l=(0,r.EW)(()=>t.value<e.items.length-1||e.infinite);return{doShowPrevButton:s,doShowNextButton:l,doShowDirectionButtons:i,goTo:n,prev:a,next:o}},ol=(e,t)=>{let n=-1;const a=()=>{e.autoscroll&&(clearInterval(n),n=setInterval(()=>{t.value+=1,t.value>=e.items.length&&(t.value=0)},e.autoscrollInterval))};let o;const i=()=>{e.autoscroll&&(clearInterval(n),o=setTimeout(()=>{a(),clearTimeout(o)},e.autoscrollPauseDuration))},s=()=>{clearInterval(n),clearTimeout(o)};(0,r.sV)(()=>a()),(0,r.xo)(()=>s());const u=e=>(...t)=>{i(),e(...t)},c=(0,l.KR)({transition:void 0}),d=(0,l.KR)(0),h=(0,r.EW)(()=>"fade"===e.effect?{...c.value,transition:"none"}:e.vertical?{...c.value,transform:`translateY(${-100*d.value}%)`}:{...c.value,transform:`translateX(${-100*d.value}%)`}),f={isAnimating:!1,speed:.3,order:[],move(t,n){const r=e.items.length-1,a=e.items.length;0===n&&t===r?(this.order.push({to:a}),this.order.push({to:0,animate:!1})):n===r&&0===t?(this.order.push({to:a,animate:!1}),this.order.push({to:n})):this.order.push({to:n}),this.isAnimating||this.runAnimation()},runAnimation(){this.isAnimating=!0;const e=this.order.shift();e?(d.value=null==e?void 0:e.to,e.animate||void 0===e.animate?(c.value.transition=`all ${this.speed}s linear`,setTimeout(()=>{this.runAnimation()},1e3*this.speed)):(c.value.transition="none",setTimeout(()=>{this.runAnimation()},16))):this.isAnimating=!1}};(0,r.wB)(t,(e,t)=>{f.move(t,e)});const p=(0,r.EW)(()=>"fade"===e.effect?[e.items[t.value]]:e.infinite||e.autoscroll?[...e.items,e.items[0]]:e.items);return{start:a,pause:i,stop:s,withPause:u,computedSlidesStyle:h,slides:p}},il=()=>{const{setHSLAColor:e,getColor:t}=Kt();return{computedColor:(0,r.EW)(()=>e(t("background-element"),{a:.7})),computedHoverColor:(0,r.EW)(()=>e(t("primary"),{a:.7})),computedActiveColor:(0,r.EW)(()=>t("primary"))}},sl={src:{type:String,required:!0},alt:{type:String,default:""},title:{type:String,default:""},sizes:{type:String,default:""},srcset:{type:String,default:""},draggable:{type:Boolean,default:!0},loading:{type:String},crossorigin:{type:String},decoding:{type:String},fetchpriority:{type:String,default:"auto"},referrerpolicy:{type:String}},ll=e=>(0,r.EW)(()=>tr(e,["src","alt","title","sizes","srcset","loading","referrerpolicy","fetchpriority","decoding","crossorigin","draggable"])),ul=(e,t=(0,l.KR)({}),n=(0,l.KR)([]),a=!0)=>{const o=(0,l.KR)(),i=()=>{var e;null==(e=o.value)||e.disconnect()},s=e=>{var t;const n=Lr((0,l.R1)(e));n&&(null==(t=o.value)||t.observe(n))},u=e=>{e.forEach(s)},c=()=>{o.value=new IntersectionObserver(e,t.value)},d=(0,r.EW)(()=>!a||!("undefined"!==typeof window&&"IntersectionObserver"in window));return(0,r.wB)([n,t],([e])=>{d.value||(i(),e&&(c(),Array.isArray(e)?u(e):s(e)))},{immediate:!0}),(0,r.xo)(i),{isIntersectionDisabled:d}},cl=["aria-busy"],dl={key:0,class:"va-image__overlay"},hl={key:1,class:"va-image__error"},fl={key:2,class:"va-image__loader"},pl={key:3,class:"va-image__placeholder"},vl=["src"],ml=pr(lr),gl=(0,r.pM)({name:"VaImage",__name:"VaImage",props:{...De,...sl,...ml,ratio:{type:[Number,String],default:"auto",validator:e=>"number"===typeof e?e>0:"auto"===e},fit:{type:String,default:"cover"},maxWidth:{type:[Number,String],default:0,validator:e=>Number(e)>=0},lazy:{type:Boolean,default:!1},placeholderSrc:{type:String,default:""}},emits:["loaded","error","fallback"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.KR)(),i=(0,l.KR)(),s=(0,l.KR)(),u=(0,r.EW)(()=>s.value||n.src),c=(0,l.KR)(1),d=(0,l.KR)(1),h=(0,l.KR)(!1),f=(0,l.KR)(!1),p=()=>{var e;h.value=!0,b.value&&(h.value=!1,s.value=null==(e=i.value)?void 0:e.currentSrc,S(),a("loaded",u.value))},v=e=>{f.value=!0,h.value=!1,a("error",e||u.value)},m=(0,l.KR)(!1),g=(e,t)=>{e.forEach(e=>{e.isIntersecting&&(m.value=!0,E(),t.disconnect())})},{isIntersectionDisabled:y}=ul(g,void 0,o,n.lazy),b=(0,r.EW)(()=>y.value||m.value),w=eo(),_=(0,r.EW)(()=>!n.lazy||n.lazy&&w.value&&b.value),E=()=>{!n.src||h.value&&y.value||!b.value||(h.value=!0,f.value=!1,(0,r.dY)(()=>{var e;(null==(e=i.value)?void 0:e.complete)&&(i.value.naturalWidth?p():v())}))};let T;const S=()=>{clearTimeout(T),h.value&&(T=window.setTimeout(S,100));const{naturalHeight:e,naturalWidth:t}=i.value||{};e&&t&&(c.value=e,d.value=t)};(0,r.KC)(E),(0,r.xo)(()=>clearTimeout(T)),(0,r.wB)(()=>n.src,E);const k=(0,r.Ht)(),C=(0,r.EW)(()=>{var e;return(null==(e=null==k?void 0:k.placeholder)?void 0:e.call(k))||n.placeholderSrc}),R=(0,r.EW)(()=>{var e;return h.value&&!(null==(e=null==k?void 0:k.loader)?void 0:e.call(k))}),I=(0,r.EW)(()=>{var e;return f.value&&!(null==(e=null==k?void 0:k.error)?void 0:e.call(k))&&!M.value}),A=(0,r.EW)(()=>(R.value||I.value)&&C.value),x=(0,r.EW)(()=>!(h.value||f.value)),O=ll(n),N=(0,r.EW)(()=>({...tr(n,["ratio","maxWidth"]),contentWidth:c.value,contentHeight:d.value})),D=yr(ml),L=e=>!!Object.values(e||{}).filter(e=>e).length,P=(0,r.EW)(()=>{var e,t,n,r;return L(null==(r=null==(n=null==(t=null==(e=pe())?void 0:e.globalConfig)?void 0:t.value)?void 0:n.components)?void 0:r.VaFallback)}),M=(0,r.EW)(()=>L(D.value)||P.value),V=(0,r.EW)(()=>n.fit);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(er),(0,r.v6)({ref_key:"root",ref:o,class:"va-image"},N.value,{style:`--va-fit-computed: ${String(V.value)}`}),{default:(0,r.k6)(()=>[(0,r.bo)((0,r.Lk)("picture",{class:"va-image__content","aria-busy":h.value},[e.$slots.sources?(0,r.RG)(e.$slots,"sources",{key:0}):(0,r.Q3)("",!0),_.value?((0,r.uX)(),(0,r.CE)("img",(0,r.v6)({key:1,ref_key:"image",ref:i},(0,l.R1)(O),{onError:v,onLoad:p}),null,16)):(0,r.Q3)("",!0)],8,cl),[[Ze.aG,x.value]]),e.$slots.default&&x.value?((0,r.uX)(),(0,r.CE)("div",dl,[(0,r.RG)(e.$slots,"default")])):(0,r.Q3)("",!0),f.value&&(e.$slots.error||M.value)?((0,r.uX)(),(0,r.CE)("div",hl,[(0,r.RG)(e.$slots,"error",{},()=>[(0,r.bF)((0,l.R1)(lr),(0,r.v6)((0,l.R1)(D),{onFallback:t[0]||(t[0]=t=>e.$emit("fallback"))}),null,16)])])):(0,r.Q3)("",!0),h.value&&e.$slots.loader?((0,r.uX)(),(0,r.CE)("div",fl,[(0,r.RG)(e.$slots,"loader")])):(0,r.Q3)("",!0),A.value?((0,r.uX)(),(0,r.CE)("div",pl,[(0,r.RG)(e.$slots,"placeholder",{},()=>[e.$props.placeholderSrc?((0,r.uX)(),(0,r.CE)("img",{key:0,src:e.$props.placeholderSrc,alt:""},null,8,vl)):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0)]),_:3},16,["style"]))}}),yl=Te(gl),bl=(0,r.pM)({name:"VaHover",__name:"VaHover",props:{...xe(!0),...De,disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:[...Oe],setup(e,{emit:t}){const n=e,a=t,{valueComputed:o}=Ne(n,a),i=()=>{n.disabled||(o.value=!0)},s=()=>{n.disabled||(o.value=!1)};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-hover",onMouseenter:i,onMouseleave:s},[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({hover:(0,l.R1)(o)})))],32))}}),wl=Te(bl),_l=["mousedown","mousemove"],El=["touchstart","touchmove"],Tl={vertical:["","all","vertical"],horizontal:["","all","horizontal"]},Sl=[...Tl.vertical,"up","down"],kl=[...Tl.horizontal,"left","right"],Cl={swipable:{type:Boolean,default:!1},swipeDistance:{type:Number,default:75},swipeDirection:{type:String,default:"all"}},Rl=(e,t,n)=>{const a=(0,l.KR)(!1),o=(0,l.Kh)({start:{x:0,y:0},end:{x:0,y:0}}),i=(0,l.Kh)({start:0,end:0}),s=(e,t)=>{let n;if(_l.includes(e.type)&&(n=e),El.includes(e.type)){const t=e;n=t.changedTouches[t.changedTouches.length-1]}n&&(o[t].x=n.pageX,o[t].y=n.pageY,i[t]=(new Date).getTime())},u=t=>{e.swipable&&!a.value&&(a.value=!0,s(t,"start"))},c=e=>{a.value&&s(e,"end")},d=()=>{["start","end"].forEach(e=>{o[e].x=0,o[e].y=0,i[e]=0}),a.value=!1},h=(0,l.Kh)({vertical:!1,horizontal:!1});(0,r.nT)(()=>{h.horizontal=kl.includes(e.swipeDirection),h.vertical=Sl.includes(e.swipeDirection)});const f=e=>h["x"===e?"horizontal":"vertical"]&&o.start[e]&&o.end[e]?Math.trunc(o.start[e]-o.end[e]):0,p=(t,n)=>n===e.swipeDirection||Tl[t].includes(e.swipeDirection)?n:"",v=(0,l.Kh)({direction:"",duration:0});return(0,r.wB)(o,()=>{const t=f("x"),n=f("y");if((t||n)&&[t,n].some(t=>Math.abs(t)>=e.swipeDistance)){if(Math.abs(t)>=Math.abs(n)&&h.horizontal){const e=t>0?"left":"right";v.direction=p("horizontal",e)}else if(Math.abs(t)<Math.abs(n)&&h.vertical){const e=n>0?"down":"up";v.direction=p("vertical",e)}v.duration=i.end-i.start,d()}},{deep:!0}),(0,r.wB)(v,()=>n(v),{deep:!0}),e.swipable&&(jr(["touchstart","mousedown"],u,t),jr(["touchmove","mousemove"],c,t),jr(["touchcancel","mouseup","touchend","mouseleave"],d,t)),{swipeState:v}},Il=["aria-label"],Al={key:1,class:"va-carousel__indicators"},xl={class:"va-carousel__content"},Ol=["aria-hidden","aria-current","aria-label"],Nl=pr(yl,["src","alt"]),Dl=(0,r.pM)({name:"VaCarousel",__name:"VaCarousel",props:{...Cl,...Ae,...De,...Nl,stateful:{type:Boolean,default:!0},modelValue:{type:Number,default:0},items:{type:Array,required:!0},autoscroll:{type:Boolean,default:!1},autoscrollInterval:{type:[Number,String],default:5e3},autoscrollPauseDuration:{type:[Number,String],default:2e3},infinite:{type:Boolean,default:!0},fadeKeyframe:{type:String,default:"va-carousel-fade-appear 1s"},arrows:{type:Boolean,default:!0},indicators:{type:Boolean,default:!0},indicatorTrigger:{type:String,default:"click",validator:e=>["click","hover","none"].includes(e)},vertical:{type:Boolean,default:!1},height:{type:String,default:"300px"},effect:{type:String,default:"transition",validator:e=>["fade","transition"].includes(e)},color:{type:String,default:"primary"},ratio:{type:[Number,String]},ariaLabel:Bn("$t:carousel"),ariaPreviousLabel:Bn("$t:goPreviousSlide"),ariaNextLabel:Bn("$t:goNextSlide"),ariaGoToSlideLabel:Bn("$t:goSlide"),ariaSlideOfLabel:Bn("$t:slideOf")},emits:[...Oe],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=Ne(a,o,"modelValue"),s=je("autoscrollInterval"),u=je("autoscrollPauseDuration"),c=je("ratio"),{goTo:d,next:h,prev:f,doShowNextButton:p,doShowPrevButton:v,doShowDirectionButtons:m}=al(a,i),{withPause:g,computedSlidesStyle:y,slides:w}=ol({items:a.items,autoscrollInterval:s.value,autoscrollPauseDuration:u.value,autoscroll:a.autoscroll,infinite:a.infinite,effect:a.effect,vertical:a.vertical,fadeKeyframe:a.fadeKeyframe},i),_=(0,r.EW)(()=>a.items.length&&a.items.every(e=>!!e&&"object"===typeof e&&!!(null==e?void 0:e.src))),E=e=>e===i.value,T=(0,r.EW)(()=>({animation:"fade"===a.effect?"fadeKeyframe":void 0})),S=(0,l.IJ)(),k=e=>{switch(e.direction){case"right":case"up":v.value&&f();break;case"left":case"down":p.value&&h()}};Rl(a,S,k);const C=e=>"hover"===a.indicatorTrigger?{onmouseover:()=>d(e)}:"click"===a.indicatorTrigger?{onclick:()=>d(e)}:{},{tp:R,t:I}=Un(),{computedActiveColor:A,computedColor:x,computedHoverColor:O}=il(),N=yr(Nl),D=g(d),L=g(f),P=g(h);return t({currentSlide:i,goTo:d,next:h,prev:f,goToWithPause:D,prevWithPause:L,nextWithPause:P}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-carousel",{"va-carousel--vertical":t.$props.vertical,[`va-carousel--${t.$props.effect}`]:!0}]),style:(0,b.Tr)({height:(0,l.R1)(c)?"auto":e.height}),role:"region","aria-label":(0,l.R1)(R)(t.$props.ariaLabel)},[t.$props.arrows&&(0,l.R1)(m)?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,l.R1)(v)?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-carousel__arrow va-carousel__arrow--left",onClick:n[0]||(n[0]=(...e)=>(0,l.R1)(L)&&(0,l.R1)(L)(...e)),onKeydown:n[1]||(n[1]=(0,Ze.jR)((0,Ze.D$)((...e)=>(0,l.R1)(L)&&(0,l.R1)(L)(...e),["stop"]),["enter"]))},[(0,r.RG)(t.$slots,"prev-arrow",{},()=>[(0,r.bF)((0,l.R1)(wl),{stateful:""},{default:(0,r.k6)(({hover:n})=>[(0,r.bF)((0,l.R1)(na),{color:n?(0,l.R1)(O):(0,l.R1)(x),icon:e.vertical?"va-arrow-up":"va-arrow-left","aria-label":(0,l.R1)(R)(t.$props.ariaPreviousLabel)},null,8,["color","icon","aria-label"])]),_:1})])],32)):(0,r.Q3)("",!0),(0,l.R1)(p)?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-carousel__arrow va-carousel__arrow--right",onClick:n[2]||(n[2]=(...e)=>(0,l.R1)(P)&&(0,l.R1)(P)(...e)),onKeydown:n[3]||(n[3]=(0,Ze.jR)((0,Ze.D$)((...e)=>(0,l.R1)(P)&&(0,l.R1)(P)(...e),["stop"]),["enter"]))},[(0,r.RG)(t.$slots,"next-arrow",{},()=>[(0,r.bF)((0,l.R1)(wl),{stateful:""},{default:(0,r.k6)(({hover:n})=>[(0,r.bF)((0,l.R1)(na),{color:n?(0,l.R1)(O):(0,l.R1)(x),icon:e.vertical?"va-arrow-down":"va-arrow-right","aria-label":(0,l.R1)(R)(t.$props.ariaNextLabel)},null,8,["color","icon","aria-label"])]),_:1})])],32)):(0,r.Q3)("",!0)],64)):(0,r.Q3)("",!0),t.$props.indicators?((0,r.uX)(),(0,r.CE)("div",Al,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$props.items,(e,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-carousel__indicator",{"va-carousel__indicator--active":E(n)}],key:n},C(n)),[(0,r.RG)(t.$slots,"indicator",(0,b._B)((0,r.Ng)({item:e,index:n,goTo:(0,l.R1)(D),isActive:E(n)})),()=>[(0,r.bF)((0,l.R1)(wl),{stateful:""},{default:(0,r.k6)(({hover:e})=>[(0,r.bF)((0,l.R1)(na),{"aria-label":(0,l.R1)(R)(t.$props.ariaGoToSlideLabel,{index:n+1}),round:"",color:E(n)?(0,l.R1)(A):e?(0,l.R1)(O):(0,l.R1)(x)},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)(n+1),1)]),_:2},1032,["aria-label","color"])]),_:2},1024)])],16))),128))])):(0,r.Q3)("",!0),(0,r.Lk)("div",xl,[(0,r.Lk)("div",{ref_key:"slidesContainer",ref:S,class:"va-carousel__slides",style:(0,b.Tr)((0,l.R1)(y)),role:"list"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(w),(e,n)=>((0,r.uX)(),(0,r.CE)("div",{key:e,role:"listitem",class:"va-carousel__slide",style:(0,b.Tr)(T.value),"aria-hidden":!E(n),"aria-current":E(n),"aria-label":(0,l.R1)(R)(t.$props.ariaSlideOfLabel,{index:n+1,length:(0,l.R1)(w).length})},[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({item:e,index:n,goTo:(0,l.R1)(D),isActive:E(n)})),()=>[(0,r.bF)((0,l.R1)(yl),(0,r.v6)((0,l.R1)(N),{src:_.value?e.src:e,alt:_.value?e.alt:"",draggable:!1}),null,16,["src","alt"])])],12,Ol))),128))],4)])],14,Il))}}),Ll=Te(Dl),Pl=()=>{const e=(0,r.nI)(),t=null==e?void 0:e.appContext.app,{globalProperties:n}=t.config;return"$vaGlobalVariable"in n||(n.$vaGlobalVariable=(0,l.Kh)({})),n.$vaGlobalVariable},Ml=(e,t)=>{const n=Pl();return e in n||(n[e]=t),(0,r.EW)({get:()=>n[e],set:t=>{n[e]=t}})},Vl=()=>{const e=(0,r.nI)(),t=Ml("uuidCounter",0);return e.$vaUuid=e.$vaUuid||"va-"+t.value++,`va-${t.value}`};function Fl(e,t,n,a){const o=(0,r.nI)(),i=(0,r.EW)(()=>{const n=t[e];return(null==o?void 0:o.vnode.props)?e in o.vnode.props&&void 0!==o.vnode.props[e]:void 0!==n});if(void 0===a)return[(0,r.EW)({set(t){n(`update:${e}`,t)},get(){return t[e]}})];const s=t[e],u=(0,l.KR)(void 0===s?a:s);return(0,r.wB)(()=>t[e],e=>{void 0!==e&&(u.value=e)}),[(0,r.EW)({set(t){u.value=t,n(`update:${e}`,t)},get(){return i.value?t[e]:u.value}})]}const $l=e=>"object"===typeof e&&"_setter"in e,Bl=(e,t)=>{if(!$l(e))return;const n=e._setter;e._setter=e=>{t(e),n(e)}},Wl=e=>"string"===typeof e,Ul=Symbol("FormService"),jl=e=>{const t=(0,r.WQ)(Ul,null);if(!t)return{forceDirty:(0,l.KR)(!1),forceHideErrorMessages:(0,l.KR)(!1),forceHideErrors:(0,l.KR)(!1),forceHideLoading:(0,l.KR)(!1),fields:(0,r.EW)(()=>[]),registerField:()=>{},unregisterField:()=>{},immediate:(0,r.EW)(()=>!1)};const n=Vl();return(0,r.sV)(()=>{t.registerField(n,e)}),(0,r.xo)(()=>{t.unregisterField(n)}),t},Gl=(e=[],t=null)=>(Wl(e)&&(e=[e]),e.map(e=>Jr(e)?e(t):e)),zl={name:{type:String,default:void 0},rules:{type:Array,default:()=>[]},dirty:{type:Boolean,default:!1},error:{type:Boolean,default:void 0},errorMessages:{type:[Array,String],default:void 0},errorCount:{type:[String,Number],default:1},success:{type:Boolean,default:!1},messages:{type:[Array,String],default:()=>[]},immediateValidation:{type:Boolean,default:!1},modelValue:{}},Hl=["update:error","update:errorMessages","update:dirty"],Kl=e=>"object"===typeof e&&"function"===typeof e.then,Xl=(e,t,n)=>{const a=(0,l.KR)(t.dirty||!1);return Bl(e,()=>{a.value=!0,n("update:dirty",!0)}),(0,r.wB)(e,(e,t)=>{e===t&&(a.value=!0)},{deep:!0}),(0,r.wB)(()=>t.dirty,e=>{a.value!==e&&(a.value=e)}),{isDirty:a}},ql=()=>{const e=(0,l.KR)(!1),t=()=>{e.value=!0};return{isTouched:e,onBlur:t}},Ql=e=>{let t=!0;return(...n)=>{if(!t)return;t=!1;const a=e(...n);return(0,r.dY)(()=>{t=!0}),a}},Yl=(e,t,n)=>{const{reset:a,focus:o}=n,[i]=Fl("error",e,t,!1),[s]=Fl("errorMessages",e,t,[]),u=(0,l.KR)(!1),{isTouched:c,onBlur:d}=ql(),h=(0,r.EW)(()=>({"aria-invalid":i.value,"aria-errormessage":"string"===typeof s.value?s.value:s.value.join(", ")})),f=()=>{s.value=[],i.value=!1,g.value=!1,c.value=!1,u.value=!1},p=e=>{let t=!1,n=[];return e.forEach(e=>{Wl(e)?(n=[...n,e],t=!0):!1===e&&(t=!0)}),s.value=n,i.value=t,!t},v=async()=>{if(!e.rules||!e.rules.length)return!0;const t=Gl(e.rules.flat(),n.value.value),r=t.filter(e=>Kl(e)),a=t.filter(e=>!Kl(e));return r.length?(u.value=!0,Promise.all(r).then(e=>p([...a,...e])).finally(()=>{u.value=!1})):p(a)},m=Ql(()=>{if(!e.rules||!e.rules.length)return!0;const t=e.rules.flat(),r=Gl(t,n.value.value),a=r.filter(e=>Kl(e)),o=r.filter(e=>!Kl(e)),i=o.some(e=>Wl(e)?e:!1===e);return a.length&&!i?(u.value=!0,Promise.all(a).then(e=>{p([...o,...e]),u.value=!1}),i):p(o)});(0,r.nT)(()=>m());const{isDirty:g}=Xl(n.value,e,t),{forceHideErrors:y,forceHideLoading:b,forceHideErrorMessages:w,forceDirty:_,immediate:E}=jl({isTouched:c,isDirty:g,isValid:(0,r.EW)(()=>!i.value),isLoading:u,errorMessages:s,validate:m,validateAsync:v,resetValidation:f,focus:o,reset:()=>{a(),f(),m()},value:(0,r.EW)(()=>n.value||e.modelValue),name:(0,l.lW)(e,"name")}),T=(0,r.EW)(()=>e.immediateValidation||E.value);let S=!0;const k=e=>{S=!1,e(),(0,r.dY)(()=>{S=!0})};return(0,r.wB)(n.value,()=>{if(S)return m()},{immediate:T.value}),{isDirty:g,isValid:(0,r.EW)(()=>!i.value),isError:i,isTouched:c,isLoading:(0,r.EW)({get:()=>!y.value&&((T.value||!!(c.value||g.value||_.value))&&u.value),set(e){u.value=e}}),computedError:(0,r.EW)(()=>!y.value&&((T.value||!!(c.value||g.value||_.value))&&i.value)),computedErrorMessages:(0,r.EW)(()=>w.value?[]:s.value),listeners:{onBlur:d},validate:m,resetValidation:f,withoutValidation:k,validationAriaAttributes:h}},Jl={...Ae,...mr,...zl,arrayValue:{type:[String,Boolean,Object,Number],default:null},label:{type:String,default:""},leftLabel:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:null,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},Zl=[...Hl,"update:modelValue","focus","blur"],eu=e=>{const t=[e.falseValue,e.trueValue];e.indeterminate&&t.push(e.indeterminateValue);const n=new Set(t).size!==t.length;if(n)throw new Error("falseValue, trueValue, indeterminateValue props should have strictly different values, which is not the case.")},tu=(e,t,{input:n,label:a,container:o})=>{eu(e);const i=()=>p(()=>{t("update:modelValue",!1),v()}),s=()=>{var e;null==(e=Lr(n.value))||e.focus()},{valueComputed:l}=Ne(e,t),{computedError:u,computedErrorMessages:c,validate:d,validationAriaAttributes:h,listeners:f,withoutValidation:p,resetValidation:v,isDirty:m,isTouched:g,isError:y,isLoading:b,isValid:w}=Yl(e,t,{reset:i,focus:s,value:l}),{isFocused:_}=Kr(),E=e=>{t("blur",e),_.value=!1,f.onBlur()},T=e=>{_.value=!0,t("focus",e)},S=(0,r.EW)(()=>e.indeterminate&&l.value===e.indeterminateValue),k=(0,r.EW)(()=>void 0!==e.arrayValue&&null!==e.arrayValue),C=(0,r.EW)(()=>{var t;return k.value?null==(t=e.modelValue)?void 0:t.includes(e.arrayValue):l.value===e.trueValue}),R=()=>{e.readonly||e.disabled||e.loading||(k.value?e.modelValue?Array.isArray(e.modelValue)?e.modelValue.includes(e.arrayValue)?t("update:modelValue",e.modelValue.filter(t=>t!==e.arrayValue)):t("update:modelValue",e.modelValue.concat(e.arrayValue)):t("update:modelValue",e.modelValue===e.arrayValue?[]:[e.modelValue,e.arrayValue]):t("update:modelValue",[e.arrayValue]):e.indeterminate?S.value?l.value=e.trueValue:C.value?l.value=e.falseValue:l.value=e.indeterminateValue:C.value?l.value=e.falseValue:l.value=e.trueValue)};return{isDirty:m,isTouched:g,isError:y,isLoading:b,isValid:w,isChecked:C,isIndeterminate:S,onBlur:E,onFocus:T,toggleSelection:R,reset:i,focus:s,computedError:u,computedErrorMessages:c,validationAriaAttributes:h}};var nu;function ru(){const e=(0,l.KR)(!1);let t=!1;const n={mousedown:()=>{t=!0},focus:()=>{t||(e.value=!0),t=!1},blur:()=>{e.value=!1,t=!1}};return{hasKeyboardFocus:e,keyboardFocusListeners:n}}let au=!1;function ou(){const e=(0,l.KR)(!1),t={focus:()=>{au||(e.value=!0)},blur:()=>{e.value=!1}};return{hasKeyboardFocus:e,keyboardFocusListeners:t}}null==(nu=Be())||nu.addEventListener("mousedown",()=>{au=!0,setTimeout(()=>{au=!1},300)});const iu=e=>{const t=Vl(),n=`message-list-${t}`,a=(0,r.EW)(()=>({id:n,role:"alert"})),o=(0,r.EW)(()=>"string"===typeof e.modelValue&&e.modelValue.length>0||!!(Array.isArray(e.modelValue)&&e.modelValue.length>0)),i=(0,r.EW)(()=>({"aria-describedby":o.value?n:void 0,"aria-invalid":e.hasError}));return{messageListAttributes:a,childAttributes:i}},su={class:"va-message-list__list"},lu=(0,r.pM)({name:"VaMessageList",inheritAttrs:!1,__name:"VaMessageList",props:{modelValue:{type:[String,Array],default:""},limit:{type:[Number,String],default:1},color:{type:String},hasError:{type:Boolean,default:!1}},setup(e,{expose:t}){const n=e,{getColor:a}=Kt(),{childAttributes:o,messageListAttributes:i}=iu(n),s=je("limit"),u=(0,r.EW)(()=>n.modelValue?Array.isArray(n.modelValue)?n.modelValue.slice(0,s.value):[n.modelValue]:[]),c=(0,r.EW)(()=>n.color?{color:a(n.color)}:{});return t({messages:u}),(t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({ariaAttributes:(0,l.R1)(o),messages:u.value,attrs:t.$attrs}))),(0,r.RG)(t.$slots,"messages",(0,b._B)((0,r.Ng)({ariaAttributes:(0,l.R1)(i),messages:u.value})),()=>[u.value.length>0?((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({key:0,class:"va-message-list",style:c.value},(0,l.R1)(i)),[(0,r.Lk)("ul",su,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.value,(n,a)=>((0,r.uX)(),(0,r.CE)("li",{key:a,class:"va-message-list__message"},[(0,r.RG)(t.$slots,"message",(0,b._B)((0,r.Ng)({messages:u.value,message:n})),()=>[e.hasError?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,class:"va-message-list__icon",name:"va-warning",size:16})):(0,r.Q3)("",!0),(0,r.eW)((0,b.v_)(n),1)])]))),128))])],16)):(0,r.Q3)("",!0)])],64))}}),uu=Te(lu),cu={class:"va-message-list-wrapper"},du=(0,r.pM)({name:"VaMessageListWrapper",__name:"VaMessageListWrapper",props:{...zl},setup(e){const t=e,n=(0,r.EW)(()=>t.error?"danger":t.success?"success":""),a=(0,l.lW)(t,"error"),o=(0,r.EW)(()=>t.error?t.errorMessages:t.messages),i=(0,r.EW)(()=>t.error?Number(t.errorCount):99);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",cu,[(0,r.bF)((0,l.R1)(uu),{color:n.value,limit:i.value,"has-error":a.value,"model-value":o.value,"inherit-slots":["message"]},{default:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)(t)))]),_:3},8,["color","limit","has-error","model-value"])]))}}),hu=["id","indeterminate","value","checked"],fu=["for"],pu=[Boolean,Array,String,Object],vu=(0,r.pM)({name:"VaCheckbox",__name:"VaCheckbox",props:{...Jl,...De,modelValue:{type:pu,default:!1},color:{type:String,default:"primary"},checkedIcon:{type:String,default:"va-check"},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:pu,default:null},indeterminateIcon:{type:String,default:"remove"},id:{type:String,default:""},name:{type:String,default:""},ariaLabel:{type:String,default:void 0},vertical:{type:Boolean,default:!1}},emits:Zl,setup(e,{expose:t,emit:n}){const a=e,o=n,i={container:(0,l.IJ)(),input:(0,l.IJ)(),label:(0,l.IJ)()},{isChecked:s,computedError:u,isIndeterminate:c,computedErrorMessages:d,validationAriaAttributes:h,toggleSelection:f,onBlur:p,onFocus:v,isDirty:m,isTouched:g,isError:y,isLoading:w,isValid:_}=tu(a,o,i),{getColor:E}=Kt(),{hasKeyboardFocus:T,keyboardFocusListeners:S}=ru(),{textColorComputed:k}=Xt((0,r.EW)(()=>E(a.color))),C=(0,r.EW)(()=>s.value||c.value),R=(0,r.EW)(()=>({"va-checkbox--selected":s.value,"va-checkbox--readonly":a.readonly,"va-checkbox--disabled":a.disabled,"va-checkbox--indeterminate":a.indeterminate,"va-checkbox--error":u.value,"va-checkbox--left-label":a.leftLabel,"va-checkbox--on-keyboard-focus":T.value})),I=()=>{switch(!0){case!a.label:return"";case a.vertical:return"var(--va-checkbox-vertical-padding)";case Boolean(a.arrayValue):return"var(--va-checkbox-horizontal-padding)";case a.leftLabel:return"var(--va-checkbox-right-padding)";default:return"var(--va-checkbox-left-padding)"}},A=(0,r.EW)(()=>({color:u.value?E("danger"):a.success?E("success"):"",padding:I()})),x=(0,r.EW)(()=>{const e={background:C.value?E(a.color):"",borderColor:C.value?E(a.color):""};return u.value&&(e.borderColor=E("danger")),a.success&&(e.borderColor=E("success")),e}),O=(0,r.EW)(()=>a.indeterminate&&c.value?a.indeterminateIcon:a.checkedIcon),N=Vl(),D=(0,r.EW)(()=>a.id||String(N)),L=(0,r.EW)(()=>a.name||String(N)),P=(0,r.EW)(()=>({name:L.value,disabled:a.disabled,readonly:a.readonly,tabindex:a.disabled?-1:0,"aria-label":a.ariaLabel,"aria-disabled":a.disabled,"aria-readOnly":a.readonly,"aria-checked":C.value,...h.value})),M=(0,r.EW)(()=>a.vertical?"--va-checkbox-display-flex":"var(--va-checkbox-display)");return t({toggleSelection:f,isDirty:m,isTouched:g,isError:y,isLoading:w,isValid:_}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(du),{class:(0,b.C4)(["va-checkbox",R.value]),disabled:t.disabled,success:t.success,messages:t.messages,error:(0,l.R1)(u),"error-messages":(0,l.R1)(d),"error-count":t.errorCount,style:(0,b.Tr)(`--va-display-val: ${String(M.value)}`)},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{ref:"container",class:"va-checkbox__input-container",onClick:n[6]||(n[6]=(...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e)),onBlur:n[7]||(n[7]=(...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e))},[(0,r.Lk)("div",{class:"va-checkbox__square",style:(0,b.Tr)(x.value),onSelectstart:n[4]||(n[4]=(0,Ze.D$)(()=>{},["prevent"]))},[(0,r.Lk)("input",(0,r.v6)({ref:"input",type:"checkbox",class:"va-checkbox__input",id:D.value,indeterminate:e.indeterminate,value:t.label,checked:C.value},P.value,(0,r.Tb)((0,l.R1)(S),!0),{onFocus:n[0]||(n[0]=(...e)=>(0,l.R1)(v)&&(0,l.R1)(v)(...e)),onBlur:n[1]||(n[1]=(...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e)),onClick:n[2]||(n[2]=(0,Ze.D$)(()=>{},["stop","prevent"])),onKeypress:n[3]||(n[3]=(0,Ze.D$)((...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e),["prevent"]))}),null,16,hu),C.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,class:"va-checkbox__icon",name:O.value,color:(0,l.R1)(k)},null,8,["name","color"])):(0,r.Q3)("",!0)],36),t.label||t.$slots.label?((0,r.uX)(),(0,r.CE)("label",{key:0,ref:"label",class:"va-checkbox__label",for:D.value,style:(0,b.Tr)(A.value),onBlur:n[5]||(n[5]=(...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e))},[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(t.label),1)])],44,fu)):(0,r.Q3)("",!0)],544)]),_:3},8,["class","disabled","success","messages","error","error-messages","error-count","style"]))}}),mu=Te(vu),gu={class:"va-chip__content"},yu=(0,r.pM)({name:"VaChip",__name:"VaChip",props:{...Rr,...Ht,...Ae,...De,modelValue:{type:Boolean,default:!0},closeable:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},square:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},icon:{type:String,default:""},tag:{type:String,default:"span"},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},ariaCloseLabel:Bn("$t:close")},emits:[...Oe,"focus"],setup(e,{expose:t,emit:n}){const a=e,o=n,{getColor:i}=Kt(),s=(0,r.EW)(()=>i(a.color)),u=(0,r.EW)(()=>a.outline?s.value:""),c=(0,r.EW)(()=>Boolean(a.outline||a.flat)),{textColorComputed:d}=Xt(s,c),{hasKeyboardFocus:h,keyboardFocusListeners:f}=ru(),p=(0,r.EW)(()=>{if(!(!a.shadow||a.flat||a.outline||a.disabled||h.value))return`0 0.125rem 0.19rem 0 ${Pt(s.value)}`}),{valueComputed:v}=Ne(a,o),{tagComputed:m,hrefComputed:g}=Ir(a),{isHovered:y,onMouseEnter:w,onMouseLeave:_}=Qr(),E=()=>{a.disabled||(v.value=!1)},T=(0,r.EW)(()=>a.size),S=(0,r.EW)(()=>a.disabled?-1:0),k=gr("va-chip",()=>({...tr(a,["disabled","readonly","square"]),small:"small"===a.size,large:"large"===a.size})),C=(0,r.EW)(()=>{const e={color:d.value,borderColor:u.value,background:"",boxShadow:p.value};return a.outline||a.flat?h.value?e.background=Ft(s.value):!a.readonly&&y.value&&(e.background=Vt(s.value)):e.background=s.value,e}),{tp:R}=Un();return t({close:E}),(t,n)=>(0,l.R1)(v)?((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(m)),{key:0,class:(0,b.C4)(["va-chip",(0,l.R1)(k)]),href:(0,l.R1)(g),target:t.target,to:t.to,replace:t.replace,exact:t.exact,"active-class":t.activeClass,"exact-active-class":t.exactActiveClass,style:(0,b.Tr)(C.value)},{default:(0,r.k6)(()=>[(0,r.Lk)("span",(0,r.v6)({class:"va-chip__inner",onFocus:n[0]||(n[0]=e=>t.$emit("focus")),onMouseenter:n[1]||(n[1]=(...e)=>(0,l.R1)(w)&&(0,l.R1)(w)(...e)),onMouseleave:n[2]||(n[2]=(...e)=>(0,l.R1)(_)&&(0,l.R1)(_)(...e))},(0,r.Tb)((0,l.R1)(f),!0)),[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,class:"va-chip__icon",name:e.icon,size:T.value},null,8,["name","size"])):(0,r.Q3)("",!0),(0,r.Lk)("span",gu,[(0,r.RG)(t.$slots,"default")]),e.closeable?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:1,role:"button",name:"va-close",class:"va-chip__close-icon","aria-label":(0,l.R1)(R)(t.$props.ariaCloseLabel),tabindex:S.value,size:T.value,onClick:(0,Ze.D$)(E,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(E,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(E,["stop"]),["space"])]},null,8,["aria-label","tabindex","size","onKeydown"])):(0,r.Q3)("",!0)],16)]),_:3},8,["href","target","to","replace","exact","active-class","exact-active-class","class","style"])):(0,r.Q3)("",!0)}}),bu=Te(yu),wu=e=>{if(Array.isArray(e))return e.map(l.R1);const t=(0,l.R1)(e);return Array.isArray(t)?t:[t]},_u=(e,t)=>{let n;const a=t=>{t.forEach(t=>{const r=(0,l.R1)(t);if(r){if(!(r instanceof Element))throw console.error("Vuestic: Trying to observe non-HTMLElement",{target:r,array:e}),new Error("Vuestic: Unable to observe non-HTMLElement");r&&(null==n||n.observe(r))}})};return(0,r.wB)(e,e=>{null==n||n.disconnect(),a(wu(e))}),(0,r.sV)(()=>{n=new ResizeObserver(t),a(wu(e))}),(0,r.xo)(()=>null==n?void 0:n.disconnect()),n},Eu={class:"va-collapse__header__text"},Tu=["id","aria-labelledby"],Su={class:"va-collapse__content"},ku=(0,r.pM)({name:"VaCollapse",__name:"VaCollapse",props:{...De,...Ae,modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},header:{type:String,default:""},icon:{type:String,default:""},color:{type:String,default:void 0},bodyColor:{type:String,default:void 0},textColor:{type:String,default:""},bodyTextColor:{type:String,default:""},iconColor:{type:String,default:"secondary"},colorAll:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0}},emits:["update:modelValue",...Zl],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),{valueComputed:s}=Ne(a,o,"modelValue"),{getColor:u,getTextColor:c,setHSLAColor:d}=Kt(),{accordionProps:h,accordionItemValue:f}=Ce(),p=(0,r.EW)({get(){return s.userProvided||x(f)?s.value:f.value},set(e){x(f)||(f.value=e),s.value=e}});s.userProvided&&!x(f)&&(f.value=s.value);const v=(0,l.KR)();_u([i],([e])=>{v.value=e.contentRect.height??0});const m=(0,r.EW)(()=>p.value?v.value:0),g=()=>{const e=m.value/1e3*.2;return`${e>.2?e:.2}s`},y=(0,r.EW)(()=>a.bodyColor?u(a.bodyColor):a.color&&a.colorAll?d(u(a.color),{a:.07}):void 0),w=(0,r.EW)(()=>a.color?u(a.color):void 0),_=Vl(),E=(0,r.EW)(()=>`header-${_}`),T=(0,r.EW)(()=>`panel-${_}`),S=(0,r.EW)(()=>a.disabled?-1:0),k=(0,r.EW)(()=>({id:E.value,tabindex:S.value,"aria-controls":T.value,"aria-expanded":p.value,"aria-disabled":a.disabled,role:"button"})),C=(0,l.KR)(!1);(0,r.wB)(m,(e,t)=>{void 0!==t&&!0!==C.value&&(C.value=!0)});const R=e=>{"height"===e.propertyName&&e.target===e.currentTarget&&(C.value=!1)},I=gr("va-collapse",()=>({...tr(a,["disabled"]),expanded:p.value,active:p.value,popout:!(!h.value.popout||!p.value),inset:!(!h.value.inset||!p.value),"height-changing":C.value,"colored-body":Boolean(y.value),"colored-header":Boolean(w.value)})),A=()=>{a.disabled||(p.value=!p.value)},{textColorComputed:O}=Xt(w),N=(0,r.EW)(()=>({color:O.value,backgroundColor:w.value})),D=(0,r.EW)(()=>!!p.value||!!C.value),L=(0,r.EW)(()=>({height:`${m.value}px`,transitionDuration:g(),background:p.value?y.value:"",color:a.bodyTextColor?u(a.bodyTextColor):y.value?u(c(y.value)):"currentColor"}));return t({toggle:A}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-collapse",(0,l.R1)(I)])},[(0,r.Lk)("div",{class:"va-collapse__header-wrapper",onClick:A,onKeydown:[(0,Ze.jR)(A,["enter"]),(0,Ze.jR)(A,["space"])]},[(0,r.RG)(t.$slots,"header",(0,b._B)((0,r.Ng)({value:p.value,bind:k.value,attributes:k.value,attrs:k.value,iconAttrs:{class:["va-collapse__expand-icon",p.value?"a-collapse__expand-icon--expanded":"a-collapse__expand-icon--collapsed"]},text:e.header})),()=>[(0,r.Lk)("div",(0,r.v6)(k.value,{class:"va-collapse__header",style:N.value}),[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,class:"va-collapse__header__icon",name:e.icon},null,8,["name"])):(0,r.Q3)("",!0),(0,r.RG)(t.$slots,"header-content",(0,b._B)((0,r.Ng)({header:e.header})),()=>[(0,r.Lk)("div",Eu,(0,b.v_)(e.header),1)]),(0,r.RG)(t.$slots,"expand-icon",{},()=>[(0,r.bF)((0,l.R1)(Fn),{class:(0,b.C4)(["va-collapse__expand-icon",p.value?"va-collapse__expand-icon--expanded":"va-collapse__expand-icon--collapsed"]),name:"va-arrow-down"},null,8,["class"])])],16)])],32),(0,r.Lk)("div",{class:(0,b.C4)(["va-collapse__body-wrapper",{"va-collapse__body-wrapper--bordered":!t.$slots.body&&!t.$slots.header}]),style:(0,b.Tr)(L.value),onTransitionend:R},[D.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-collapse__body",ref_key:"body",ref:i,role:"region",id:T.value,"aria-labelledby":E.value},[(0,r.RG)(t.$slots,"body",{},()=>[(0,r.Lk)("div",Su,[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.RG)(t.$slots,"content")])])])],8,Tu)):(0,r.Q3)("",!0)],38)],2))}}),Cu=Te(ku),Ru=(0,r.pM)({name:"VaColorIndicator",__name:"VaColorIndicator",props:{...Ae,...De,modelValue:{type:Boolean,default:null},color:{type:String,default:""},square:{type:Boolean,default:!1},size:{type:String,default:"1rem"}},emits:[...Oe],setup(e,{emit:t}){const n=e,a=t,{valueComputed:o}=Ne(n,a),{getColor:i}=Kt(),{hasKeyboardFocus:s,keyboardFocusListeners:u}=ru(),c=(0,r.EW)(()=>i(n.color)),d=(0,r.EW)(()=>n.square?"0px":"50%"),h=(0,r.EW)(()=>({backgroundColor:c.value,height:n.size,width:n.size})),f=(0,r.EW)(()=>({"va-color-indicator--selected":o.value,"va-color-indicator--on-keyboard-focus":s.value})),p=()=>{o.value=!o.value};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-color-indicator",f.value],style:[h.value,`--va-border-radius-computed: ${String(d.value)}`],onClick:p,onKeydown:[(0,Ze.jR)(p,["enter"]),(0,Ze.jR)(p,["space"])]},(0,r.Tb)((0,l.R1)(u),!0)),[(0,r.Lk)("div",{class:"va-color-indicator__core",style:(0,b.Tr)(h.value)},null,4)],16))}}),Iu=Te(Ru),Au={key:0,class:"va-input-label__required-mark"},xu=(0,r.pM)({name:"VaInputLabel",__name:"VaInputLabel",props:{label:{type:String,default:""},requiredMark:{type:Boolean,default:!1},color:{type:String,default:"primary"}},setup(e){const{getColor:t}=Kt();return(n,a)=>((0,r.uX)(),(0,r.CE)("label",{"aria-hidden":"true",class:"va-input-label",style:(0,b.Tr)({color:(0,l.R1)(t)(n.$props.color,void 0,!0)})},[(0,r.RG)(n.$slots,"default",(0,b._B)((0,r.Ng)({label:e.label,requiredMark:e.requiredMark,color:(0,l.R1)(t)(n.$props.color)})),()=>[(0,r.eW)((0,b.v_)(e.label)+" ",1),e.requiredMark?((0,r.uX)(),(0,r.CE)("span",Au," * ")):(0,r.Q3)("",!0)])],4))}}),Ou={label:{type:String,default:""},inputAriaLabel:Bn("$t:inputField"),inputAriaLabelledby:{type:String},inputAriaDescribedby:{type:String}},Nu=e=>{const t=Vl(),n=`input-label-${t}`,a=`input-character-count-${t}`,o=(0,r.EW)(()=>({"aria-label":""!==e.label?e.label:e.inputAriaLabel,"aria-labelledby":e.inputAriaLabelledby?e.inputAriaLabelledby:n,"aria-describedby":e.inputAriaDescribedby?e.inputAriaDescribedby:a}));return{labelId:n,characterCountId:a,ariaAttributes:o}},Du=e=>(0,r.pM)({name:"ProxySlots",props:{inheritSlots:{type:Array,required:!0}},render(){var t;const n=(null==(t=this.$parent)?void 0:t.$slots)||{},a=this.$props.inheritSlots||Object.keys(n),o=a.reduce((e,t)=>(n[t]&&(e[t]=n[t]),e),{});return(0,r.h)(e,this.$attrs,{...o,...this.$slots})}}),Lu={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},Pu=(e,t)=>{const n=gr(e,(0,r.EW)(()=>tr(t,["disabled","readonly"])));return{computedClasses:n}},Mu=e=>{const t=zr(),n=on(e?qr(e):void 0);let a=null;const o=(0,r.EW)({get(){var e;if(!t.value)return!1;if(t.value===n.value)return!0;const r=null==(e=n.value)?void 0:e.contains(t.value);return r&&(a=t.value),r},set(e){var t;let r=a??n.value;(null==(t=n.value)?void 0:t.contains(r))||(r=n.value),e?null==r||r.focus():null==r||r.blur()}});return Object.assign(o,{focusIfNothingIfFocused:()=>{t.value===document.body&&(o.value=!0)},focusPreviousElement:()=>{a?a.focus():document.body.focus()}})},Vu=pr(xu),Fu=(0,r.pM)({name:"VaInputWrapper",components:{VaMessageList:Du(uu),VaIcon:Fn,VaInputLabel:xu},props:{...De,...Ou,...Lu,...zl,...Vu,modelValue:{type:null,default:""},counter:{type:Boolean},maxLength:{type:[Number,String],default:void 0},label:{type:String,default:""},placeholder:{type:String,default:""},color:{type:String,default:"primary"},background:{type:String},success:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},requiredMark:{type:Boolean,default:!1},innerLabel:{type:Boolean,default:!1}},emits:["click","click-prepend","click-append","click-prepend-inner","click-append-inner","click-field","update:modelValue"],setup(e,{emit:t,slots:n}){const{getColor:a}=Kt(),[o]=Fl("modelValue",e,t,""),i=(0,l.KR)(),s=Mu(),u=(0,r.EW)(()=>e.counter&&"string"===typeof o.value?o.value.length:void 0),c=gr("va-input-wrapper",()=>({...tr(e,["success","error","disabled","readonly"]),focused:Boolean(s.value),labeled:Boolean(e.label||n.label),labeledInner:Boolean(e.label||n.label)&&e.innerLabel})),d=(0,r.EW)(()=>a(e.color)),h=(0,r.EW)(()=>e.background?a(e.background):"#ffffff00"),f=(0,r.EW)(()=>e.error?e.errorMessages:e.messages),{textColorComputed:p}=Xt(h),v=je("maxLength"),m=(0,r.EW)(()=>e.error?"danger":e.success?"success":""),g=(0,r.EW)(()=>e.error?Number(e.errorCount):99),y=(0,r.EW)(()=>void 0!==u.value),b=(0,r.EW)(()=>void 0!==v.value?`${u.value}/${v.value}`:u.value),{labelId:w,characterCountId:_,ariaAttributes:E}=Nu(e),T=yr(Vu),S=()=>{s.value=!0},k=()=>{s.value=!1};return{inputRef:i,focus:S,blur:k,labelId:w,characterCountId:_,ariaAttributes:E,vModel:o,counterValue:u,vaInputLabelProps:T,wrapperClass:c,textColorComputed:p,isCounterVisible:y,counterComputed:b,colorComputed:d,backgroundComputed:h,messagesColor:m,messagesComputed:f,errorLimit:g}}}),$u={class:"va-input-wrapper__fieldset va-input-wrapper__size-keeper"},Bu={class:"va-input-wrapper__container"},Wu={class:"va-input-wrapper__text"},Uu=["placeholder","readonly","disabled"],ju=["id"],Gu={class:"va-input-wrapper__counter"};function zu(e,t,n,a,o,i){const s=(0,r.g2)("VaInputLabel"),l=(0,r.g2)("va-icon"),u=(0,r.g2)("va-message-list");return(0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-input-wrapper",e.wrapperClass]),onClick:t[6]||(t[6]=t=>e.$emit("click",t)),style:(0,b.Tr)(`--va-background-computed: ${String(e.backgroundComputed)};--va-color-computed: ${String(e.colorComputed)};--va-text-color-computed: ${String(e.textColorComputed)}`)},[(0,r.Lk)("fieldset",$u,[(0,r.bF)(u,{color:e.messagesColor,"model-value":e.messagesComputed,limit:e.errorLimit,"inherit-slots":["message","messages"]},{default:(0,r.k6)(({ariaAttributes:n})=>[!e.$props.label&&!e.$slots.label||e.$props.innerLabel?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(s,(0,r.v6)({key:0,class:"va-input-wrapper__label va-input-wrapper__label--outer"},e.vaInputLabelProps,{id:e.labelId}),{default:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"label",(0,b._B)((0,r.Ng)(t)))]),_:3},16,["id"])),(0,r.Lk)("div",Bu,[e.$slots.prepend?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-input-wrapper__prepend-inner",onClick:t[0]||(t[0]=t=>e.$emit("click-prepend"))},[(0,r.RG)(e.$slots,"prepend")])):(0,r.Q3)("",!0),(0,r.Lk)("div",{onClick:t[4]||(t[4]=t=>e.$emit("click-field",t)),class:"va-input-wrapper__field"},[e.$slots.prependInner?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-input-wrapper__prepend-inner",ref:"container",onClick:t[1]||(t[1]=t=>e.$emit("click-prepend-inner",t))},[(0,r.RG)(e.$slots,"prependInner")],512)):(0,r.Q3)("",!0),(0,r.Lk)("div",Wu,[(e.$props.label||e.$slots.label)&&e.$props.innerLabel?((0,r.uX)(),(0,r.Wv)(s,(0,r.v6)({key:0,class:"va-input-wrapper__label va-input-wrapper__label--inner"},e.vaInputLabelProps,{id:e.labelId}),{default:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"label",(0,b._B)((0,r.Ng)(t)))]),_:3},16,["id"])):(0,r.Q3)("",!0),(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({ariaAttributes:{...n,...e.ariaAttributes},value:e.vModel})),()=>[(0,r.bo)((0,r.Lk)("input",(0,r.v6)({...n,...e.ariaAttributes},{"onUpdate:modelValue":t[2]||(t[2]=t=>e.vModel=t),ref:"inputRef",placeholder:e.$props.placeholder,readonly:e.$props.readonly,disabled:e.$props.disabled}),null,16,Uu),[[Ze.hp,e.vModel]])])]),e.success?((0,r.uX)(),(0,r.Wv)(l,{key:1,color:"success",name:"va-check-circle",class:"va-input-wrapper__icon va-input-wrapper__icon--success"})):(0,r.Q3)("",!0),e.error?((0,r.uX)(),(0,r.Wv)(l,{key:2,color:"danger",name:"va-warning",class:"va-input-wrapper__icon va-input-wrapper__icon--error"})):(0,r.Q3)("",!0),e.$props.loading?((0,r.uX)(),(0,r.Wv)(l,{key:3,color:e.$props.color,name:"va-loading",spin:"counter-clockwise",class:"va-input-wrapper__icon va-input-wrapper__icon--loading"},null,8,["color"])):(0,r.Q3)("",!0),(0,r.RG)(e.$slots,"icon"),e.$slots.appendInner?((0,r.uX)(),(0,r.CE)("div",{key:4,class:"va-input-wrapper__append-inner",onClick:t[3]||(t[3]=t=>e.$emit("click-append-inner",t))},[(0,r.RG)(e.$slots,"appendInner")])):(0,r.Q3)("",!0)]),e.$slots.append?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-input-wrapper__append-inner",onClick:t[5]||(t[5]=t=>e.$emit("click-append"))},[(0,r.RG)(e.$slots,"append")])):(0,r.Q3)("",!0)]),e.isCounterVisible?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-input-wrapper__counter-wrapper",id:e.characterCountId},[(0,r.RG)(e.$slots,"counter",(0,b._B)((0,r.Ng)({valueLength:e.counterValue,maxLength:e.$props.maxLength})),()=>[(0,r.Lk)("div",Gu,(0,b.v_)(e.counterComputed),1)])],8,ju)):(0,r.Q3)("",!0)]),_:3},8,["color","model-value","limit"])])],6)}const Hu=qs(Fu,[["render",zu]]),Ku=Te(Hu),Xu=(...e)=>(...t)=>e.forEach(e=>e(...t)),qu={autofocus:{type:Boolean,default:!1}},Qu=(e,t)=>{const n=()=>{Mr(Lr(e.value))},a=()=>{Vr(Lr(e.value))};return(0,r.sV)(()=>{t.autofocus&&n()}),{focus:n,blur:a}},Yu={clearable:{type:Boolean,default:!1},clearableIcon:{type:String,default:"va-clear"},clearValue:{type:String,default:""}},Ju=["clear"],Zu=(e,t,n,a)=>{const{isFocused:o,onFocus:i,onBlur:s}=Kr(n),l=[null,void 0,e.clearValue],u=(0,r.EW)(()=>e.clearable&&!e.disabled&&!e.readonly&&!l.includes(t.value)),c=(0,r.EW)(()=>(null==o?void 0:o.value)?e.color||"primary":(null==a?void 0:a.value)?"danger":e.success?"success":"secondary"),d=(0,r.EW)(()=>({name:e.clearableIcon,color:c.value,size:"medium",tabindex:u.value?0:-1}));return{canBeCleared:u,clearIconColor:c,clearIconProps:d,onFocus:i,onBlur:s}},ec=e=>{if(!M)return;const t=(0,r.nI)();if(!t)throw new Error("`useDeprecated` hook must be used only inside of setup function!");e.forEach(e=>{const n=e();"string"===typeof n&&V(`(${t.type.name} component) ${n}`)})},tc=pr(Ku),{createEmits:nc,createListeners:rc}=Is(["change","keyup","keypress","keydown","focus","blur","input"]),{createEmits:ac,createListeners:oc}=Is(["click","click-prepend","click-append","click-prepend-inner","click-append-inner"]),ic=(0,r.pM)({name:"VaInput",__name:"VaInput",props:{...tc,...Lu,...qu,...zl,...Yu,...De,...Ae,placeholder:{type:String,default:""},tabindex:{type:[String,Number],default:0},modelValue:{type:[Number,String,null],default:""},type:{type:String,default:"text"},inputClass:{type:String,default:""},pattern:{type:String},inputmode:{type:String,default:"text"},counter:{type:Boolean,default:!1},autocomplete:{type:String},ariaResetLabel:Bn("$t:reset"),strictBindInputValue:{type:Boolean,default:!1}},emits:["update:modelValue",...Hl,...Ju,...nc(),...ac(),...Oe],setup(e,{expose:t,emit:n}){const a=e,o=n;ec([()=>"textarea"!==a.type||'Use VaTextarea component instead of VaInput with type="textarea"']);const i=(0,l.IJ)(),{valueComputed:s}=Ne(a,o,"modelValue"),u=()=>S(()=>{s.value=a.clearValue,o("clear"),k()}),{focus:c,blur:d}=Qu(i,a),h=(0,r.Ht)(),f=(0,r.EW)(()=>{const e=["icon"];return Object.keys(h).filter(t=>!e.includes(t))}),{tp:p}=Un(),{isValid:v,isTouched:m,isDirty:g,computedError:y,computedErrorMessages:w,listeners:{onBlur:_},validationAriaAttributes:E,isLoading:T,withoutValidation:S,resetValidation:k}=Yl(a,o,{reset:u,focus:c,value:s}),{modelValue:C}=(0,l.QW)(a),{canBeCleared:R,clearIconProps:I}=Zu(a,C,i,y),A=rc(o),x={...A,onBlur:Xu(_,A.onBlur)},O=e=>{if(!a.strictBindInputValue)return;const t=i.value;if(!t)return;const n=t.selectionStart||0,r=t.selectionEnd||0;t.value!==e&&(t.value=String(e)),t.setSelectionRange(n,r)};(0,r.wB)(s,e=>{O(String(e))},{immediate:!0}),jr("input",()=>{O(String(s.value))},i);const N=(0,r.EW)(()=>a.disabled?-1:a.tabindex),D=(0,r.OA)(),L=(0,r.EW)(()=>({"aria-label":a.inputAriaLabel||a.label,"aria-labelledby":a.inputAriaLabelledby,"aria-required":a.requiredMark,tabindex:N.value,class:a.inputClass,"aria-disabled":a.disabled,"aria-readonly":a.readonly,...E.value})),P=(0,r.EW)(()=>({...L.value,...tr(a,["type","disabled","readonly","placeholder","pattern","inputmode","name","autocomplete"]),...tr(D,["minlength","minlength"])})),M=(0,r.EW)(()=>a.counter&&"string"===typeof s.value?s.value.length:void 0),V=e=>{e.target&&"tagName"in e.target&&"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&c()},F=yr(tc),$=oc(o);return t({isValid:v,isDirty:g,isTouched:m,isLoading:T,computedError:y,computedErrorMessages:w,reset:u,focus:c,blur:d,value:s,withoutValidation:S,resetValidation:k}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ku),(0,r.v6)({...(0,l.R1)($),...(0,l.R1)(F)},{class:["va-input",e.$attrs.class],style:e.$attrs.style,loading:e.$props.loading||(0,l.R1)(T),error:(0,l.R1)(y),"error-messages":(0,l.R1)(w),"error-count":e.errorCount,"counter-value":M.value,onClick:V}),(0,r.eX)({icon:(0,r.k6)(t=>[(0,l.R1)(R)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:0,role:"button","aria-label":(0,l.R1)(p)(e.$props.ariaResetLabel)},(0,l.R1)(I),{onClick:(0,Ze.D$)(u,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(u,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(u,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):(0,r.Q3)("",!0),(0,r.RG)(e.$slots,"icon",(0,b._B)((0,r.Ng)(t)))]),default:(0,r.k6)(()=>[e.$slots.content?(0,r.Q3)("",!0):(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",(0,r.v6)({key:0,ref_key:"input",ref:i,class:"va-input__content__input"},{...P.value,...x},{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(s)?s.value=e:null)}),null,16)),[[Ze.hp,(0,l.R1)(s)]])]),_:2},[(0,r.pI)(f.value,t=>({name:t,fn:(0,r.k6)(n=>[(0,r.RG)(e.$slots,t,(0,b._B)((0,r.Ng)(n)))])}))]),1040,["class","style","loading","error","error-messages","error-count","counter-value"]))}}),sc=Te(ic),lc={class:"va-color-input"},uc=pr(sc),cc=(0,r.pM)({name:"VaColorInput",__name:"VaColorInput",props:{...uc,...Ae,...De,modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},indicator:{type:String,default:"dot",validator:e=>["dot","square"].includes(e)},ariaOpenColorPickerLabel:Bn("$t:openColorPicker")},emits:[...Oe],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),{valueComputed:i}=Ne(n,a),s=()=>{var e;return!n.disabled&&(null==(e=o.value)?void 0:e.click())},u=(0,r.EW)(()=>n.disabled?-1:0),c=(0,r.EW)({get:()=>n.modelValue,set:Ge(e=>a("update:modelValue",e),500)}),d=yr(uc),{tp:h}=Un();return(e,t)=>((0,r.uX)(),(0,r.CE)("div",lc,[(0,r.bF)((0,l.R1)(sc),(0,r.v6)((0,l.R1)(d),{modelValue:(0,l.R1)(i),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(i)?i.value=e:null),class:"va-color-input__input",tabindex:u.value}),{appendInner:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Iu),{class:"va-color-input__dot",role:"button","aria-label":(0,l.R1)(h)(e.$props.ariaOpenColorPickerLabel),"aria-disabled":e.$props.disabled,tabindex:u.value,color:(0,l.R1)(i),indicator:e.$props.indicator,size:"16px",onClick:s,onKeydown:[(0,Ze.jR)(s,["space"]),(0,Ze.jR)(s,["enter"])]},null,8,["aria-label","aria-disabled","tabindex","color","indicator"])]),_:1},16,["modelValue","tabindex"]),(0,r.bo)((0,r.Lk)("input",{ref_key:"colorPicker",ref:o,type:"color",class:"va-color-input__hidden-input","aria-hidden":"true",tabindex:"-1","onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e)},null,512),[[Ze.Jo,c.value]])]))}}),dc=Te(cc),hc=["aria-label"],fc=(0,r.pM)({name:"VaColorPalette",__name:"VaColorPalette",props:{...Ae,...De,modelValue:{type:String,default:null},palette:{type:Array,default:()=>[]},indicator:{type:String,default:"dot",validator:e=>["dot","square"].includes(e)},ariaLabel:Bn("$t:colorSelection"),ariaIndicatorLabel:Bn("$t:color")},emits:[...Oe],setup(e,{emit:t}){const n=e,a=t,{valueComputed:o}=Ne(n,a),i=e=>o.value===e,{tp:s}=Un();return(t,n)=>((0,r.uX)(),(0,r.CE)("ul",{class:"va-color-palette",role:"listbox","aria-label":(0,l.R1)(s)(t.$props.ariaLabel)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.palette,(n,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Iu),{key:a,role:"option","aria-label":(0,l.R1)(s)(t.$props.ariaIndicatorLabel,{color:n}),"aria-selected":i(n),tabindex:"0",modelValue:i(n),color:n,square:"square"===e.indicator,"onUpdate:modelValue":e=>o.value=n},null,8,["aria-label","aria-selected","modelValue","color","square","onUpdate:modelValue"]))),128))],8,hc))}}),pc=Te(fc),vc={name:"VaContent"},mc={class:"va-typography-block"};function gc(e,t,n,a,o,i){return(0,r.uX)(),(0,r.CE)("div",mc,[(0,r.RG)(e.$slots,"default")])}const yc=qs(vc,[["render",gc]]),bc=Te(yc),wc=e=>"number"===typeof e?`${e}px`:e;function _c(e){const t=()=>{const t=Number(e.modelValue),n=Number(e.max),r=Number(e.min),a=Number(e.step);Number.isNaN(t)?V("The value is not a number or cannot be reduced to a number."):(r&&n&&r>n&&V(`The maximum value (${n}) can not be less than the minimum value (${r}).`),r&&t<r&&V(`The value of the counter (${t}) can not be less than the minimum value (${r}).`),n&&t>n&&V(`The value of the counter (${t}) can not be greater than the maximum value (${n}).`),r&&n&&a>n-r&&V(`The value of the step (${a}) can not be greater than the difference (${n-r}) between maximum value (${n}) and minimum value (${r}).`))};(0,r.wB)([()=>e.step,()=>e.min,()=>e.max],t,{immediate:!0})}const Ec=e=>Number(e.toPrecision(13)),Tc=(e,t)=>{const n=Ec(e%t);return 0===n||n===t};function Sc(e,t){let n=-1,r=-1;const a=()=>{var e;null==(e=t.onStart)||e.call(t),clearTimeout(n),n=setTimeout(()=>{r=setInterval(()=>{var e;return null==(e=t.onUpdate)?void 0:e.call(t)},t.interval||100)},(0,l.R1)(t.delay)||500)},o=()=>{var e;clearTimeout(n),clearInterval(r),null==(e=t.onEnd)||e.call(t)},i=qr(e);jr(["mousedown","touchstart","dragstart"],a,i),jr(["mouseup","mouseleave","touchend","touchcancel","drop","dragend","blur"],o,!0)}const kc=["value","aria-live"],{createEmits:Cc,createListeners:Rc}=Is(["change"]),{createEmits:Ic,createListeners:Ac}=Is([{listen:"click-prepend",emit:"click:decrease-button"},{listen:"click-append",emit:"click:increase-button"},{listen:"click-prepend-inner",emit:"click:decrease-icon"},{listen:"click-append-inner",emit:"click:increase-icon"}]),xc=pr(Ku),Oc=(0,r.pM)({name:"VaCounter",inheritAttrs:!1,__name:"VaCounter",props:{...Lu,...Ae,...De,...Yu,...xc,modelValue:{type:[String,Number],default:0},manualInput:{type:Boolean,default:!1},min:{type:[Number,String]},max:{type:[Number,String]},step:{type:[Number,String],default:1},color:{type:String,default:"primary"},increaseIcon:{type:String,default:"va-plus"},decreaseIcon:{type:String,default:"va-minus"},buttons:{type:Boolean,default:!1},flat:{type:Boolean,default:!0},rounded:{type:Boolean,default:!1},margins:{type:[String,Number],default:"4px"},longPressDelay:{type:[Number,String],default:500},ariaLabel:Bn("$t:counterValue"),ariaDecreaseLabel:Bn("$t:decreaseCounter"),ariaIncreaseLabel:Bn("$t:increaseCounter")},emits:["update:modelValue",...Hl,...Cc(),...Ic(),...Hr],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),{min:s=(0,l.KR)(void 0),max:c=(0,l.KR)(void 0),step:d}=(0,l.QW)(a),h=je("longPressDelay"),{isFocused:f,focus:p,blur:v}=Kr(i,o),{valueComputed:m}=Ne(a,o);function g(e){return parseFloat(Number(e).toFixed(10))}const y=(0,r.EW)({get(){return m.value},set(e){m.value=g(e)}}),w=()=>T(()=>{o("update:modelValue",a.clearValue),o("clear"),S()}),{computedError:_,computedErrorMessages:E,withoutValidation:T,resetValidation:S,listeners:k,isDirty:C,isTouched:R}=Yl(a,o,{reset:w,focus:p,value:y}),I=({target:e})=>{y.value=Number(null==e?void 0:e.value)},A=({target:e})=>{N(Number(null==e?void 0:e.value))},O=e=>"undefined"!==typeof s.value&&Number(d.value)?Ec(Number(s.value)+Number(d.value)*((Number(e)-Number(s.value))/Number(d.value))):e,N=e=>{"undefined"!==typeof s.value&&e<Number(s.value)?y.value=Number(s.value):"undefined"!==typeof c.value&&e>Number(c.value)?y.value=O(Number(c.value)):y.value=O(e)},D=(0,r.EW)(()=>!x(s.value)&&Number(y.value)<=Number(s.value)),L=(0,r.EW)(()=>!x(c.value)&&(d.value?Number(y.value)>Number(c.value)-Number(d.value):Number(y.value)>=Number(c.value))),P=(0,r.EW)(()=>a.disabled?-1:0),M=(0,r.EW)(()=>D.value||a.disabled||a.readonly),V=(0,r.EW)(()=>L.value||a.disabled||a.readonly),F=()=>{M.value||N(Number(y.value)-Number(d.value))},$=()=>{V.value||N(Number(y.value)+Number(d.value))};Sc(Xr("decreaseButtonRef"),{onUpdate:F,delay:h}),Sc(Xr("increaseButtonRef"),{onUpdate:$,delay:h});const{getColor:B}=Kt(),W=(0,r.EW)(()=>B(a.color)),U=(0,r.EW)(()=>({class:{"va-counter__icon--inactive":M.value},color:W.value,icon:a.decreaseIcon,plain:!0,disabled:M.value,readonly:a.readonly,tabindex:-1,"aria-label":q(a.ariaDecreaseLabel),...!M.value&&{onClick:F}})),j=(0,r.EW)(()=>({class:{"va-counter__icon--inactive":V.value},color:W.value,icon:a.increaseIcon,plain:!0,disabled:V.value,readonly:a.readonly,tabindex:-1,"aria-label":q(a.ariaIncreaseLabel),...!V.value&&{onClick:$}})),G=(0,r.EW)(()=>0===("string"===typeof a.margins?parseFloat(a.margins):a.margins)),z=()=>f.value?a.color:"background-border",H=(0,r.EW)(()=>({...tr(a,["color"]),round:a.rounded,preset:a.flat?"secondary":"",borderColor:a.flat?z():""})),K=(0,r.EW)(()=>({...H.value,icon:a.decreaseIcon,disabled:M.value,"aria-label":q(a.ariaDecreaseLabel),...!M.value&&{onClick:F}})),X=(0,r.EW)(()=>({...H.value,icon:a.increaseIcon,disabled:V.value,"aria-label":q(a.ariaIncreaseLabel),...!V.value&&{onClick:$}})),{tp:q}=Un(),Q=(0,r.OA)(),Y=(0,r.Ht)(),J=(0,r.EW)(()=>({tabindex:P.value,"aria-label":q(a.ariaLabel),"aria-valuemin":Number(s.value),"aria-valuemax":Number(c.value),...u(Q,["class","style"]),...tr(a,["disabled","min","max","step"]),readonly:a.readonly||!a.manualInput})),Z=(0,r.EW)(()=>[Q.class,{"va-counter--input-square":G.value},{"va-counter--content-slot":Y.content&&a.buttons}].filter(Boolean)),ee=(0,r.EW)(()=>({...Q.style||{}})),te=(0,r.EW)(()=>wc(a.margins));_c(a);const ne=Ac(o),re=Rc(o),ae=yr(xc);return t({isDirty:C,isTouched:R,focus:p,blur:v,decreaseCount:F,increaseCount:$,reset:w}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ku),(0,r.v6)({class:"va-counter"},{...(0,l.R1)(ne),...(0,l.R1)(ae),...(0,l.R1)(k)},{class:Z.value,style:ee.value,focused:(0,l.R1)(f),error:(0,l.R1)(_),"error-messages":(0,l.R1)(E),onKeydown:[(0,Ze.jR)((0,Ze.D$)($,["prevent"]),["up"]),(0,Ze.jR)((0,Ze.D$)($,["prevent"]),["right"]),(0,Ze.jR)((0,Ze.D$)(F,["prevent"]),["down"]),(0,Ze.jR)((0,Ze.D$)(F,["prevent"]),["left"])]}),(0,r.eX)({default:(0,r.k6)(()=>[e.$slots.content?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("input",(0,r.v6)({key:0,ref_key:"input",ref:i,class:"va-input__content__input",type:"number",inputmode:"decimal"},{...J.value,...(0,l.R1)(re)},{value:y.value,"aria-live":e.$props.disabled?"off":"polite",onInput:I,onChange:A}),null,16,kc))]),_:2},[e.$props.buttons?{name:"prepend",fn:(0,r.k6)(n=>[(0,r.Lk)("div",{class:"va-counter__prepend-wrapper",style:(0,b.Tr)({marginRight:te.value}),onMousedown:t[0]||(t[0]=(0,Ze.D$)((...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e),["prevent"]))},[(0,r.RG)(e.$slots,"decreaseAction",(0,b._B)((0,r.Ng)({...n,decreaseCount:F})),()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)({class:"va-counter__button-decrease"},K.value,{ref:"decreaseButtonRef"}),null,16)])],36)]),key:"0"}:{name:"prependInner",fn:(0,r.k6)(n=>[(0,r.Lk)("div",{class:"va-counter__prepend-inner",onMousedown:t[1]||(t[1]=(0,Ze.D$)((...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e),["prevent"]))},[(0,r.RG)(e.$slots,"decreaseAction",(0,b._B)((0,r.Ng)({...n,decreaseCount:F})),()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)(U.value,{ref:"decreaseButtonRef"}),null,16)])],32)]),key:"1"},e.$props.buttons?{name:"append",fn:(0,r.k6)(n=>[(0,r.Lk)("div",{class:"va-counter__append-wrapper",style:(0,b.Tr)({marginLeft:te.value}),onMousedown:t[2]||(t[2]=(0,Ze.D$)((...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e),["prevent"]))},[(0,r.RG)(e.$slots,"increaseAction",(0,b._B)((0,r.Ng)({...n,increaseCount:$})),()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)({class:"va-counter__button-increase"},X.value,{ref:"increaseButtonRef"}),null,16)])],36)]),key:"2"}:{name:"appendInner",fn:(0,r.k6)(n=>[(0,r.Lk)("div",{class:"va-counter__append-inner",onMousedown:t[3]||(t[3]=(0,Ze.D$)((...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e),["prevent"]))},[(0,r.RG)(e.$slots,"increaseAction",(0,b._B)((0,r.Ng)({...n,increaseCount:$})),()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)(j.value,{ref:"increaseButtonRef"}),null,16)])],32)]),key:"3"},e.$slots.content?{name:"default",fn:(0,r.k6)(t=>[(0,r.Lk)("div",{ref_key:"input",ref:i,tabindex:"0",class:"va-counter__content-wrapper"},[(0,r.RG)(e.$slots,"content",(0,b._B)((0,r.Ng)({...t,value:Number(y.value)})))],512)]),key:"4"}:void 0]),1040,["class","style","focused","error","error-messages","onKeydown"]))}}),Nc=Te(Oc),Dc={currentPage:{type:Number}},Lc=()=>({items:{type:Array,default:()=>[]}}),Pc={selectable:{type:Boolean,default:!1}},Mc={itemsTrackBy:{type:[String,Function],default:""}},Vc=e=>{const t=2===e.length||3===e.length,n=e.every(e=>["asc","desc",null].includes(e)),r=e.length===new Set(e).size;return t&&n&&r},Fc={...Lc(),columns:{type:Array,default:()=>[]},sortingOptions:{type:Array,default:()=>["asc","desc",null],validator:Vc}},$c=(e,t,n)=>{const r="string"===typeof e?{key:e}:e,a=!r.sortingOptions||Vc(r.sortingOptions);return a||V(`The "sortingOptions" array in the column with "${r.key}" key is invalid. For this column, the "sortingOptions" value is taken as for the table: ${JSON.stringify(n.sortingOptions)}.`),{source:e,initialIndex:t,key:r.key,name:r.name||r.key,label:r.label||ct(r.key),thTitle:r.thTitle||r.headerTitle||r.label||ct(r.key),sortable:r.sortable||!1,sortingFn:r.sortingFn,displayFormatFn:r.displayFormatFn,sortingOptions:a&&r.sortingOptions||n.sortingOptions,thAlign:r.thAlign||r.alignHead||"left",thVerticalAlign:r.thVerticalAlign||r.verticalAlignHead||"middle",tdAlign:r.tdAlign||r.align||"left",tdVerticalAlign:r.tdVerticalAlign||r.verticalAlign||"middle",width:r.width,tdClass:r.tdClass||r.classes,thClass:r.thClass||r.headerClasses,tdStyle:r.tdStyle||r.style,thStyle:r.thStyle||r.headerStyle}},Bc=e=>Object.keys(Y({},...e.items)).map((t,n)=>$c(t,n,e)),Wc=e=>e.columns.map((t,n)=>$c(t,n,e)),Uc=e=>{const t=(0,r.EW)(()=>0===e.columns.length?Bc(e):Wc(e));return{columnsComputed:t}},jc={delay:{type:Number,default:0,validator:e=>e>=0}};function Gc(e,t){const n=(0,l.lW)(t,"delay")??0,r=(0,l.KR)(!0);let a;return function(...t){const o=()=>e.apply(this,t);return(0,l.R1)(n)?(r.value&&(r.value=!1,setTimeout(()=>r.value=!0,(0,l.R1)(n)),a=o()),a):o()}}function zc(e,t){const n=(0,l.lW)(t,"delay")??0;if(!(0,l.R1)(n))return e;const a=(0,l.KR)(!0),o=(0,l.KR)(),i=(0,l.KR)(),s=(0,l.KR)();return(0,r.wB)(e,()=>{o.value=e.value;const t=setTimeout(()=>{s.value=o.value},(0,l.R1)(n));a.value?(a.value=!1,s.value=e.value,i.value=e.value,clearTimeout(t),setTimeout(()=>a.value=!0,(0,l.R1)(n))):s.value=i.value},{immediate:!0}),s}const Hc={...jc,...Dc,perPage:{type:Number}},Kc=(e,t)=>{const n=(0,r.EW)(()=>{if(!t.perPage||t.perPage<0)return e.value;if(!t.currentPage||t.currentPage<0)return e.value.slice(0,t.perPage);const n=t.perPage*(t.currentPage-1);return e.value.slice(n,n+t.perPage)}),a=zc(n,t);return{paginatedRows:a}},Xc=(e,t)=>"function"===typeof t?t(e):Fs(e,t)||e,qc=()=>({...Lc(),...Mc}),Qc=(e,t,n,r)=>{var a;const o=Fs(n,r.key);return{rowIndex:e,rowKey:t,rowData:n,column:r,source:o,value:(null==(a=null==o?void 0:o.toString)?void 0:a.call(o))||""}},Yc=(e,t,n,r)=>{const a=Xc(e,n);return{initialIndex:t,itemKey:a,source:e,cells:r.map(n=>Qc(t,a,e,n)),rowData:e}},Jc=(e,t)=>{const n=(0,l.KR)({}),a=(0,r.EW)(()=>t.items.map((r,a)=>({...Yc(r,a,t.itemsTrackBy,e.value),toggleRowDetails:e=>{n.value[a]="boolean"===typeof e?e:!n.value[a]},isExpandableRowVisible:!!n.value[a]})));return{rowsComputed:a}},Zc={...Pc,...Mc,modelValue:{type:Array},selectMode:{type:String,default:"multiple"}},ed=(e,t,n)=>{const a=(0,l.KR)([]),o=(0,r.EW)({get(){return void 0===t.modelValue?a.value:t.modelValue},set(e){void 0===t.modelValue&&(a.value=e),n("update:modelValue",e)}}),i=(0,l.KR)(-1);(0,r.wB)(()=>t.selectMode,(e,t)=>{"single"===e&&"multiple"===t&&(o.value=[],y(-1))}),(0,r.wB)(e,()=>{y(-1)}),(0,r.wB)(o,(e,t=[])=>{n("selectionChange",{currentSelectedItems:e,previousSelectedItems:t})},{immediate:!0});const s=e=>Xc(e,t.itemsTrackBy),u=(0,r.EW)(()=>!e.value.some(({source:e})=>o.value.includes(s(e)))),c=(0,r.EW)(()=>0!==e.value.length&&e.value.every(({source:e})=>o.value.includes(s(e)))),d=(0,r.EW)(()=>!u.value&&!c.value);function h(e){return o.value.includes(s(e.source))}function f(){o.value=[...new Set([...o.value,...e.value.map(e=>s(e.source))])]}function p(){const t=e.value.map(e=>s(e.source));o.value=o.value.filter(e=>!t.includes(e))}function v(e){o.value=[...o.value,s(e.source)]}function m(e){o.value=[s(e.source)]}function g(e){const t=o.value.findIndex(t=>t===s(e.source));o.value=[...o.value.slice(0,t),...o.value.slice(t+1)]}function y(t){if(-1===t)i.value=-1;else{const n=e.value.find(e=>e.initialIndex===t);i.value=n?e.value.indexOf(n):-1}}function b(t){let n,r;return h(e.value[i.value])?(n=Math.min(i.value,t),r=Math.max(i.value,t)):(n=Math.min(i.value+1,t),r=Math.max(i.value-1,t)),e.value.slice(n,r+1)}function w(e){const t=e.map(e=>s(e.source));if(u.value)return void(o.value=t);const n=t.every(e=>o.value.includes(e));o.value=n?o.value.filter(e=>!t.includes(e)):[...new Set([...o.value,...t])]}function _(e){t.selectable&&(h(e)?(g(e),"single"===t.selectMode?y(-1):y(e.initialIndex)):("single"===t.selectMode?m(e):v(e),y(e.initialIndex)))}function E(e){t.selectable&&_(e)}function T(n){if(!t.selectable)return;if("single"===t.selectMode||-1===i.value)return _(n);const r=e.value.indexOf(n);w(b(r)),y(-1)}function S(){c.value?p():f(),y(-1)}return{ctrlSelectRow:E,shiftSelectRows:T,toggleRowSelection:_,toggleBulkSelection:S,isRowSelected:h,noRowsSelected:u,severalRowsSelected:d,allRowsSelected:c}},td="--va-data-table",nd=e=>"function"===typeof e,rd={...Pc,selectedColor:{type:String,default:"primary"},allowFooterSorting:{type:Boolean,default:!1},stickyHeader:{type:Boolean,default:!1},stickyFooter:{type:Boolean,default:!1},height:{type:[String,Number]}},ad=e=>nd(e)?e():e,od=e=>nd(e)?e():e,id=e=>{const{getColor:t,getFocusColor:n,getHoverColor:a}=Kt(),o=(0,r.EW)(()=>t(e.selectedColor)),i=(0,r.EW)(()=>({hoverColor:a(o.value),selectedColor:e.selectable?n(o.value):void 0,tableHeight:e.height?wc(e.height):"var(--va-data-table-height)",theadBg:e.stickyHeader?"var(--va-data-table-thead-background, var(--va-data-table-header-background))":"var(--va-data-table-thead-background)",tfootBg:e.stickyFooter?"var(--va-data-table-tfoot-background, var(--va-data-table-header-background))":"var(--va-data-table-tfoot-background)"})),s=e=>({[`${td}-width`]:e.width&&wc(e.width),[`${td}-align`]:e.thAlign,[`${td}-vertical-align`]:e.thVerticalAlign,[`${td}-cursor`]:e.sortable?"pointer":"default"}),l=e=>({[`${td}-align`]:e.column.tdAlign,[`${td}-vertical-align`]:e.column.tdVerticalAlign}),u=t=>({[`${td}-align`]:t.thAlign,[`${td}-vertical-align`]:t.thVerticalAlign,[`${td}-cursor`]:e.allowFooterSorting&&t.sortable?"pointer":"default"});return{CSSVariables:i,getHeaderCSSVariables:s,getCellCSSVariables:l,getFooterCSSVariables:u,getClass:ad,getStyle:od}},sd=e=>"function"===typeof e,ld=e=>null!==e&&"object"===typeof e,ud={rowBind:{type:null},cellBind:{type:null}},cd=e=>{const t=t=>sd(e.rowBind)?e.rowBind(t.source,t.initialIndex):ld(e.rowBind)?e.rowBind:{},n=(t,n)=>sd(e.cellBind)?e.cellBind(t.source,n.source,t.column,n.initialIndex):ld(e.cellBind)?e.cellBind:{};return{getRowBind:t,getCellBind:n}},dd={...Dc,animated:{type:Boolean,default:!0}},hd=(e,t)=>{const n=(0,l.KR)("shuffle"),a=(0,r.EW)(()=>e.animated?`table-transition-${n.value}`:""),o=(0,l.KR)(t.value.length),i=(0,r.EW)(()=>t.value.length!==o.value);return(0,r.wB)(t,(e,t)=>{const r=!(!e.length||!t.length);n.value=e.length>50||i.value&&r?"fade":"shuffle",o.value=e.length}),(0,r.wB)(()=>e.currentPage,()=>{i.value||(n.value="shuffle")}),a},fd={...jc,filter:{type:String,default:""},filterMethod:{type:Function}},pd=(e,t,n)=>{const a=(0,r.EW)(()=>e.value.length&&(""!==t.filter||t.filterMethod)?e.value.filter(e=>e.cells.some(e=>{if("function"===typeof t.filterMethod)return t.filterMethod(e.source,e);const n=new RegExp(t.filter,"i");return n.test(e.value)})):e.value),o=zc(a,t);return(0,r.wB)(o,()=>{n("filtered",{items:o.value.map(e=>e.source),itemsIndexes:o.value.map(e=>e.initialIndex)})}),a.value.length!==e.value.length&&n("filtered",{items:a.value.map(e=>e.source),itemsIndexes:a.value.map(e=>e.initialIndex)}),{filteredRows:o}},vd={...jc,sortBy:{type:String},columnSorted:{type:Object},sortingOrder:{type:[String,null]},disableClientSideSorting:{type:Boolean,default:!1}},md=(e,t,n,a)=>{const o=(0,l.KR)(""),i=(0,r.EW)({get(){return void 0===n.sortBy?o.value:n.sortBy},set(e){void 0===n.sortBy&&(o.value=e),a("update:sortBy",e)}}),s=(0,l.KR)(null),u=(0,r.EW)({get(){return void 0===n.sortingOrder?s.value:n.sortingOrder},set(e){void 0===n.sortingOrder&&(s.value=e),a("update:sortingOrder",e)}}),c=(e,t)=>{if("string"===typeof e&&"string"===typeof t)return e.localeCompare(t);if("number"===typeof e&&"number"===typeof t)return e-t;const n=parseFloat(e),r=parseFloat(t);return isNaN(n)||isNaN(r)?isNaN(n)?isNaN(r)?0:1:-1:n-r},d=(0,r.EW)(()=>{if(n.disableClientSideSorting)return t.value;if(t.value.length<=1)return t.value;const r=e.value.findIndex(({name:e,sortable:t})=>i.value===e&&t),a=e.value[r];if(!a)return t.value;const o="desc"===u.value?-1:1;return[...t.value].sort((e,t)=>{if(null===u.value)return e.initialIndex-t.initialIndex;{const n=e.cells[r].source,i=t.cells[r].source;return o*("function"===typeof a.sortingFn?a.sortingFn(n,i):c(n,i))}})});(0,r.wB)(d,()=>{a("sorted",{sortBy:i.value,sortingOrder:u.value,items:d.value.map(e=>e.source),itemsIndexes:d.value.map(e=>e.initialIndex)})});const h=(e,t)=>{const n=t.findIndex(t=>t===e);return-1!==n?t[(n+1)%t.length]:t[0]};function f(e){let t;e.name===i.value?t=h(u.value,e.sortingOptions):(i.value=e.name,t=e.sortingOptions[0]),u.value=t,a("columnSorted",{columnName:e.name,value:t,column:e})}const p=Gc(f,n),v=(0,r.EW)(()=>"asc"===u.value?"va-sort-asc":"desc"===u.value?"va-sort-desc":"va-unsorted");return{sortBySync:i,sortingOrderSync:u,toggleSorting:p,sortedRows:d,sortingOrderIconName:v}},gd=e=>{const t=(0,l.R1)(e);return Lr(t)},yd=()=>{const e=(0,l.IJ)();return(0,r.EW)({get(){return gd(e)},set(t){e.value=t}})},bd={scrollTopMargin:{type:[Number,String],default:0},scrollBottomMargin:{type:[Number,String],default:0}},wd=["scroll:top","scroll:bottom"],_d=(e,t)=>{var n;const a=null==(n=(0,r.nI)())?void 0:n.vnode.props,o=void 0!==(null==a?void 0:a["onScroll:top"]),i=void 0!==(null==a?void 0:a["onScroll:bottom"]),s=yd(),l=yd(),u=yd(),c=je("scrollTopMargin"),d=je("scrollBottomMargin"),h=(0,r.EW)(()=>!!s.value),f=e=>{e.forEach(e=>{e.isIntersecting&&(e.target===l.value?t("scroll:top"):t("scroll:bottom"))})},p=(0,r.EW)(()=>{const e=[];return h.value&&(l.value&&e.push(l.value),u.value&&e.push(u.value)),e}),v=(0,r.EW)(()=>({root:s.value,rootMargin:`${c.value??0}px 0px ${d.value??0}px 0px`}));return ul(f,v,p),{scrollContainer:s,topTrigger:l,bottomTrigger:u,doRenderTopTrigger:o,doRenderBottomTrigger:i}},Ed={class:"va-data-table__table-tr"},Td={key:0,scope:"col",class:"va-data-table__table-th va-data-table__table-cell-select"},Sd=["title","onClick","onKeydown"],kd={class:"va-data-table__table-th-wrapper"},Cd={key:0},Rd=(0,r.pM)({name:"VaDataTableThRow",__name:"VaDataTableThRow",props:{...rd,selectMode:{type:String,default:"multiple"},allRowsSelected:{type:Boolean,default:!1},severalRowsSelected:{type:Boolean,default:!1},columns:{type:Array,required:!0},isFooter:{type:Boolean,default:!1},sortBySync:{type:String,required:!0},sortingOrderIconName:{type:String,required:!0},sortingOrderSync:{type:String,default:null},ariaSelectAllRowsLabel:Bn("$t:selectAllRows"),ariaSortColumnByLabel:Bn("$t:sortColumnBy")},emits:["toggleBulkSelection","toggleSorting"],setup(e,{emit:t}){const n=e,a=t,{t:o,tp:i}=Un(),{getFooterCSSVariables:s,getHeaderCSSVariables:u,getClass:c,getStyle:d}=id(n),h=e=>{const t=n.sortingOrderSync&&n.sortBySync===e.name?"asc"===n.sortingOrderSync?"ascending":"descending":"none",r=e.sortable?i(n.ariaSortColumnByLabel,{name:e.label}):void 0;return{"aria-sort":t,"aria-label":r}},f=e=>{n.isFooter&&!n.allowFooterSorting||!e.sortable||a("toggleSorting",e)},p=()=>a("toggleBulkSelection"),v=e=>[e.width?{minWidth:e.width,maxWidth:e.width}:{},n.isFooter?s(e):u(e),d(e.thStyle)],m=(0,r.EW)(()=>n.isFooter?"footer":"header"),g=(0,r.EW)(()=>"multiple"===n.selectMode);return(t,n)=>((0,r.uX)(),(0,r.CE)("tr",Ed,[t.$props.selectable?((0,r.uX)(),(0,r.CE)("th",Td,[g.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(mu),{key:0,class:"va-data-table__table-cell-checkbox","model-value":t.$props.severalRowsSelected?"idl":t.$props.allRowsSelected,"aria-label":(0,l.R1)(i)(t.$props.ariaSelectAllRowsLabel),"true-value":!0,"false-value":!1,color:t.$props.selectedColor,"indeterminate-value":"idl",indeterminate:"","onUpdate:modelValue":p},null,8,["model-value","aria-label","color"])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.columns,n=>((0,r.uX)(),(0,r.CE)("th",(0,r.v6)({key:n.name,scope:"col",class:["va-data-table__table-th",(0,l.R1)(c)(n.thClass)],title:n.thTitle,style:v(n)},h(n),{onClick:(0,Ze.D$)(e=>f(n),["exact"]),onKeydown:(0,Ze.jR)((0,Ze.D$)(e=>f(n),["stop"]),["enter"])}),[(0,r.Lk)("div",kd,[`${m.value}(${n.name})`in t.$slots?((0,r.uX)(),(0,r.CE)("span",Cd,[(0,r.RG)(t.$slots,`${m.value}(${n.name})`,(0,b._B)((0,r.Ng)({label:n.label,key:n.key})))])):(0,r.RG)(t.$slots,m.value,(0,b._B)((0,r.v6)({key:1},{label:n.label,key:n.key})),()=>[(0,r.Lk)("span",null,(0,b.v_)(n.label),1)]),n.sortable?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:2,class:(0,b.C4)(["va-data-table__table-th-sorting-icon",{active:e.sortBySync===n.name&&null!==e.sortingOrderSync}]),size:"small",role:n.sortable?"button":void 0,tabindex:n.sortable?0:-1,name:e.sortingOrderIconName,onSelectstart:(0,Ze.D$)(()=>{},["prevent"])},null,8,["class","role","tabindex","name"])):(0,r.Q3)("",!0)])],16,Sd))),128))]))}}),Id=Te(Rd),{isParsablePositiveMeasure:Ad,parseSizeValue:xd}=ma(),Od=(e,t)=>{const n=Ad(e);return!n&&V(`[va-virtual-scroller] ${t} should be number or parsable int greater or equal to 0. Provided: ${e}.`),n},Nd={horizontal:{type:Boolean,default:!1},itemSize:{type:[Number,String],default:0,validator:e=>Od(e,"itemSize")},wrapperSize:{type:[Number,String],default:100,validator:e=>"auto"===e||Od(e,"wrapperSize")}},Dd=(e,t)=>{const n=(0,l.IJ)(),a=(0,l.IJ)(),o=(0,r.EW)(()=>e.horizontal?"clientWidth":"clientHeight"),i=(0,r.EW)(()=>{var t;return"auto"===e.wrapperSize?(null==(t=a.value)?void 0:t[o.value])||0:xd(e.wrapperSize,s)}),s=(0,l.KR)(16),u=()=>{s.value=parseFloat(getComputedStyle(document.documentElement).fontSize),d()};jr("resize",u,!0);const c=(0,l.KR)(0),d=()=>{if(!n.value)return;const e=[],t=n.value.children,r=t.length;for(let a=0;a<r;a++){const t=n.value.children.item(a);t&&e.push(t[o.value])}c.value=r?Math.trunc(e.reduce((e,t)=>e+t,0)/(r-1)):0},h=(0,r.nI)();(0,r.sV)(()=>{var e,t;n.value||(n.value=null==(t=null==(e=null==h?void 0:h.parent)?void 0:e.refs)?void 0:t.list),d()}),(0,r.wB)(t,d),(0,r.wB)(i,d);let f=0;const p=(0,r.EW)(()=>{const t=xd(e.itemSize,s),n=Math.max(t,c.value,1),r=Math.abs(f/n*100-100);return r>5||0===f?(f=n,n):f});return{list:n,wrapper:a,itemSize:p,wrapperSize:i}},Ld={trackBy:{type:[String,Number,Function],default:""}},Pd=e=>{const t=(t,n,r)=>{if(e.trackBy&&t&&"object"===typeof t&&!Jr(e.trackBy)){const n=Array.isArray(t);let r;if(n&&!isNaN(+e.trackBy)&&(r=t[+e.trackBy]),n||(r=t[e.trackBy]),r||0===r)return r;V(`${n?"Index":"Key"} '${e.trackBy}' wasn't found in provided ${n?"array":"object"}: `,t)}return Jr(e.trackBy)?e.trackBy(t):r};return{getKey:t}},Md=(0,r.pM)({name:"VaVirtualScroller",__name:"VaVirtualScroller",props:{...Ld,...Nd,items:{type:Array,default:()=>[]},bench:{type:[Number,String],default:10,validator:e=>Number(e)>=0},disabled:{type:Boolean,default:!1},table:{type:Boolean,default:!1}},emits:["scroll:bottom"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.KR)(0),s=je("bench"),u=(0,r.EW)(()=>a.horizontal?"scrollLeft":"scrollTop"),c=()=>{h.value&&(i.value=h.value[u.value])};a.disabled||jr("scroll",c,!0);const{list:d,wrapper:h,itemSize:f,wrapperSize:p}=Dd(a,i),{getKey:v}=Pd(a),m=(e,t,n)=>v(e,t,n);(0,r.wB)(i,e=>{e+p.value===C.value&&o("scroll:bottom")});const g=(0,r.EW)(()=>Math.max(0,Math.floor(i.value/f.value)-s.value)),y=(0,r.EW)(()=>{var e;return(null==(e=a.items)?void 0:e.length)?a.disabled?a.items.length:Math.min(a.items.length-g.value,Math.ceil(p.value/f.value)+2*s.value):0}),w=(0,r.EW)(()=>g.value+y.value),_=(0,r.EW)(()=>{var e;return(null==(e=a.items)?void 0:e.length)?a.items.slice(g.value,w.value):[]}),E=(0,r.EW)(()=>a.horizontal?"width":"height"),T=(0,r.EW)(()=>a.table&&a.disabled),S=(0,r.EW)(()=>({[E.value]:T.value||!p.value?void 0:`${p.value}px`})),k=gr("va-virtual-scroller",()=>({...tr(a,["horizontal"])})),C=(0,r.EW)(()=>{var e;return((null==(e=a.items)?void 0:e.length)??0)*f.value}),R=(0,r.EW)(()=>({[E.value]:T.value?void 0:`${C.value}px`})),I=(0,r.EW)(()=>g.value*f.value),A=(0,r.EW)(()=>({transform:`translate${a.horizontal?"X":"Y"}(${I.value}px)`})),x=(0,r.EW)(()=>a.horizontal?"left":"top"),O=e=>{var t;(e||0===e)&&(null==(t=h.value)||t.scrollTo({[x.value]:e*f.value}))};return t({scrollToAttribute:x,virtualScrollTo:O}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"wrapper",ref:h,class:(0,b.C4)(["va-virtual-scroller",(0,l.R1)(k)]),style:(0,b.Tr)(S.value)},[(0,r.RG)(e.$slots,"content",(0,b._B)((0,r.Ng)({containerStyleComputed:R.value,listStyleComputed:A.value,renderBuffer:_.value,uniqueKey:m,currentListOffset:I.value})),()=>[(0,r.Lk)("div",{class:"va-virtual-scroller__container",style:(0,b.Tr)(R.value)},[(0,r.Lk)("div",{ref_key:"list",ref:d,role:"list",class:"va-virtual-scroller__list",style:(0,b.Tr)(A.value)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(_.value,(t,n)=>(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.v6)({key:m(t,n)},{item:t,index:g.value+n})))),128))],4)],4)])],6))}}),Vd=Te(Md),Fd={key:0,class:"va-inner-loading__overlay","aria-hidden":"true"},$d=(0,r.pM)({name:"VaInnerLoading",__name:"VaInnerLoading",props:{...mr,...De,color:{type:String},icon:{type:String,default:"va-loading"},size:{type:[Number,String],default:30}},setup(e){const t=e,{getColor:n}=Kt(),a=(0,r.EW)(()=>n(t.color)),o=(0,r.EW)(()=>({"va-inner-loading--active":t.loading})),i=(0,r.EW)(()=>({"aria-busy":t.loading}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-inner-loading",o.value],"aria-live":"polite"},i.value),[(0,r.RG)(e.$slots,"default"),e.$props.loading?((0,r.uX)(),(0,r.CE)("div",Fd,[(0,r.RG)(e.$slots,"loading",{},()=>[(0,r.bF)((0,l.R1)(Fn),{class:"va-inner-loading__spinner",spin:"counter-clockwise",color:a.value,size:e.$props.size,name:e.$props.icon},null,8,["color","size","name"])])])):(0,r.Q3)("",!0)],16))}}),Bd=Te($d),Wd={key:0},Ud={ref:"list",class:"va-data-table__table-tbody"},jd={key:"showNoDataHtml",class:"va-data-table__table-tr"},Gd={class:"va-data-table__table-td no-data",colspan:"99999"},zd=["innerHTML"],Hd={key:"showNoDataFilteredHtml",class:"va-data-table__table-tr"},Kd={class:"va-data-table__table-td no-data",colspan:"99999"},Xd=["innerHTML"],qd=["onClick","onDblclick","onContextmenu"],Qd={key:0,class:"va-data-table__grid-column-header"},Yd={key:0,class:"va-data-table__table-tr"},Jd=pr(Vd,["items","trackBy","horizontal","disabled","table"]),Zd=pr(Id),eh=(0,r.pM)({name:"VaDataTable",inheritAttrs:!1,__name:"VaDataTable",props:{...De,...Jd,...dd,...ud,...bd,...vd,...rd,...Fc,...fd,...Hc,...qc(),...Zc,...jc,...tr(Zd,["ariaSelectAllRowsLabel","ariaSortColumnByLabel"]),hoverable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingColor:{type:String,default:"primary"},noDataHtml:{type:String,default:"No items"},noDataFilteredHtml:{type:String,default:"No items match the provided filtering condition"},hideDefaultHeader:{type:Boolean,default:!1},footerClone:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},virtualScroller:{type:Boolean,default:!1},virtualTrackBy:{type:[String,Number],default:"initialIndex"},grid:{type:Boolean,default:!1},gridColumns:{type:[Number,String],default:0},wrapperSize:{type:[Number,String],default:"auto"},ariaSelectRowLabel:Bn("$t:selectRowByIndex")},emits:["update:modelValue","update:sortBy","update:sortingOrder","filtered","sorted","selectionChange","row:click","row:dblclick","row:contextmenu","columnSorted",...wd],setup(e,{emit:t}){const{tp:n}=Un(),a=e,o=t,{columnsComputed:i}=Uc(a),{rowsComputed:s}=Jc(i,a),{filteredRows:c}=pd(s,a,o),{sortBySync:d,sortingOrderSync:h,toggleSorting:f,sortedRows:p,sortingOrderIconName:v}=md(i,c,a,o),{paginatedRows:m}=Kc(p,a),{ctrlSelectRow:g,shiftSelectRows:y,toggleBulkSelection:w,isRowSelected:_,severalRowsSelected:E,allRowsSelected:T,toggleRowSelection:S}=ed(m,a,o),{CSSVariables:k,getCellCSSVariables:C,getClass:R,getStyle:I}=id(a),{getRowBind:A,getCellBind:x}=cd(a),O=hd(a,m),N=(0,r.EW)(()=>0===a.items.length),D=(0,r.EW)(()=>0===m.value.length),L=(e,t,n)=>{o(e,{event:t,item:n.source,itemIndex:n.initialIndex,row:n}),a.selectable&&a.grid&&S(n)},P=(0,r.EW)(()=>({...u(F,["class","style"]),class:tr(a,["striped","selectable","hoverable","clickable"])})),M=yr(Jd),V=(0,r.EW)(()=>({...M.value,items:m.value,trackBy:a.virtualTrackBy,disabled:!a.virtualScroller,table:!0})),F=(0,r.OA)(),$=(0,r.EW)(()=>({class:[{"va-data-table--sticky":a.stickyHeader||a.stickyFooter},{"va-data-table--scroll":!!a.height},{"va-data-table--virtual-scroller":K.value},{"va-data-table--grid":a.grid},F.class],style:[F.style],...V.value})),B=yr(Zd),W=(0,r.EW)(()=>({...B.value,columns:i.value,sortingOrderIconName:v.value,severalRowsSelected:E.value,sortingOrderSync:h.value,allRowsSelected:T.value,sortBySync:d.value})),{scrollContainer:U,topTrigger:j,bottomTrigger:G,doRenderTopTrigger:z,doRenderBottomTrigger:H}=_d(a,o),K=(0,r.EW)(()=>a.virtualScroller&&!a.grid),X=(0,r.EW)(()=>a.gridColumns||"var(--va-data-table-grid-tbody-columns)"),q=(e,t)=>t.displayFormatFn?t.displayFormatFn(e.value):e.value;return(t,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Vd),(0,r.v6)({class:"va-data-table"},$.value,{ref_key:"scrollContainer",ref:U,style:`--va-css-variables-selected-color: ${String((0,l.R1)(k).selectedColor)};--va-css-variables-hover-color: ${String((0,l.R1)(k).hoverColor)};--va-css-variables-table-height: ${String((0,l.R1)(k).tableHeight)};--va-css-variables-thead-bg: ${String((0,l.R1)(k).theadBg)};--va-css-variables-tfoot-bg: ${String((0,l.R1)(k).tfootBg)};--va-grid-columns-count: ${String(X.value)}`}),{content:(0,r.k6)(({uniqueKey:o,renderBuffer:s,currentListOffset:u,listStyleComputed:c,containerStyleComputed:d})=>[(0,r.bF)((0,l.R1)(Bd),{"aria-live":"polite",style:(0,b.Tr)(d),loading:e.loading,color:e.loadingColor},{default:(0,r.k6)(()=>[(0,l.R1)(z)?((0,r.uX)(),(0,r.CE)("div",{key:0,ref_key:"topTrigger",ref:j,class:"va-data-table__scroll-trigger"},null,512)):(0,r.Q3)("",!0),(0,r.Lk)("table",(0,r.v6)({class:"va-data-table__table",style:c},P.value),["colgroup"in t.$slots?((0,r.uX)(),(0,r.CE)("colgroup",Wd,[(0,r.RG)(t.$slots,"colgroup",(0,b._B)((0,r.Ng)((0,l.R1)(i))))])):(0,r.Q3)("",!0),(0,r.Lk)("thead",{class:(0,b.C4)(["va-data-table__table-thead",{"va-data-table__table-thead--sticky":t.$props.stickyHeader}]),style:(0,b.Tr)({top:K.value&&t.$props.stickyHeader?`-${u}px`:void 0})},[(0,r.RG)(t.$slots,"headerPrepend"),(0,r.RG)(t.$slots,"header",{},()=>[e.hideDefaultHeader?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Id),(0,r.v6)({key:0},W.value,{onToggleBulkSelection:(0,l.R1)(w),onToggleSorting:(0,l.R1)(f)}),(0,r.eX)({_:2},[(0,r.pI)(t.$slots,(e,n)=>({name:n,fn:(0,r.k6)(e=>[(0,r.RG)(t.$slots,n,(0,b._B)((0,r.Ng)(e)))])}))]),1040,["onToggleBulkSelection","onToggleSorting"]))]),(0,r.RG)(t.$slots,"headerAppend")],6),(0,r.Lk)("tbody",Ud,[(0,r.RG)(t.$slots,"bodyPrepend"),(0,r.bF)(Ze.F,{name:K.value?"":(0,l.R1)(O),css:!t.$props.virtualScroller,appear:!t.$props.virtualScroller},{default:(0,r.k6)(()=>[N.value?((0,r.uX)(),(0,r.CE)("tr",jd,[(0,r.Lk)("td",Gd,[(0,r.RG)(t.$slots,"no-data",{},()=>[(0,r.Lk)("div",{innerHTML:e.noDataHtml},null,8,zd)])])])):D.value?((0,r.uX)(),(0,r.CE)("tr",Hd,[(0,r.Lk)("td",Kd,[(0,r.RG)(t.$slots,"no-filtered-data",{},()=>[(0,r.RG)(t.$slots,"no-data",{},()=>[(0,r.Lk)("div",{innerHTML:e.noDataFilteredHtml},null,8,Xd)])])])])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s,(e,s)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:`table-row_${o(e,s)}`},[(0,r.Lk)("tr",(0,r.v6)({class:["va-data-table__table-tr",[{selected:(0,l.R1)(_)(e),"va-data-table__table-tr--expanded":e.isExpandableRowVisible}]]},(0,l.R1)(A)(e),{onClick:t=>L("row:click",t,e),onDblclick:t=>L("row:dblclick",t,e),onContextmenu:t=>L("row:contextmenu",t,e)}),[t.selectable&&!t.$props.grid?((0,r.uX)(),(0,r.CE)("td",{class:"va-data-table__table-td va-data-table__table-cell-select",key:`selectable_${o(e,s)}`,onSelectstart:a[0]||(a[0]=(0,Ze.D$)(()=>{},["prevent"]))},[(0,r.bF)((0,l.R1)(mu),{class:"va-data-table__table-cell-checkbox","model-value":(0,l.R1)(_)(e),color:t.selectedColor,"aria-label":(0,l.R1)(n)(t.$props.ariaSelectRowLabel,{index:e.initialIndex}),onClick:[(0,Ze.D$)(t=>(0,l.R1)(y)(e),["shift","exact","stop"]),(0,Ze.D$)(t=>(0,l.R1)(g)(e),["ctrl","exact","stop"]),(0,Ze.D$)(t=>(0,l.R1)(g)(e),["exact","stop"])]},null,8,["model-value","color","aria-label","onClick"])],32)):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.cells,(n,a)=>((0,r.uX)(),(0,r.CE)("td",(0,r.v6)({key:`table-cell_${n.column.name+n.rowIndex}`,class:["va-data-table__table-td",(0,l.R1)(R)(n.column.tdClass)],style:[n.column.width?{minWidth:n.column.width,maxWidth:n.column.width}:{},(0,l.R1)(C)(n),(0,l.R1)(I)(n.column.tdStyle)]},(0,l.R1)(x)(n,e)),[`cell(${n.column.name})`in t.$slots?(0,r.RG)(t.$slots,`cell(${n.column.name})`,(0,b._B)((0,r.v6)({key:0},{...n,row:e,isExpanded:e.isExpandableRowVisible}))):(0,r.RG)(t.$slots,"cell",(0,b._B)((0,r.v6)({key:1},{cell:n,row:e})),()=>[t.$props.grid?((0,r.uX)(),(0,r.CE)("span",Qd,(0,b.v_)((0,l.R1)(i)[a].label),1)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,b.v_)(q(n,(0,l.R1)(i)[a])),1)])],16))),128))],16,qd),e.isExpandableRowVisible?((0,r.uX)(),(0,r.CE)("tr",Yd,[((0,r.uX)(),(0,r.CE)("td",{class:"va-data-table__table-expanded-content",colspan:"99999",key:o(e,s)},[(0,r.RG)(t.$slots,"expandableRow",(0,b._B)((0,r.Ng)(e)))]))])):(0,r.Q3)("",!0)],64))),128))]),_:2},1032,["name","css","appear"]),(0,r.RG)(t.$slots,"bodyAppend")],512),["footer","footerPrepend","footerAppend"].some(e=>t.$slots[e])||e.footerClone&&!t.$props.grid?((0,r.uX)(),(0,r.CE)("tfoot",{key:1,class:(0,b.C4)(["va-data-table__table-tfoot",{"va-data-table__table-tfoot--sticky":t.$props.stickyFooter}]),style:(0,b.Tr)({bottom:K.value&&t.$props.stickyFooter?`${u}px`:void 0})},[(0,r.RG)(t.$slots,"footerPrepend"),(0,r.RG)(t.$slots,"footer",{},()=>[e.hideDefaultHeader?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Id),(0,r.v6)({key:0},W.value,{"is-footer":"",onToggleBulkSelection:(0,l.R1)(w),onToggleSorting:(0,l.R1)(f)}),(0,r.eX)({_:2},[(0,r.pI)(t.$slots,(e,n)=>({name:n,fn:(0,r.k6)(e=>[(0,r.RG)(t.$slots,n,(0,b._B)((0,r.Ng)(e)))])}))]),1040,["onToggleBulkSelection","onToggleSorting"]))]),(0,r.RG)(t.$slots,"footerAppend")],6)):(0,r.Q3)("",!0)],16),(0,l.R1)(H)?((0,r.uX)(),(0,r.CE)("div",{key:1,ref_key:"bottomTrigger",ref:G,class:"va-data-table__scroll-trigger"},null,512)):(0,r.Q3)("",!0)]),_:2},1032,["style","loading","color"])]),_:3},16,["style"]))}}),th=Te(eh),nh=e=>null!==e&&("object"===typeof e&&("start"in e||"end"in e)),rh=(e,t)=>{const n=(0,l.KR)(e.value),a=(0,r.EW)({get:()=>n.value,set:r=>{t.value&&(e.value=r),r?(nh(r)?null!==r.end&&(e.value=r):e.value=r,n.value=r):e.value=r}});(0,r.wB)(e,e=>{n.value=e});const o=()=>{n.value&&nh(n.value)&&(n.value=e.value)};return{valueComputed:a,reset:o}},ah=e=>"[object Date]"===Object.prototype.toString.call(e),oh=e=>new Date(Date.parse(e)),ih=e=>ah(e)&&!isNaN(e.getTime()),sh=e=>{const t=t=>{const n=t.split(e.delimiter);return!(n.length<2)&&n.every(t=>{const n=(e.parseDate||oh)(t);return ih(n)})},n=t=>t.includes(e.rangeDelimiter),r=(0,l.KR)(!0),a=t=>{const n=t.split("."),a=3===(null==n?void 0:n.length)?n.reverse().join("-"):t,o=(e.parseDate||oh)(a);return r.value=ih(o),o},o=o=>{if(r.value=!0,e.parse)return e.parse(o,r);if(t(o))return o.split(e.delimiter).map(a);if(n(o)){const[t,n]=o.split(e.rangeDelimiter).map(a);return{start:t,end:n}}return a(o)};return{parseDateInputValue:o,isValid:r}},lh=e=>{const t=Date.parse(e);return!isNaN(t)&&!e.includes(" ")},uh=e=>e.endsWith("GMT"),ch=e=>{const t=new Date(e);return!isNaN(t.getTime())},dh=(e,t)=>uh(t)?e.toUTCString():lh(t)?e.toISOString():ch(t)?e.toString():null,hh=e=>null!==e&&("object"===typeof e&&("start"in e||"end"in e)),fh=e=>null!==e&&Array.isArray(e),ph=e=>null!==e&&("string"===typeof e||"number"===typeof e||e instanceof Date),vh=(e,t,n,a,o)=>{const i=(e,t)=>{if(o)return o(t);if("string"===typeof e){const n=dh(t,e);return n||a(t)}return"number"===typeof e?t.getTime():t},s=e=>e instanceof Date?e:new Date(e),l=(0,r.EW)(()=>null===e.value||void 0===e.value?null:"string"===typeof e.value?n(e.value):"number"===typeof e.value?new Date(e.value):e.value),u=(0,r.EW)({get:()=>{if(null===l.value||void 0===l.value)return null;if(fh(l.value))return l.value.map(s);if(hh(l.value)){const{start:e,end:t}=l.value;return{start:e?s(e):null,end:t?s(t):null}}return s(l.value)},set(t){var n,r;if(null!==t&&void 0!==t){if(fh(t)&&(fh(e.value)||N(e.value))){const n=e.value;return void(e.value=t.map((e,t)=>i((null==n?void 0:n[t])||(null==n?void 0:n[0]),e)))}if(hh(t)&&(hh(e.value)||N(e.value))){const{start:a,end:o}=t;return void(e.value={start:a?i(null==(n=e.value)?void 0:n.start,a):null,end:o?i(null==(r=e.value)?void 0:r.start,o):null})}if(!ph(t)||!ph(e.value)&&!N(e.value))throw new Error("Input date is not the same as date from props");e.value=i(e.value,t)}else e.value=t}}),c=(0,r.EW)({get:()=>null===u.value||void 0===u.value?"":a(u.value),set:t=>{e.value=n(t)}});return{text:c,normalized:u}},mh=(e,t)=>(null==e?void 0:e.toDateString())===(null==t?void 0:t.toDateString()),gh=(e,t)=>(null==e?void 0:e.getFullYear())===(null==t?void 0:t.getFullYear()),yh=(e,t)=>gh(e,t)&&(null==e?void 0:e.getMonth())===(null==t?void 0:t.getMonth()),bh=e=>{const t=new Date;return t.setFullYear(e),t},wh=e=>null!==e&&("object"===typeof e&&("start"in e||"end"in e)),_h=e=>ah(e),Eh=e=>Array.isArray(e),Th=0,Sh=11,kh=e=>e.month===Sh?{...e,year:e.year+1,month:Th}:{...e,month:e.month+1},Ch=e=>e.month===Th?{...e,year:e.year-1,month:Sh}:{...e,month:e.month-1},Rh=e=>ah(e)?e:ah(null==e?void 0:e.start)?e.start:Array.isArray(e)&&ah(e[0])?e[0]:new Date,Ih=(e,t,n)=>{const a=Rh(e.modelValue),o={type:"day",year:a.getFullYear(),month:a.getMonth(),...n},i=(0,l.KR)(o),s=(0,r.EW)({get(){return{...i.value,...e.view}},set(e){i.value=e,t("update:view",e)}}),u=()=>{"day"===s.value.type?s.value=kh(s.value):"month"===s.value.type&&(s.value={...s.value,year:s.value.year+1})},c=()=>{"day"===s.value.type?s.value=Ch(s.value):"month"===s.value.type&&(s.value={...s.value,year:s.value.year-1})};return{syncView:s,next:u,prev:c}},Ah=["onKeypress"],xh=(0,r.pM)({name:"VaDatePickerCell",__name:"VaDatePickerCell",props:{otherMonth:{type:Boolean,default:!1},today:{type:Boolean,default:!1},inRange:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},weekend:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},highlightWeekend:{type:Boolean,default:!1},highlightToday:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["click"],setup(e,{emit:t}){const n=e,a=t,o=()=>{n.disabled||a("click")},{getColor:i}=Kt(),s=(0,r.EW)(()=>i(n.color)),{textColorComputed:u}=Xt(s);return(t,n)=>e.hidden?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-date-picker-cell va-date-picker-cell_clear",style:(0,b.Tr)(`--va-bg: ${String(s.value)};--va-text-color-computed: ${String((0,l.R1)(u))}`)},null,4)):((0,r.uX)(),(0,r.CE)("div",{key:1,class:(0,b.C4)(["va-date-picker-cell",{"va-date-picker-cell_other-month":e.otherMonth,"va-date-picker-cell_today":e.highlightToday&&e.today,"va-date-picker-cell_in-range":e.inRange,"va-date-picker-cell_disabled":e.disabled,"va-date-picker-cell_highlighted-weekend":e.highlightWeekend&&e.weekend,"va-date-picker-cell_selected":e.selected,"va-date-picker-cell_focused":e.focused,"va-date-picker-cell_readonly":e.readonly}]),onClick:o,onKeypress:(0,Ze.jR)((0,Ze.D$)(o,["prevent","stop"]),["space","enter"]),style:(0,b.Tr)(`--va-bg: ${String(s.value)};--va-text-color-computed: ${String((0,l.R1)(u))}`)},[(0,r.RG)(t.$slots,"default")],46,Ah))}});function Oh(e){return void 0===e}const Nh=({rowSize:e,start:t,end:n,onSelected:r,onFocusIndex:a})=>{const o=(0,l.KR)(-1);let i=!1;const s=()=>{i=!0},u=()=>{if(i)return;i=!1;const e=void 0===a?(0,l.R1)(t)||0:(0,l.R1)(a);o.value=e},c=()=>{i=!1,o.value=-1},d=a=>{if(["ArrowRight","ArrowLeft","ArrowDown","ArrowUp","Enter","Space"].includes(a.key)&&(a.preventDefault(),a.stopPropagation()),"Enter"!==a.key&&"Space"!==a.key)"ArrowRight"===a.key&&(o.value+=1),"ArrowLeft"===a.key&&(o.value-=1),"ArrowDown"===a.key&&(o.value+=e),"ArrowUp"===a.key&&(o.value-=e),!Oh(t)&&o.value<(0,l.R1)(t)&&(o.value=(0,l.R1)(t)),!Oh(n)&&o.value>(0,l.R1)(n)-1&&(o.value=(0,l.R1)(n)-1);else{if(void 0===r)return;r(o.value)}},h={onFocus:u,onKeydown:d,onBlur:c,onMousedown:s,tabindex:0};return{focusedCellIndex:o,containerAttributes:h}},Dh=(e,t)=>{if("single"===t)return e;if("range"===t)return{start:e,end:null};if("multiple"===t)return[e];if("auto"===t)return e;throw new Error("Unknown mode")},Lh=(e,t)=>{throw Error(`Incorrect modelValue for mode ${t}. Got ${JSON.stringify(e)}`)},Ph=e=>_h(e)?"single":wh(e)?"range":Eh(e)?"multiple":Lh(e,"auto"),Mh=e=>e.start&&e.end&&e.start>e.end?{start:e.end,end:e.start}:e,Vh=(e,t,n)=>{const r=r=>{if(!e.modelValue)return void t("update:modelValue",Dh(r,e.mode));const a="auto"===e.mode?Ph(e.modelValue):e.mode;if("single"===a){if(!_h(e.modelValue))return Lh(e.modelValue,a);t("update:modelValue",r)}else if("range"===a){if(!wh(e.modelValue))return Lh(e.modelValue,a);if(e.modelValue.end&&n(e.modelValue.end,r))return t("update:modelValue",{start:e.modelValue.start,end:null});if(e.modelValue.start&&n(e.modelValue.start,r))return t("update:modelValue",{start:null,end:e.modelValue.end});if(null===e.modelValue.end)return t("update:modelValue",Mh({start:e.modelValue.start,end:r}));if(null===e.modelValue.start)return t("update:modelValue",Mh({end:e.modelValue.end,start:r}));t("update:modelValue",{start:r,end:null})}else if("multiple"===a){if(!Eh(e.modelValue))return Lh(e.modelValue,a);const o=!!e.modelValue.find(e=>n(e,r));t("update:modelValue",o?e.modelValue.filter(e=>!n(e,r)):[...e.modelValue,r].sort((e,t)=>e.getTime()-t.getTime()))}};return{updateModelValue:r}},Fh=e=>({month:yh,day:mh,year:gh}[e]),$h=(e,t,n,a)=>{const o=Fh(e),i=n.allowedDays||n.allowedMonths||n.allowedYears,s=e=>void 0!==i&&!i(e),u=(0,l.KR)(-1),c=(0,r.EW)(()=>t.value[u.value]),{updateModelValue:d}=Vh(n,a,o),h=t=>{n.readonly||s(t)||(d(t),a(`click:${e}`,t))},f=e=>{const t=new Date;return o(t,e)},p=e=>!!n.modelValue&&(_h(n.modelValue)?o(n.modelValue,e):Eh(n.modelValue)?!!n.modelValue.find(t=>o(t,e)):!!wh(n.modelValue)&&(o(n.modelValue.start,e)||o(n.modelValue.end,e))),v=e=>{if(!n.modelValue)return!1;if(!wh(n.modelValue))return!1;if(n.modelValue.start&&n.modelValue.end)return n.modelValue.start<e&&n.modelValue.end>e;const t=n.modelValue.start||n.modelValue.end;return!!t&&(!!c.value&&(t<e?c.value>=e:c.value<=e))};return(0,r.wB)(c,t=>{a(`hover:${e}`,t)}),{hoveredIndex:u,hoveredValue:c,onClick:h,isToday:f,isSelected:p,isInRange:v}},Bh=(e,t)=>new Date(e,t+1,0).getDate(),Wh=(e,t)=>new Date(e,t,1).getDay(),Uh=e=>Array.from(Array(e).keys()).map(e=>e+1),jh=(e,t)=>{const n=6,a=e=>{var n;return t&&(null==(n=t.firstWeekday)?void 0:n.value)&&"monday"===t.firstWeekday.value.toLowerCase()?0===e?6:e-1:e},o=(0,r.EW)(()=>a(Wh(e.value.year,e.value.month))),i=()=>{if(0===o.value)return[];const t=Bh(e.value.year,e.value.month-1),n=Uh(t);return n.slice(-o.value).map(t=>new Date(e.value.year,e.value.month-1,t))},s=()=>{const t=Uh(Bh(e.value.year,e.value.month));return t.map(t=>new Date(e.value.year,e.value.month,t))},l=(0,r.EW)(()=>[...i(),...s()]),u=(0,r.EW)(()=>l.value.length),c=(0,r.EW)(()=>{const t=l.value,r=7*n-t.length,a=Bh(e.value.year,e.value.month+1),o=Uh(a);return[...t,...o.slice(0,r).map(t=>new Date(e.value.year,e.value.month+1,t))]});return{calendarDates:c,currentMonthStartIndex:o,currentMonthEndIndex:u}},Gh=["onMouseenter"],zh={class:"va-date-picker-cell__day"},Hh=(0,r.pM)({name:"VaDayPicker",__name:"VaDayPicker",props:{monthNames:{type:Array,required:!0},weekdayNames:{type:Array,required:!0},firstWeekday:{type:String,default:"Sunday"},hideWeekDays:{type:Boolean,default:!1},view:{type:Object,default:()=>({type:"day"})},modelValue:{type:[Date,Array,Object]},mode:{type:String,default:"auto"},showOtherMonths:{type:Boolean,default:!1},allowedDays:{type:Function},weekends:{type:Function},highlightWeekend:{type:Boolean,default:!1},highlightToday:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:day","click:day"],setup(e,{emit:t}){const n=e,a=t,{firstWeekday:o,weekdayNames:i,view:s}=(0,l.QW)(n),{calendarDates:u,currentMonthStartIndex:c,currentMonthEndIndex:d}=jh(s,{firstWeekday:o}),h=(0,r.EW)(()=>"sunday"===o.value.toLowerCase()?i.value:[...i.value.slice(1),i.value[0]]),{hoveredIndex:f,onClick:p,isToday:v,isSelected:m,isInRange:g}=$h("day",u,n,a),y=(0,r.EW)(()=>n.showOtherMonths?0:c.value),w=(0,r.EW)(()=>n.showOtherMonths?u.value.length:d.value),{focusedCellIndex:_,containerAttributes:E}=Nh({rowSize:7,start:y,end:w,onSelected:e=>p(u.value[e])});(0,r.wB)(_,e=>{f.value=e}),(0,r.wB)(f,e=>{_.value=e});const T=e=>n.view.month!==e.getMonth(),S=e=>void 0!==n.allowedDays&&!n.allowedDays(e),k=e=>void 0===n.weekends?6===e.getDay()||0===e.getDay():n.weekends(e);return(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:"va-day-picker"},(0,l.R1)(E)),[e.hideWeekDays?(0,r.Q3)("",!0):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(h.value,e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"va-day-picker__weekday"},[(0,r.RG)(t.$slots,"weekday",{},()=>[(0,r.eW)((0,b.v_)(e),1)])]))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(u),(a,o)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-day-picker__calendar__day-wrapper",key:o,onMouseenter:e=>f.value=o,onMouseleave:n[0]||(n[0]=e=>f.value=-1)},[(0,r.bF)(xh,{hidden:T(a)&&!e.showOtherMonths,today:(0,l.R1)(v)(a),selected:(0,l.R1)(m)(a),"in-range":(0,l.R1)(g)(a),"other-month":T(a),weekend:k(a),disabled:S(a),focused:(0,l.R1)(f)===o,"highlight-today":e.highlightToday,"highlight-weekend":e.highlightWeekend,readonly:t.$props.readonly,color:e.color,onClick:e=>{(0,l.R1)(p)(a),_.value=o}},{default:(0,r.k6)(()=>[(0,r.Lk)("span",zh,[(0,r.RG)(t.$slots,"day",(0,b._B)((0,r.Ng)({date:a})),()=>[(0,r.eW)((0,b.v_)(a.getDate()),1)])])]),_:2},1032,["hidden","today","selected","in-range","other-month","weekend","disabled","focused","highlight-today","highlight-weekend","readonly","color","onClick"])],40,Gh))),128))],16))}}),Kh={key:0,class:"va-date-picker-header va-date-picker__header"},Xh={class:"va-date-picker__header__text"},qh={class:"va-date-picker__header__month"},Qh=(0,r.pM)({name:"VaDatePickerHeader",__name:"VaDatePickerHeader",props:{monthNames:{type:Array,required:!0},view:{type:Object},color:{type:String},disabled:{type:Boolean,default:!1},ariaNextPeriodLabel:Bn("$t:nextPeriod"),ariaPreviousPeriodLabel:Bn("$t:previousPeriod"),ariaSwitchViewLabel:Bn("$t:switchView")},emits:["update:view"],setup(e,{emit:t}){const n=e,a=t,{syncView:o,prev:i,next:s}=Ih(n,a),u=()=>{"day"===o.value.type?o.value={...o.value,type:"month"}:"month"===o.value.type&&(o.value={...o.value,type:"year"})},c=e=>{o.value=e},d=qt(an(on())),{tp:h}=Un();return(t,n)=>"year"!==(0,l.R1)(o).type?((0,r.uX)(),(0,r.CE)("div",Kh,[(0,r.RG)(t.$slots,"buttonPrev",(0,b._B)((0,r.Ng)({onClick:(0,l.R1)(i)})),()=>[(0,r.bF)((0,l.R1)(na),{"va-child":"prevButton",disabled:t.$props.disabled,icon:"va-arrow-left",preset:"plain",size:"small",color:e.color,textColor:(0,l.R1)(d),"aria-label":(0,l.R1)(h)(t.$props.ariaPreviousPeriodLabel),round:"",onClick:(0,l.R1)(i)},null,8,["disabled","color","textColor","aria-label","onClick"])]),(0,r.Lk)("div",Xh,[(0,r.RG)(t.$slots,"header",(0,b._B)((0,r.Ng)({year:(0,l.R1)(o).year,month:(0,l.R1)(o).month,monthNames:e.monthNames,view:(0,l.R1)(o),changeView:c,switchView:u})),()=>[(0,r.bF)((0,l.R1)(na),{"va-child":"middleButton",disabled:t.$props.disabled,preset:"plain",size:"small",color:e.color,textColor:(0,l.R1)(d),"aria-label":(0,l.R1)(h)(t.$props.ariaSwitchViewLabel),onClick:u},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"year",(0,b._B)((0,r.Ng)({year:(0,l.R1)(o).year})),()=>[(0,r.eW)((0,b.v_)((0,l.R1)(o).year),1)]),"day"===(0,l.R1)(o).type?(0,r.RG)(t.$slots,"month",(0,b._B)((0,r.v6)({key:0},{month:(0,l.R1)(o).month})),()=>[(0,r.Lk)("span",qh,(0,b.v_)(e.monthNames[(0,l.R1)(o).month]),1)]):(0,r.Q3)("",!0)]),_:3},8,["disabled","color","textColor","aria-label"])])]),(0,r.RG)(t.$slots,"buttonNext",(0,b._B)((0,r.Ng)({onClick:(0,l.R1)(s)})),()=>[(0,r.bF)((0,l.R1)(na),{"va-child":"nextButton",disabled:t.$props.disabled,icon:"va-arrow-right",preset:"plain",size:"small",color:e.color,textColor:(0,l.R1)(d),"aria-label":(0,l.R1)(h)(t.$props.ariaNextPeriodLabel),onClick:(0,l.R1)(s),round:""},null,8,["disabled","color","textColor","aria-label","onClick"])])])):(0,r.Q3)("",!0)}}),Yh=["onMouseenter"],Jh=(0,r.pM)({name:"VaMonthPicker",__name:"VaMonthPicker",props:{modelValue:{type:[Date,Array,Object]},monthNames:{type:Array,required:!0},view:{type:Object,default:()=>({type:"month"})},allowedMonths:{type:Function,default:void 0},highlightToday:{type:Boolean,default:!0},mode:{type:String,default:"auto"},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:month","click:month"],setup(e,{emit:t}){const n=e,a=t,{view:o}=(0,l.QW)(n),i=(0,r.EW)(()=>Array.from(Array(12).keys()).map(e=>new Date(o.value.year,e))),{hoveredIndex:s,onClick:u,isToday:c,isSelected:d,isInRange:h}=$h("month",i,n,a),f=e=>void 0!==n.allowedMonths&&!n.allowedMonths(e),{focusedCellIndex:p,containerAttributes:v}=Nh({rowSize:3,start:0,end:i.value.length,onSelected:e=>u(i.value[e])});return(0,r.wB)(p,e=>{s.value=e}),(0,r.wB)(s,e=>{p.value=e}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:"va-month-picker"},(0,l.R1)(v)),[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.value,(a,o)=>((0,r.uX)(),(0,r.CE)("div",{key:o,class:"va-month-picker__month-wrapper",onMouseenter:e=>s.value=o,onMouseleave:n[0]||(n[0]=e=>s.value=-1)},[(0,r.bF)(xh,{"in-range":!!(0,l.R1)(h)(a),selected:!!(0,l.R1)(d)(a),disabled:!!f(a),today:!!(0,l.R1)(c)(a),focused:(0,l.R1)(s)===o,"highlight-today":e.highlightToday,readonly:t.$props.readonly,color:e.color,onClick:e=>{(0,l.R1)(u)(a),p.value=o}},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"month",(0,b._B)((0,r.Ng)({monthIndex:o,month:e.monthNames[o]})),()=>[(0,r.eW)((0,b.v_)(e.monthNames[o]),1)])]),_:2},1032,["in-range","selected","disabled","today","focused","highlight-today","readonly","color","onClick"])],40,Yh))),128))],16))}}),Zh=(0,r.pM)({name:"VaYearPicker",__name:"VaYearPicker",props:{modelValue:{type:[Date,Array,Object]},allowedYears:{type:Function,default:void 0},highlightToday:{type:Boolean,default:!0},startYear:{type:[Number,String],default:1970},mode:{type:String,default:"auto"},view:{type:Object,default:()=>({type:"year"})},endYear:{type:[Number,String],default:()=>(new Date).getFullYear()+50},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:year","click:year"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),{view:i}=(0,l.QW)(n),s=(e,t)=>{const n=t-e+1;return Array.from(Array(n).keys()).map(t=>bh(e+t))},u=je("startYear"),c=je("endYear"),d=(0,r.EW)(()=>s(u.value,c.value)),h=e=>{if(!o.value)return;const t=o.value.scrollHeight,n=o.value.offsetHeight,r=t/d.value.length*e,a=t/d.value.length,i=r-o.value.scrollTop;i<0?o.value.scrollTo({top:r}):i>n&&o.value.scrollTo({top:r-n+a})},f=e=>{if(!o.value)return;const t=o.value.scrollHeight,n=o.value.offsetHeight,r=t/d.value.length*e;o.value.scrollTo({top:r-n/2})};(0,r.sV)(()=>{const e=d.value.findIndex(e=>e.getFullYear()===i.value.year);f(e)});const{hoveredIndex:p,onClick:v,isToday:m,isSelected:g,isInRange:y}=$h("year",d,n,a),w=e=>void 0!==n.allowedYears&&!n.allowedYears(e),{focusedCellIndex:_,containerAttributes:E}=Nh({rowSize:1,start:0,end:d.value.length,onFocusIndex:(0,r.EW)(()=>d.value.findIndex(e=>e.getFullYear()===i.value.year)),onSelected:e=>v(d.value[e])});return(0,r.wB)(_,e=>-1!==e&&h(e)),(0,r.wB)(_,e=>{p.value=e}),(0,r.wB)(p,e=>{_.value=e}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({ref_key:"rootNode",ref:o,class:"va-year-picker"},(0,l.R1)(E),{onKeydown:n[1]||(n[1]=(0,Ze.jR)((0,Ze.D$)(()=>{},["prevent"]),["space"]))}),[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.value,(a,o)=>((0,r.uX)(),(0,r.Wv)(xh,{key:a.toString(),"in-range":(0,l.R1)(y)(a),selected:(0,l.R1)(g)(a),disabled:w(a),today:(0,l.R1)(m)(a),focused:(0,l.R1)(_)===o,"highlight-today":e.highlightToday,readonly:t.$props.readonly,color:e.color,onClick:e=>{(0,l.R1)(v)(a),_.value=o},onMouseenter:e=>p.value=o,onMouseleave:n[0]||(n[0]=e=>p.value=-1)},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)(a.getFullYear()),1)]),_:2},1032,["in-range","selected","disabled","today","focused","highlight-today","readonly","color","onClick","onMouseenter"]))),128))],16))}}),ef={class:"va-date-picker__picker-wrapper"},tf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nf=["SU","MO","TU","WE","TH","FR","SA"],rf=(0,r.pM)({name:"VaDatePicker",__name:"VaDatePicker",props:{...h({prevButton:na,nextButton:na,middleButton:na}),...Ae,...De,...pr(Qh),...pr(Hh),...pr(Jh),...pr(Zh),modelValue:{type:[Date,Array,Object]},monthNames:{type:Array,default:tf},weekdayNames:{type:Array,default:nf},view:{type:Object},type:{type:String,default:"day"},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:String,default:void 0},weekendsColor:{type:String,default:void 0}},emits:[...Oe,...vr(Qh),...vr(Zh),...vr(Hh),...vr(Jh)],setup(e,{expose:t,emit:n}){const a=e;f(a);const o=n,i=(0,l.KR)(),{valueComputed:s}=Ne(a,o),{syncView:u}=Ih(a,o,{type:a.type}),c=(0,r.EW)(()=>({"va-date-picker_without-week-days":a.hideWeekDays,"va-date-picker_disabled":a.disabled})),d=e=>{a.readonly||"day"===a.type&&(s.value=e)},h=e=>{o("click:month",e);const t=e.getFullYear(),n=e.getMonth();"month"!==a.type&&(u.value={type:"day",year:t,month:n})},p=e=>{"month"===a.type&&(s.value=e)},v=e=>{o("click:year",e);const t=e.getFullYear();"year"!==a.type&&(u.value={type:"month",year:t,month:u.value.month})},m=e=>{"year"===a.type&&(s.value=e)},{colorsToCSSVariable:g}=Kt(),y=(0,r.EW)(()=>({...g({color:a.color,"weekends-color":a.weekendsColor},"va-date-picker")})),w=()=>{var e;return null==(e=i.value)?void 0:e.$el.focus()};(0,r.wB)(u,(e,t)=>{e.type!==t.type&&(0,r.dY)(w)});const _=e=>a.readonly&&a.type===e,E=yr(pr(Hh)),T=yr(pr(Qh)),S=yr(pr(Jh)),k=yr(pr(Zh));return t({focus:w,focusCurrentPicker:w}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-date-picker",c.value]),style:(0,b.Tr)(y.value)},[(0,r.bF)(Qh,(0,r.v6)((0,l.R1)(T),{view:(0,l.R1)(u),"onUpdate:view":t[0]||(t[0]=e=>(0,l.i9)(u)?u.value=e:null)}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["view"]),(0,r.Lk)("div",ef,["day"===(0,l.R1)(u).type?((0,r.uX)(),(0,r.Wv)(Hh,(0,r.v6)({key:0,ref_key:"currentPicker",ref:i},(0,l.R1)(E),{"model-value":(0,l.R1)(s),view:(0,l.R1)(u),readonly:e.$props.disabled||_("day"),"onUpdate:modelValue":d,"onHover:day":t[1]||(t[1]=t=>e.$emit("hover:day",t)),"onClick:day":t[2]||(t[2]=t=>e.$emit("click:day",t))}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["model-value","view","readonly"])):(0,r.Q3)("",!0),"month"===(0,l.R1)(u).type?((0,r.uX)(),(0,r.Wv)(Jh,(0,r.v6)({key:1,ref_key:"currentPicker",ref:i},(0,l.R1)(S),{view:(0,l.R1)(u),"model-value":(0,l.R1)(s),readonly:e.$props.disabled||_("month"),"onUpdate:modelValue":p,"onHover:month":t[3]||(t[3]=t=>e.$emit("hover:month",t)),"onClick:month":h}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["view","model-value","readonly"])):(0,r.Q3)("",!0),"year"===(0,l.R1)(u).type?((0,r.uX)(),(0,r.Wv)(Zh,(0,r.v6)({key:2,ref_key:"currentPicker",ref:i},(0,l.R1)(k),{view:(0,l.R1)(u),"model-value":(0,l.R1)(s),readonly:e.$props.disabled||_("year"),"onHover:year":t[4]||(t[4]=t=>e.$emit("hover:year",t)),"onUpdate:modelValue":m,"onClick:year":v}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["view","model-value","readonly"])):(0,r.Q3)("",!0)])],6))}}),af=pr(Ts,["innerAnchorSelector","stateful","keyboardNavigation","modelValue"]),of={...af,modelValue:{},closeOnChange:{type:Boolean,default:null},isOpen:{type:Boolean,default:void 0}},sf=["update:isOpen"],lf=function(e,t,n={}){const[a]=Fl("isOpen",e,t,!1),o=(0,r.EW)(()=>null!==e.closeOnChange?e.closeOnChange:(0,l.R1)(n.defaultCloseOnValueUpdate||!1));return(0,r.wB)(()=>e.modelValue,()=>{o.value&&(a.value=!1)}),{dropdownProps:yr(af),isOpenSync:a}},uf=":where(a, button, input, textarea, select):not([disabled]), *[tabindex]",cf=()=>{const e=Za(),t=Br(),n=Ml("trapInEl",null);let r=[],a=null,o=null;const i=e=>{var t;return(null==(t=n.value)?void 0:t.contains(e.target))||!1},s=()=>{null==a||a.focus()},l=()=>{null==o||o.focus()},u=t=>{var n,r;const u="Tab"===t.code,c=t.shiftKey;if(u)return i(t)?(null==(n=e.value)?void 0:n.activeElement)!==o||c?void((null==(r=e.value)?void 0:r.activeElement)===a&&c&&(t.preventDefault(),l())):(t.preventDefault(),void s()):(t.preventDefault(),void(c?l():s()))},c=e=>{n.value=e,h(),d()},d=()=>{var e;n.value&&(r=Array.from(n.value.querySelectorAll(uf)),a=r[0],o=r[r.length-1],null==(e=t.value)||e.addEventListener("keydown",u))},h=()=>{var e;r=[],a=null,o=null,null==(e=t.value)||e.removeEventListener("keydown",u)};return{trapFocus:d,freeFocus:h,trapFocusIn:c}},df=pr(Ku,["focused","maxLength","counterValue"]),hf=pr(rf),ff=(0,r.pM)({name:"VaDateInput",__name:"VaDateInput",props:{...of,...Yu,...df,...hf,...zl,...De,clearValue:{type:void 0,default:void 0},modelValue:{type:[Date,Array,Object,String,Number]},resetOnClose:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!1},offset:{...of.offset,default:()=>[2,0]},format:{type:Function},formatDate:{type:Function,default:e=>e.toLocaleDateString()},formatValue:{type:Function},parse:{type:Function},parseDate:{type:Function},delimiter:{type:String,default:", "},rangeDelimiter:{type:String,default:" ~ "},manualInput:{type:Boolean,default:!1},color:{type:String,default:"primary"},leftIcon:{type:Boolean,default:!1},icon:{type:String,default:"va-calendar"},ariaToggleDropdownLabel:Bn("$t:toggleDropdown"),ariaResetLabel:Bn("$t:resetDate"),ariaSelectedDateLabel:Bn("$t:selectedDate")},emits:[...Hr,...vr(rf),...Ju,...Hl,...Oe,...sf,"update:text"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),s=(0,l.KR)(),{resetOnClose:c}=(0,l.QW)(a),{trapFocusIn:d,freeFocus:h}=cf(),f=()=>{const e=Lr(s.value);e?d(e):h()};(0,r.wB)([s],()=>{f()});const{valueComputed:p}=Ne(a,o),{isOpenSync:v,dropdownProps:m}=lf(a,o,{defaultCloseOnValueUpdate:(0,r.EW)(()=>!Array.isArray(y.value)&&(!wh(y.value)||null!==y.value.end))}),g=(0,r.EW)(()=>!c.value),{valueComputed:y,reset:w}=rh(p,g);(0,r.wB)(v,e=>{e||g.value||w()});const{isFocused:_,focus:E,blur:T,onFocus:S,onBlur:k}=Kr(i),C=Mu(s),R=e=>e?a.formatDate(e):"...",{parseDateInputValue:I,isValid:A}=sh(a);(0,r.wB)(y,()=>{A.value=!0});const x=e=>a.format?a.format(y.value):Eh(e)?e.map(e=>a.formatDate(e)).join(a.delimiter):_h(e)?a.formatDate(e):wh(e)?R(e.start)+a.rangeDelimiter+R(e.end):"",{text:O,normalized:N}=vh(y,(0,l.lW)(a,"mode"),I,x,a.formatValue),D=(0,r.EW)(()=>A.value?y.value?O.value:a.clearValue?x(a.clearValue):"":""),L=({target:e})=>{if(a.disabled)return;const t=e.value;A.value&&(y.value=""===t?a.clearValue:I(t))},P=()=>q(()=>{p.value=a.clearValue,o("clear"),Q()}),M=()=>{v.value=!1,E()},V=()=>{(0,r.dY)(()=>{var e;return null==(e=s.value)?void 0:e.focusCurrentPicker()})},F=()=>{v.value?V():E()},$=e=>!v.value&&(!(!a.disabled&&!a.readonly)||void 0!==e&&(a.manualInput&&"Space"!==(null==e?void 0:e.code))),B=e=>{$(e instanceof KeyboardEvent?e:void 0)||(v.value=!v.value,(0,r.dY)(F))},W=()=>{a.disabled||a.readonly||(v.value=!0,(0,r.dY)(V))},{isDirty:U,isTouched:j,computedError:G,computedErrorMessages:z,listeners:H,validationAriaAttributes:K,validate:X,withoutValidation:q,resetValidation:Q}=Yl(a,o,{reset:P,focus:E,value:y});(0,r.wB)(v,e=>{e||(j.value=!0)});const Y=(0,r.EW)(()=>!A.value&&y.value!==a.clearValue||G.value),J=(0,r.Ht)(),Z=(0,r.EW)(()=>{const e=[a.leftIcon&&"prependInner",(!a.leftIcon||a.clearable)&&"icon"];return Object.keys(J).filter(t=>!e.includes(t))}),{canBeCleared:ee,clearIconProps:te,onFocus:ne,onBlur:re}=Zu(a,y),ae=(0,r.EW)(()=>a.disabled?{}:a.manualInput?{cursor:"text"}:{cursor:"pointer"}),oe=(0,r.EW)(()=>a.manualInput?a.disabled||a.readonly?-1:0:-1),ie=(0,r.EW)(()=>({role:0===oe.value?"button":"none",ariaHidden:-1===oe.value,name:a.icon,color:"secondary",tabindex:oe.value})),se=yr(df),le=(0,r.EW)(()=>({...se.value,focused:_.value||C.value,error:Y.value,errorMessages:z.value,readonly:a.readonly||!a.manualInput})),ue=(0,r.EW)(()=>({focus:()=>{a.disabled||(S(),a.readonly||ne())},blur:()=>{a.disabled||(k(),a.readonly||(re(),H.onBlur()))}})),{tp:ce}=Un(),de=(0,r.OA)(),he=(0,r.EW)(()=>({readonly:a.readonly||!a.manualInput,disabled:a.disabled,tabindex:a.disabled?-1:0,placeholder:a.placeholder,value:D.value,ariaLabel:a.label||ce(a.ariaSelectedDateLabel),ariaRequired:a.requiredMark,ariaDisabled:a.disabled,ariaReadOnly:a.readonly,...K.value,...u(de,["class","style"])})),fe=(0,r.EW)(()=>({...m.value,stateful:!1,innerAnchorSelector:".va-input-wrapper__field",trigger:["click","right-click","enter","space"]})),pe=le,ve=ue,me=yr(hf);return t({valueText:D,valueWithoutText:N,valueDate:N,focus:E,blur:T,reset:P,validate:X,showDropdown:W,hideAndFocus:M,toggleDropdown:B,focusDatePicker:V,isDirty:U,isTouched:j}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ts),(0,r.v6)({modelValue:(0,l.R1)(v),"onUpdate:modelValue":t[9]||(t[9]=e=>(0,l.i9)(v)?v.value=e:null),class:["va-date-input",e.$attrs.class],style:e.$attrs.style},fe.value,{onOpen:V,role:"none"}),{anchor:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"input",(0,b._B)((0,r.Ng)({valueText:D.value,inputAttributes:he.value,inputWrapperProps:(0,l.R1)(pe),inputListeners:(0,l.R1)(ve)})),()=>[(0,r.bF)((0,l.R1)(Ku),(0,r.v6)({class:"va-date-input__anchor",style:ae.value},(0,l.R1)(pe),(0,r.Tb)((0,l.R1)(ve)),{"model-value":D.value,onChange:L}),(0,r.eX)({icon:(0,r.k6)(()=>[(0,l.R1)(ee)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:0,"aria-label":(0,l.R1)(ce)(e.$props.ariaResetLabel)},{...ie.value,...(0,l.R1)(te)},{onClick:(0,Ze.D$)(P,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(P,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(P,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):(0,r.Q3)("",!0),!e.$props.leftIcon&&e.$props.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:1,"aria-label":(0,l.R1)(ce)(e.$props.ariaToggleDropdownLabel)},ie.value),null,16,["aria-label"])):(0,r.Q3)("",!0)]),_:2},[(0,r.pI)(Z.value,t=>({name:t,fn:(0,r.k6)(n=>[(0,r.RG)(e.$slots,t,(0,b._B)((0,r.Ng)(n)))])})),e.$slots.prependInner||e.$props.leftIcon?{name:"prependInner",fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"prependInner",(0,b._B)((0,r.Ng)(t))),e.$props.leftIcon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:0,"aria-label":(0,l.R1)(ce)(e.$props.ariaToggleDropdownLabel)},ie.value),null,16,["aria-label"])):(0,r.Q3)("",!0)]),key:"0"}:void 0]),1040,["style","model-value"])])]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(ks),{class:"va-date-input__dropdown-content",onKeydown:t[8]||(t[8]=(0,Ze.jR)(e=>(0,l.R1)(E)(),["esc"])),role:"dialog"},{default:(0,r.k6)(()=>[(0,r.bF)(rf,(0,r.v6)({ref_key:"datePicker",ref:s},(0,l.R1)(me),{modelValue:(0,l.R1)(N),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(N)?N.value=e:null),"onClick:day":t[1]||(t[1]=t=>e.$emit("click:day",t)),"onClick:month":t[2]||(t[2]=t=>e.$emit("click:month",t)),"onClick:year":t[3]||(t[3]=t=>e.$emit("click:year",t)),"onHover:day":t[4]||(t[4]=t=>e.$emit("hover:day",t)),"onHover:month":t[5]||(t[5]=t=>e.$emit("hover:month",t)),"onHover:year":t[6]||(t[6]=t=>e.$emit("hover:year",t)),"onUpdate:view":t[7]||(t[7]=t=>{e.$nextTick(()=>f()),e.$emit("update:view",t)})}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["modelValue"])]),_:3})]),_:3},16,["modelValue","class","style"]))}}),pf=Te(ff),vf=Te(rf),mf=["aria-orientation"],gf={key:0,class:"va-divider__text"},yf="va-divider",bf=(0,r.pM)({name:"VaDivider",__name:"VaDivider",props:{...De,vertical:{type:Boolean,default:!1},dashed:{type:Boolean,default:!1},inset:{type:Boolean,default:!1},orientation:{type:String,default:"center",validator:e=>["left","right","center"].includes(e)},color:{type:String,default:"backgroundBorder"}},setup(e){const t=e,{getColor:n}=Kt(),a=(0,r.EW)(()=>n(t.color)),o=(0,r.Ht)(),i=(0,r.EW)(()=>!!o.default),s=(0,r.EW)(()=>({[`${yf}--vertical`]:t.vertical,[`${yf}--inset`]:t.inset,[`${yf}--${t.orientation}`]:t.orientation&&!t.vertical,[`${yf}--dashed`]:t.dashed}));return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{role:"separator",class:(0,b.C4)(["va-divider",s.value]),"aria-orientation":e.vertical?"vertical":"horizontal","aria-hidden":!0,style:(0,b.Tr)(`--va-color-computed: ${String(a.value)}`)},[i.value&&!e.vertical?((0,r.uX)(),(0,r.CE)("div",gf,[(0,r.RG)(t.$slots,"default")])):(0,r.Q3)("",!0)],14,mf))}}),wf=Te(bf),_f=Symbol("VaFileUpload"),Ef=(0,r.pM)({name:"VaList",__name:"VaList",props:{...De,fit:{type:Boolean,default:!1}},setup(e){const t=e,n=(0,r.EW)(()=>({"va-list--fit":t.fit}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-list",n.value]),role:"list"},[(0,r.RG)(e.$slots,"default")],2))}}),Tf=(0,r.pM)({name:"VaListItem",__name:"VaListItem",props:{...Rr,...De,tag:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},emits:["focus","click"],setup(e,{emit:t}){const n=e,a=(0,r.EW)(()=>n.disabled?-1:0),o=gr("va-list-item",()=>({...tr(n,["disabled"])})),{tagComputed:i,hrefComputed:s}=Ir(n);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(i)),{class:(0,b.C4)(["va-list-item",(0,l.R1)(o)]),role:"listitem",href:(0,l.R1)(s),target:e.target,to:e.to,replace:e.replace,exact:e.exact,"active-class":e.activeClass,"exact-active-class":e.exactActiveClass,tabindex:a.value},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:"va-list-item__inner",onClick:t[0]||(t[0]=t=>e.$emit("click")),onFocus:t[1]||(t[1]=t=>e.$emit("focus"))},[(0,r.RG)(e.$slots,"default")],32)]),_:3},8,["href","target","to","replace","exact","active-class","exact-active-class","class","tabindex"]))}}),Sf=(0,r.pM)({name:"VaListLabel",__name:"VaListLabel",props:{...De,color:{type:String,default:"primary"}},setup(e){const t=e,{getColor:n}=Kt(),a=(0,r.EW)(()=>({color:n(t.color)}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-list-label",style:(0,b.Tr)(a.value)},[(0,r.RG)(e.$slots,"default")],4))}}),kf=(0,r.pM)({name:"VaListItemLabel",__name:"VaListItemLabel",props:{...De,caption:{type:Boolean,default:!1},lines:{type:[Number,String],default:1}},setup(e){const t=e,n=je("lines"),a=(0,r.EW)(()=>({"va-list-item-label--caption":t.caption})),o=(0,r.EW)(()=>({"-webkit-line-clamp":n.value}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-list-item-label",a.value]),style:(0,b.Tr)(o.value)},[(0,r.RG)(e.$slots,"default")],6))}}),Cf=(0,r.pM)({name:"VaListItemSection",__name:"VaListItemSection",props:{...De,icon:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1}},setup(e){const t=e,n=(0,r.EW)(()=>({"va-list-item-section--main":!t.icon&&!t.avatar,"va-list-item-section--icon":t.icon,"va-list-item-section--avatar":t.avatar}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-list-item-section",n.value])},[(0,r.RG)(e.$slots,"default")],2))}}),Rf=(0,r.pM)({name:"VaListSeparator",__name:"VaListSeparator",props:{...De,fit:{type:Boolean,default:!1},spaced:{type:Boolean,default:!1}},setup(e){const t=e,n=(0,r.EW)(()=>({"va-list-separator--offset":!t.fit,"va-list-separator--spaced":t.spaced}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{"aria-hidden":"true",class:(0,b.C4)(["va-list-separator",n.value])},null,2))}}),If=Te(Tf),Af=Te(Sf),xf=Te(kf),Of=Te(Cf),Nf=Te(Rf),Df=Te(Ef),Lf={key:0,class:"va-progress-bar__info"},Pf=(0,r.pM)({name:"VaProgressBar",__name:"VaProgressBar",props:{...De,modelValue:{type:[Number,String],default:0},indeterminate:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:[Number,String],default:"medium"},buffer:{type:[Number,String],default:100},rounded:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1},contentInside:{type:Boolean,default:!1},showPercent:{type:Boolean,default:!1},max:{type:[Number,String],default:100},ariaLabel:Bn("$t:progressState")},setup(e){const t=e,{getColor:n,getHoverColor:a}=Kt(),o=(0,r.EW)(()=>n(t.color)),{textColorComputed:i}=Xt(o),s=(0,r.EW)(()=>"string"===typeof t.size&&["small","medium","large"].includes(t.size)),l=()=>"number"===typeof t.size?`${t.size}px`:s.value?void 0:t.size,{tp:u}=Un(),c=(0,r.EW)(()=>100/Number(t.max)*Number(t.modelValue)),d=(0,r.EW)(()=>({"va-progress-bar--square":!t.rounded,[`va-progress-bar--${t.size}`]:s.value})),h=(0,r.EW)(()=>({"--va-progress-bar-color":o.value,"--va-progress-bar-background-color":a(o.value)})),f=(0,r.EW)(()=>({height:l()})),p=(0,r.EW)(()=>({width:`${t.indeterminate?100:nr(Number(t.buffer),0,100)}%`,color:i.value,[t.reverse?"right":"left"]:0})),v=(0,r.EW)(()=>({marginLeft:t.reverse?"auto":void 0,width:`${nr(c.value,0,100)}%`})),m=(0,r.EW)(()=>({animationDirection:t.reverse?"reverse":"normal"})),g=(0,r.EW)(()=>({role:"progressbar","aria-label":u(t.ariaLabel),"aria-valuenow":t.indeterminate?void 0:t.modelValue}));return(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-progress-bar",d.value],style:h.value},g.value),[t.$props.contentInside?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Lf,[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({value:t.$props.modelValue})),()=>[t.$props.showPercent?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.eW)((0,b.v_)(t.$props.modelValue)+"% ",1)],64)):(0,r.Q3)("",!0)])])),(0,r.Lk)("div",{class:"va-progress-bar__wrapper",style:(0,b.Tr)(f.value)},[(0,r.Lk)("div",{class:"va-progress-bar__buffer",style:(0,b.Tr)(p.value)},[t.$props.contentInside?(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.v6)({key:0},{value:t.$props.modelValue})),()=>[t.$props.showPercent?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.eW)((0,b.v_)(t.$props.modelValue)+"% ",1)],64)):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0)],4),e.indeterminate?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.Lk)("div",{class:"va-progress-bar__progress--indeterminate-start",style:(0,b.Tr)(m.value)},null,4),(0,r.Lk)("div",{class:"va-progress-bar__progress--indeterminate-end",style:(0,b.Tr)(m.value)},null,4)],64)):((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-progress-bar__progress",style:(0,b.Tr)(v.value)},null,4))],4)],16))}}),Mf=Te(Pf),Vf=(e,t)=>{const n=(0,r.WQ)(e);if(!n)throw new Error(t);return n},Ff={class:"va-file-upload-undo__text"},$f="The VaFileUploadUndo component should be used in the context of VaFileUpload component",Bf=(0,r.pM)({name:"VaFileUploadUndo",__name:"VaFileUploadUndo",props:{vertical:{type:Boolean,default:!1}},emits:["recover"],setup(e,{emit:t}){const n=e,a=(0,l.KR)(100),{undoDuration:o,undoButtonText:i,deletedFileMessage:s}=Vf(_f,$f),u=gr("va-file-upload-undo",()=>({vertical:n.vertical})),c=(0,r.EW)(()=>`${o.value??0}ms`);return(0,r.sV)(()=>{const e=setTimeout(()=>{a.value=0,clearTimeout(e)},0)}),(e,t)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)((0,l.R1)(Mf),{"model-value":a.value,rounded:!1,class:"va-file-upload-undo-progress-bar",style:(0,b.Tr)(`--va-undo-duration-style: ${String(c.value)}`)},null,8,["model-value","style"]),(0,r.Lk)("div",{class:(0,b.C4)(["va-file-upload-undo",(0,l.R1)(u)]),style:(0,b.Tr)(`--va-undo-duration-style: ${String(c.value)}`)},[(0,r.Lk)("span",Ff,(0,b.v_)((0,l.R1)(s)),1),(0,r.bF)((0,l.R1)(na),{class:"va-file-upload-undo__button","aria-label":(0,l.R1)(i),size:"small",outline:"",onClick:t[0]||(t[0]=t=>e.$emit("recover"))},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(i)),1)]),_:1},8,["aria-label"])],6)],64))}}),Wf=Te(Bf),Uf={class:"va-file-upload-list-item__content"},jf={key:0,class:"va-file-upload-list-item__name"},Gf={class:"va-file-upload-list-item__size"},zf="The VaFileUploadListItem component should be used in the context of VaFileUpload component",Hf=(0,r.pM)({name:"VaFileUploadListItem",__name:"VaFileUploadListItem",props:{file:{type:Object,default:null},color:{type:String,default:"success"},ariaRemoveFileLabel:Bn("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const{tp:n}=Un(),a=t,{undo:o,disabled:i,undoDuration:s}=Vf(_f,zf),{onFocus:u,onBlur:c}=Kr(),d=(0,l.KR)(!1),h=()=>{o.value?(d.value=!0,setTimeout(()=>{d.value&&(a("remove"),d.value=!1)},s.value??0)):(a("remove"),d.value=!1)},f=()=>{d.value=!1},p=gr("va-file-upload-list-item",()=>({undo:d.value}));return(t,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(If),{class:(0,b.C4)(["va-file-upload-list-item",(0,l.R1)(p)]),tabindex:"-1",disabled:(0,l.R1)(i),"aria-disabled":(0,l.R1)(i)},{default:(0,r.k6)(()=>[d.value&&(0,l.R1)(o)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Of),{key:0},{default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Wf),{onRecover:f})]),_:1})):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Of),{key:1},{default:(0,r.k6)(()=>[(0,r.Lk)("div",Uf,[e.file&&e.file.name?((0,r.uX)(),(0,r.CE)("div",jf,(0,b.v_)(e.file&&e.file.name),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",Gf,(0,b.v_)(e.file&&e.file.size),1),(0,l.R1)(i)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:1,flat:"",color:"danger",icon:"clear",class:"va-file-upload-list-item__delete","aria-label":(0,l.R1)(n)(t.$props.ariaRemoveFileLabel),onClick:(0,Ze.D$)(h,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(h,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(h,["stop"]),["space"])],onFocus:(0,l.R1)(u),onBlur:(0,l.R1)(c)},null,8,["aria-label","onKeydown","onFocus","onBlur"]))])]),_:1}))]),_:1},8,["class","disabled","aria-disabled"]))}}),Kf=Te(Hf),Xf=["src","alt"],qf={class:"va-file-upload-gallery-item__overlay"},Qf=["title"],Yf="The VaFileUploadGalleryItem component should be used in the context of VaFileUpload component",Jf=(0,r.pM)({name:"VaFileUploadGalleryItem",__name:"VaFileUploadGalleryItem",props:{file:{type:Object,default:null},color:{type:String,default:"success"},ariaRemoveFileLabel:Bn("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const n=e,a=t,{undo:o,disabled:i,undoDuration:s}=Vf(_f,Yf),{isFocused:u,onFocus:c,onBlur:d}=Kr(),h=(0,l.KR)(""),f=(0,l.KR)(!1),p=(0,r.EW)(()=>({backgroundColor:Dt(n.color,.7)})),v=gr("va-file-upload-gallery-item",()=>({notImage:!h.value,focused:u.value,undo:f.value})),m=()=>{o.value?(f.value=!0,setTimeout(()=>{f.value&&(a("remove"),f.value=!1)},s.value??0)):(a("remove"),f.value=!1)},g=()=>{f.value=!1},y=()=>{if(n.file.name&&n.file.image)if(n.file.image.url)h.value=n.file.image.url;else if(n.file.image instanceof File){const e=new FileReader;e.readAsDataURL(n.file.image),e.onload=e=>{var t,n;(null==(t=e.target)?void 0:t.result).includes("image")&&(h.value=null==(n=e.target)?void 0:n.result)}}};(0,r.sV)(y),(0,r.wB)(()=>n.file,y);const{t:w,tp:_}=Un(),{textColorComputed:E}=Xt((0,l.lW)(n,"color"));return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(If),{class:(0,b.C4)(["va-file-upload-gallery-item",(0,l.R1)(v)]),tabindex:"-1",disabled:(0,l.R1)(i),"aria-disabled":(0,l.R1)(i),onFocus:(0,l.R1)(c),onBlur:(0,l.R1)(d)},{default:(0,r.k6)(()=>[f.value&&(0,l.R1)(o)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Of),{key:0},{default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Wf),{vertical:"",onRecover:g})]),_:1})):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Of),{key:1},{default:(0,r.k6)(()=>[h.value?((0,r.uX)(),(0,r.CE)("img",{key:0,src:h.value,alt:e.file.name||"",class:"va-file-upload-gallery-item__image"},null,8,Xf)):(0,r.Q3)("",!0),(0,r.Lk)("div",qf,[(0,r.Lk)("div",{class:"va-file-upload-gallery-item__overlay-background",style:(0,b.Tr)(p.value)},null,4),e.file&&e.file.name?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-file-upload-gallery-item__name",title:e.file.name,style:(0,b.Tr)({color:(0,l.R1)(E)})},(0,b.v_)(e.file.name),13,Qf)):(0,r.Q3)("",!0),(0,l.R1)(i)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:1,flat:"",color:"danger",icon:"va-delete",class:"va-file-upload-gallery-item__delete","aria-label":(0,l.R1)(_)(t.$props.ariaRemoveFileLabel),onClick:m,onFocus:(0,l.R1)(c),onBlur:(0,l.R1)(d)},null,8,["aria-label","onFocus","onBlur"]))])]),_:1}))]),_:1},8,["class","disabled","aria-disabled","onFocus","onBlur"]))}}),Zf=Te(Jf),ep={class:"va-file-upload-single-item__name"},tp="The VaFileUploadSingleItem component should be used in the context of VaFileUpload component",np=(0,r.pM)({name:"VaFileUploadSingleItem",__name:"VaFileUploadSingleItem",props:{file:{type:Object,default:null},ariaRemoveFileLabel:Bn("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const{t:n,tp:a}=Un(),{disabled:o}=Vf(_f,tp);return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(If),{disabled:(0,l.R1)(o),"aria-disabled":(0,l.R1)(o),class:"va-file-upload-single-item",tabindex:"-1"},{default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Of),{class:"va-file-upload-single-item__content"},{default:(0,r.k6)(()=>[(0,r.Lk)("div",ep,(0,b.v_)(e.file&&e.file.name),1),(0,l.R1)(o)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:0,class:"va-file-upload-single-item__button","aria-label":(0,l.R1)(a)(t.$props.ariaRemoveFileLabel),size:"small",color:"danger",preset:"secondary",onClick:n[0]||(n[0]=e=>t.$emit("remove"))},{default:(0,r.k6)(()=>[(0,r.eW)(" Delete ")]),_:1},8,["aria-label"]))]),_:1})]),_:1},8,["disabled","aria-disabled"]))}}),rp=Te(np),ap=pr(Zf),op=pr(Kf),ip=pr(rp),sp=(0,r.pM)({name:"VaFileUploadList",__name:"VaFileUploadList",props:{type:{type:String,default:""},files:{type:Array,default:null},...ap,...op,...ip},emits:["remove","removeSingle"],setup(e,{emit:t}){const n=e,a=(0,r.EW)(()=>n.files.map(o)),o=e=>({name:e.name||e.url||"",size:i(e.size),date:s(new Date),image:e}),i=e=>{if(0===e)return"0 Bytes";if(!e)return"";const t=1024,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},s=(e=new Date)=>e.toLocaleDateString("en-US",{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric",year:"numeric"}),u=yr(ap),c=yr(op),d=yr(ip);return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Df),{class:(0,b.C4)(["va-file-upload-list",`va-file-upload-list--${e.type}`]),role:"single"!==e.type?"list":void 0},{default:(0,r.k6)(()=>["list"===e.type?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(a.value,(e,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Kf),(0,r.v6)({key:e.name},(0,l.R1)(c),{file:e,role:"listitem",onRemove:e=>t.$emit("remove",n)}),null,16,["file","onRemove"]))),128)):(0,r.Q3)("",!0),"gallery"===e.type?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)(a.value,(e,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Zf),(0,r.v6)((0,l.R1)(u),{key:e.name,file:e,role:"listitem",onRemove:e=>t.$emit("remove",n)}),null,16,["file","onRemove"]))),128)):(0,r.Q3)("",!0),"single"===e.type&&a.value.length?((0,r.uX)(),(0,r.Wv)((0,l.R1)(rp),(0,r.v6)({key:2},(0,l.R1)(d),{file:a.value[a.value.length-1],onRemove:n[0]||(n[0]=e=>t.$emit("removeSingle"))}),null,16,["file"])):(0,r.Q3)("",!0)]),_:1},8,["role","class"]))}}),lp=Te(sp),up=[],cp=(e,t)=>{const n=ss(),a=Za(),o=()=>{var e;up.includes(n)||(up.push(n),null==(e=a.value)||e.body.classList.add("va-modal-overlay-background--blurred"))},i=()=>{var e;const t=up.indexOf(n);-1!==t&&(up.splice(t,1),0===up.length&&(null==(e=a.value)||e.body.classList.remove("va-modal-overlay-background--blurred")))};(0,r.nT)(()=>{e.value&&(t.value?o():i())}),(0,r.xo)(i)},dp=(0,l.Gc)([]),hp=()=>{const e=Vl(),t=(0,r.EW)(()=>dp.findIndex(({id:t})=>t===String(e))),n=()=>{-1===t.value&&dp.push({id:String(e)})},a=()=>{-1!==t.value&&dp.splice(t.value,1)},o=(0,r.EW)(()=>-1!==t.value&&t.value===dp.length-1),i=(0,r.EW)(()=>0===t.value),s=(0,r.EW)(()=>dp.length>1);return{modalId:e,modalLevel:t,registerModal:n,unregisterModal:a,isTopLevelModal:o,isLowestLevelModal:i,isMoreThenOneModalOpen:s}},fp=["aria-labelledby"],pp={key:2,class:"va-modal__inner"},vp={class:"va-modal__header"},mp={key:0,class:"va-modal__message"},gp={key:1,class:"va-modal__message"},yp={key:2,class:"va-modal__footer"},bp={key:3,class:"va-modal__footer"},wp=(0,r.pM)({name:"ModalElement",inheritAttrs:!1,props:{...De,isTransition:{type:Boolean,default:!0}},setup:(e,{slots:t,attrs:n})=>()=>{var a;return e.isTransition?(0,r.h)(Ze.eB,{...n},t):null==(a=t.default)?void 0:a.call(t,n)}}),_p=(0,r.pM)({name:"VaModal",inheritAttrs:!1,__name:"VaModal",props:{...h({cancelButton:na,okButton:na,closeButton:Fn}),...Ae,modelValue:{type:Boolean,default:!1},attachElement:{type:String,default:"body"},allowBodyScroll:{type:Boolean,default:!1},disableAttachment:{type:Boolean,default:!1},title:{type:String,default:""},message:{type:String,default:""},okText:Bn("$t:ok"),cancelText:Bn("$t:cancel"),hideDefaultActions:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},closeButton:{type:Boolean,default:!1},mobileFullscreen:{type:Boolean,default:!0},noDismiss:{type:Boolean,default:!1},noOutsideDismiss:{type:Boolean,default:!1},noEscDismiss:{type:Boolean,default:!1},maxWidth:{type:String,default:""},maxHeight:{type:String,default:""},anchorClass:{type:String},size:{type:String,default:"medium"},sizesConfig:{type:Object,default:()=>({defaultSize:"medium",sizes:{small:576,medium:768,large:992,auto:"max-content"}})},fixedLayout:{type:Boolean,default:!1},withoutTransitions:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},overlayOpacity:{type:[Number,String],default:.6},showNestedOverlay:{type:Boolean,default:!1},blur:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:void 0},backgroundColor:{type:String,default:"background-secondary"},noPadding:{type:Boolean,default:!1},beforeClose:{type:Function},beforeOk:{type:Function},beforeCancel:{type:Function},ariaCloseLabel:Bn("$t:close")},emits:[...Oe,"cancel","ok","before-open","open","before-close","close","click-outside"],setup(e,{expose:t,emit:n}){const a=e;f(a);const o=n,i=(0,l.IJ)(),s=(0,l.IJ)(),{trapFocusIn:u,freeFocus:c}=cf(),{registerModal:d,unregisterModal:h,isTopLevelModal:p,isLowestLevelModal:v}=hp(),{getColor:m}=Kt(),{textColorComputed:g}=Xt((0,l.lW)(a,"backgroundColor")),{valueComputed:y}=Ne(a,o),w=(0,r.EW)(()=>({"va-modal--fullscreen":a.fullscreen,"va-modal--mobile-fullscreen":a.mobileFullscreen,"va-modal--fixed-layout":a.fixedLayout,"va-modal--no-padding":a.noPadding})),{zIndex:_}=gs(y),E=(0,r.EW)(()=>a.zIndex?Number(a.zIndex):_.value),T=vn(a),S=(0,r.EW)(()=>({maxWidth:a.maxWidth||T.value,maxHeight:a.maxHeight,color:g.value,background:m(a.backgroundColor)})),k=(0,r.EW)(()=>({"va-modal__overlay--lowest":v.value,"va-modal__overlay--top":p.value})),C=()=>a.showNestedOverlay&&!v.value?"var(--va-modal-overlay-nested-opacity)":"var(--va-modal-overlay-opacity)",R=(0,r.EW)(()=>{if(a.overlay)return p.value||a.showNestedOverlay?{"background-color":"var(--va-modal-overlay-color)",opacity:C()}:""}),I=()=>{y.value=!0},A=e=>{const t=()=>{y.value=!1,null==e||e()};a.beforeClose?a.beforeClose(t):t()},x=()=>{y.value=!y.value},O=()=>{const e=()=>{A(()=>o("cancel"))};a.beforeCancel?a.beforeCancel(e):e()},N=()=>{const e=()=>{A(()=>o("ok"))};a.beforeOk?a.beforeOk(e):e()},D=()=>{(0,r.dY)(()=>{s.value&&u(s.value)})},L=e=>o("before-open",e),P=e=>o("open",e),M=e=>o("before-close",e),V=e=>o("close",e),F=e=>{const t=()=>{"Escape"!==e.code||a.noEscDismiss||a.noDismiss||!p.value||O()};setTimeout(t)};_s([s],()=>{y.value&&!a.noOutsideDismiss&&!a.noDismiss&&p.value&&(o("click-outside"),O())});const $=Br();(0,r.nT)(()=>{var e,t;y.value?null==(e=$.value)||e.addEventListener("keyup",F):null==(t=$.value)||t.removeEventListener("keyup",F)}),cp((0,l.lW)(a,"blur"),y);const B=Za(),W=e=>{B.value&&!a.allowBodyScroll&&("hidden"===e?B.value.body.classList.add("va-modal-open"):B.value.body.classList.remove("va-modal-open"))},U=()=>{d(),W("hidden")},j=()=>{v.value&&(c(),W("")),h()};(0,r.wB)(y,e=>{e?U():j()}),(0,r.sV)(()=>{y.value&&U(),p.value&&D()}),(0,r.xo)(()=>{j()}),(0,r.wB)(p,e=>{e&&D()},{immediate:!0}),t({show:I,hide:A,toggle:x,cancel:O,ok:N,onBeforeEnterTransition:L,onAfterEnterTransition:P,onBeforeLeaveTransition:M,onAfterLeaveTransition:V,listenKeyUp:F});const{tp:G}=Un(),{teleportFromAttrs:z,teleportedAttrs:H}=ds(),K={show:I,hide:A,toggle:x,cancel:O,ok:N};return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"rootElement",ref:i,class:(0,b.C4)(["va-modal-entry",t.$props.anchorClass])},[t.$slots.anchor?((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({key:0,class:"va-modal__anchor"},(0,l.R1)(z)),[(0,r.RG)(t.$slots,"anchor",(0,b._B)((0,r.Ng)(K)))],16)):(0,r.Q3)("",!0),((0,r.uX)(),(0,r.Wv)(r.Im,{to:e.attachElement,disabled:t.$props.disableAttachment},[(0,r.bF)((0,l.R1)(wp),(0,r.v6)({name:"va-modal",isTransition:!t.$props.withoutTransitions,duration:300,style:{zIndex:E.value},appear:""},{...t.$attrs,...(0,l.R1)(H)},{onBeforeEnter:L,onAfterEnter:P,onBeforeLeave:M,onAfterLeave:V}),{default:(0,r.k6)(()=>[(0,l.R1)(y)?((0,r.uX)(),(0,r.CE)("div",{key:0,"aria-labelledby":e.title,class:(0,b.C4)([w.value,"va-modal"]),role:"dialog","aria-modal":"true"},[t.$props.overlay?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,b.C4)(["va-modal__overlay",k.value]),style:(0,b.Tr)(R.value)},null,6)):(0,r.Q3)("",!0),(0,r.Lk)("div",{ref_key:"modalDialog",ref:s,class:"va-modal__dialog",style:(0,b.Tr)([S.value])},[t.$props.fullscreen||t.$props.closeButton?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,"va-child":"closeButton",class:(0,b.C4)([{"va-modal__close--fullscreen":t.$props.fullscreen},"va-modal__close"]),"aria-label":(0,l.R1)(G)(t.$props.ariaCloseLabel),role:"button",tabindex:"0",name:"va-close",onClick:O,onKeydown:[(0,Ze.jR)(O,["space"]),(0,Ze.jR)(O,["enter"])]},null,8,["class","aria-label"])):(0,r.Q3)("",!0),t.$slots.content?(0,r.RG)(t.$slots,"content",(0,b._B)((0,r.v6)({key:1},K))):((0,r.uX)(),(0,r.CE)("div",pp,[(0,r.Lk)("div",vp,[(0,r.RG)(t.$slots,"header",(0,b._B)((0,r.Ng)(K)),()=>[e.title?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-modal__title",style:(0,b.Tr)({color:(0,l.R1)(m)("primary")})},(0,b.v_)(t.$props.title),5)):(0,r.Q3)("",!0)])]),t.$props.message?((0,r.uX)(),(0,r.CE)("div",mp,(0,b.v_)(t.$props.message),1)):(0,r.Q3)("",!0),t.$slots.default?((0,r.uX)(),(0,r.CE)("div",gp,[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)(K)))])):(0,r.Q3)("",!0),!t.$props.cancelText&&!t.$props.okText||t.$props.hideDefaultActions?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",yp,[t.$props.cancelText?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:0,"va-child":"cancelButton",preset:"secondary",color:"secondary",class:"va-modal__default-cancel-button",onClick:O},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(G)(t.$props.cancelText)),1)]),_:1})):(0,r.Q3)("",!0),(0,r.bF)((0,l.R1)(na),{"va-child":"okButton",onClick:N},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(G)(t.$props.okText)),1)]),_:1})])),t.$slots.footer?((0,r.uX)(),(0,r.CE)("div",bp,[(0,r.RG)(t.$slots,"footer",(0,b._B)((0,r.Ng)(K)))])):(0,r.Q3)("",!0)]))],4)],10,fp)):(0,r.Q3)("",!0)]),_:3},16,["isTransition","style"])],8,["to","disabled"]))],2))}}),Ep=Te(_p),Tp={class:"va-file-upload__field"},Sp={key:0,class:"va-file-upload__field__text"},kp=["accept","multiple","disabled"],Cp=pr(lp),Rp=(0,r.pM)({name:"VaFileUpload",__name:"VaFileUpload",props:{...De,...Cp,fileTypes:{type:String,default:""},dropzone:{type:Boolean,default:!1},hideFileList:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},undo:{type:Boolean,default:!1},undoDuration:{type:[Number,String],default:3e3},undoButtonText:Bn("$t:undo"),dropZoneText:Bn("$t:dropzone"),uploadButtonText:Bn("$t:uploadFile"),deletedFileMessage:Bn("$t:fileDeleted"),fileIncorrectMessage:Bn("$t:fileTypeIncorrect"),modelValue:{type:[Object,Array],default:()=>[]},type:{type:String,default:"list",validator:e=>["list","gallery","single"].includes(e)}},emits:["update:modelValue","file-removed","file-added"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),i=(0,l.KR)(!1),s=(0,l.KR)(!1),{getColor:u,shiftHSLAColor:c}=Kt(),d=(0,r.EW)(()=>u(n.color)),h=(0,r.EW)(()=>({backgroundColor:n.dropzone?c(d.value,{a:s.value?-.82:-.92}):"transparent"})),f=gr("va-file-upload",()=>({dropzone:n.dropzone,disabled:n.disabled})),p=(0,r.EW)({get(){return Array.isArray(n.modelValue)?n.modelValue:[n.modelValue]},set(e){"single"===n.type?a("update:modelValue",e[0]):a("update:modelValue",e)}}),v=e=>e.filter(e=>{const t=e.name||e.url;if(!t)return!1;if(e.url)return!0;const r=["audio/*","video/*","image/*"],a=r.find(e=>n.fileTypes.includes(e));if(a)return!0;const o=t.substring(t.lastIndexOf(".")+1).toLowerCase(),s=n.fileTypes.includes(o);return s||(i.value=!0),s}),m=e=>{var t,r;const o=(null==(t=e.target)?void 0:t.files)||(null==(r=e.dataTransfer)?void 0:r.files);if(!o)return;const i=n.fileTypes?v(Array.from(o)):o;p.value="single"===n.type?i:[...p.value,...i],a("file-added",i)},g=e=>{m(e),o.value&&(o.value.value="")},y=e=>{if(e in p.value){const t=p.value[e];p.value=p.value.filter((t,n)=>n!==e),a("file-removed",t)}},w=()=>{if(p.value.length>0){const e=p.value[0];p.value=[],a("file-removed",e)}},_=()=>{o.value&&o.value.click()};(0,r.sV)(()=>{if(Array.isArray(p.value)){const e=v(p.value);e.length!==p.value.length&&(p.value=e)}});const{tp:E}=Un();(0,r.Gt)(_f,{undo:(0,l.lW)(n,"undo"),disabled:(0,l.lW)(n,"disabled"),undoDuration:je("undoDuration"),undoButtonText:(0,r.EW)(()=>E(n.undoButtonText)),deletedFileMessage:(0,r.EW)(()=>E(n.deletedFileMessage))});const T=yr(Cp);return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-file-upload",(0,l.R1)(f)]),style:(0,b.Tr)(h.value)},[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.Lk)("div",Tp,[e.dropzone?((0,r.uX)(),(0,r.CE)("div",Sp,(0,b.v_)((0,l.R1)(E)(e.dropZoneText)),1)):(0,r.Q3)("",!0),(0,r.bF)((0,l.R1)(na),{class:"va-file-upload__field__button",disabled:e.disabled,"aria-disabled":e.disabled,color:d.value,style:(0,b.Tr)({"pointer-events":s.value?"none":void 0}),onChange:g,onClick:_},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(E)(e.uploadButtonText)),1)]),_:1},8,["disabled","aria-disabled","color","style"])])]),(0,r.Lk)("input",{ref_key:"fileInputRef",ref:o,type:"file",class:"va-file-upload__field__input",tabindex:-1,"aria-hidden":"true",accept:e.fileTypes,multiple:"single"!==e.type,disabled:e.disabled,onChange:g,onDragenter:n[0]||(n[0]=e=>s.value=!0),onDragleave:n[1]||(n[1]=e=>s.value=!1)},null,40,kp),p.value.length&&!t.$props.hideFileList?((0,r.uX)(),(0,r.Wv)((0,l.R1)(lp),(0,r.v6)({key:0},(0,l.R1)(T),{type:e.type,files:p.value,color:d.value,onRemove:y,onRemoveSingle:w}),null,16,["type","files","color"])):(0,r.Q3)("",!0),(0,r.bF)((0,l.R1)(Ep),{modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=e=>i.value=e),"hide-default-actions":"",message:(0,l.R1)(E)("$t:fileTypeIncorrect")},null,8,["modelValue","message"])],6))}}),Ip=Te(Rp),Ap=e=>{const t=(0,l.KR)(new Map);return{immediate:(0,r.EW)(()=>e.immediate),fields:(0,r.EW)(()=>[...t.value.values()]),forceHideErrors:(0,r.EW)(()=>e.hideErrors),forceHideErrorMessages:(0,r.EW)(()=>e.hideErrorMessages),forceHideLoading:(0,r.EW)(()=>e.hideLoading),forceDirty:(0,l.KR)(!1),registerField:(e,n)=>{t.value.set(e,n)},unregisterField:e=>{t.value.delete(e)}}},xp=e=>{const t=Ap(e);(0,r.Gt)(Ul,t);const{fields:n,forceDirty:a}=t,o=(0,r.EW)(()=>n.value.map(e=>(0,l.R1)(e.name)).filter(Boolean)),i=(0,r.EW)(()=>n.value.reduce((e,t)=>((0,l.R1)(t.name)&&(e[(0,l.R1)(t.name)]=t),e),{})),s=(0,r.EW)(()=>n.value.reduce((e,t)=>((0,l.R1)(t.name)&&(e[(0,l.R1)(t.name)]=(0,l.R1)(t.value)),e),{})),u=(0,r.EW)(()=>n.value.every(e=>(0,l.R1)(e.isValid))),c=(0,r.EW)(()=>n.value.some(e=>(0,l.R1)(e.isLoading))),d=(0,r.EW)(()=>n.value.map(e=>(0,l.R1)(e.errorMessages)).flat()),h=(0,r.EW)(()=>n.value.reduce((e,t)=>((0,l.R1)(t.name)&&(e[(0,l.R1)(t.name)]=(0,l.R1)(t.errorMessages)),e),{})),f=(0,r.EW)({get(){return n.value.some(e=>(0,l.R1)(e.isDirty))||a.value},set(e){a.value=e,n.value.forEach(t=>{t.isDirty=e})}}),p=(0,r.EW)({get(){return n.value.some(e=>e.isTouched)},set(e){n.value.forEach(t=>{t.isTouched=e})}}),v=()=>(f.value=!0,n.value.reduce((e,t)=>t.validate()&&e,!0)),m=()=>(f.value=!0,Promise.all(n.value.map(e=>e.validateAsync())).then(e=>e.every(Boolean))),g=()=>{f.value=!1,n.value.forEach(e=>e.reset())},y=()=>{f.value=!1,n.value.forEach(e=>e.resetValidation())},b=()=>{var e;null==(e=n.value[0])||e.focus()},w=()=>{const e=n.value.find(e=>!e.isValid);null==e||e.focus()};return jl({name:(0,l.lW)(e,"name"),isValid:u,isLoading:c,isDirty:f,isTouched:p,validate:v,validateAsync:m,reset:g,resetValidation:y,focus:b,errorMessages:d}),{immediate:(0,r.EW)(()=>e.immediate),isDirty:f,isTouched:p,formData:s,fields:n,fieldsNamed:i,fieldNames:o,isValid:u,isLoading:c,errorMessages:d,errorMessagesNamed:h,validate:v,validateAsync:m,reset:g,resetValidation:y,focus:b,focusInvalidField:w}},Op={stateful:!0},Np={VaInput:Op,VaSelect:Op,VaCheckbox:Op,VaRadio:Op,VaDatePicker:Op,VaTimePicker:Op,VaColorPicker:Op,VaSlider:Op,VaSwitch:Op,VaFileUpload:Op,VaRating:Op,VaDateInput:Op,VaTimeInput:Op},Dp=(0,r.pM)({name:"VaForm",__name:"VaForm",props:{...De,autofocus:{type:Boolean,default:!1},immediate:{type:Boolean,default:!1},tag:{type:String,default:"form"},trigger:{type:String,default:"blur"},modelValue:{type:Boolean,default:!0},hideErrors:{type:Boolean,default:!1},hideErrorMessages:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},stateful:{type:Boolean,default:!1},name:{type:String,default:void 0}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=xp(a);(0,r.wB)(i.isValid,e=>{o("update:modelValue",e)}),(0,r.wB)(()=>a.autofocus,e=>{e&&i.focus()}),(0,r.sV)(()=>{a.autofocus&&i.focus()}),(0,r.wB)(i.fields,e=>{e.length&&a.immediate&&i.validate()},{immediate:!0}),R((0,r.EW)(()=>a.stateful?Np:{}));const{immediate:s,isDirty:u,isTouched:c,formData:d,fields:h,fieldsNamed:f,fieldNames:p,isValid:v,isLoading:m,errorMessages:g,errorMessagesNamed:y,validate:w,validateAsync:_,reset:E,resetValidation:T,focus:S,focusInvalidField:k}=i;return t({immediate:s,isDirty:u,formData:d,fields:h,fieldsNamed:f,fieldNames:p,isValid:v,isTouched:c,isLoading:m,errorMessages:g,errorMessagesNamed:y,validate:w,validateAsync:_,reset:E,resetValidation:T,focus:S,focusInvalidField:k}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.tag),(0,r.v6)({class:"va-form",onSubmit:n[0]||(n[0]=e=>void 0===t.$attrs.action&&e.preventDefault())},t.$attrs),{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({isValid:(0,l.R1)(v),isDirty:(0,l.R1)(u),isTouched:(0,l.R1)(c),isLoading:(0,l.R1)(m),errorMessages:(0,l.R1)(g),errorMessagesNamed:(0,l.R1)(y),formData:(0,l.R1)(d),fields:(0,l.R1)(h),fieldsNamed:(0,l.R1)(f),fieldNames:(0,l.R1)(p),validate:(0,l.R1)(w),validateAsync:(0,l.R1)(_),reset:(0,l.R1)(E),resetValidation:(0,l.R1)(T),focus:(0,l.R1)(S),focusInvalidField:(0,l.R1)(k)})))]),_:3},16))}}),Lp=Te(Dp),Pp=(e=0)=>new Promise(t=>setTimeout(t,e)),Mp=(e,t,n)=>{const a=()=>{var e;null==(e=t.value)||e.addEventListener("scroll",n.value,{passive:!0})},o=()=>{var e;null==(e=t.value)||e.removeEventListener("scroll",n.value)};return(0,r.sV)(()=>{t.value&&(t.value.style.overflowY="scroll",e.reverse&&(t.value.scrollTop=t.value.scrollHeight),a())}),(0,r.xo)(o),{addScrollListener:a,removeScrollListener:o}},Vp={class:"va-infinite-scroll__spinner__default"},Fp=(0,r.pM)({name:"VaInfiniteScroll",__name:"VaInfiniteScroll",props:{...De,load:{type:Function,required:!0},offset:{type:[Number,String],default:500},reverse:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},scrollTarget:{type:[String,Object],default:null},debounce:{type:[Number,String],default:100},tag:{type:String,default:"div"}},emits:["onload","onerror"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),i=(0,l.IJ)(),s=(0,l.KR)(!1),u=(0,l.KR)(!1),c=(0,l.KR)(!1),d=(0,l.KR)(),h=(0,l.KR)(0),f=(0,l.KR)(0),p=(0,r.EW)(()=>{var e;let t;return t="string"===typeof n.scrollTarget?document.querySelector(n.scrollTarget):n.scrollTarget||(null==(e=o.value)?void 0:e.parentElement),t||document.body}),{addScrollListener:v,removeScrollListener:m}=Mp(n,p,d),g=je("offset"),y=je("debounce"),{getColor:w}=Kt(),_=(0,r.EW)(()=>u.value?w("danger"):w("primary")),E=(0,r.EW)(()=>{var e;return(null==(e=i.value)?void 0:e.offsetHeight)||0}),T=(0,r.EW)(()=>g.value+E.value),S=()=>{n.disabled||(s.value=!1,m())},k=()=>{n.disabled||v()},C=()=>{const{scrollTop:e,scrollHeight:t,clientHeight:r}=p.value;h.value=t-e;const a=e-f.value;if(f.value=e,n.disabled||u.value||s.value)return;if(c.value)return void(c.value=!1);const o=n.reverse&&a>0||!n.reverse&&a<0;if(o)return;const i=n.reverse?e:t-e-r;i>T.value||(s.value=!0,n.load().then(A).catch(O))},R=e=>{c.value=!0,p.value.scrollTop=e},I=()=>{const{scrollTop:e,scrollHeight:t,clientHeight:r}=p.value;if(n.reverse){const n=t-e<h.value,r=e>=E.value;if(n&&r)return;t-h.value>E.value?R(t-h.value):R(E.value)}if(!n.reverse){const n=t-e-r>=E.value;!n&&R(t-r-E.value)}},A=()=>{I(),s.value=!1,a("onload")},x=()=>{I(),c.value=!1,u.value=!1,s.value=!1,a("onerror")},O=()=>{S(),u.value=!0,Pp(1200).then(x).then(k)};return(0,r.wB)(()=>y.value,e=>{d.value=Xa(C,e)},{immediate:!0}),(0,r.wB)(()=>n.disabled,e=>{e?S():k()}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.$props.tag),{ref_key:"element",ref:o,role:"feed",class:(0,b.C4)(["va-infinite-scroll",{"va-infinite-scroll--reversed":e.$props.reverse}]),"aria-busy":s.value},{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default"),(0,r.Lk)("div",{ref_key:"spinnerSlotContainer",ref:i,class:(0,b.C4)(["va-infinite-scroll__spinner",{"va-infinite-scroll__spinner--invisible":!s.value}])},[e.$props.disabled?(0,r.Q3)("",!0):(0,r.RG)(e.$slots,"loading",{key:0},()=>[(0,r.Lk)("div",Vp,[(0,r.bF)((0,l.R1)(ir),{size:"small",thickness:.15,color:_.value,indeterminate:""},null,8,["color"])])])],2)]),_:3},8,["class","aria-busy"]))}}),$p=Te(Fp),Bp={top:[0,1,2],left:[0,3,6],right:[2,5,8],bottom:[6,7,8]},Wp=["left","right","top","bottom"],Up=e=>{const t=()=>[...Wp].sort((t,n)=>(e[t].order??0)-(e[n].order??0)),n=(e,t,n)=>{t.forEach(t=>{e[t]=n})};return(0,r.EW)(()=>{const e=t(),r=[".",".",".",".",".",".",".",".","."].map(()=>"content");return e.forEach(e=>{n(r,Bp[e],e)}),['"'+r.slice(0,3).join(" ")+'"','"'+r.slice(3,6).join(" ")+'"','"'+r.slice(6,9).join(" ")+'"'].join(" ")})},jp={top:{type:Object,default:()=>({order:2})},right:{type:Object,default:()=>({order:1})},left:{type:Object,default:()=>({order:1})},bottom:{type:Object,default:()=>({order:2})}},Gp="VaLayout",zp=e=>{const t=(0,l.KR)({top:null,right:null,bottom:null,left:null}),n=(0,r.EW)(()=>{const{top:n,right:r,bottom:a,left:o}=t.value,{top:i,right:s,bottom:l,left:u}=e;return{top:n&&!i.absolute?n.sizes.height:0,right:r&&!s.absolute?r.sizes.width:0,bottom:a&&!l.absolute?a.sizes.height:0,left:o&&!u.absolute?o.sizes.width:0}}),a=(0,r.EW)(()=>({top:e.top.order||0,right:e.right.order||0,bottom:e.bottom.order||0,left:e.left.order||0}));return(0,r.Gt)(Gp,{items:t,paddings:n,orders:a}),{paddings:n,orders:a,items:t}},Hp=(e,t)=>{const n=(0,r.WQ)(Gp,null);if(!n)throw new Error("VaLayoutChild must be used inside VaLayout");return(0,r.nT)(()=>{t.value?n.items.value[e]={sizes:t.value}:n.items.value[e]=null}),(0,r.xo)(()=>{n.items.value[e]=null}),{paddings:(0,r.EW)(()=>Object.keys(n.paddings.value).reduce((t,r)=>(n.orders.value[r]>n.orders.value[e]&&(t[r]=n.paddings.value[r]),t),{}))}},Kp={},Xp={class:"va-layout__absolute-area-wrapper"};function qp(e,t){return(0,r.uX)(),(0,r.CE)("div",Xp,[(0,r.RG)(e.$slots,"default")])}const Qp=qs(Kp,[["render",qp]]),Yp=(0,r.pM)({name:"VaLayoutSizeKeeper",__name:"VaResizeObserver",emits:{resize:e=>!0},setup(e,{emit:t}){const n=t,a=(0,l.KR)();let o=null;return(0,r.wB)(a,e=>{o&&o.disconnect(),o=new ResizeObserver(([e])=>{n("resize",e.contentRect)}),o.observe(e)}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-resize-observer",ref_key:"el",ref:a},[(0,r.RG)(e.$slots,"default")],512))}}),Jp=(0,r.pM)({name:"VaLayoutFixedWrapper",__name:"VaLayoutFixedWrapper",props:{area:{type:String,required:!0}},setup(e){const t=e,n=(0,l.KR)(null),a=(0,r.EW)(()=>"top"===t.area||"bottom"===t.area?"vertical":"horizontal"),o=e=>e?e+"px":"0px",i=(0,r.EW)(()=>"vertical"===a.value?{width:`calc(100% - ${o(s.value.left)} - ${o(s.value.right)})`,[t.area]:0}:{height:`calc(100% - ${o(s.value.top)} - ${o(s.value.bottom)})`,[t.area]:0}),{paddings:s}=Hp(t.area,n);return(0,r.EW)(()=>Object.keys(s.value).reduce((e,n)=>n===t.area?e:{...e,[n]:`${s.value[n]}px`},{})),(t,o)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-layout-fixed-wrapper",style:(0,b.Tr)([[{height:n.value&&"vertical"===a.value?n.value.height+"px":"auto",width:n.value&&"horizontal"===a.value?n.value.width+"px":"auto"}],`--va-styles-width: ${String(i.value.width)};--va-styles-height: ${String(i.value.height)}`])},[(0,r.bF)(Yp,{class:(0,b.C4)(["va-layout-fixed-wrapper__content",`va-layout-fixed-wrapper__content--${e.area}`]),style:(0,b.Tr)(n.value?{}:{position:"relative"}),onResize:o[0]||(o[0]=e=>n.value=e)},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},8,["class","style"])],4))}}),Zp=(0,r.pM)({name:"VaLayoutArea",__name:"VaLayoutArea",props:{area:{type:String,required:!0},config:{type:Object,required:!0}},emits:["overlay-click"],setup(e,{emit:t}){const n=e,a=(0,r.EW)(()=>n.config.absolute||!1),o=(0,r.EW)(()=>n.config.fixed||!1),i=(0,r.EW)(()=>n.config.overlay||!1),s=(0,r.EW)(()=>(n.config.order||0)+1);return(t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[a.value?((0,r.uX)(),(0,r.Wv)(Qp,{key:0,style:(0,b.Tr)(`--va-props-area: ${String(t.$props.area)};--va-z-index: ${String(s.value)};--va-z-index-1: ${String(s.value-1)}`)},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,b.C4)(`va-layout-area va-layout__area va-layout__area--${e.area}`)},[o.value?((0,r.uX)(),(0,r.Wv)(Jp,{key:0,area:e.area},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},8,["area"])):(0,r.RG)(t.$slots,"default",{key:1})],2)]),_:3},8,["style"])):((0,r.uX)(),(0,r.CE)("div",{key:1,class:(0,b.C4)(`va-layout-area va-layout__area va-layout__area--${e.area}`),style:(0,b.Tr)(`--va-props-area: ${String(t.$props.area)};--va-z-index: ${String(s.value)};--va-z-index-1: ${String(s.value-1)}`)},[o.value?((0,r.uX)(),(0,r.Wv)(Jp,{key:0,area:e.area},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},8,["area"])):(0,r.RG)(t.$slots,"default",{key:1})],6)),(0,r.bF)(Ze.eB,{style:(0,b.Tr)(`--va-props-area: ${String(t.$props.area)};--va-z-index: ${String(s.value)};--va-z-index-1: ${String(s.value-1)}`)},{default:(0,r.k6)(()=>[i.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,b.C4)(["va-layout-area__overlay",{"va-layout-area__overlay--fixed":o.value}]),onClick:n[0]||(n[0]=e=>t.$emit("overlay-click"))},null,2)):(0,r.Q3)("",!0)]),_:1},8,["style"])],64))}}),ev={class:"va-layout__area va-layout__area--content"},tv=["top","left","right","bottom"],nv=(0,r.pM)({name:"VaLayout",__name:"VaLayout",props:{...jp,allowBodyScrollOnOverlay:{type:Boolean,default:!1}},emits:["top-overlay-click","left-overlay-click","right-overlay-click","bottom-overlay-click"],setup(e,{emit:t}){const n=e,{paddings:a}=zp(n),o=(0,r.EW)(()=>!n.allowBodyScrollOnOverlay&&tv.some(e=>{var t;return null==(t=n[e])?void 0:t.overlay})),i=Za();(0,r.nT)(()=>{var e;const t=null==(e=i.value)?void 0:e.body;t&&(o.value?t.style.overflow="hidden":t.style.overflow="")});const s=Up(n),u=(0,r.Ht)(),c=(0,r.EW)(()=>[u.top?"min-content":"0fr","1fr",u.bottom?"min-content":"0fr"].filter(Boolean).join(" ")),d=(0,r.EW)(()=>[u.left?"min-content":"0fr","1fr",u.right?"min-content":"0fr"].filter(Boolean).join(" "));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-layout",style:(0,b.Tr)(`--va-horizontal-template: ${String(d.value)};--va-vertical-template: ${String(c.value)};--va-template-area: ${String((0,l.R1)(s))};--va-paddings-top-px: ${String((0,l.R1)(a).top+"px")};--va-paddings-bottom-px: ${String((0,l.R1)(a).bottom+"px")};--va-paddings-left-px: ${String((0,l.R1)(a).left+"px")};--va-paddings-right-px: ${String((0,l.R1)(a).right+"px")}`)},[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(tv,t=>(0,r.bF)(Zp,{key:t,area:t,config:e.$props[t]||{},onOverlayClick:n=>e.$emit(`${t}-overlay-click`)},{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,t)]),_:2},1032,["area","config","onOverlayClick"])),64)),(0,r.Lk)("div",ev,[(0,r.RG)(e.$slots,"default",{},()=>[(0,r.RG)(e.$slots,"content")])])],4))}}),rv=Ee(nv),av={class:"va-navbar__left"},ov={class:"va-navbar__center"},iv={class:"va-navbar__right"},sv=(0,r.pM)({name:"VaNavbar",__name:"VaNavbar",props:{...Kn,...De,color:{type:String,default:"background-secondary"},textColor:{type:String},shape:{type:Boolean,default:!1},shadowed:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1}},setup(e){const t=e,{scrollRoot:n,isScrolledDown:a}=Qn(t.fixed),{fixedBarStyleComputed:o}=Xn(t,a),{getColor:i,shiftHSLAColor:s}=Kt(),u=(0,r.EW)(()=>i(t.color)),{textColorComputed:c}=Xt(u),d=(0,r.EW)(()=>({borderTopColor:s(u.value,{h:-1,s:-11,l:10})})),h=(0,r.EW)(()=>({...o.value,backgroundColor:u.value,color:c.value,fill:c.value})),f=gr("va-navbar",()=>({shadowed:t.shadowed,bordered:t.bordered}));return(t,a)=>((0,r.uX)(),(0,r.CE)("header",{ref_key:"scrollRoot",ref:n,class:(0,b.C4)(["va-navbar",(0,l.R1)(f)]),style:(0,b.Tr)(h.value)},[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.Lk)("div",av,[(0,r.RG)(t.$slots,"left")]),(0,r.Lk)("div",ov,[(0,r.RG)(t.$slots,"center")]),(0,r.Lk)("div",iv,[(0,r.RG)(t.$slots,"right")])]),e.shape?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-navbar__background-shape",style:(0,b.Tr)(d.value)},null,4)):(0,r.Q3)("",!0)],6))}}),lv=(0,r.pM)({name:"VaNavbarItem",props:{}}),uv={class:"va-navbar__item"};function cv(e,t,n,a,o,i){return(0,r.uX)(),(0,r.CE)("div",uv,[(0,r.RG)(e.$slots,"default")])}const dv=qs(lv,[["render",cv]]),hv=Te(sv),fv=Te(dv),pv=["role"],vv=["value","checked","aria-checked","onChange"],mv=(0,r.Lk)("span",{"aria-hidden":"true",class:"va-radio__icon"},[(0,r.Lk)("span",{class:"va-radio__icon__background"}),(0,r.Lk)("span",{class:"va-radio__icon__dot"})],-1),gv=(0,r.pM)({name:"VaRadio",__name:"VaRadio",props:{...Jl,...De,...Bs,modelValue:{type:[Boolean,Array,String,Object,Number],default:null},options:{type:Array,default:()=>[]},name:{type:String,default:""},label:{type:String,default:void 0},leftLabel:{type:Boolean,default:!1},color:{type:String,default:"primary"},option:{type:[Object,String,Number],default:void 0},vertical:{type:Boolean,default:!1}},emits:Zl,setup(e,{emit:t}){const n=e,a=t,{getColor:o}=Kt(),i={container:(0,l.IJ)(),input:(0,l.IJ)(),label:(0,l.IJ)()},{computedError:s,computedErrorMessages:u,validationAriaAttributes:c,onBlur:d,onFocus:h}=tu(n,a,i),{getText:f,getDisabled:p,getValue:v}=Ws(n),m=e=>n.options.length>0?f(e):n.label??f(e),g=e=>p(e)||n.disabled,y=(0,r.EW)(()=>0===n.options.length&&!n.option),w=e=>y.value?n.modelValue:n.modelValue===v(e),_=(0,r.EW)(()=>y.value?[{}]:n.option?[n.option]:n.options),E=e=>({"va-radio--left-label":n.leftLabel,"va-radio--selected":w(e),"va-radio--readonly":n.readonly,"va-radio--disabled":n.disabled,"va-radio--indeterminate":n.indeterminate,"va-radio--error":s.value,"va-radio--single-option":y.value}),T=(e,t)=>{var n;y.value?a("update:modelValue",(null==(n=null==t?void 0:t.target)?void 0:n.checked)||!1):a("update:modelValue",e)},S=(0,r.EW)(()=>({color:s.value?o("danger"):""}));(0,r.EW)(()=>{const e={background:o(n.color),borderColor:o(n.color)};return s.value&&(e.borderColor=o("danger")),e});const k=(0,r.EW)(()=>({backgroundColor:o(n.color)})),C=(0,r.EW)(()=>({borderColor:s.value?o("danger"):o(n.color),backgroundColor:o(n.color)})),R=(0,r.EW)(()=>({borderColor:s.value?o("danger"):o(n.color)})),I=Vl(),A=(0,r.EW)(()=>n.name||I),x=e=>{const t=g(e);return{name:A.value,disabled:t,readonly:n.readonly,tabindex:t?-1:0}},O=(0,r.EW)(()=>n.vertical?"column":"row"),N=(0,r.EW)(()=>{var e;return(null==(e=n.options)?void 0:e.length)>0?"radiogroup":""});return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(du),{disabled:e.disabled,success:e.success,messages:e.messages,error:(0,l.R1)(s),"error-messages":(0,l.R1)(u),"error-count":e.errorCount,onBlur:(0,l.R1)(d),style:(0,b.Tr)(`--va-flex-direction: ${String(O.value)};--va-label-style-color: ${String(S.value.color)};--va-icon-computed-styles-border-color: ${String(R.value.borderColor)};--va-icon-dot-computed-styles-border-color: ${String(C.value.borderColor)};--va-icon-dot-computed-styles-background-color: ${String(C.value.backgroundColor)};--va-icon-background-computed-styles-background-color: ${String(k.value.backgroundColor)}`)},{default:(0,r.k6)(({ariaAttributes:n})=>[(0,r.Lk)("div",(0,r.v6)({ref:"container",class:"va-radio",role:N.value},n),[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(_.value,(a,o)=>((0,r.uX)(),(0,r.CE)("label",{key:o,class:(0,b.C4)([E(a),"va-radio__square"])},[(0,r.Lk)("input",(0,r.v6)({ref_for:!0,ref:"input",class:"va-radio__input",type:"radio",role:"radio",value:w(a),checked:w(a),"aria-checked":w(a)},{...x(a),...n},{onChange:e=>T((0,l.R1)(v)(a),e),onFocus:t[0]||(t[0]=(...e)=>(0,l.R1)(h)&&(0,l.R1)(h)(...e)),onBlur:t[1]||(t[1]=(...e)=>(0,l.R1)(d)&&(0,l.R1)(d)(...e))}),null,16,vv),(0,r.RG)(e.$slots,"icon",(0,b._B)((0,r.Ng)({value:w(a),text:m(a),disabled:g(a),index:o})),()=>[mv]),m(a)||e.$slots.default?((0,r.uX)(),(0,r.CE)("div",{key:0,ref_for:!0,ref:"label",class:"va-radio__text"},[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({value:w(a),text:m(a),disabled:g(a),index:o})),()=>[(0,r.eW)((0,b.v_)(m(a)),1)])],512)):(0,r.Q3)("",!0)],2))),128))],16,pv)]),_:3},8,["disabled","success","messages","error","error-messages","error-count","onBlur","style"]))}}),yv=Te(gv),bv={class:"va-switch__inner"},wv={class:"va-switch__checker-wrapper"},_v={class:"va-switch__checker"},Ev={class:"va-switch__checker-circle"},Tv=["id"],Sv=(0,r.pM)({name:"VaSwitch",__name:"VaSwitch",props:{...Jl,...De,id:{type:String,default:""},name:{type:String,default:""},modelValue:{type:[Number,Boolean,Array,String,Object],default:!1},trueLabel:{type:String,default:null},falseLabel:{type:String,default:null},trueInnerLabel:{type:String,default:null},falseInnerLabel:{type:String,default:null},ariaLabel:Bn("$t:switch"),color:{type:String,default:"primary"},offColor:{type:String,default:"background-element"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)}},emits:[...Zl,"focus","blur","update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,o=n,i={container:(0,l.IJ)(),input:(0,l.IJ)(),label:(0,l.IJ)()},{getColor:s}=Kt(),{hasKeyboardFocus:u,keyboardFocusListeners:c}=ru(),{isChecked:d,computedError:h,isIndeterminate:f,computedErrorMessages:p,validationAriaAttributes:v,toggleSelection:m,onBlur:g,onFocus:y,reset:w,focus:_,isDirty:E,isTouched:T,isLoading:S,isError:k}=tu(a,o,i),C=(0,r.EW)(()=>s(d.value?a.color:a.offColor)),{textColorComputed:R}=Xt(C),I=(0,r.EW)(()=>a.trueInnerLabel&&d.value?a.trueInnerLabel:a.falseInnerLabel&&!d.value?a.falseInnerLabel:""),A=(0,r.EW)(()=>a.trueLabel&&d.value?a.trueLabel:a.falseLabel&&!d.value?a.falseLabel:a.label),x=gr("va-switch",()=>({...tr(a,["readonly","disabled","leftLabel"]),checked:d.value,indeterminate:f.value,small:"small"===a.size,large:"large"===a.size,error:h.value,keyboardFocus:u.value})),O=(0,r.EW)(()=>({lineHeight:p.value.length?1:0})),N=(0,r.EW)(()=>{const e={small:"15px",medium:"20px",large:"25px"};return e[a.size]}),D=(0,r.EW)(()=>({borderColor:h.value?s("danger"):"",backgroundColor:C.value})),L=(0,r.EW)(()=>({color:h.value?s("danger"):""})),P=(0,r.EW)(()=>({color:R.value,"text-align":d.value?"left":"right"})),M=(0,r.Ht)(),V=Vl(),F=(0,r.EW)(()=>`aria-label-id-${V}`),$=(0,r.EW)(()=>({id:a.id||void 0,name:a.name||void 0,disabled:a.disabled,readonly:a.readonly,"aria-disabled":a.disabled,"aria-readonly":a.readonly,"aria-checked":!!a.modelValue,"aria-label":M.default?void 0:a.ariaLabel,"aria-labelledby":A.value||M.default?F.value:void 0,tabindex:a.disabled?-1:0,checked:d.value,...v.value})),B=()=>{var e;null==(e=i.input.value)||e.click()},W=i.input;return t({focus:_,reset:w,isDirty:E,isTouched:T,isLoading:S,isError:k}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(du),{class:(0,b.C4)(["va-switch",(0,l.R1)(x)]),style:(0,b.Tr)(O.value),disabled:e.$props.disabled,success:e.$props.success,messages:e.$props.messages,error:(0,l.R1)(h),"error-messages":(0,l.R1)(p),"error-count":e.$props.errorCount},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{ref:"container",class:"va-switch__container",tabindex:"-1",onBlur:t[5]||(t[5]=(...e)=>(0,l.R1)(g)&&(0,l.R1)(g)(...e)),onClick:t[6]||(t[6]=(...e)=>(0,l.R1)(m)&&(0,l.R1)(m)(...e))},[(0,r.Lk)("div",bv,[(0,r.Lk)("input",(0,r.v6)({ref_key:"input",ref:W,type:"checkbox",class:"va-switch__input",role:"switch"},$.value,(0,r.Tb)((0,l.R1)(c),!0),{onFocus:t[0]||(t[0]=(...e)=>(0,l.R1)(y)&&(0,l.R1)(y)(...e)),onBlur:t[1]||(t[1]=(...e)=>(0,l.R1)(g)&&(0,l.R1)(g)(...e)),onKeypress:(0,Ze.jR)(B,["enter"])}),null,16),(0,r.Lk)("div",{class:"va-switch__track","aria-hidden":"true",style:(0,b.Tr)(D.value)},[I.value||e.$slots.innerLabel?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-switch__track-label",style:(0,b.Tr)(P.value)},[(0,r.RG)(e.$slots,"innerLabel",{},()=>[(0,r.eW)((0,b.v_)(I.value),1)])],4)):(0,r.Q3)("",!0),(0,r.Lk)("div",wv,[(0,r.Lk)("div",_v,[(0,r.RG)(e.$slots,"checker",(0,b._B)((0,r.Ng)({value:(0,l.R1)(d)})),()=>[(0,r.Lk)("div",Ev,[e.$props.loading?((0,r.uX)(),(0,r.Wv)((0,l.R1)(ir),{key:0,indeterminate:"",size:N.value,color:D.value.backgroundColor},null,8,["size","color"])):(0,r.Q3)("",!0)])])])])],4)]),A.value||e.$slots.default?((0,r.uX)(),(0,r.CE)("div",{key:0,ref:"label",class:"va-switch__label",style:(0,b.Tr)(L.value),id:F.value,onBlur:t[2]||(t[2]=(...e)=>(0,l.R1)(g)&&(0,l.R1)(g)(...e)),onClick:t[3]||(t[3]=(...e)=>(0,l.R1)(m)&&(0,l.R1)(m)(...e)),onKeydown:t[4]||(t[4]=(0,Ze.jR)((0,Ze.D$)((...e)=>(0,l.R1)(m)&&(0,l.R1)(m)(...e),["stop"]),["enter"]))},[(0,r.RG)(e.$slots,"default",{},()=>[(0,r.eW)((0,b.v_)(A.value),1)])],44,Tv)):(0,r.Q3)("",!0)],544)]),_:3},8,["class","style","disabled","success","messages","error","error-messages","error-count"]))}}),kv=Te(Sv),Cv=()=>{const e=(0,l.IJ)([]),t=t=>{t&&e.value.push(t)},n=t=>n=>{n&&(e.value[t]=n)};return(0,r.Ic)(()=>{e.value=[]}),{itemRefs:e,setItemRef:t,setItemRefByIndex:n}},Rv={class:"va-option-list__list"},Iv=(0,r.pM)({name:"VaOptionList",__name:"VaOptionList",props:{...De,...Bs,...zl,...Ae,type:{type:String,default:"checkbox",validator:e=>["radio","checkbox","switch"].includes(e)},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},defaultValue:{type:[String,Number,Boolean,Object,Array]},name:{type:String,default:""},color:{type:String,default:"primary"},leftLabel:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean,Object,Array]}},emits:[...Oe,...Hl,"clear"],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=Ne(a,o,"modelValue",{defaultValue:a.defaultValue}),{getValue:s,getText:u,getTrackBy:c,getDisabled:d}=Ws(a),{itemRefs:h,setItemRef:f}=Cv(),p=(0,r.EW)(()=>"radio"===a.type),v=(0,r.EW)({get(){const e=p.value?null:[];return i.value||e},set(e){a.readonly||(p.value&&!Array.isArray(e)?i.value=e?s(e):e:i.value=Array.isArray(e)?e.map(s):[e?s(e):e])}}),m=e=>a.disabled||d(e),g=()=>E(()=>{i.value=null,o("clear"),T()}),y=()=>{const e=Array.isArray(h.value)&&h.value.find(e=>!e.disabled);e&&"function"===typeof e.focus&&e.focus()},{computedError:w,computedErrorMessages:_,withoutValidation:E,resetValidation:T}=Yl(a,o,{reset:g,focus:y,value:i}),S=(0,r.EW)(()=>tr(a,["name","color","readonly","leftLabel"]));return(0,r.sV)(()=>{M&&"radio"!==a.type&&!Array.isArray(a.modelValue)&&console.warn(`Prop 'modelValue = ${a.modelValue}' has not a proper type!\n For component property 'type = ${a.type}' it must be of type 'array'.`)}),t({focus:y,reset:g}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(du),{error:(0,l.R1)(w),"error-messages":(0,l.R1)(_),"error-count":e.$props.errorCount},{default:(0,r.k6)(()=>[(0,r.Lk)("ul",Rv,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.$props.options,n=>((0,r.uX)(),(0,r.CE)("li",{key:(0,l.R1)(c)(n)},[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({option:n,selectedValue:v.value,isDisabled:m,getText:(0,l.R1)(u),getValue:(0,l.R1)(s)})),()=>["radio"===e.$props.type?((0,r.uX)(),(0,r.Wv)((0,l.R1)(yv),(0,r.v6)({key:0,ref_for:!0,ref:(0,l.R1)(f),modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),label:(0,l.R1)(u)(n),disabled:m(n),option:(0,l.R1)(s)(n)},S.value),null,16,["modelValue","label","disabled","option"])):"checkbox"===e.$props.type?((0,r.uX)(),(0,r.Wv)((0,l.R1)(mu),(0,r.v6)({key:1,ref_for:!0,ref:(0,l.R1)(f),modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),label:(0,l.R1)(u)(n),disabled:m(n),"array-value":(0,l.R1)(s)(n)},S.value),null,16,["modelValue","label","disabled","array-value"])):((0,r.uX)(),(0,r.Wv)((0,l.R1)(kv),(0,r.v6)({key:2,ref_for:!0,ref:(0,l.R1)(f),modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=e=>v.value=e),label:(0,l.R1)(u)(n),disabled:m(n),"array-value":(0,l.R1)(s)(n)},S.value),null,16,["modelValue","label","disabled","array-value"]))])]))),128))])]),_:3},8,["error","error-messages","error-count"]))}}),Av=Te(Iv),xv=(e=1,t,n,r=!1)=>{let a=0;if(0===n&&(n=1),t>n&&(t=n),0===t)a=1,t=n>10?10:n;else{const r=t/2;a=e-r<=0||e>n?1:e+r>n?n-t+1:Math.ceil(e-r)}const o=[];for(let i=0;i<t;i++)o.push(a+i);return r&&t<7?n>=7&&V("[va-pagination] To work in a proper way, the `boundaryNumbers` prop needs at least 7 visible pages to be set via the `visiblePages` prop (first, last, 2 boundaries, current, previous, next)."):r&&(1!==a&&o.splice(0,2,1,"..."),o[o.length-1]!==n&&o.splice(-2,2,"...",n)),o},Ov=["aria-label","onKeydown"],Nv=["aria-label"],Dv=(0,r.pM)({name:"VaPagination",__name:"VaPagination",props:{...Ae,...De,modelValue:{type:Number,default:1},visiblePages:{type:[Number,String],default:0},pages:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},boundaryLinks:{type:Boolean,default:!0},boundaryNumbers:{type:Boolean,default:!1},directionLinks:{type:Boolean,default:!0},input:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},total:{type:[Number,String],default:null},pageSize:{type:[Number,String],default:null},boundaryIconLeft:{type:String,default:"va-arrow-first"},boundaryIconRight:{type:String,default:"va-arrow-last"},directionIconLeft:{type:String,default:"va-arrow-left"},directionIconRight:{type:String,default:"va-arrow-right"},gapped:{type:Boolean,default:!1},borderColor:{type:String,default:""},rounded:{type:Boolean,default:!1},activePageColor:{type:String,default:""},activeButtonProps:{type:Object,default:()=>({})},buttonProps:{type:Object,default:()=>({})},buttonsPreset:{type:String,default:"primary"},ariaLabel:Bn("$t:pagination"),ariaGoToTheFirstPageLabel:Bn("$t:goToTheFirstPage"),ariaGoToPreviousPageLabel:Bn("$t:goToPreviousPage"),ariaGoToSpecificPageLabel:Bn("$t:goToSpecificPage"),ariaGoToSpecificPageInputLabel:Bn("$t:goToSpecificPageInput"),ariaGoToNextPageLabel:Bn("$t:goNextPage"),ariaGoToLastPageLabel:Bn("$t:goLastPage")},emits:[...Oe],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),s=(0,l.KR)(""),u=(0,r.EW)(()=>!(!p.value&&0!==p.value||!v.value)),{valueComputed:c}=Ne(a,o),d=(0,r.EW)({get:()=>u.value?Math.ceil(c.value/v.value)||1:c.value,set:e=>{c.value=e}}),h=je("visiblePages"),f=je("pages"),p=je("total"),v=je("pageSize"),m=(0,r.EW)(()=>{const{boundaryNumbers:e}=a,t=d.value||1,n=u.value?Math.ceil(p.value/v.value):f.value;return xv(t,h.value,n,e)}),g=(0,r.EW)(()=>u.value?Math.ceil(p.value/v.value)||1:+f.value),y=(0,r.EW)(()=>!!h.value&&g.value>h.value||a.input),w=(0,r.EW)(()=>{const{boundaryLinks:e,boundaryNumbers:t}=a;return y.value&&e&&!t}),_=(0,r.EW)(()=>y.value&&a.directionLinks),E=(0,r.EW)(()=>g.value>1||!a.hideOnSinglePage&&g.value<=1),T=()=>{s.value=String(d.value),(0,r.dY)(()=>{var e;return null==(e=i.value)?void 0:e.setSelectionRange(0,i.value.value.length)})},{setItemRefByIndex:S,itemRefs:k}=Cv(),C=e=>{var t;if("..."===e||e===d.value)return;const n=nr(e,1,g.value);d.value=u.value?(n-1)*v.value+1:n,null==(t=k.value[e-1])||t.focus()},R=()=>{var e;s.value="",null==(e=i.value)||e.blur()},I=()=>{if(+s.value===d.value&&R(),!s.value.length)return;let e=Number.parseInt(s.value);switch(!0){case e<1:e=1;break;case e>g.value:e=g.value;break;case isNaN(e):e=d.value;break}C(e),R()},{getColor:A,colorToRgba:x}=Kt(),O=(0,r.EW)(()=>{const{color:e,buttonsPreset:t}=(0,l.QW)(a);if(!e.value)return"transparent";switch(t.value){case"default":return A(e.value);case void 0:case"primary":return x(A(e.value),.1);default:return"transparent"}}),N=(0,r.EW)(()=>({cursor:"default",color:A(a.color),opacity:a.disabled?.4:1,borderColor:O.value}));(0,r.wB)([u,()=>f.value],()=>{if(M&&u.value&&f.value)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")});const D=(0,r.EW)(()=>({disabled:a.disabled,placeholder:`${d.value}/${g.value}`})),L=(0,r.EW)(()=>({size:a.size,preset:a.buttonsPreset,color:a.color,borderColor:a.borderColor,round:a.rounded,...a.buttonProps})),P=(0,r.EW)(()=>({preset:"default"===a.buttonsPreset?"primary":"default",color:a.activePageColor||a.color,...a.activeButtonProps})),V=e=>isNaN(+e)||e!==d.value?L.value:Object.assign({},L.value,P.value),F=(0,r.EW)(()=>a.input&&!a.boundaryLinks&&!a.directionLinks),$=gr("va-pagination__input",()=>({sm:"small"===a.size&&F.value,md:"medium"===a.size&&F.value,lg:"large"===a.size&&F.value,auto:!F.value})),B=gr("va-pagination",()=>({...tr(a,["gapped","rounded","disabled"]),bordered:!!a.borderColor})),W=()=>C(d.value+1),U=()=>C(d.value-1),{tp:j}=Un();return t({goNextPage:W,goPrevPage:U}),(e,t)=>E.value?((0,r.uX)(),(0,r.CE)("nav",{key:0,class:(0,b.C4)(["va-pagination",(0,l.R1)(B)]),"aria-label":(0,l.R1)(j)(e.$props.ariaLabel),onKeydown:[(0,Ze.jR)((0,Ze.D$)(U,["stop"]),["left"]),(0,Ze.jR)((0,Ze.D$)(W,["stop"]),["right"]),(0,Ze.jR)((0,Ze.D$)(U,["stop"]),["up"]),(0,Ze.jR)((0,Ze.D$)(W,["stop"]),["down"])]},[w.value?(0,r.RG)(e.$slots,"firstPageLink",(0,b._B)((0,r.v6)({key:0},{onClick:()=>C(1),disabled:e.$props.disabled||1===d.value})),()=>[w.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,"aria-label":(0,l.R1)(j)(e.$props.ariaGoToTheFirstPageLabel),disabled:e.$props.disabled||1===d.value,icon:e.$props.boundaryIconLeft},L.value,{onClick:t[0]||(t[0]=e=>C(1))}),null,16,["aria-label","disabled","icon"])):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0),_.value?(0,r.RG)(e.$slots,"prevPageLink",(0,b._B)((0,r.v6)({key:1},{onClick:U,disabled:e.$props.disabled||1===d.value})),()=>[_.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,"aria-label":(0,l.R1)(j)(e.$props.ariaGoToPreviousPageLabel),disabled:e.$props.disabled||1===d.value,icon:e.$props.directionIconLeft},L.value,{onClick:U}),null,16,["aria-label","disabled","icon"])):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0),e.$props.input?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",(0,r.v6)({key:3,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),ref_key:"htmlInput",ref:i,class:["va-pagination__input va-button",(0,l.R1)($)],"aria-label":(0,l.R1)(j)(e.$props.ariaGoToSpecificPageInputLabel),style:N.value},D.value,{onKeydown:(0,Ze.jR)(I,["enter"]),onFocus:T,onBlur:I}),null,16,Nv)),[[Ze.hp,s.value]]):(0,r.RG)(e.$slots,"default",{key:2},()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.value,(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:n,ref_for:!0,ref:(0,l.R1)(S)(n),class:{"va-button--ellipsis":"..."===t,"va-button--current":t===d.value},"aria-label":(0,l.R1)(j)(e.$props.ariaGoToSpecificPageLabel,{page:t}),"aria-current":t===d.value,disabled:e.$props.disabled||"..."===t},V(t),{onClick:e=>C(t)}),{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)(t),1)]),_:2},1040,["class","aria-label","aria-current","disabled","onClick"]))),128))]),_.value?(0,r.RG)(e.$slots,"nextPageLink",(0,b._B)((0,r.v6)({key:4},{onClick:W,disabled:e.$props.disabled||d.value===g.value})),()=>[_.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,"aria-label":(0,l.R1)(j)(e.$props.ariaGoToNextPageLabel),disabled:e.$props.disabled||d.value===g.value,icon:e.$props.directionIconRight},L.value,{onClick:W}),null,16,["aria-label","disabled","icon"])):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0),w.value?(0,r.RG)(e.$slots,"lastPageLink",(0,b._B)((0,r.v6)({key:5},{onClick:()=>C(g.value),disabled:e.$props.disabled||d.value===g.value})),()=>[w.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,"aria-label":(0,l.R1)(j)(e.$props.ariaGoToLastPageLabel),disabled:e.$props.disabled||d.value===g.value,icon:e.$props.boundaryIconRight},L.value,{onClick:t[2]||(t[2]=e=>C(g.value))}),null,16,["aria-label","disabled","icon"])):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0)],42,Ov)):(0,r.Q3)("",!0)}}),Lv=Te(Dv),Pv=()=>{const e=Br(),t=new Proxy(e.value||{},{get:(t,n,r)=>{var a,o;if("scrollTop"===n)return null==(a=e.value)?void 0:a.scrollY;if("scrollLeft"===n)return null==(o=e.value)?void 0:o.scrollX;const i=Reflect.get(t,n,r);return"function"===typeof i?i.bind(t):i}}),n=e=>e?e.scrollHeight>e.clientHeight?e:n(e.parentElement):t;return{getScrollableParent:n}},Mv={class:"va-parallax__image-container"},Vv=["src","alt"],Fv={class:"va-parallax__item-container"},$v=(0,r.pM)({name:"VaParallax",__name:"VaParallax",props:{...De,target:{type:[Object,String]},src:{type:String,default:"",required:!0},alt:{type:String,default:"parallax"},height:{type:[Number,String],default:400},reversed:{type:Boolean,default:!1},speed:{type:[Number,String],default:.5,validator:e=>{const t=Number(e);return t>=0&&t<=1}}},setup(e){const t=e,n=(0,l.IJ)(),a=(0,l.IJ)(),o=(0,l.KR)(0),i=(0,l.KR)(0),s=(0,l.KR)(0),u=(0,l.KR)(0),c=(0,l.KR)(0),d=(0,l.KR)(0),h=(0,l.KR)(0),f=(0,l.KR)(!1),p=(0,r.EW)(()=>({height:w.value+"px"})),v=(0,r.EW)(()=>({display:"block",transform:`translate(-50%, ${i.value}px)`,opacity:f.value?1:0,top:t.reversed?0:"auto"})),{getScrollableParent:m}=Pv(),g=(0,r.EW)(()=>{var e;if(!t.target)return m(null==(e=n.value)?void 0:e.parentElement);if(t.target instanceof HTMLElement)return t.target;const r=document.querySelector(t.target);return r||(V("VaParallax target prop got wrong selector. Target is null"),null)}),y=(0,r.EW)(()=>{var e;return(null==(e=a.value)?void 0:e.naturalHeight)||0}),w=je("height"),_=je("speed"),E=()=>{var e,t;const r=(null==(e=n.value)?void 0:e.getBoundingClientRect())||{top:0};c.value=(null==(t=g.value)?void 0:t.scrollTop)||0,s.value=y.value-w.value,o.value=r.top+c.value,d.value=window.innerHeight,h.value=c.value+d.value},T=()=>{E(),u.value=(h.value-o.value)/(w.value+d.value),i.value=Math.round(s.value*u.value)*_.value,t.reversed&&(i.value=-i.value)},S=()=>{var e,t;null==(e=g.value)||e.addEventListener("scroll",T),null==(t=g.value)||t.addEventListener("resize",T)},k=()=>{var e,t;null==(e=g.value)||e.removeEventListener("scroll",T),null==(t=g.value)||t.removeEventListener("resize",T)},C=()=>{var e,t;(null==(e=a.value)?void 0:e.complete)?(T(),S()):null==(t=a.value)||t.addEventListener("load",()=>{T(),S()},!1),f.value=!0};return(0,r.sV)(C),(0,r.xo)(k),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"rootElement",ref:n,class:"va-parallax",style:(0,b.Tr)(p.value)},[(0,r.Lk)("div",Mv,[(0,r.Lk)("img",{ref_key:"img",ref:a,class:"va-parallax__image",src:e.$props.src,alt:e.$props.alt,style:(0,b.Tr)(v.value)},null,12,Vv)]),(0,r.Lk)("div",Fv,[(0,r.RG)(e.$slots,"default")])],4))}}),Bv=Te($v),Wv={key:0,"aria-hidden":"true",class:"va-popover__icon"},Uv={key:1},jv={key:0,class:"va-popover__title"},Gv={key:1,class:"va-popover__body"},zv=pr(Ts,["closeOnClickOutside"]),Hv=(0,r.pM)({name:"VaPopover",__name:"VaPopover",props:{...zv,...De,trigger:{...zv.trigger,default:["hover","enter","space","arrow-down","arrow-up"]},color:{type:String,default:"#1b1a1f"},textColor:{type:String},icon:{type:String,default:""},title:{type:String,default:""},message:{type:String,default:""},autoHide:{type:Boolean,default:!0},offset:{type:[Array,Number],default:4},contentClass:{type:String,default:""}},setup(e){const t=e,n=yr(zv),{getColor:a,getBoxShadowColor:o}=Kt(),i=(0,r.Ht)(),{textColorComputed:s}=Xt((0,r.EW)(()=>a(t.color))),u=(0,r.EW)(()=>t.icon||i.icon),c=(0,r.EW)(()=>t.title||i.title),d=(0,r.EW)(()=>t.message||i.body),h=(0,r.EW)(()=>c.value||d.value),f=(0,r.EW)(()=>({boxShadow:`var(--va-popover-content-box-shadow) ${o(a(t.color))}`,backgroundColor:a(t.color),color:s.value}));return(t,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ts),(0,r.v6)((0,l.R1)(n),{"model-value":t.modelValue,"close-on-click-outside":e.autoHide,offset:t.$props.offset,"content-class":t.$props.contentClass,class:"va-popover"}),{default:(0,r.k6)(()=>[(0,r.Lk)("div",{style:(0,b.Tr)(f.value),class:"va-popover__content",role:"tooltip"},[u.value?((0,r.uX)(),(0,r.CE)("div",Wv,[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.bF)((0,l.R1)(Fn),{name:t.$props.icon,color:(0,l.R1)(s)},null,8,["name","color"])])])):(0,r.Q3)("",!0),h.value?((0,r.uX)(),(0,r.CE)("div",Uv,[c.value?((0,r.uX)(),(0,r.CE)("div",jv,[(0,r.RG)(t.$slots,"title",{},()=>[(0,r.eW)((0,b.v_)(t.$props.title),1)])])):(0,r.Q3)("",!0),d.value?((0,r.uX)(),(0,r.CE)("div",Gv,[(0,r.RG)(t.$slots,"body",{},()=>[(0,r.eW)((0,b.v_)(t.$props.message),1)])])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)],4)]),anchor:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},16,["model-value","close-on-click-outside","offset","content-class"]))}}),Kv=Te(Hv);var Xv=(e=>(e[e["EMPTY"]=0]="EMPTY",e[e["HALF"]=.5]="HALF",e[e["FULL"]=1]="FULL",e))(Xv||{});const qv=()=>{const e=(0,r.nI)();if(!e)throw new Error("useRating hooks must be used on top of setup function");return{props:e.props,emit:e.emit}},Qv={...Ae,modelValue:{type:Number,default:0},clearable:{type:Boolean,default:!1},hover:{type:Boolean,default:!1}},Yv=e=>{const{emit:t}=qv(),{isHovered:n,onMouseEnter:a,onMouseLeave:o}=Qr(),{valueComputed:i}=Ne(e,t),s=(0,l.KR)(0),u=(0,r.EW)(()=>!e.disabled&&!e.readonly&&e.hover&&n.value?s.value:i.value),c=(t,n)=>{const r=t+n;e.clearable&&i.value===r?i.value=0:i.value=r},d=(t,n)=>{e.hover&&(s.value=t+n)},h=e=>{const t=u.value-e;return nr(t,Xv.EMPTY,Xv.FULL)};return{visibleValue:u,modelValue:i,hoveredValue:s,isHovered:n,onMouseEnter:a,onMouseLeave:o,onItemValueUpdate:c,onItemHoveredValueUpdate:d,getItemValue:h}},Jv={unselectedColor:{type:String},color:{type:String,default:"primary"},modelValue:{type:Number}},Zv=e=>{const{getColor:t,getFocusColor:n,getTextColor:a}=Kt(),o=(0,r.EW)(()=>t(e.color)),i=(0,r.EW)(()=>e.unselectedColor?t(e.unselectedColor):n(t(e.color))),s=(0,r.EW)(()=>e.modelValue===Xv.HALF?`linear-gradient(90deg, ${o.value} 50%, ${i.value} 50%`:e.modelValue===Xv.EMPTY?i.value:o.value),l=(0,r.EW)(()=>e.modelValue===Xv.FULL?t(a(o.value)):t(a(i.value)));return{computedColor:o,backgroundComputed:s,textColorComputed:l}},em=["tabindex","onKeydown"],tm=(0,r.pM)({name:"VaRatingItem",__name:"VaRatingItem",props:{modelValue:{type:Number,default:0},icon:{type:String,default:"star"},halfIcon:{type:String,default:"star_half"},emptyIcon:{type:String,default:"star_outline"},halves:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:[String,Number],default:"medium"},unselectedColor:{type:String},color:{type:String,default:"primary"}},emits:["update:modelValue","click","hover"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),[i]=Fl("modelValue",n,a,Xv.EMPTY),s=(0,l.KR)(null),u=(0,r.EW)(()=>!n.hover||n.disabled||n.readonly?i.value:s.value||i.value),{getColor:c}=Kt(),d=(0,r.EW)(()=>c(n.unselectedColor&&u.value===Xv.EMPTY?n.unselectedColor:n.color)),h=e=>{if(!o.value)return;const{offsetX:t}=e,r=o.value.clientWidth;n.halves?s.value=t/r<=Xv.HALF?Xv.HALF:Xv.FULL:s.value=Xv.FULL},f=()=>{s.value=null},p=()=>{i.value=s.value||Xv.FULL,a("click",s.value||Xv.FULL)};(0,r.wB)(s,()=>a("hover",s.value||Xv.EMPTY));const v=(0,r.EW)(()=>n.halves&&u.value===Xv.HALF?n.halfIcon:u.value===Xv.EMPTY?n.emptyIcon:n.icon),m=(0,r.EW)(()=>n.disabled?-1:n.tabindex);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"rootEl",ref:o,role:"button",class:"va-rating-item",tabindex:m.value,onKeydown:[(0,Ze.jR)(p,["enter"]),(0,Ze.jR)((0,Ze.D$)(p,["prevent"]),["space"])],onMousemove:h,onMouseleave:f,onClick:p},[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({value:u.value,onClick:p})),()=>[(0,r.bF)((0,l.R1)(Fn),{class:"va-rating-item__wrapper",tabindex:"-1",tag:"button",name:v.value,size:e.$props.size,color:d.value},null,8,["name","size","color"])])],40,em))}}),nm=(0,r.pM)({name:"VaRatingItemNumberButton",__name:"VaRatingItemNumberButton",props:{...Jv,...cn,itemNumber:{type:Number,required:!0},modelValue:{type:Number,required:!0}},setup(e){const t=e,{textColorComputed:n,backgroundComputed:a}=Zv(t),{sizeComputed:o,fontSizeComputed:i,fontSizeInRem:s}=mn(t,"VaRating");return(t,s)=>((0,r.uX)(),(0,r.CE)("button",{class:"va-rating__number-item",tabindex:"-1","aria-hidden":"true",style:(0,b.Tr)({background:(0,l.R1)(a),color:(0,l.R1)(n),width:(0,l.R1)(o),height:(0,l.R1)(o),fontSize:(0,l.R1)(i),borderRadius:.125*parseInt((0,l.R1)(i))+"rem"})},(0,b.v_)(e.itemNumber),5))}}),rm=["aria-label"],am=pr(tm,["modelValue","itemNumber"]),om=pr(nm,["modelValue","itemNumber"]),im=(0,r.pM)({name:"VaRating",__name:"VaRating",props:{...om,...Qv,...Jv,...Lu,...am,...De,modelValue:{type:Number,default:0},numbers:{type:Boolean,default:!1},halves:{type:Boolean,default:!1},max:{type:[Number,String],default:5},texts:{type:Array,default:()=>[]},ariaLabel:Bn("$t:currentRating"),ariaItemLabel:Bn("$t:voteRating")},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{computedClasses:a}=Pu("va-rating",n),{visibleValue:o,modelValue:i,hoveredValue:s,isHovered:u,onMouseEnter:c,onMouseLeave:d,onItemValueUpdate:h,onItemHoveredValueUpdate:f,getItemValue:p}=Yv(n),v=(0,r.EW)(()=>!n.disabled&&!n.readonly),m=e=>{const t=Number(n.max),r=n.halves?Xv.HALF:Xv.FULL,a=o.value+r*e,i=n.clearable?0:r;a>=i&&a<=t?h(o.value,r*e):a<i?h(i,0):h(t,-1===e?r*e:0)},{tp:g,t:y}=Un(),{computedColor:w,backgroundComputed:_,textColorComputed:E}=Zv(n),T=(0,r.EW)(()=>v.value?0:void 0),S=yr(am),k=yr(om);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-rating",(0,l.R1)(a)]),"aria-label":(0,l.R1)(g)(e.$props.ariaLabel,{max:e.$props.max,value:e.$props.modelValue})},[(0,r.Lk)("div",{class:"va-rating__item-wrapper",onKeyup:[t[0]||(t[0]=(0,Ze.jR)(e=>m(-1),["left"])),t[1]||(t[1]=(0,Ze.jR)(e=>m(1),["right"]))],onMouseenter:t[2]||(t[2]=(...e)=>(0,l.R1)(c)&&(0,l.R1)(c)(...e)),onMouseleave:t[3]||(t[3]=(...e)=>(0,l.R1)(d)&&(0,l.R1)(d)(...e))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Number(e.$props.max),t=>((0,r.uX)(),(0,r.Wv)(tm,(0,r.v6)({key:t,class:"va-rating__item"},(0,l.R1)(S),{"aria-label":(0,l.R1)(g)(e.$props.ariaItemLabel,{max:e.$props.max,value:t}),"model-value":(0,l.R1)(p)(t-1),tabindex:T.value,disabled:e.$props.disabled,readonly:e.$props.readonly,onHover:e=>v.value&&(0,l.R1)(f)(t-1,e),"onUpdate:modelValue":e=>v.value&&(0,l.R1)(h)(t-1,e)}),{default:(0,r.k6)(({value:n,onClick:a})=>[(0,r.RG)(e.$slots,"item",(0,b._B)((0,r.Ng)({value:n,onClick:a,index:t})),()=>[e.$props.numbers?((0,r.uX)(),(0,r.Wv)(nm,(0,r.v6)({key:0},(0,l.R1)(k),{"model-value":n,"item-number":t}),null,16,["model-value","item-number"])):(0,r.Q3)("",!0)])]),_:2},1040,["aria-label","model-value","tabindex","disabled","readonly","onHover","onUpdate:modelValue"]))),128))],32),e.$props.texts&&e.$props.texts.length===e.$props.max?((0,r.uX)(),(0,r.CE)("span",{key:0,class:"va-rating__text-wrapper",style:(0,b.Tr)({color:(0,l.R1)(w)})},(0,b.v_)(e.$props.texts[Math.round((0,l.R1)(o))-1]),5)):(0,r.Q3)("",!0)],10,rm))}}),sm=Te(im),lm=e=>e.offsetTop,um=e=>e.offsetTop+e.offsetHeight,cm=e=>e.offsetTop+e.offsetHeight/2,dm=(e,t,n)=>{const r=t.offsetHeight,a=t.scrollTop,o=lm(e)-t.offsetTop,i=cm(e)-t.offsetTop,s=um(e)-t.offsetTop;if("start"===n)return o;if("end"===n)return s-r;if("center"===n)return i-r/2;if("any"===n){if(o-a<0)return o;if(s-a>r)return s-r}},hm=(e,t={scrollTarget:e.parentElement,verticalAlignment:"any",smooth:!1})=>{const n=t.scrollTarget||e.parentElement,r=dm(e,n,t.verticalAlignment);void 0!==r&&n.scroll({top:r,behavior:t.smooth?"smooth":"auto"})},fm=["aria-selected"],pm={key:1,class:"va-select-option__highlighted"},vm=(0,r.pM)({name:"VaSelectOption",__name:"VaSelectOption",props:{...Ht,disabled:{type:Boolean,default:!1},option:{type:[Number,String,Boolean,Object],default:()=>({})},getText:{type:Function,required:!0},getTrackBy:{type:Function,required:!0},currentOption:{type:[String,Number,Boolean,Object],default:null},getSelectedState:{type:Function,required:!0},search:{type:String,default:""},highlightMatchedText:{type:Boolean,default:!0},inputFocused:{type:Boolean,default:!1},minSearchChars:{type:[Number,String],default:0}},setup(e,{expose:t}){const n=e,{getColor:a,getHoverColor:o}=Kt(),i=je("minSearchChars"),s=(0,r.EW)(()=>G(n.option)?n.option.icon:void 0),u=(0,r.EW)(()=>a(n.color)),c=(0,r.EW)(()=>n.getText(n.option)),d=(0,r.EW)(()=>{const e={start:c.value,searchedSubString:"",end:""};if(!c.value||!n.search||!n.highlightMatchedText||n.search.length<i.value)return e;const t=c.value.toLowerCase().indexOf(n.search.toLowerCase());if(t<0)return e;const r=c.value.slice(0,t),a=c.value.slice(t,t+n.search.length),o=c.value.slice(t+n.search.length);return{start:r,searchedSubString:a,end:o}}),h=(0,r.EW)(()=>n.getSelectedState(n.option)),f=(0,r.EW)(()=>"string"===typeof n.option?n.option===n.currentOption:n.getTrackBy(n.currentOption)===n.getTrackBy(n.option)),p=gr("va-select-option",()=>({selected:h.value})),v=(0,r.EW)(()=>({color:h.value?a(n.color):"inherit",backgroundColor:f.value?o(a(n.color)):"transparent",cursor:n.disabled?"default":void 0,opacity:n.disabled?"var(--va-select-option-list-option-disabled-opacity)":void 0}));return t({isFocused:f,isSelected:h}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{role:"option",class:(0,b.C4)(["va-select-option",(0,l.R1)(p)]),style:(0,b.Tr)(v.value),"aria-selected":h.value},[(0,r.RG)(e.$slots,"option-content",{},()=>[s.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,size:"small",class:"va-select-option__icon",name:s.value},null,8,["name"])):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,b.v_)(d.value.start)+" ",1),d.value.searchedSubString?((0,r.uX)(),(0,r.CE)("span",pm,(0,b.v_)(d.value.searchedSubString),1)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,b.v_)(d.value.end),1)]),h.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,class:"va-select-option__selected-icon",size:"small",name:"va-check",color:u.value},null,8,["color"])):(0,r.Q3)("",!0)],14,fm))}}),mm=Te(vm),gm=()=>{const e=(0,l.IJ)({}),t=t=>n=>{if(n)return e.value[t]=n,String(t)};return(0,r.Ic)(()=>{e.value={}}),{itemRefs:e,setItemRef:t}},ym=["tabindex","onKeydown","aria-multiselectable"],bm={key:0,class:"va-select-option-list__group-name",role:"presentation"},wm={key:0,class:"va-select-option-list--empty"},_m=(0,r.pM)({name:"VaSelectOptionList",__name:"VaSelectOptionList",props:{...Ht,...De,...Bs,...jc,noOptionsText:{type:String,default:"Items not found"},getSelectedState:{type:Function,required:!0},multiple:{type:Boolean,default:!1},search:{type:String,default:""},tabindex:{type:[String,Number],default:0},hoveredOption:{type:[String,Number,Boolean,Object],default:null},virtualScroller:{type:Boolean,default:!0},highlightMatchedText:{type:Boolean,default:!0},minSearchChars:{type:[Number,String],default:0},autoSelectFirstOption:{type:Boolean,default:!1},selectedTopShown:{type:Boolean,default:!1},doShowAllOptions:{type:Boolean,default:!1},searchFn:{type:Function,default:void 0}},emits:["select-option","update:hoveredOption","no-previous-option-to-hover","scroll-bottom"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),s=()=>{var e;null==(e=i.value)||e.focus({preventScroll:!0})},u=(0,r.EW)(()=>{var e;return(null==(e=i.value)?void 0:e.clientHeight)??200}),c=()=>o("scroll-bottom"),d=e=>{const t=e.target;t&&t.scrollTop+t.clientHeight===t.scrollHeight&&c()},h=(0,l.KR)(""),f=(0,r.EW)(()=>a.hoveredOption??null),p=(e,t)=>{o("update:hoveredOption",e),h.value=t},{getText:v,getGroupBy:m,getTrackBy:g,getDisabled:y}=Ws(a),w=je("minSearchChars"),_=(0,r.EW)(()=>{var e;const t=a.getSelectedState,n=null==(e=a.options)?void 0:e.find(e=>t(e));return n?v(n):""}),E=(0,r.EW)(()=>{var e;return _.value.toLowerCase()===(null==(e=a.search)?void 0:e.toLowerCase())}),T=(0,r.EW)(()=>{if(a.doShowAllOptions&&E.value)return a.options;if(!a.search||a.search.length<w.value)return a.options;if(a.searchFn)return a.options.filter(e=>a.searchFn(a.search,e));const e=a.search.toUpperCase().trim();return a.options.filter(t=>{const n=v(t).toUpperCase();return n.includes(e)})}),S=(0,r.EW)(()=>a.groupBy?T.value.reduce((e,t)=>{const n=m(t);return n?(e[n]||(e[n]=[]),e[n].push(t)):e._noGroup.push(t),e},{_noGroup:[]}):{_noGroup:T.value}),k=zc(S,a),C=e=>!x(e),R=e=>{e===f.value||C(e)&&y(e)||p(e??null,"mouse")},I=e=>{p(e??null,"keyboard")},A=()=>{const e=M.value&&"object"===typeof M.value?{...M.value}:M.value;o("select-option"),a.selectedTopShown&&R(e)},O=(0,r.EW)(()=>Object.values(k.value).flat()),N=(0,r.EW)(()=>T.value.some(e=>m(e))?O.value:T.value),D=(0,r.EW)(()=>N.value.findIndex(e=>C(f.value)&&g(e)===g(f.value))),L=(0,r.EW)(()=>({...tr(a,["getSelectedState","color","search","highlightMatchedText"]),minSearchChars:w.value,getText:v,getTrackBy:g})),P=(e,t=!1)=>{const n=[...N.value||[]],r=t?n.reverse():n,a=t?-1*e-1:e;return r.slice(a).find(e=>!y(e))},M=(0,r.EW)(()=>{const e=D.value-1,t=N.value[e],n=C(t)&&!(0===e&&y(t));if(n)return P(D.value-1,!0)}),V=e=>{R(e),o("select-option")},F=e=>{a.selectedTopShown||R(e)},$=e=>{a.selectedTopShown&&R(e)},B=()=>{C(f.value)?C(M.value)?I(M.value):o("no-previous-option-to-hover"):I(P(0,!0))},W=()=>{if(!C(f.value))return void U();const e=D.value+1,t=N.value[e],n=C(t)&&!(e===N.value.length-1&&y(t));n&&I(P(D.value+1))},U=()=>I(P(0)),{itemRefs:j,setItemRef:G}=gm(),z=(0,l.IJ)(),H=e=>{var t;if(!C(e))return;const n=Lr(j.value[g(e)]);n&&hm(n);const r=null==(t=z.value)?void 0:t[0];a.virtualScroller&&r.virtualScrollTo(D.value)};return(0,r.wB)(()=>a.hoveredOption,e=>{(!h.value||"keyboard"===h.value)&&C(e)&&H(e)}),(0,r.wB)(T,()=>{a.autoSelectFirstOption&&U()},{immediate:!0}),t({focusPreviousOption:B,focusNextOption:W,focusFirstOption:U,scrollToOption:H,focus:s}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"root",ref:i,class:"va-select-option-list",tabindex:e.tabindex,onKeydown:[(0,Ze.jR)((0,Ze.D$)(B,["stop","prevent"]),["up"]),(0,Ze.jR)((0,Ze.D$)(B,["stop","prevent"]),["left"]),(0,Ze.jR)((0,Ze.D$)(W,["stop","prevent"]),["down"]),(0,Ze.jR)((0,Ze.D$)(W,["stop","prevent"]),["right"]),(0,Ze.jR)((0,Ze.D$)(A,["stop","prevent"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(A,["stop","prevent"]),["space"])],onScrollPassive:d,role:"listbox","aria-multiselectable":t.$props.multiple},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(k),(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:n},["_noGroup"!==n?((0,r.uX)(),(0,r.CE)("span",bm,(0,b.v_)(n),1)):(0,r.Q3)("",!0),t.$props.virtualScroller?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Vd),{key:1,ref_for:!0,ref_key:"virtualScrollerRef",ref:z,items:e,"track-by":(0,l.R1)(g),"wrapper-size":u.value,"onScroll:bottom":c},{default:(0,r.k6)(({item:e,index:n})=>[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({option:e,index:n,selectOption:(t=e)=>V(t)})),()=>[(0,r.bF)((0,l.R1)(mm),(0,r.v6)({option:e,"current-option":f.value,disabled:(0,l.R1)(y)(e)},L.value,{onClick:(0,Ze.D$)(A,["stop"]),onMouseenter:t=>$(e),onMousemove:t=>F(e)}),null,16,["option","current-option","disabled","onMouseenter","onMousemove"])])]),_:2},1032,["items","track-by","wrapper-size"])):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:2},(0,r.pI)(e,(e,n)=>(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.v6)({key:(0,l.R1)(g)(e)},{option:e,index:n,selectOption:V})),()=>[(0,r.bF)((0,l.R1)(mm),(0,r.v6)({ref_for:!0,ref:(0,l.R1)(G)((0,l.R1)(g)(e)),"current-option":f.value,option:e,disabled:(0,l.R1)(y)(e)},L.value,{onClick:(0,Ze.D$)(A,["stop"]),onMouseenter:t=>$(e),onMousemove:t=>F(e)}),{"option-content":(0,r.k6)(()=>[(0,r.RG)(t.$slots,"option-content",(0,b._B)((0,r.Ng)({option:e,index:n})))]),_:2},1040,["current-option","option","disabled","onMouseenter","onMousemove"])])),128))],64))),128)),T.value.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",wm,(0,b.v_)(e.noOptionsText),1))],40,ym))}}),Em=Te(_m),Tm={key:0,class:"va-select-content__placeholder"},Sm=["placeholder"],km={key:0,class:"va-select-content__option"},Cm={key:1,class:"va-select-content__separator"},Rm=["placeholder","disabled","readonly"],Im=(0,r.pM)({name:"VaSelectContent",__name:"VaSelectContent",props:{...Lu,ariaAttributes:{type:Object},value:{type:Array,required:!0},valueString:{type:String},separator:{type:String,default:", "},placeholder:{type:String,default:""},tabindex:{type:[String,Number],default:0},hiddenSelectedOptionsAmount:{type:[Number,String],default:0},isAllOptionsShown:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},getText:{type:Function,required:!0},autocompleteInputValue:{type:String,default:""}},emits:["toggle-hidden","autocomplete-input","focus-prev","focus-next","select-option","delete-last-selected"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.KR)(),i=(0,r.EW)(()=>n.placeholder&&!n.valueString),s=()=>a("toggle-hidden"),{value:u,focused:c}=(0,l.QW)(n),d=(0,r.EW)({get:()=>n.autocompleteInputValue,set:e=>a("autocomplete-input",e)}),h=je("hiddenSelectedOptionsAmount");(0,r.sV)(()=>{n.multiple||n.autocomplete&&(d.value=n.valueString)}),(0,r.wB)(c,e=>{var t,r;n.autocomplete&&e&&(d.value?null==(t=o.value)||t.setSelectionRange(0,d.value.length):null==(r=o.value)||r.focus())});const f=e=>{n.multiple&&u.value.length&&"Backspace"===e.key&&!d.value&&a("delete-last-selected")},p=e=>{var t;n.autocomplete&&(null==(t=o.value)||t.focus(),e.stopPropagation())},v=e=>G(e)?e.icon:void 0,m=(0,r.EW)(()=>n.multiple?u.value:u.value[0]);return(t,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-select-content",onClick:p},[i.value&&!t.$props.autocomplete?((0,r.uX)(),(0,r.CE)("span",Tm,[(0,r.Lk)("input",(0,r.v6)(e.ariaAttributes,{placeholder:t.$props.placeholder,readonly:""}),null,16,Sm)])):!n.autocomplete||n.multiple?(0,r.RG)(t.$slots,"content",(0,b._B)((0,r.v6)({key:1},{value:m.value,valueString:t.$props.valueString,valueArray:t.$props.value,tabindex:t.$props.tabindex,ariaAttributes:e.ariaAttributes})),()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$props.value,(n,a)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:a},[""!==n?((0,r.uX)(),(0,r.CE)("span",km,[(0,r.RG)(t.$slots,"option-content",(0,b._B)((0,r.Ng)({option:n,index:a,selectOption:()=>{}})),()=>[v(n)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,size:"small",class:"va-select-option__icon",name:v(n)},null,8,["name"])):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,b.v_)(e.getText(n)),1)])])):(0,r.Q3)("",!0),a<t.$props.value.length-1?((0,r.uX)(),(0,r.CE)("span",Cm,(0,b.v_)(t.$props.separator),1)):(0,r.Q3)("",!0)],64))),128))]):(0,r.Q3)("",!0),t.$props.autocomplete?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",(0,r.v6)({key:2},e.ariaAttributes,{"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),class:"va-select-content__autocomplete",ref_key:"autocompleteInput",ref:o,autocomplete:"off","aria-autocomplete":"list",placeholder:t.$props.placeholder,disabled:t.$props.disabled,readonly:t.$props.readonly,onKeydown:[a[1]||(a[1]=(0,Ze.jR)((0,Ze.D$)(e=>t.$emit("focus-prev"),["stop","prevent"]),["up"])),a[2]||(a[2]=(0,Ze.jR)((0,Ze.D$)(e=>t.$emit("focus-next"),["stop","prevent"]),["down"])),a[3]||(a[3]=(0,Ze.jR)((0,Ze.D$)(e=>t.$emit("select-option"),["stop","prevent"]),["enter"])),f]}),null,16,Rm)),[[Ze.hp,d.value]]):(0,r.Q3)("",!0),(0,r.RG)(t.$slots,"hiddenOptionsBadge",(0,b._B)((0,r.Ng)({amount:e.hiddenSelectedOptionsAmount,isShown:t.$props.isAllOptionsShown,toggle:s})),()=>[(0,l.R1)(h)&&!t.$props.isAllOptionsShown?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ca),{key:0,class:"va-select-content__state-icon",color:"info",text:`+${(0,l.R1)(h)}`,tabindex:t.$props.tabindex,onClick:(0,Ze.D$)(s,["stop"])},null,8,["text","tabindex"])):(0,r.Q3)("",!0)]),(0,r.RG)(t.$slots,"hideOptionsButton",(0,b._B)((0,r.Ng)({isShown:t.$props.isAllOptionsShown,toggle:s})),()=>[t.$props.isAllOptionsShown?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,role:"button",class:"va-select-content__state-icon",size:"small",name:"reply",tabindex:t.$props.tabindex,onClick:(0,Ze.D$)(s,["stop"])},null,8,["tabindex"])):(0,r.Q3)("",!0)])]))}}),Am=Te(Im),xm={maxVisibleOptions:{type:Number||String,default:0}},Om=(e,t)=>{const n=(0,l.lW)(e,"modelValue"),a=(0,l.KR)(!1),o=(0,l.KR)([]),i=(0,l.KR)([]),s=(0,r.EW)(()=>i.value.length),u=(0,r.EW)(()=>[...o.value,...i.value]),c=(0,r.EW)(()=>!e.maxVisibleOptions||a.value?u.value:o.value);(0,r.wB)(n,()=>{if(!Array.isArray(n.value))return o.value=[t(n.value)],void(i.value=[]);const r=n.value.filter(e=>!x(e)).map(t);e.maxVisibleOptions?(o.value=r.slice(0,e.maxVisibleOptions),i.value=r.slice(e.maxVisibleOptions)):(o.value=[...r],i.value=[])},{immediate:!0});const d=()=>a.value=!a.value;return{toggleHiddenOptionsState:d,isAllOptionsShown:a,visibleSelectedOptions:c,hiddenSelectedOptionsAmount:s,allSelectedOptions:u}},Nm={dropdownIcon:{type:[String,Object],default:()=>({open:"va-arrow-down",close:"va-arrow-up"}),validator:e=>"string"===typeof e||Object.entries(e).every(([e,t])=>["open","close"].includes(e)&&"string"===typeof t)}},Dm=(e,t)=>{const n=(0,r.EW)(()=>e.dropdownIcon?"string"===typeof e.dropdownIcon?e.dropdownIcon:t.value?e.dropdownIcon.close:e.dropdownIcon.open:""),{getHoverColor:a,getColor:o}=Kt(),i=(0,r.EW)(()=>o("secondary")),s=(0,r.EW)(()=>e.readonly?a(i.value):i.value);return{toggleIcon:n,toggleIconColor:s}},Lm={separator:{type:String,default:", "}},Pm=(e,t,n)=>(0,r.EW)(()=>{var r;return(null==(r=t.value)?void 0:r.length)?t.value.map(n).join(e.separator)??"":""}),Mm={autocomplete:{type:Boolean,default:!1}},Vm=(e,t,n,a,o)=>{const i=e=>(null==e?void 0:e.length)?o(e.at(-1)):"";t.autocomplete&&!t.multiple&&(e.value=i(n.value)),(0,r.wB)(n,(n,r)=>{if(!t.autocomplete)return;const o=i(n),s=i(r);o!==s&&(e.value=t.multiple?"":o,t.multiple||(a.value=!1))}),(0,r.wB)(e,e=>{t.autocomplete&&e&&e!==i(n.value)&&(a.value=!0)});const s=()=>{e.value=t.multiple?"":i(n.value)};return(0,r.wB)(a,(e,n)=>{t.autocomplete&&(e&&!n||s())}),e},Fm=()=>{const e=Vl(),t=`combobox-controls-${e}`;return{popupId:t}},$m={maxSelections:{type:[Number,String],default:void 0}};function Bm(e,t){const n=()=>void 0!==t.value&&!isNaN(+t.value)&&e.value.length>=Number(t.value),r=t=>[...e.value,t];return{exceedsMaxSelections:n,addOption:r}}const Wm=pr(Ku),Um=(0,r.pM)({name:"VaSelect",__name:"VaSelect",props:{...Wm,...De,...Bs,...zl,...mr,...$m,...Yu,...Lu,...xm,...Nm,...jc,...Lm,...Mm,...of,modelValue:{type:[String,Number,Array,Object,Boolean],default:void 0},placement:{...of.placement,default:"bottom"},keepAnchorWidth:{...of.keepAnchorWidth,default:!0},offset:{...of.offset,default:[1,0]},closeOnContentClick:{...of.closeOnContentClick,default:!1},trigger:{...of.trigger,default:()=>["click","right-click","space","enter"]},allowCreate:{type:[Boolean,String],default:!1,validator:e=>[!0,!1,"unique"].includes(e)},color:{type:String,default:"primary"},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},width:{type:String,default:"100%"},maxHeight:{type:String,default:"256px"},noOptionsText:Bn("$t:noOptions"),hideSelected:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:0},virtualScroller:{type:Boolean,default:!1},selectedTopShown:{type:Boolean,default:!1},highlightMatchedText:{type:Boolean,default:!0},minSearchChars:{type:[Number,String],default:0},autoSelectFirstOption:{type:Boolean,default:!1},placeholder:{type:String,default:""},searchPlaceholderText:Bn("$t:search"),ariaLabel:Bn("$t:select"),ariaSearchLabel:Bn("$t:optionsFilter"),ariaClearLabel:Bn("$t:reset"),search:{type:String,default:void 0},searchFn:{type:Function,default:void 0},clearValue:{type:[String,Number,Array,Object,Boolean],default:""}},emits:["update:modelValue","update-search","create-new","scroll-bottom","update:search",...sf,...Hl,...Ju],setup(e,{expose:t,emit:n}){const a=e,o=n,{tp:i,t:s}=Un(),u=(0,l.IJ)(),c=(0,l.IJ)(),d=(0,l.IJ)(),h=Mu(c),{getValue:f,getText:p,getTrackBy:v,tryResolveByValue:m}=Ws(a),g=e=>p(m(e)),y=()=>o("scroll-bottom"),[w]=Fl("search",a,o,""),_=(0,r.EW)(()=>a.searchable||a.allowCreate&&!a.autocomplete);(0,r.wB)(w,e=>{o("update-search",e),a.autocomplete||(G.value=null)});const E=e=>{if(x(e)||"object"===typeof e)return e;const t=a.options.find(t=>e===f(t));return void 0===t?(V(`[VaSelect]: can not find option in options list (${JSON.stringify(a.options)}) by provided value (${JSON.stringify(e)})!`),e):t},{toggleHiddenOptionsState:T,isAllOptionsShown:S,visibleSelectedOptions:k,hiddenSelectedOptionsAmount:C,allSelectedOptions:R}=Om(a,E),I=(0,r.EW)({get(){if(a.multiple)return R.value;const e=E(a.modelValue);return Array.isArray(e)&&(V("Model value should be a string, number, boolean or an object for a single Select."),e.length)?e.at(-1):e},set(e){Array.isArray(e)?o("update:modelValue",e.map(f)):o("update:modelValue",f(e))}}),A=Pm(a,k,g),{canBeCleared:O,clearIconProps:N,onFocus:D,onBlur:L}=Zu(a,I),P=(0,r.EW)(()=>!!O.value&&(!a.multiple||!Array.isArray(I.value)||!!I.value.length)),M=(0,r.EW)(()=>a.options?a.selectedTopShown?a.options.slice().sort((e,t)=>{const n=$(e),r=$(t);return n&&r?0:n&&!r?-1:1}):a.hideSelected?a.options.filter(e=>!$(e)):a.options:[]),F=(0,r.EW)(()=>Array.isArray(I.value)?I.value.map(e=>m(e)):m(I.value)),$=e=>Array.isArray(F.value)?!x(F.value.find(t=>B(t,e))):B(F.value,e),B=(e,t)=>{const n=f(e),r=f(t);return n===r||("string"===typeof n&&"string"===typeof r?n===r:null!==n&&null!==r&&("object"===typeof n&&"object"===typeof r&&v(n)===v(r)))},W=e=>Array.isArray(e.value),U=e=>{if(null!==G.value){if(_.value&&(w.value=""),a.multiple&&W(I)){const{exceedsMaxSelections:t,addOption:n}=Bm(I,(0,l.KR)(a.maxSelections)),r=$(e);if(r)I.value=I.value.filter(t=>!B(e,t));else{if(t())return;I.value=n(e)}}else I.value=e,te();Ae()}else te()},j=()=>{var e;const t=null==(e=a.options)?void 0:e.some(e=>[w.value,Te.value].includes(p(e))),n=!(("unique"===a.allowCreate||a.autocomplete)&&t);n&&(o("create-new",w.value||Te.value),w.value="",Te.value="")},G=(0,l.KR)(null),z=()=>{q.value?U(G.value):Z()},H=()=>{const e=!!a.allowCreate&&(w.value||Te.value);null!==G.value?z():e&&j()},K=()=>{var e;return null==(e=u.value)?void 0:e.focusPreviousOption()},X=()=>{var e;return null==(e=u.value)?void 0:e.focusNextOption()},{isOpenSync:q,dropdownProps:Q}=lf(a,o,{defaultCloseOnValueUpdate:(0,r.EW)(()=>!a.multiple)}),Y=(0,r.EW)(()=>({...Q.value,stateful:!1,innerAnchorSelector:".va-input-wrapper__field"})),J=(0,r.EW)({get:()=>q.value,set:e=>{e?Z():ee()}}),Z=()=>{a.disabled||a.readonly||(q.value=!0,le(),ae())},ee=()=>{q.value=!1,a.autocomplete||(w.value=""),(0,r.dY)(()=>{Ne(),h.focusIfNothingIfFocused()})},te=()=>{ee(),h.value=!0},ne=()=>{var e;null==(e=d.value)||e.focus()},re=()=>{var e,t;null==(e=u.value)||e.focus(),!a.modelValue&&(null==(t=u.value)||t.focusFirstOption())},ae=async()=>{await(0,r.dY)(),_.value?ne():re()},oe=()=>{J.value||(L(),Fe.onBlur(),h.value?h.value=!1:Ne())},ie=(0,r.EW)(()=>a.disabled?-1:a.tabindex),se=(0,r.EW)(()=>a.disabled||a.autocomplete?-1:0),le=()=>{const e=I.value,t="object"!==typeof e&&Array.isArray(e)&&!e.length;if(t)return;const n=Array.isArray(e)?e[e.length-1]:e;G.value=n,(0,r.dY)(()=>{var e;return null==(e=u.value)?void 0:e.scrollToOption(n)})};let ue,ce="";const de=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"," "],he=e=>{if(de.some(t=>t===e.key))return;const t=1===e.key.length,n="Backspace"===e.key||"Delete"===e.key;if(clearTimeout(ue),n?ce=ce?ce.slice(0,-1):"":t&&(ce+=e.key),_.value)w.value=ce;else{if(ce){const e=a.options.find(e=>p(e).toLowerCase().startsWith(ce.toLowerCase()));e&&(G.value=e)}ue=setTimeout(()=>{ce=""},1e3)}},fe=je("minSearchChars"),pe=(0,r.EW)(()=>({...tr(a,["textBy","trackBy","groupBy","valueBy","disabledBy","color","virtualScroller","highlightMatchedText","delay","selectedTopShown"]),autoSelectFirstOption:a.autoSelectFirstOption||a.autocomplete,search:w.value||Te.value,tabindex:ie.value,selectedValue:I.value,options:M.value,getSelectedState:$,noOptionsText:i(a.noOptionsText),doShowAllOptions:ke.value,minSearchChars:fe.value})),{toggleIcon:ve,toggleIconColor:me}=Dm(a,q),ge=(0,r.EW)(()=>h.value||q.value),ye=(0,r.Ht)(),be=gr("va-select-anchor",()=>({nowrap:!(!a.maxVisibleOptions||ye.content)})),we=yr(Wm),_e=(0,r.EW)(()=>({...we.value,error:De.value,errorMessages:Le.value,focused:ge.value,"aria-label":a.ariaLabel||(a.modelValue?`${s("selectedOption")}: ${a.modelValue}`:s("noSelectedOption"))})),Ee=(0,r.EW)(()=>({...tr(a,["placeholder","autocomplete","multiple","disabled","readonly"]),tabindex:ie.value,value:k.value,valueString:A.value,hiddenSelectedOptionsAmount:C.value,isAllOptionsShown:S.value,focused:h.value,autocompleteInputValue:Te.value,getText:g})),Te=Vm(w,a,k,q,p),Se=e=>Te.value=e,ke=(0,l.KR)(!0);(0,r.wB)(J,()=>{ke.value=!0}),(0,r.wB)(w,()=>{ke.value=!1});const Ce=()=>{a.disabled||Mr(Lr(c.value))},Re=()=>{J.value&&(J.value=!1),(0,r.dY)(()=>{a.disabled||Vr(Lr(c.value))})},Ie=()=>Pe(()=>{a.multiple?I.value=Array.isArray(a.clearValue)?a.clearValue:[]:I.value=a.clearValue,w.value="",o("clear"),Me(),(0,r.dY)(()=>{h.value=!0})}),Ae=e=>{!a.autocomplete||a.disabled||a.readonly||(null==e||e.stopImmediatePropagation(),h.value=!0,q.value=!0)},xe=e=>{if(a.disabled||a.readonly)return;const t=e.target&&"tagName"in e.target&&"INPUT"===e.target.tagName;"Space"===e.code&&t||(e.preventDefault(),J.value=!J.value)},Oe=()=>{Array.isArray(I.value)&&(I.value=I.value.slice(0,-1))},{validate:Ne,computedError:De,computedErrorMessages:Le,withoutValidation:Pe,resetValidation:Me,validationAriaAttributes:Ve,listeners:Fe,isTouched:$e}=Yl(a,o,{reset:Ie,focus:Ce,value:I});(0,r.wB)(q,e=>{e||($e.value=!0)});const{popupId:Be}=Fm(),We=w,Ue=D;return t({focus:Ce,blur:Re,reset:Ie}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ts),(0,r.v6)({ref:"dropdown",modelValue:J.value,"onUpdate:modelValue":t[4]||(t[4]=e=>J.value=e),class:"va-select va-select__dropdown va-select-dropdown"},Y.value,{role:"combobox","inner-anchor-selector":".va-input-wrapper__field","keyboard-navigation":!1}),{anchor:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Ku),(0,r.v6)(_e.value,{ref_key:"input",ref:c,class:["va-select__anchor va-select-anchor__input",(0,l.R1)(be)],"aria-haspopup":"listbox","model-value":(0,l.R1)(A),readonly:!0,"aria-label":e.$props.ariaLabel,"aria-controls":(0,l.R1)(Be),"aria-owns":(0,l.R1)(Be),onFocus:(0,l.R1)(Ue),onBlur:oe}),(0,r.eX)({icon:(0,r.k6)(()=>[P.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:0,role:"button","aria-label":(0,l.R1)(i)(e.$props.ariaClearLabel)},(0,l.R1)(N),{onClick:(0,Ze.D$)(Ie,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(Ie,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(Ie,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):(0,r.Q3)("",!0)]),appendInner:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Fn),{color:(0,l.R1)(me),name:(0,l.R1)(ve),class:"va-select__toggle-icon",role:"button",tabindex:se.value,"aria-expanded":J.value,onKeydown:(0,Ze.jR)(xe,["enter"])},null,8,["color","name","tabindex","aria-expanded"])]),default:(0,r.k6)(({ariaAttributes:t})=>[(0,r.bF)((0,l.R1)(Am),(0,r.v6)(Ee.value,{ariaAttributes:t,separator:e.$props.separator,onToggleHidden:(0,l.R1)(T),onAutocompleteInput:Se,onFocusPrev:K,onFocusNext:X,onSelectOption:H,onDeleteLastSelected:Oe}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["ariaAttributes","separator","onToggleHidden"])]),_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["class","model-value","aria-label","aria-controls","aria-owns","onFocus"])]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(ks),{class:"va-select-dropdown__content",style:(0,b.Tr)({width:e.$props.width}),onKeydown:(0,Ze.jR)(te,["esc"]),role:"dialog"},{default:(0,r.k6)(()=>[_.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ku),{key:0,ref_key:"searchBar",ref:d,class:"va-select-dropdown__content-search-input",modelValue:(0,l.R1)(We),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(We)?We.value=e:null),"aria-label":(0,l.R1)(i)(e.$props.ariaSearchLabel),tabindex:ie.value,placeholder:(0,l.R1)(i)(e.$props.searchPlaceholderText),preset:"bordered",onKeydown:[(0,Ze.jR)((0,Ze.D$)(K,["stop","prevent"]),["up"]),(0,Ze.jR)((0,Ze.D$)(K,["stop","prevent"]),["left"]),(0,Ze.jR)((0,Ze.D$)(X,["stop","prevent"]),["down"]),(0,Ze.jR)((0,Ze.D$)(X,["stop","prevent"]),["right"]),(0,Ze.jR)((0,Ze.D$)(H,["prevent"]),["enter"])],onFocus:t[1]||(t[1]=e=>G.value=null)},null,8,["modelValue","aria-label","tabindex","placeholder","onKeydown"])):(0,r.Q3)("",!0),(0,r.bF)((0,l.R1)(Em),(0,r.v6)({ref_key:"optionList",ref:u,class:"va-select-dropdown__options-wrapper",hoveredOption:G.value,"onUpdate:hoveredOption":t[2]||(t[2]=e=>G.value=e),style:{maxHeight:e.$props.maxHeight},id:(0,l.R1)(Be),"search-fn":e.$props.searchFn},pe.value,{onSelectOption:z,onNoPreviousOptionToHover:ne,onKeydown:[t[3]||(t[3]=(0,Ze.jR)((0,Ze.D$)(e=>d.value&&d.value.focus(),["stop","prevent"]),["tab"])),he],onScrollBottom:y}),{default:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"option",(0,b._B)((0,r.Ng)(t)))]),"option-content":(0,r.k6)(t=>[(0,r.RG)(e.$slots,"option-content",(0,b._B)((0,r.Ng)(t)))]),_:3},16,["hoveredOption","style","id","search-fn"])]),_:3},8,["style"])]),_:3},16,["modelValue"]))}}),jm=Te(Um),Gm={class:"va-separator","aria-hidden":"true"},zm=(0,r.pM)({name:"VaSeparator",__name:"VaSeparator",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Gm))}}),Hm={key:0,class:"va-skeleton__wave"},Km=(0,r.pM)({name:"VaSkeleton",__name:"VaSkeleton",props:{color:{type:String,default:"backgroundElement"},delay:{type:[Number,String],default:100},tag:{type:String,default:"div"},animation:{type:String,default:"pulse"},lines:{type:[String,Number],default:1},height:{type:[String],default:"5em"},width:{type:[String],default:"100%"},lineGap:{type:String,default:"8px"},lastLineWidth:{type:[String],default:"75%"},variant:{type:String,default:"squared"},ariaLabel:Bn("$t:loading")},setup(e){const t=e,n=(0,l.KR)(!1),a=je("delay");let o;(0,r.sV)(()=>{clearTimeout(o),setTimeout(()=>{n.value=!0},a.value)}),(0,r.xo)(()=>{clearTimeout(o)});const i=(0,r.EW)(()=>"text"===t.variant?`${t.lines}em`:t.height),s=(0,r.EW)(()=>"circle"===t.variant?i.value:t.width),{getColor:u}=Kt(),c=(0,r.EW)(()=>u(t.color));(0,r.EW)(()=>`-${t.lineGap}`);const d=gr("va-skeleton",()=>({lines:Number(t.lines)>1,text:"text"===t.variant,circle:"circle"===t.variant,hidden:!n.value,pulse:"pulse"===t.animation,wave:"wave"===t.animation})),h=(0,r.EW)(()=>"circle"===t.variant?"50%":"rounded"===t.variant?`var(--va-skeleton-border-radius, calc(${i.value} / 5))`:"0px"),{tp:f}=Un(),p=(0,r.OA)(),v=(0,r.EW)(()=>[...Object.keys(d),p.class]);return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.tag),{class:(0,b.C4)(["va-skeleton",v.value]),role:"status","aria-live":"polite","aria-label":(0,l.R1)(f)(t.$props.ariaLabel),"aria-atomic":"true",style:(0,b.Tr)(`--va-color-computed: ${String(c.value)};--va-height-computed: ${String(i.value)};--va-width-computed: ${String(s.value)};--va-border-radius: ${String(h.value)};--va-line-gap: ${String(e.lineGap)};--va-last-line-width: ${String(e.lastLineWidth)}`)},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default"),"wave"===e.animation?((0,r.uX)(),(0,r.CE)("div",Hm)):(0,r.Q3)("",!0)]),_:3},8,["aria-label","class","style"]))}}),Xm=(0,r.pM)({name:"VaSkeletonGroup",__name:"VaSkeletonGroup",props:{color:{type:String,default:"backgroundElement"},delay:{type:[Number,String],default:100},animation:{type:String,default:"pulse"},lines:{type:[Number,String],default:1},lineGap:{type:String,default:"8px"},lastLineWidth:{type:[String],default:"75%"}},setup(e){const t=e,n=(0,l.KR)(!1),a=je("delay");let o;(0,r.sV)(()=>{o=setTimeout(()=>{n.value=!0},a.value)}),(0,r.KC)(()=>{clearTimeout(o)});const i=gr("va-skeleton-group",()=>({hidden:!1===n.value})),s=(0,r.EW)(()=>({...t,delay:0}));return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ga),{components:{VaSkeleton:s.value}},{default:(0,r.k6)(()=>[(0,r.Lk)("div",(0,r.v6)({class:["va-skeleton-group",(0,l.R1)(i)]},e.$attrs),[(0,r.RG)(e.$slots,"default",{},void 0,!0)],16)]),_:3},8,["components"]))}}),qm=qs(Xm,[["__scopeId","data-v-597bab9a"]]),Qm=Te(Km),Ym=Te(qm),Jm=Symbol("VaSidebar"),Zm=e=>{(0,r.Gt)(Jm,e)},eg=()=>(0,r.WQ)(Jm,{color:"background-element"}),tg=e=>{const t=(0,l.KR)(null);return _u([e],()=>{var n;t.value=(null==(n=e.value)?void 0:n.clientWidth)??null}),(0,r.nT)(()=>{var n;t.value=(null==(n=e.value)?void 0:n.clientWidth)??null}),t},ng=(0,r.pM)({name:"VaSidebar",__name:"VaSidebar",props:{...De,activeColor:{type:String,default:"primary"},hoverColor:{type:String,default:void 0},hoverOpacity:{type:[Number,String],default:.2,validator:e=>Number(e)>=0&&Number(e)<=1},borderColor:{type:String,default:void 0},color:{type:String,default:"background-element"},textColor:{type:String},gradient:{type:Boolean,default:!1},minimized:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},width:{type:String,default:"16rem"},minimizedWidth:{type:String,default:"4rem"},modelValue:{type:Boolean,default:!0},animated:{type:[Boolean,String],default:!0},closeOnClickOutside:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,o=n,{getColor:i}=Kt();Zm(a);const s=(0,l.KR)(!1),u=(0,r.EW)(()=>a.minimized||a.hoverable&&!s.value),c=(0,l.KR)(),d=tg(c),h=(0,r.EW)(()=>!0===a.modelValue||(null===d.value||d.value>0)),f=(0,l.KR)(),p=()=>a.modelValue?u.value?a.minimizedWidth:a.width:0,v=(0,r.EW)(()=>u.value?a.minimizedWidth:a.width);(0,r.nT)(()=>{const e=p();setTimeout(()=>{f.value=e})});const m=(0,r.EW)(()=>i(a.color)),{textColorComputed:g}=Xt(m),y=(0,r.EW)(()=>{const e=i(m.value),t=g.value;return{color:t,backgroundColor:e,backgroundImage:a.gradient?Ut(e):void 0,overflowX:d.value===f.value?void 0:"hidden",width:f.value,minWidth:f.value}}),w=gr("va-sidebar",()=>({minimized:u.value,animated:Boolean(a.animated),"animated-right":"right"===a.animated,"animated-left":"left"===a.animated||!0===a.animated})),_=e=>{s.value=a.hoverable&&e},E=(0,l.IJ)();_s([E],()=>{a.closeOnClickOutside&&a.modelValue&&setTimeout(()=>{o("update:modelValue",!1)},0)});const T=(0,r.EW)(()=>({textColor:a.textColor,activeColor:a.activeColor,hoverColor:a.hoverColor,borderColor:a.borderColor,hoverOpacity:a.hoverOpacity}));return t({isMinimized:u,isHovered:s,updateHoverState:_,rootElement:E,menu:c,doShowMenu:h,menuWidth:v,sidebarWidth:f}),(e,t)=>((0,r.uX)(),(0,r.CE)("aside",{ref_key:"rootElement",ref:E,class:(0,b.C4)(["va-sidebar",(0,l.R1)(w)]),style:(0,b.Tr)(y.value),onMouseenter:t[0]||(t[0]=e=>_(!0)),onMouseleave:t[1]||(t[1]=e=>_(!1))},[(0,r.bo)((0,r.Lk)("div",{class:"va-sidebar__menu",ref_key:"menu",ref:c,style:(0,b.Tr)({width:v.value,minWidth:v.value})},[(0,r.bF)((0,l.R1)(Ga),{components:{VaSidebarItem:T.value}},{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},8,["components"])],4),[[Ze.aG,h.value]])],38))}}),rg=Te(ng),ag=(0,r.pM)({name:"VaSidebarItem",__name:"VaSidebarItem",props:{...Rr,...De,active:{type:Boolean,default:!1},textColor:{type:String,default:void 0},activeColor:{type:String,default:"primary"},hoverColor:{type:String,default:void 0},hoverOpacity:{type:[Number,String],default:.2},borderColor:{type:String,default:void 0},disabled:{type:Boolean,default:!1}},setup(e){const t=e,n=yd(),a=eg(),{isHovered:o}=Qr(n,(0,l.lW)(t,"disabled")),{getColor:i,getHoverColor:s,getFocusColor:u}=Kt(),{hasKeyboardFocus:c,keyboardFocusListeners:d}=ru(),h=(0,r.EW)(()=>!t.active||o.value||c.value?c.value?u(i(t.hoverColor||t.activeColor)):"#ffffff00":i(t.activeColor)),f=(0,r.EW)(()=>Gt(i(null==a?void 0:a.color),h.value)),{textColorComputed:p}=Xt(f),v=(0,r.EW)(()=>{const e={color:p.value};if(t.disabled)return e;if((o.value||t.active||c.value)&&(e.backgroundColor=h.value),t.active){const n={...a,...t};e.borderColor=i(n.borderColor||n.activeColor)}return c.value&&(e.backgroundColor=u(i(t.hoverColor||t.activeColor))),o.value&&(e.backgroundColor=s(i(t.hoverColor||t.activeColor),Number(t.hoverOpacity))),e}),{tagComputed:m,linkAttributesComputed:g}=Ir(t);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(m)),(0,r.v6)({ref_key:"rootElement",ref:n,class:["va-sidebar__item va-sidebar-item",{"va-sidebar-item--active":e.$props.active,"va-sidebar-item--disabled":e.$props.disabled}],tabindex:e.$props.disabled?-1:0,style:v.value},(0,l.R1)(g),(0,r.Tb)((0,l.R1)(d))),{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},16,["tabindex","class","style"]))}}),og={class:"va-sidebar__item__content va-sidebar-item-content"},ig=(0,r.pM)({name:"VaSidebarItemContent",__name:"VaSidebarItemContent",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",og,[(0,r.RG)(e.$slots,"default")]))}}),sg={class:"va-sidebar__title va-sidebar-item-title"},lg=(0,r.pM)({name:"VaSidebarItemTitle",__name:"VaSidebarItemTitle",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",sg,[(0,r.RG)(e.$slots,"default")]))}}),ug=Te(ig),cg=Te(lg),dg=Te(ag),hg=(e,t,n,r,a)=>{(Array.isArray(e)&&!a||!Array.isArray(e)&&a)&&V(`The type "${Array.isArray(e)?"array":typeof e}" of prop "model-value" does not match prop "range = ${a}".`),r<n&&V(`The maximum value (${r}) can not be less than the minimum value (${n}).`),Tc(r-n,t)||V(`Step ${t} is illegal. Slider is non-divisible (Min:Max ${n}:${r}).`);const o=e=>{e<n?V(`The value of the slider is ${e}, the minimum value is ${n}, the value of this slider can not be less than the minimum value`):e>r&&V(`The value of the slider is ${e}, the maximum value is ${r}, the value of this slider can not be greater than the maximum value`)};return Array.isArray(e)?e.map(o):o(e),!0},fg={key:0,class:"va-slider__input-wrapper","aria-hidden":"true"},pg=["id"],vg={key:2,class:"va-input__label","aria-hidden":"true"},mg=["tabindex","onFocus"],gg=["tabindex"],yg={key:3,class:"va-input__label--inverse","aria-hidden":"true"},bg=["id"],wg={key:5,class:"va-slider__input-wrapper"},_g=(0,r.pM)({name:"VaSlider",__name:"VaSlider",props:{...Ae,...De,range:{type:Boolean,default:!1},modelValue:{type:[Number,Array],default:0},trackLabel:{type:[Function,String]},color:{type:String,default:"primary"},trackColor:{type:String,default:""},labelColor:{type:String,default:""},trackLabelVisible:{type:Boolean,default:!1},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},label:{type:String,default:""},invertLabel:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},pins:{type:Boolean,default:!1},iconPrepend:{type:String,default:""},iconAppend:{type:String,default:""},vertical:{type:Boolean,default:!1},showTrack:{type:Boolean,default:!0},ariaLabel:Bn("$t:sliderValue")},emits:["drag-start","drag-end","change","update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{getColor:o,getHoverColor:i}=Kt(),s=(0,l.IJ)(),u=(0,l.IJ)(),{setItemRefByIndex:c,itemRefs:d}=Cv(),h=(0,l.KR)(!1),f=(0,l.KR)(!1),p=(0,l.KR)(0),v=(0,l.KR)(0),m=n.range?[0,100]:0,{valueComputed:g}=Ne(n,a,"modelValue",{defaultValue:m}),y=(0,l.KR)(0),w=(0,l.KR)(!1),_=je("min"),E=je("max"),T=je("step"),S=(0,r.EW)(()=>n.vertical?[1,0]:[0,1]),k=(0,r.EW)(()=>n.vertical?"bottom":"left"),C=(0,r.EW)(()=>n.vertical?"height":"width"),R=(0,r.EW)(()=>Array.isArray(V.value)&&V.value[1]-T.value<V.value[0]),I=(0,r.EW)(()=>Array.isArray(V.value)&&V.value[0]+T.value>V.value[1]),A=gr("va-slider",()=>({...tr(n,["disabled","readonly","vertical"]),active:h.value,horizontal:!n.vertical,grabbing:w.value})),x=gr("va-slider__handler",()=>({onFocus:!n.range&&(f.value||h.value),inactive:!h.value})),O=(0,r.EW)(()=>({color:n.labelColor?o(n.labelColor):o(n.color)})),N=(0,r.EW)(()=>({backgroundColor:n.trackColor?o(n.trackColor):i(o(n.color))})),D=e=>{const t=_.value,n=E.value;return(q(t,e,n)-t)/(n-t)*100},L=(0,r.EW)(()=>{if(Array.isArray(V.value)){const e=D(V.value[0]),t=D(V.value[1]);return{[k.value]:`${e}%`,[C.value]:t-e+"%",backgroundColor:o(n.color),visibility:n.showTrack?"visible":"hidden"}}{const e=D(V.value);return{[C.value]:`${e>100?100:e}%`,backgroundColor:o(n.color),visibility:n.showTrack?"visible":"hidden"}}}),P=(0,r.EW)(()=>{if(Array.isArray(V.value)){const e=D(V.value[0]),t=D(V.value[1]);return[{[k.value]:`${e}%`,backgroundColor:z(0)?o(n.color):"#ffffff",borderColor:o(n.color)},{[k.value]:`${t}%`,backgroundColor:z(1)?o(n.color):"#ffffff",borderColor:o(n.color)}]}{const e=D(V.value);return{[k.value]:`${e>100?100:e}%`,backgroundColor:z(0)?o(n.color):"#ffffff",borderColor:o(n.color)}}}),M=e=>n.range?P.value[e]:P.value,V=(0,r.EW)({get:()=>g.value,set:e=>{f.value||a("change",e),g.value=e}}),F=e=>n.range&&void 0!==e?V.value[e]:V.value,$=(0,r.EW)(()=>{const e=(E.value-_.value)/T.value;return v.value/e}),B=(0,r.EW)(()=>{const e=`${T.value}`.split(".")[1];return e?Math.pow(10,e.length):1}),W=(0,r.EW)(()=>(E.value-_.value)/T.value-1),U=(0,r.EW)(()=>Array.isArray(V.value)?[(V.value[0]-_.value)/T.value*$.value,(V.value[1]-_.value)/T.value*$.value]:(V.value-_.value)/T.value*$.value),j=(0,r.EW)(()=>[0,v.value]),G=(0,r.EW)(()=>[_.value,E.value]),z=e=>!(!h.value&&!f.value||n.disabled||n.readonly)&&(n.range?y.value===e:0===y.value),H=(e,t=y.value)=>{var r,o;if(e.preventDefault(),!t)if(n.range){if(Array.isArray(U.value)){const n="touches"in e?e.touches[0]:e,r=ee(n);t=r>(U.value[1]-U.value[0])/2+U.value[0]?1:0}}else t=0;Array.isArray(V.value)&&(y.value=t),Array.isArray(V.value)?null==(r=d.value[t])||r.focus():null==(o=u.value)||o.focus(),f.value=!0,a("drag-start")},K=e=>{w.value&&f.value&&!n.disabled&&!n.readonly&&(e.preventDefault(),oe(ee("touches"in e?e.touches[0]:e)))},X=()=>{n.disabled||n.readonly||(f.value&&(a("drag-end"),a("change",V.value)),f.value=!1,w.value=!1)},q=(e,t,n)=>Math.max(Math.min(t,n),e),Q=e=>{var t,r;if(![d.value[0],d.value[1],u.value].includes(document.activeElement))return;if(n.disabled||n.readonly)return;const a=(e,t)=>{if(Array.isArray(V.value)){const n=V.value[t]+(e?T.value:-T.value),r=q(_.value,n,E.value);V.value=[0===t?r:V.value[0],1===t?r:V.value[1]]}else{const t=V.value+(e?T.value:-T.value),n=q(_.value,t,E.value);V.value=n}};["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(e.key)&&e.preventDefault();const o=e=>e===document.activeElement;if(n.range&&Array.isArray(V.value)){const i=e=>n.vertical&&o(d.value[0])&&"ArrowUp"===e.key,s=e=>n.vertical&&o(d.value[0])&&"ArrowDown"===e.key,l=e=>n.vertical&&o(d.value[1])&&"ArrowUp"===e.key,u=e=>n.vertical&&o(d.value[1])&&"ArrowDown"===e.key,c=e=>!n.vertical&&o(d.value[0])&&"ArrowLeft"===e.key,h=e=>!n.vertical&&o(d.value[0])&&"ArrowRight"===e.key,f=e=>!n.vertical&&o(d.value[1])&&"ArrowLeft"===e.key,p=e=>!n.vertical&&o(d.value[1])&&"ArrowRight"===e.key;switch(!0){case(u(e)||f(e))&&R.value&&V.value[0]!==_.value:null==(t=d.value[0])||t.focus(),a(0,0);break;case(i(e)||h(e))&&I.value&&V.value[1]!==E.value:null==(r=d.value[1])||r.focus(),a(1,1);break;case(s(e)||c(e))&&V.value[0]!==_.value:a(0,0);break;case(l(e)||p(e))&&V.value[1]!==E.value:a(1,1);break;case(u(e)||f(e))&&V.value[1]!==_.value:a(0,1);break;case(i(e)||h(e))&&V.value[0]!==E.value:a(1,0);break}}else n.vertical?("ArrowDown"===e.key&&a(0,0),"ArrowUp"===e.key&&a(1,0)):("ArrowLeft"===e.key&&a(0,0),"ArrowRight"===e.key&&a(1,0))},Y=e=>Array.isArray(V.value)?e*T.value>V.value[0]&&e*T.value<V.value[1]:e*T.value<V.value,J=(0,r.EW)(()=>T.value/(E.value-_.value)*100),Z=e=>({backgroundColor:Y(e)?o(n.color):i(o(n.color)),[k.value]:e*J.value+"%",transition:w.value?"none":"var(--va-slider-pin-transition)"}),ee=e=>(te(),n.vertical?p.value-e.clientY:e.clientX-p.value),te=()=>{s.value&&(v.value=s.value[n.vertical?"offsetHeight":"offsetWidth"],p.value=s.value.getBoundingClientRect()[k.value])},ne=e=>(T.value*B.value*e+_.value*B.value)/B.value,re=(e,t)=>n.trackLabel?"function"===typeof n.trackLabel?n.trackLabel(e,t):n.trackLabel:e,ae=e=>{const t=y.value;Array.isArray(V.value)?ie(V.value[t],e)&&(V.value=0===t?[e,V.value[1]]:[V.value[0],e]):e<_.value?V.value=_.value:e>E.value?V.value=E.value:ie(V.value,e)&&(V.value=e)},oe=e=>{const t=j.value,n=G.value,r=Array.isArray(V.value)?d.value[y.value]:u.value;if(null==r||r.focus(),e>=t[0]&&e<=t[1]){const t=ne(Math.round(e/$.value));y.value?Array.isArray(U.value)&&Array.isArray(V.value)&&e<=U.value[0]?(V.value=[t,V.value[0]],y.value=0):ae(t):Array.isArray(U.value)&&Array.isArray(V.value)&&e>=U.value[1]?(V.value=[V.value[1],t],y.value=1):ae(t)}else e<t[0]?ae(n[0]):ae(n[1])},ie=(e,t)=>JSON.stringify(e)!==JSON.stringify(t),se=e=>{if(n.disabled||n.readonly)return;const t=ee("touches"in e?e.touches[0]:e);Array.isArray(U.value)&&(y.value=t>(U.value[1]-U.value[0])/2+U.value[0]?1:0),w.value=!0,oe(t),H(e,y.value)},le=()=>{document.addEventListener("mousemove",K),document.addEventListener("touchmove",K,{passive:!1}),document.addEventListener("mouseup",X),document.addEventListener("mouseleave",X),document.addEventListener("touchcancel",X),document.addEventListener("touchend",X),document.addEventListener("keydown",Q)},ue=()=>{document.removeEventListener("mousemove",K),document.removeEventListener("touchmove",K),document.removeEventListener("mouseup",X),document.removeEventListener("mouseleave",X),document.removeEventListener("touchcancel",X),document.removeEventListener("touchend",X),document.removeEventListener("keydown",Q)},ce=Vl(),de=(0,r.EW)(()=>`aria-label-id-${ce}`),{tp:he}=Un(),fe=(0,r.Ht)(),pe=(0,r.EW)(()=>({role:"slider","aria-valuemin":_.value,"aria-valuemax":E.value,"aria-label":fe.label||n.label?void 0:he(n.ariaLabel,{value:String(V.value)}),"aria-labelledby":fe.label||n.label?de.value:void 0,"aria-orientation":n.vertical?"vertical":"horizontal","aria-disabled":n.disabled,"aria-readonly":n.readonly,"aria-valuenow":Array.isArray(V.value)?void 0:V.value,"aria-valuetext":Array.isArray(V.value)?String(V.value):void 0}));return(0,r.sV)(()=>{hg(V.value,T.value,_.value,E.value,n.range)&&(te(),le())}),(0,r.xo)(ue),(0,r.wB)([V,()=>T.value,()=>_.value,()=>E.value,()=>n.range],([e,t,n,r,a])=>{hg(e,t,n,r,a)}),(0,r.wB)(w,e=>{document.documentElement.style.cursor=e?"grabbing":""}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-slider",(0,l.R1)(A)]},pe.value),[(e.vertical?t.$slots.append:t.$slots.prepend)?((0,r.uX)(),(0,r.CE)("div",fg,[(0,r.RG)(t.$slots,e.vertical?"append":"prepend")])):(0,r.Q3)("",!0),!t.$slots.label&&!e.label||e.invertLabel?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("span",{key:1,class:"va-input__label",id:de.value,style:(0,b.Tr)(O.value)},[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])],12,pg)),(e.vertical?e.iconAppend:e.iconPrepend)?((0,r.uX)(),(0,r.CE)("span",vg,[(0,r.bF)((0,l.R1)(Fn),{name:e.vertical?e.iconAppend:e.iconPrepend,color:(0,l.R1)(o)(t.$props.color),size:16},null,8,["name","color"])])):(0,r.Q3)("",!0),(0,r.Lk)("div",{ref_key:"sliderContainer",ref:s,class:"va-slider__container",onMousedown:se,onTouchstart:se},[(0,r.Lk)("div",{class:"va-slider__track","aria-hidden":"true",style:(0,b.Tr)(N.value)},null,4),e.pins?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(W.value,(e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:(0,b.C4)(["va-slider__mark",{"va-slider__mark--active":Y(e)}]),style:(0,b.Tr)(Z(e))},null,6))),128)):(0,r.Q3)("",!0),t.$props.range?((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Lk)("div",{ref:"process",class:(0,b.C4)(["va-slider__track va-slider__track--selected",{"va-slider__track--active":h.value}]),"aria-hidden":"true",style:(0,b.Tr)(L.value)},null,6),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(S.value,a=>((0,r.uX)(),(0,r.CE)("div",{key:"dot"+a,ref_for:!0,ref:(0,l.R1)(c)(a),class:(0,b.C4)(["va-slider__handler",(0,l.R1)(x)]),style:(0,b.Tr)(M(a)),tabindex:e.disabled||e.readonly?void 0:0,onFocus:e=>(h.value=!0,y.value=a),onBlur:n[0]||(n[0]=e=>h.value=!1)},[z(a)?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)({backgroundColor:(0,l.R1)(o)(t.$props.color)}),class:"va-slider__handler__dot--focus"},null,4)):(0,r.Q3)("",!0),e.trackLabelVisible?((0,r.uX)(),(0,r.CE)("div",{key:1,style:(0,b.Tr)(O.value),class:"va-slider__handler__dot--value"},[(0,r.RG)(t.$slots,"trackLabel",(0,b._B)((0,r.Ng)({value:F(a),order:a})),()=>[(0,r.eW)((0,b.v_)(re(F(a),a)),1)])],4)):(0,r.Q3)("",!0)],46,mg))),128))],64)):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.Lk)("div",{ref:"process","aria-hidden":"true",class:(0,b.C4)(["va-slider__track va-slider__track--selected",{"va-slider__track--active":h.value}]),style:(0,b.Tr)(L.value)},null,6),(0,r.Lk)("div",{ref_key:"dot",ref:u,class:(0,b.C4)(["va-slider__handler",(0,l.R1)(x)]),style:(0,b.Tr)(P.value),tabindex:t.$props.disabled||t.$props.readonly?void 0:0,onFocus:n[1]||(n[1]=e=>h.value=!0),onBlur:n[2]||(n[2]=e=>h.value=!1)},[z(0)?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-slider__handler__dot--focus",style:(0,b.Tr)({backgroundColor:(0,l.R1)(o)(t.$props.color)})},null,4)):(0,r.Q3)("",!0),e.trackLabelVisible?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-slider__handler__dot--value",style:(0,b.Tr)(O.value)},[(0,r.RG)(t.$slots,"trackLabel",(0,b._B)((0,r.Ng)({value:F()})),()=>[(0,r.eW)((0,b.v_)(re(F())),1)])],4)):(0,r.Q3)("",!0)],46,gg)],64))],544),(e.vertical?e.iconPrepend:e.iconAppend)?((0,r.uX)(),(0,r.CE)("span",yg,[(0,r.bF)((0,l.R1)(Fn),{name:e.vertical?e.iconPrepend:e.iconAppend,color:(0,l.R1)(o)(t.$props.color),size:16},null,8,["name","color"])])):(0,r.Q3)("",!0),(t.$slots.label||e.label)&&e.invertLabel?((0,r.uX)(),(0,r.CE)("span",{key:4,class:"va-input__label va-input__label--inverse",style:(0,b.Tr)(O.value),id:de.value},[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])],12,bg)):(0,r.Q3)("",!0),(e.vertical?t.$slots.prepend:t.$slots.append)?((0,r.uX)(),(0,r.CE)("div",wg,[(0,r.RG)(t.$slots,e.vertical?"prepend":"append")])):(0,r.Q3)("",!0)],16))}}),Eg=Te(_g),Tg={class:"va-spacer","aria-hidden":"true"},Sg=(0,r.pM)({name:"VaSpacer",__name:"VaSpacer",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Tg))}}),kg=e=>"number"===typeof e,Cg={vertical:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},Rg=(e,t,n)=>{const r=(0,l.KR)(!1),a=(0,l.KR)(0),o=(0,l.KR)(0),i=(0,l.KR)(0),s=(e,t)=>{const r=e.type===t?e:e.changedTouches[0];return n.vertical?r.pageY:r.pageX},u=i=>{!n.disabled&&e.value&&(r.value=!0,a.value=s(i,"mousedown"),o.value=t.value)},c=t=>{if(!r.value)return;const n=s(t,"mousemove"),l=n-a.value;i.value=o.value+Math.floor(l/e.value*100)},d=()=>{r.value=!1};return jr(["mousemove","touchmove"],c),jr(["mouseup","touchcancel"],d),{isDragging:r,startDragging:u,currentSplitterPosition:i}},Ig=["aria-label"],Ag={class:"va-split__dragger"},xg=(0,r.pM)({name:"VaSplit",__name:"VaSplit",props:{...De,...Cg,...Ae,modelValue:{type:Number,default:50,validator:e=>e<=100},maximization:{type:Boolean,default:!1},maximizeStart:{type:Boolean,default:!1},limits:{type:Array,default:()=>[0,0]},snapping:{type:Array,default:void 0},snappingRange:{type:[Number,String],default:4},ariaLabel:Bn("$t:splitPanels")},emits:[...Oe],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),{valueComputed:i}=Ne(n,a),s=(0,l.KR)(),u=(0,l.KR)(16),c=()=>{var e;const{width:t,height:r}=(null==(e=o.value)?void 0:e.getBoundingClientRect())||{width:0,height:0};s.value=n.vertical?r:t,u.value=parseFloat(getComputedStyle(document.documentElement).fontSize)};(0,r.sV)(c),_u([o],c);const d=(e,t)=>{let n="",r="";if(kg(e))return e;switch(e.split("").filter(e=>e&&" "!==e).forEach(e=>{isNaN(+e)?r+=e:n+=e}),r){case"%":return+n;case"px":return+n/s.value*100;case"rem":return+n*u.value/s.value*100;case"any":return["min","snapping"].includes(t)?0:100;case"":return 100;default:return V("Invalid limits measure!"),0}},h=e=>{if("undefined"===e||!s.value)return;let t=0,n=100;return(Wl(e)||kg(e))&&(t=d(e,"min")),Array.isArray(e)&&(t=d(e[0],"min"),n=d(e[1],"max")),t>n&&(V(`Min panels size can not be larger than max one! Passed limit: ${e}.`),n=t),{min:t??0,max:n??100}},f=(0,r.EW)(()=>h(n.limits[0])??{min:0,max:100}),p=(0,r.EW)(()=>h(n.limits[1])??{min:0,max:100}),v=(0,r.EW)(()=>{const e=!(f.value.min+p.value.min>100);return e||V("The sum of different panels min sizes should be lesser or equal to 100% of the container size!"),e?p.value.min:100-f.value.min}),m=(0,r.EW)(()=>(Math.ceil(p.value.max+f.value.max)<100&&V("The sum of different panels max sizes should be equal to 100% of the container size!"),{start:{min:f.value.min,max:Math.min(f.value.max,100-v.value)},end:{min:v.value,max:Math.min(p.value.max,100-f.value.min)}})),g=e=>e>=m.value.start.min&&e>=m.value.end.min&&e<=m.value.start.max&&e<=m.value.end.max,y=(0,r.EW)(()=>{if(!Array.isArray(n.snapping)||!s.value)return;let e=n.snapping.map(e=>d(e,"snapping"));if(!e.every(g)){const t=e.filter(g);V(`Some of the snapping marks (${e}) are not in allowed range (${Object.values(m.value.start).join("-")} / ${Object.values(m.value.end).join("-")}) and will be removed (${t})!`),e=t}const t=()=>e.every((e,t,r)=>!r[t+1]||Math.abs(e-r[t+1])>Number(n.snappingRange));return t()||V("Distance between some snapping marks is lesser than snapping range!"),e}),w=(0,r.EW)(()=>d(n.snappingRange,"snapping")),_=(0,l.KR)(i.value),E=(0,r.EW)(()=>{if(y.value){const e=y.value.find(e=>_.value+w.value>e&&_.value-w.value<e);if(e)return e}return nr(_.value,Math.max(m.value.start.min,100-m.value.end.max),Math.min(m.value.start.max,100-m.value.end.min))}),{isDragging:T,startDragging:S,currentSplitterPosition:k}=Rg(s,E,n),C=()=>{n.maximization&&!n.disabled&&(_.value=n.maximizeStart?m.value.start.max:100-m.value.end.max)};(0,r.wB)(i,e=>{(e<m.value.start.min||e>100-m.value.end.min)&&V("Incorrect `modelValue`. Check current `limits` prop value."),_.value=e},{immediate:!0}),(0,r.wB)(k,e=>{_.value=e}),(0,r.wB)(T,e=>{e||(i.value=E.value),document.documentElement.style.cursor=e?"var(--va-split-dragging-cursor)":""});const R=(0,r.EW)(()=>n.vertical?"height":"width"),I=e=>{let t="start"===e?E.value:100-E.value;return t<0&&(t=0),t>100&&(t=100),{[R.value]:`${t}%`}},A=(0,r.EW)(()=>n.disabled?{}:T.value?{cursor:"var(--va-split-dragging-cursor)"}:{cursor:n.vertical?"var(--va-split-vertical-dragger-cursor)":"var(--va-split-horizontal-dragger-cursor)"}),x=gr("va-split",()=>({horizontal:!n.vertical,vertical:n.vertical,dragging:T.value})),{t:O,tp:N}=Un();return(e,t)=>((0,r.uX)(),(0,r.CE)("section",{ref_key:"splitPanelsContainer",ref:o,class:(0,b.C4)(["va-split",(0,l.R1)(x)]),"aria-label":(0,l.R1)(N)(e.$props.ariaLabel)},[(0,r.Lk)("div",{class:"va-split__panel",style:(0,b.Tr)(I("start"))},[(0,r.RG)(e.$slots,"start",(0,b._B)((0,r.Ng)({containerSize:s.value})))],4),(0,r.Lk)("div",Ag,[(0,r.Lk)("div",{class:"va-split__dragger__overlay",style:(0,b.Tr)(A.value),onMousedown:t[0]||(t[0]=(0,Ze.D$)((...e)=>(0,l.R1)(S)&&(0,l.R1)(S)(...e),["prevent"])),onTouchstart:t[1]||(t[1]=(0,Ze.D$)((...e)=>(0,l.R1)(S)&&(0,l.R1)(S)(...e),["prevent"])),onDblclick:(0,Ze.D$)(C,["prevent"]),onContextmenu:t[2]||(t[2]=(0,Ze.D$)(()=>{},["prevent"])),onDragstart:t[3]||(t[3]=(0,Ze.D$)(()=>{},["prevent"]))},[(0,r.RG)(e.$slots,"grabber",{},()=>[(0,r.bF)((0,l.R1)(wf),{class:"va-split__dragger__default",vertical:!e.$props.vertical},null,8,["vertical"])])],36)]),(0,r.Lk)("div",{class:"va-split__panel",style:(0,b.Tr)(I("end"))},[(0,r.RG)(e.$slots,"end",(0,b._B)((0,r.Ng)({containerSize:s.value})))],4)],10,Ig))}}),Og=Te(xg),Ng=Symbol("TabsView"),Dg=["aria-disabled"],Lg=(0,r.Lk)("div",{class:"va-tabs__slider"},null,-1),Pg=[Lg],Mg={class:"va-tabs__tabs-items"},Vg={class:"va-tabs__content"},Fg=e=>(null==e?void 0:e.clientWidth)||0,$g=(0,r.pM)({name:"VaTabs",__name:"VaTabs",props:{...Ae,...De,modelValue:{type:[String,Number],default:null},left:{type:Boolean,default:!0},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},grow:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideSlider:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:{type:String,default:"primary"},prevIcon:{type:String,default:"va-arrow-left"},nextIcon:{type:String,default:"va-arrow-right"},ariaMoveRightLabel:Bn("$t:movePaginationLeft"),ariaMoveLeftLabel:Bn("$t:movePaginationRight")},emits:["update:modelValue","click:next","click:prev"],setup(e,{expose:t,emit:n}){const{tp:a}=Un(),o=e,i=n,s=(0,l.IJ)(),u=(0,l.IJ)(),c=(0,l.IJ)(),d=(0,l.KR)([]),h=(0,l.KR)(null),f=(0,l.KR)(null),p=(0,l.KR)(0),v=(0,l.KR)(0),m=(0,l.KR)(!1),g=(0,l.KR)(0),y=(0,l.KR)(0),w=(0,l.KR)(!1),{valueComputed:_}=Ne(o,i),E=(0,l.Kh)({VaTab:{color:o.color}}),T=(0,r.EW)(()=>{const{left:e,right:t,center:n,grow:r,disabled:a}=o;return{"va-tabs__container--left":e&&!t&&!n&&!r,"va-tabs__container--right":t,"va-tabs__container--center":n,"va-tabs__container--grow":r,"va-tabs__container--disabled":a}}),S=(0,r.EW)(()=>({"va-tabs--vertical":o.vertical})),{getColor:k}=Kt(),C=(0,r.EW)(()=>k(o.color)),R=(0,r.EW)(()=>o.hideSlider?{display:"none"}:{backgroundColor:C.value,height:o.vertical?`${h.value}px`:"",width:o.vertical?"":`${f.value}px`,transform:`translateY(-${v.value}px) translateX(${p.value}px)`,transition:w.value?"var(--va-tabs-slider-wrapper-transition)":""}),I=(0,r.EW)(()=>o.vertical?{transform:"translateX(0px)"}:{transform:`translateX(${y.value-g.value}px)`,transition:w.value?"var(--va-tabs-slider-transition)":"",position:o.hidePagination?"unset":"absolute"}),A=(0,r.EW)(()=>0===g.value),x=(0,r.EW)(()=>{const e=d.value[d.value.length-1],t=(0,l.R1)(e.leftSidePosition),n=(0,l.R1)(e.rightSidePosition),r=Fg(u.value);return n<=g.value+r||t<=g.value}),O=()=>{f.value=0,h.value=0},N=e=>{const t=Fg(u.value),n=(0,l.R1)(e.leftSidePosition),r=(0,l.R1)(e.rightSidePosition);m.value?n-g.value>=0&&r-g.value<=t||(n-g.value<0?g.value=n:r-g.value>t?g.value=r-t:g.value=0):g.value=0},D=()=>{if(y.value=0,!m.value)return;const e=Fg(u.value),t=Fg(c.value);o.right?y.value=t-e:o.center&&(y.value=Math.floor((t-e)/2))},L=()=>{O(),d.value.forEach(e=>{var t;e.updateSidePositions();const n=((null==(t=e.name)?void 0:t.value)||e.id)===_.value;e.isActive=e.isActiveRouterLink||n,e.isActive&&(N(e),F(e))}),D()};(0,r.nT)(()=>{L()});const P=()=>{const e=Fg(c.value),t=Fg(s.value);requestAnimationFrame(()=>{m.value=!!(c.value&&s.value&&e>t)})},M=()=>{var e,t;const n=Fg(u.value);let r=g.value-n;for(let a=0;a<d.value.length-1;a++){const n=(0,l.R1)(null==(e=d.value[a])?void 0:e.leftSidePosition),o=(0,l.R1)(null==(t=d.value[a+1])?void 0:t.leftSidePosition);if(n>r&&n<g.value||o>=g.value){r=n;break}}g.value=Math.max(0,r),i("click:prev")},V=()=>{var e;const t=Fg(u.value),n=g.value+t;let r=n;for(let i=0;i<d.value.length-1;i++){const e=(0,l.R1)(d.value[i].rightSidePosition);if(e>n&&(r=(0,l.R1)(d.value[i].leftSidePosition),g.value<r))break}const a=(0,l.R1)(null==(e=d.value[d.value.length-1])?void 0:e.rightSidePosition),o=a-t;r=Math.min(o,r),g.value=Math.max(0,r),i("click:next")},F=e=>{var t;const n=(0,l.R1)(e.tabElement),r=(null==n?void 0:n.offsetTop)||0,a=(null==n?void 0:n.offsetLeft)||0,i=(null==n?void 0:n.clientHeight)||0,s=(null==n?void 0:n.clientWidth)||0;if(o.vertical){const e=(null==(t=u.value)?void 0:t.clientHeight)||0,n=e-r-i;v.value=Math.max(n,0),h.value=i,p.value=0,f.value=0}else p.value=a,f.value=s,v.value=0,h.value=0},$=()=>{w.value||requestAnimationFrame(()=>{w.value=!0})},B=e=>{var t;e&&(_.value=(null==(t=e.name)?void 0:t.value)||e.id,o.stateful&&L())},W=e=>{var t;const n=d.value.push(e)-1;e.id=(null==(t=e.name)?void 0:t.value)||n},U=e=>{d.value=d.value.filter(t=>t.id!==e.id),d.value.forEach((e,t)=>{var n;e.id=(null==(n=e.name)?void 0:n.value)||t})};return(0,r.Gt)(Ng,{parentDisabled:o.disabled,selectTab:B,moveToTab:N,registerTab:W,unregisterTab:U}),(0,r.wB)(()=>o.modelValue,L),_u([s],P),_u([u],L),(0,r.sV)(()=>{requestAnimationFrame(()=>{$()})}),t({selectTab:B,moveToTab:N,movePaginationLeft:M,movePaginationRight:V}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-tabs",S.value])},[(0,r.Lk)("div",{ref_key:"wrapper",ref:s,class:"va-tabs__wrapper",role:"tablist","aria-disabled":t.$props.disabled},[m.value&&!t.$props.hidePagination?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:0,class:"va-tabs__pagination","aria-label":(0,l.R1)(a)(t.$props.ariaMoveLeftLabel),size:"medium",disabled:A.value,color:e.color,preset:"secondary",icon:t.$props.prevIcon,onClick:M},null,8,["aria-label","disabled","color","icon"])):(0,r.Q3)("",!0),(0,r.Lk)("div",{ref_key:"container",ref:u,class:(0,b.C4)(["va-tabs__container",T.value])},[(0,r.Lk)("div",{ref_key:"tabs",ref:c,class:"va-tabs__tabs",style:(0,b.Tr)(I.value)},[(0,r.Lk)("div",{class:"va-tabs__slider-wrapper","aria-hidden":"true",style:(0,b.Tr)(R.value)},Pg,4),(0,r.bF)((0,l.R1)(Ga),{components:E},{default:(0,r.k6)(()=>[(0,r.Lk)("div",Mg,[(0,r.RG)(t.$slots,"tabs")])]),_:3},8,["components"])],4)],2),m.value&&!t.$props.hidePagination?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:1,class:"va-tabs__pagination","aria-label":(0,l.R1)(a)(t.$props.ariaMoveRightLabel),size:"medium",color:e.color,disabled:x.value,preset:"secondary",icon:t.$props.nextIcon,onClick:V},null,8,["aria-label","color","disabled","icon"])):(0,r.Q3)("",!0)],8,Dg),(0,r.Lk)("div",Vg,[(0,r.RG)(t.$slots,"default")])],2))}}),Bg=Te($g),Wg={class:"va-tab__content"},Ug=["textContent"],jg=(0,r.pM)({name:"VaTab",__name:"VaTab",props:{...Rr,...De,selected:{type:Boolean,default:!1},color:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean},name:{type:[String,Number]},tag:{type:String,default:"div"}},emits:["click","keydown-enter","focus"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),i=(0,r.EW)(()=>Lr(o.value)),s=(0,l.KR)(!1),u=(0,l.KR)(!1),c=(0,l.KR)(0),d=(0,l.KR)(0),{keyboardFocusListeners:h,hasKeyboardFocus:f}=ru(),{tagComputed:p,isActiveRouterLink:v,linkAttributesComputed:m}=Ir(n),g=(0,r.EW)(()=>({"va-tab--disabled":n.disabled})),{parentDisabled:y,selectTab:w,moveToTab:_,registerTab:E,unregisterTab:T}=(0,r.WQ)(Ng,{parentDisabled:!1,tabsList:[],selectTab:e=>e,moveToTab:e=>e,registerTab:e=>e,unregisterTab:e=>e}),S=(0,r.EW)(()=>n.disabled||y?-1:0),{getColor:k}=Kt(),C=(0,r.EW)(()=>k(n.color)),R=(0,r.EW)(()=>({color:u.value||s.value?C.value:"inherit"})),I=e=>{u.value=e},A=()=>{var e,t;const n=(null==(e=i.value)?void 0:e.offsetLeft)||0,r=(null==(t=i.value)?void 0:t.offsetWidth)||0;c.value=n+r,d.value=n},x=tg(o);(0,r.wB)(x,()=>{A()});const O=async()=>{await(0,r.dY)(),w(L),a("click")},N=async()=>{await(0,r.dY)(),w(L),a("keydown-enter")},D=()=>{f.value&&_(L),a("focus")},L={name:(0,r.EW)(()=>n.name),id:null,tabElement:i,isActive:s,tabIndexComputed:S,isActiveRouterLink:v,rightSidePosition:c,leftSidePosition:d,onTabClick:O,onTabKeydown:N,onFocus:D,updateSidePositions:A};return(0,r.sV)(()=>{E(L)}),(0,r.xo)(()=>{T(L)}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(p)),(0,r.v6)({ref_key:"rootElement",ref:o,class:["va-tab",g.value],role:"tab","aria-selected":s.value,"aria-disabled":t.$props.disabled||(0,l.R1)(y),style:R.value,onMouseenter:n[0]||(n[0]=e=>I(!0)),onMouseleave:n[1]||(n[1]=e=>I(!1)),onFocus:D,onClick:O,onKeydown:(0,Ze.jR)(N,["enter"]),tabindex:S.value},(0,r.Tb)((0,l.R1)(h)),(0,l.R1)(m)),{default:(0,r.k6)(()=>[(0,r.Lk)("div",Wg,[(0,r.RG)(t.$slots,"default",{},()=>[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,class:"va-tab__icon",size:"small",name:e.icon},null,8,["name"])):(0,r.Q3)("",!0),(0,r.Lk)("span",{class:"va-tab__label",textContent:(0,b.v_)(e.label)},null,8,Ug)])])]),_:3},16,["aria-selected","aria-disabled","class","style","tabindex"]))}}),Gg=Te(jg),zg=(e,...t)=>Jr(e)?e(...t):e,Hg={class:"va-stepper__default-controls"},Kg=(0,r.pM)({name:"VaStepperControls",__name:"VaStepperControls",props:{modelValue:{type:[Number,String],required:!0},steps:{type:Array,required:!0},nextDisabled:{type:Boolean,required:!0},stepControls:{type:Object,required:!0},finishButtonHidden:{type:Boolean,default:!1}},setup(e){const t=e,{t:n}=Un(),a=(0,r.EW)(()=>{const e=t.steps[Number(t.modelValue)];return zg(e.isLoading)||!1}),o=(0,r.EW)(()=>{const e=t.steps.length-1;return Number(t.modelValue)>=e});return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Hg,[(0,r.bF)((0,l.R1)(na),{preset:"primary",disabled:Number(e.$props.modelValue)<=0,loading:a.value,onClick:t[0]||(t[0]=t=>e.$props.stepControls.prevStep())},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(n)("back")),1)]),_:1},8,["disabled","loading"]),o.value?e.$props.finishButtonHidden?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:1,onClick:t[2]||(t[2]=t=>e.$props.stepControls.finish()),loading:a.value},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(n)("finish")),1)]),_:1},8,["loading"])):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:0,onClick:t[1]||(t[1]=t=>e.$props.stepControls.nextStep()),disabled:e.$props.nextDisabled,loading:a.value},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(n)("next")),1)]),_:1},8,["disabled","loading"]))]))}}),Xg=e=>zg(e.hasError,e)||!1,qg={class:"va-stepper__step-button__icon"},Qg=(0,r.pM)({name:"VaStepperStepButton",__name:"VaStepperStepButton",props:{modelValue:{type:Number,required:!0},step:{type:Object,required:!0},color:{type:String,required:!0},stepIndex:{type:[Number,String],required:!0},navigationDisabled:{type:Boolean,required:!0},nextDisabled:{type:Boolean,required:!0},focus:{type:Object,required:!0},stepControls:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=(0,l.IJ)(),o=(0,r.EW)(()=>Xg(n.step)),i=je("stepIndex"),s=(0,r.EW)(()=>o.value&&n.modelValue===i.value),u=(0,r.EW)(()=>zg(n.step.isLoading)||!1),{getColor:c}=Kt(),d=(0,r.EW)(()=>c(o.value?"danger":n.color)),h=e=>n.nextDisabled&&e>n.modelValue,{t:f}=Un(),p=gr("va-stepper__step-button",()=>({active:n.modelValue>=i.value,disabled:n.step.disabled||h(i.value),"navigation-disabled":n.navigationDisabled,error:s.value}));(0,r.wB)(()=>n.focus,()=>{n.focus.trigger&&(0,r.dY)(()=>{var e;return null==(e=a.value)?void 0:e.focus()})},{deep:!0});const v=(0,r.EW)(()=>({tabindex:n.focus.stepIndex!==i.value||n.navigationDisabled?void 0:0,"aria-disabled":!(!n.step.disabled&&!h(i.value))||void 0,"aria-current":n.modelValue===n.stepIndex?f("step"):void 0}));return(t,n)=>((0,r.uX)(),(0,r.CE)("li",(0,r.v6)({ref_key:"stepElement",ref:a,class:["va-stepper__step-button",(0,l.R1)(p)],onClick:n[0]||(n[0]=e=>!t.$props.navigationDisabled&&t.$props.stepControls.setStep((0,l.R1)(i))),onKeyup:[n[1]||(n[1]=(0,Ze.jR)(e=>!t.$props.navigationDisabled&&t.$props.stepControls.setStep((0,l.R1)(i)),["enter"])),n[2]||(n[2]=(0,Ze.jR)(e=>!t.$props.navigationDisabled&&t.$props.stepControls.setStep((0,l.R1)(i)),["space"]))]},v.value,{style:`--va-stepper-color: ${String(d.value)}`}),[(0,r.Lk)("div",qg,[u.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(ir),{key:0,color:"currentColor",indeterminate:"",size:"small"})):e.step.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:1,name:e.step.icon,size:"1.3rem"},null,8,["name"])):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.eW)((0,b.v_)((0,l.R1)(i)+1),1)],64))]),(0,r.eW)(" "+(0,b.v_)(e.step.label),1)],16))}}),Yg={class:"va-stepper__step-content"},Jg={class:"va-stepper__controls"},Zg=(0,r.pM)({name:"VaStepper",__name:"VaStepper",props:{...Ae,modelValue:{type:Number,default:0},steps:{type:Array,default:()=>[],required:!0},color:{type:String,default:"primary"},vertical:{type:Boolean,default:!1},navigationDisabled:{type:Boolean,default:!1},controlsHidden:{type:Boolean,default:!1},nextDisabled:{type:Boolean,default:!1},nextDisabledOnError:{type:Boolean,default:!1},finishButtonHidden:{type:Boolean,default:!1},ariaLabel:Bn("$t:progress"),linear:{type:Boolean,default:!1},finishStep:{type:Object}},emits:["update:modelValue","finish","update:steps"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),{valueComputed:s}=Ne(a,o,"modelValue"),u=(0,r.EW)(()=>a.finishStep?[...a.steps,a.finishStep]:a.steps),c=e=>!!a.finishStep&&e===u.value.length-1,d=(0,l.KR)({trigger:!1,stepIndex:a.navigationDisabled?-1:a.modelValue}),{getColor:h}=Kt(),f=e=>!(!a.nextDisabledOnError||!Xg(u.value[e]))||a.nextDisabled,p=(e,t)=>{while(e>=0&&e<u.value.length){e+=t;const n=u.value[e];if(!n)return;if(!n.disabled)return n}},v=(e,t)=>{while(e>=0&&e<u.value.length){e+=t;const n=u.value[e];if(!n)return;if(!0===Xg(n))return e}},m=async e=>{var t;const n=u.value[e],r=u.value[s.value],o=p(e,-1);if(n.disabled)return!1;if(a.linear&&e<s.value)return!0;const i=v(s.value,1);if(a.linear&&void 0!==i&&i<e)return!1;let l;try{l=await(null==(t=r.beforeLeave)?void 0:t.call(r,r,n))}catch(c){throw new Error(`Error in beforeLeave function: ${c}`)}return!1!==l&&(void 0===r.completed&&(r.completed=!0),!(a.linear&&o&&!o.completed)&&(!a.linear||!Xg(r)))},g=async e=>{await m(e)&&(s.value=e)},y=e=>{a.navigationDisabled||("next"===e?w(1):_(1))},w=(e=1)=>{const t=d.value.stepIndex+e;if(!f(t))if(t<u.value.length){if(u.value[t].disabled)return void w(e+1);d.value.stepIndex=t,d.value.trigger=!0}else for(let n=0;n<u.value.length;n++)if(!u.value[n].disabled){d.value.stepIndex=n,d.value.trigger=!0;break}},_=(e=1)=>{const t=d.value.stepIndex-e;if(t>=0){if(u.value[t].disabled)return void _(e+1);d.value.stepIndex=t,d.value.trigger=!0}else for(let n=u.value.length-1;n>=0;n--)if(!u.value[n].disabled&&!f(n)){d.value.stepIndex=n,d.value.trigger=!0;break}},E=()=>{requestAnimationFrame(()=>{var e;(null==(e=i.value)?void 0:e.contains(document.activeElement))||(d.value.stepIndex=a.modelValue,d.value.trigger=!1)})};(0,r.wB)(()=>a.modelValue,()=>{d.value.stepIndex=a.modelValue,d.value.trigger=!1});const T=(e=0)=>{const t=s.value+1+e;u.value[t]&&(u.value[t].disabled&&T(e+1),g(t))},S=(e=0)=>{const t=s.value-1-e;u.value[t]&&(u.value[t].disabled&&S(e+1),g(t))},k=async()=>{await m(a.steps.length-1)&&o("finish")},C={setStep:g,nextStep:T,prevStep:S,finish:k},R=(e,t)=>({...C,focus:d,isActive:a.modelValue===t,isCompleted:a.modelValue>t,isLastStep:u.value.length-1===t,isNextStepDisabled:f(t),isPrevStepDisabled:0===t,index:t,step:e,hasError:Xg(e)}),{tp:I}=Un(),A=()=>{d.value.stepIndex=a.modelValue,d.value.trigger=!0},x=(0,r.EW)(()=>({role:"group","aria-label":I(a.ariaLabel),"aria-orientation":a.vertical?"vertical":"horizontal"}));function O(e){return Xg(u.value[e])?"danger":h(a.color)}const N=e=>{const t={...u.value};!0===e&&(t[a.modelValue].hasError=!1),t[a.modelValue].completed=e??!0,o("update:steps",t)},D=e=>{const t={...u.value};t[a.modelValue].hasError=e??!0,t[a.modelValue].completed=!e,o("update:steps",t)};return t({modelValue:s,focusedStep:d,getIterableSlotData:R,stepControls:C,nextStep:T,prevStep:S,setStep:g,setFocus:y,completeStep:N,setError:D}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-stepper",{"va-stepper--vertical":t.$props.vertical}]},x.value),[(0,r.Lk)("ol",{class:(0,b.C4)(["va-stepper__navigation",{"va-stepper__navigation--vertical":t.$props.vertical}]),ref_key:"stepperNavigation",ref:i,onClick:A,onKeyup:[(0,Ze.jR)(A,["enter"]),(0,Ze.jR)(A,["space"]),n[0]||(n[0]=(0,Ze.jR)(e=>y("prev"),["left"])),n[1]||(n[1]=(0,Ze.jR)(e=>y("next"),["right"]))],onFocusout:E},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.value,(n,a)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:a+n.label},[c(a)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[a>0?(0,r.RG)(t.$slots,"divider",(0,b._B)((0,r.v6)({key:0},R(n,a))),()=>[(0,r.Lk)("span",{class:(0,b.C4)(["va-stepper__divider",{"va-stepper__divider--vertical":t.$props.vertical}]),"aria-hidden":"true"},null,2)]):(0,r.Q3)("",!0),(0,r.RG)(t.$slots,`step-button-${a}`,(0,b._B)((0,r.Ng)(R(n,a))),()=>[(0,r.bF)(Qg,{stepIndex:a,color:O(a),modelValue:(0,l.R1)(s),nextDisabled:e.nextDisabled,step:n,stepControls:C,navigationDisabled:e.navigationDisabled,focus:d.value},null,8,["stepIndex","color","modelValue","nextDisabled","step","navigationDisabled","focus"])])],64))],64))),128))],34),(0,r.Lk)("div",{class:(0,b.C4)(["va-stepper__step-content-wrapper",{"va-stepper__step-content-wrapper--vertical":t.$props.vertical}])},[(0,r.Lk)("div",Yg,[(0,r.RG)(t.$slots,`step-content-${c((0,l.R1)(s))?"finish":(0,l.R1)(s)}`,(0,b._B)((0,r.Ng)(R(u.value[(0,l.R1)(s)],(0,l.R1)(s)))))]),(0,r.Lk)("div",Jg,[(0,r.RG)(t.$slots,"controls",(0,b._B)((0,r.Ng)(R(u.value[(0,l.R1)(s)],(0,l.R1)(s)))),()=>[e.controlsHidden?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(Kg,{key:0,modelValue:(0,l.R1)(s),nextDisabled:f((0,l.R1)(s)),steps:u.value,stepControls:C,finishButtonHidden:e.finishButtonHidden},null,8,["modelValue","nextDisabled","steps","finishButtonHidden"]))])])],2)],16))}}),ey=Te(Zg),ty=e=>{const t=e.match(/[0-9]{1,2}/g);return t?t.map(e=>Number(e)):[]},ny=e=>{const t=e.match(/pm|am/i);return t?Number("pm"===t[0].toLowerCase()):null},ry=e=>{const t=new Date,[n,r,a]=ty(e),o=ny(e);if(!n)return null;const i=null!==o&&n<=12,s=i&&!!o,l=i&&12===n?0:n;return t.setHours(Math.min(l||0,i?12:24)+(s?12:0)),t.setMinutes(Math.min(r||0,60)),t.setSeconds(Math.min(a||0,60)),t},ay=e=>{const t=()=>e.parse||ry,n=(0,l.KR)(!0),r=e=>{const r=t(),a=r(e);return a||(n.value=!1),a},a=e=>(n.value=!0,r(e));return{parse:a,isValid:n}},oy=e=>{const t=t=>t?e.ampm?t.toLocaleTimeString("en-US"):t.toLocaleTimeString("en-GB"):"",n=(e,t,n)=>e.split(":").slice(t,n).join(":"),r=r=>{if("seconds"===e.view)return t(r);const[a,o]=t(r).split(" ");return"minutes"===e.view?o?[n(a,0,2),o].join(" "):n(a,0,2):"hours"===e.view?o?[n(a,0,1),o].join(" "):n(a,0,1):""};return{format:t=>e.format?e.format(t):r(t)}},iy=e=>e.value?e.value:new Date((new Date).setHours(0,0,0,0)),sy=e=>Array.from(Array(e).keys()),ly=e=>(0===e?12:e)-12*Number(e>12),uy=(e,t=!1)=>(12===e?0:e)+12*Number(t),cy=(e,t,n)=>{const a=(0,r.EW)(()=>e.ampm?12:24),o=(0,r.EW)(()=>{let t=sy(a.value);return e.hoursFilter&&(t=t.filter(t=>e.hoursFilter(e.ampm?t+12*Number(n.value):t))),t.map(t=>e.ampm?ly(t):t)}),i=(0,r.EW)({get:()=>{if(!t.value)return-1;if(e.ampm){const e=ly(t.value.getHours()-12*Number(n.value));return o.value.findIndex(t=>t===e)}const r=t.value.getHours();return o.value.findIndex(e=>e===r)},set:r=>{if(e.readonly)return;const a=e.ampm?uy(o.value[r],n.value):o.value[r];t.value=new Date(iy(t).setHours(a))}});return(0,r.EW)(()=>({items:o.value,activeItem:i}))},dy=(e,t)=>{const n=(0,r.EW)(()=>{const t=sy(60);return e.minutesFilter?t.filter(e.minutesFilter):t}),a=(0,r.EW)({get:()=>{if(!t.value)return-1;const e=t.value.getMinutes();return n.value.findIndex(t=>t===e)},set:r=>{if(e.readonly)return;const a=n.value[r];t.value=new Date(iy(t).setMinutes(a))}});return(0,r.EW)(()=>({items:n.value,activeItem:a}))},hy=(e,t)=>{const n=(0,r.EW)(()=>{const t=sy(60);return e.secondsFilter?t.filter(e.secondsFilter):t}),a=(0,r.EW)({get:()=>{if(!t.value)return-1;const e=t.value.getSeconds();return n.value.findIndex(t=>t===e)},set:r=>{if(e.readonly)return;const a=n.value[r];t.value=new Date(iy(t).setSeconds(a))}});return(0,r.EW)(()=>({items:n.value,activeItem:a}))},fy=(e,t,n)=>(0,r.EW)(()=>({items:["AM","PM"],activeItem:(0,r.EW)({get:()=>t.value?Number(n.value):-1,set:r=>{n.value=Boolean(r);const a=iy(t).getHours();let o=n.value?a+12:a;n.value&&a<=12&&(o=a+12),!n.value&&a>=12&&(o=a-12);const i=!e.hoursFilter||e.hoursFilter(o);e.periodUpdatesModelValue&&i&&(t.value=new Date(iy(t).setHours(o)))}})})),py=(e,t)=>{const{view:n}=(0,l.QW)(e),a=(0,l.KR)(!1);(0,r.wB)(t,()=>{a.value=iy(t).getHours()>=12},{immediate:!0});const o=cy(e,t,a),i=dy(e,t),s=hy(e,t),u=fy(e,t,a),c=(0,r.EW)(()=>{const t=[];return"hours"===n.value?t.push(o.value):"minutes"===n.value?t.push(o.value,i.value):"seconds"===n.value&&t.push(o.value,i.value,s.value),e.ampm&&!e.hidePeriodSwitch&&t.push(u.value),t});return{columns:c,isPM:a}},vy=(0,r.pM)({name:"VaTimePickerColumnCell",__name:"VaTimePickerColumnCell",setup(e){const{isHovered:t,onMouseEnter:n,onMouseLeave:a}=Qr(),{getTextColor:o,getColor:i}=Kt(),s=(0,r.EW)(()=>t.value?{color:i(o(i("background-secondary"))),background:i("background-secondary")}:void 0);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{onMouseenter:t[0]||(t[0]=(...e)=>(0,l.R1)(n)&&(0,l.R1)(n)(...e)),onMouseleave:t[1]||(t[1]=(...e)=>(0,l.R1)(a)&&(0,l.R1)(a)(...e)),style:(0,b.Tr)(s.value)},[(0,r.RG)(e.$slots,"default")],36))}}),my=["onClick"],gy=(0,r.pM)({name:"VaTimePickerColumn",__name:"VaTimePickerColumn",props:{items:{type:Array,default:()=>[]},activeItemIndex:{type:Number,default:0},cellHeight:{type:[Number,String],default:30}},emits:["item-selected","update:activeItemIndex",...Hr],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),{focus:s,blur:u}=Kr(i,o),[c]=Fl("activeItemIndex",a,o),d=je("cellHeight");(0,r.wB)(c,e=>{h(e)}),(0,r.sV)(()=>h(c.value,!1));const h=(e,t=!0)=>{(0,r.dY)(()=>{var n,r;null==(r=null==(n=i.value)?void 0:n.scrollTo)||r.call(n,{behavior:t?"smooth":"auto",top:e*d.value})})},f=e=>{c.value=(c.value+(e||1))%a.items.length,(0,r.dY)(()=>h(c.value))},p=e=>{c.value=(c.value-(e||1)+a.items.length)%a.items.length,(0,r.dY)(()=>h(c.value))},v=e=>{c.value=e},m=e=>Number.isInteger(e)?Number(e)<10?`0${e}`:`${e}`:e,g=()=>{const e=i.value.scrollTop,t=Math.max((e-e%d.value)/d.value,e/d.value);return t>=a.items.length?a.items.length-1:t<0?0:c.value*d.value<e?Math.ceil(t):c.value*d.value>e?Math.floor(t):Math.round(t)},y=Xa(()=>{i.value&&-1!==c.value&&(c.value=g())},200);return t({focus:s,blur:u}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"rootElement",ref:i,tabindex:"0",class:"va-time-picker-column",onKeydown:[n[0]||(n[0]=(0,Ze.jR)((0,Ze.D$)(e=>f(),["stop","prevent"]),["down"])),n[1]||(n[1]=(0,Ze.jR)((0,Ze.D$)(e=>f(5),["stop","prevent"]),["space"])),n[2]||(n[2]=(0,Ze.jR)((0,Ze.D$)(e=>p(),["stop","prevent"]),["up"]))]},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.items,(n,a)=>((0,r.uX)(),(0,r.Wv)(vy,{key:n,onScrollPassive:(0,l.R1)(y),onTouchmovePassive:(0,l.R1)(y),onMousewheelPassive:(0,l.R1)(y)},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,b.C4)(["va-time-picker-cell",{"va-time-picker-cell--active":a===t.$props.activeItemIndex}]),onClick:e=>v(a)},[(0,r.RG)(t.$slots,"cell",(0,b._B)((0,r.Ng)({item:n,index:a,activeItemIndex:e.activeItemIndex,items:e.items,formattedItem:m(n)})),()=>[(0,r.eW)((0,b.v_)(m(n)),1)])],10,my)]),_:2},1032,["onScrollPassive","onTouchmovePassive","onMousewheelPassive"]))),128))],544))}}),yy=Te(gy),by=(e,t)=>(0,r.EW)(()=>Object.entries(t()).reduce((t,[n,r])=>(t[`--${e}-${lt(n)}`]=r,t),{})),wy=(0,r.pM)({name:"VaTimePicker",__name:"VaTimePicker",props:{...Ae,...Lu,...De,modelValue:{type:Date,required:!1},ampm:{type:Boolean,default:!1},hidePeriodSwitch:{type:Boolean,default:!1},periodUpdatesModelValue:{type:Boolean,default:!0},view:{type:String,default:"minutes"},hoursFilter:{type:Function},minutesFilter:{type:Function},secondsFilter:{type:Function},framed:{type:Boolean,default:!1},cellHeight:{type:[Number,String],default:30},visibleCellsCount:{type:[Number,String],default:7}},emits:[...Oe],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=Ne(a,o),{columns:s,isPM:u}=py(a,i),c=je("cellHeight"),d=je("visibleCellsCount"),{setItemRef:h,itemRefs:f}=Cv(),p=(0,l.KR)(),v=(e=0)=>{var t;null==(t=f.value[e])||t.focus()},m=e=>{var t;e?null==(t=f.value[e])||t.blur():f.value.forEach(e=>null==e?void 0:e.blur())},{computedClasses:g}=Pu("va-time-picker",a),y=()=>{const e=((null==p?void 0:p.value)||0)+1;p.value=e%s.value.length,v(p.value)},w=()=>{const e=((null==p?void 0:p.value)||0)-1+s.value.length;p.value=e%s.value.length,v(p.value)},_=(0,r.EW)(()=>({...g,"va-time-picker--framed":a.framed})),E=by("va-time-picker",()=>{const e=(d.value-1)/2*c.value;return{height:c.value*d.value+"px","cell-height":`${c.value}px`,"column-gap-height":`${e}px`}});return t({focus:v,blur:m,focusNext:y,focusPrev:w}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-time-picker",_.value]),style:(0,b.Tr)((0,l.R1)(E))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(s),(n,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(yy),{key:a,ref_for:!0,ref:(0,l.R1)(h),items:n.items,tabindex:e.disabled?-1:0,"cell-height":(0,l.R1)(c),activeItemIndex:n.activeItem.value,"onUpdate:activeItemIndex":e=>n.activeItem.value=e,onKeydown:[t[0]||(t[0]=(0,Ze.jR)((0,Ze.D$)(e=>y(),["stop","prevent"]),["right"])),t[1]||(t[1]=(0,Ze.jR)((0,Ze.D$)(e=>y(),["exact","stop","prevent"]),["tab"])),t[2]||(t[2]=(0,Ze.jR)((0,Ze.D$)(e=>w(),["stop","prevent"]),["left"])),t[3]||(t[3]=(0,Ze.jR)((0,Ze.D$)(e=>w(),["shift","stop","prevent"]),["tab"]))],onFocus:e=>p.value=a},null,8,["items","tabindex","cell-height","activeItemIndex","onUpdate:activeItemIndex","onFocus"]))),128))],6))}});function _y(e,t){let n=-1,r=-1;const a=e=>{var a;null==(a=t.onStart)||a.call(t,e),clearTimeout(n),n=setTimeout(()=>{r=setInterval(()=>{var n;return null==(n=t.onUpdate)?void 0:n.call(t,e)},t.interval||100)},(0,l.R1)(t.delay)||500)},o=e=>{var a;clearTimeout(n),clearInterval(r),null==(a=t.onEnd)||a.call(t,e)},i=qr(e);jr(["keydown"],a,i),jr(["keyup","blur"],o,!0)}const Ey=pr(Ku,["focused","maxLength","counterValue"]),Ty=(0,r.pM)({name:"VaTimeInput",inheritAttrs:!1,__name:"VaTimeInput",props:{...Ey,...of,...De,...Yu,...pr(wy),...zl,...Ae,closeOnContentClick:{type:Boolean,default:!1},offset:{...of.offset,default:()=>[2,0]},placement:{...of.placement,default:"bottom-end"},modelValue:{type:Date,default:void 0},clearValue:{type:Date,default:null},format:{type:Function},parse:{type:Function},manualInput:{type:Boolean,default:!1},leftIcon:{type:Boolean,default:!1},icon:{type:String,default:"schedule"},ariaLabel:Bn("$t:selectedTime"),ariaResetLabel:Bn("$t:resetTime"),ariaToggleDropdownLabel:Bn("$t:toggleDropdown")},emits:[...Hr,...Hl,...Ju,...Oe,...sf,"update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),s=(0,l.IJ)(),{isOpenSync:u,dropdownProps:c}=lf(a,o,{defaultCloseOnValueUpdate:(0,r.EW)(()=>Array.isArray(a.view)&&1===a.view.length)}),{valueComputed:d}=Ne(a,o),{parse:h,isValid:f}=ay(a),{format:p}=oy(a),v=(0,r.EW)(()=>p(d.value||a.clearValue)),m=(0,r.EW)({get(){return!a.disabled&&!a.readonly&&u.value},set(e){u.value=e,e?(0,r.dY)(()=>{var e;return null==(e=s.value)?void 0:e.focus()}):(0,r.dY)(()=>{var e;return null==(e=i.value)?void 0:e.focus()})}}),{isFocused:g,focus:y,blur:w,onFocus:_,onBlur:E}=Kr(i),T=e=>{var t;if(a.disabled)return;const n=null==(t=e.target)?void 0:t.value;if(!n)return S();const r=h(n);f.value&&r?d.value=r:(d.value=void 0,f.value=!0)},S=()=>A(()=>{o("update:modelValue",a.clearValue),o("clear"),x(),z()}),{computedError:k,computedErrorMessages:C,listeners:R,validationAriaAttributes:I,withoutValidation:A,resetValidation:x,isDirty:O,isTouched:N}=Yl(a,o,{reset:S,focus:y,value:d});(0,r.wB)(m,e=>{e||(N.value=!0)});const{canBeCleared:D,clearIconProps:L,onFocus:P,onBlur:M}=Zu(a,v),V=(0,r.EW)(()=>D.value&&v.value!==p(a.clearValue)),F=yr(Ey),$=(0,r.EW)(()=>({...F.value,focused:g.value,error:k.value,errorMessages:C.value,readonly:a.readonly||!a.manualInput,modelValue:v.value})),B={seconds:1e3,minutes:6e4,hours:36e5},W=e=>{"key"in e&&("ArrowDown"===e.key&&(d.value=new Date(Number(d.value)-B[a.view]),e.preventDefault()),"ArrowUp"===e.key&&(d.value=new Date(Number(d.value)+B[a.view]),e.preventDefault()))};_y(i,{onStart:W,onUpdate:W});const U={onFocus:()=>{a.disabled||(_(),a.readonly||P())},onBlur:()=>{a.disabled||(E(),a.readonly||(M(),R.onBlur()))}},j=(0,r.Ht)(),G=(0,r.EW)(()=>{const e=[a.leftIcon&&"prependInner",(!a.leftIcon||a.clearable)&&"icon"];return Object.keys(j).filter(t=>!e.includes(t))}),z=()=>{m.value=!1},H=(e,t,n)=>{m.value=!0},K=e=>!u.value&&(!(!a.disabled&&!a.readonly)||void 0!==e&&(a.manualInput&&"Space"!==(null==e?void 0:e.code))),X=e=>{K(e instanceof KeyboardEvent?e:void 0)||(m.value=!m.value)},q=(0,r.EW)(()=>a.disabled?{}:a.manualInput?{cursor:"text"}:{cursor:"pointer"}),Q=(0,r.EW)(()=>a.manualInput?a.disabled||a.readonly?-1:0:-1),Y=(0,r.EW)(()=>({role:"button","aria-hidden":!1,name:a.icon,color:"secondary",tabindex:Q.value})),{tp:J}=Un();(0,r.OA)();const Z=(0,r.EW)(()=>({...c.value,innerAnchorSelector:".va-input-wrapper__field",trigger:["click","right-click","space","enter"]})),ee=yr(pr(wy));return t({isFocused:g,isValid:f,value:d,isDirty:O,isTouched:N,focus:y,blur:w,reset:S,withoutValidation:A,resetValidation:x,toggleDropdown:X,showDropdown:H,hideDropdown:z}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ts),(0,r.v6)({modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),class:["va-time-input",e.$attrs.class],style:e.$attrs.style},Z.value),{anchor:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Ku),(0,r.v6)({class:"va-time-input__anchor",ref_key:"input",ref:i,style:q.value},{...$.value,...(0,l.R1)(I),...U},{onChange:T}),(0,r.eX)({icon:(0,r.k6)(()=>[V.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:0,class:"va-time-input__clear-button"},{...Y.value,...(0,l.R1)(L)},{"aria-label":(0,l.R1)(J)(e.$props.ariaResetLabel),onClick:(0,Ze.D$)(S,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(S,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(S,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):(0,r.Q3)("",!0),!e.$props.leftIcon&&e.$props.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:1,class:"va-time-input__right-button va-time-input__side-button","aria-label":(0,l.R1)(J)(e.$props.ariaToggleDropdownLabel)},Y.value),null,16,["aria-label"])):(0,r.Q3)("",!0)]),_:2},[(0,r.pI)(G.value,t=>({name:t,fn:(0,r.k6)(n=>[(0,r.RG)(e.$slots,t,(0,b._B)((0,r.Ng)({...n,toggleDropdown:X,showDropdown:H,hideDropdown:z,isOpen:(0,l.R1)(u),focus:(0,l.R1)(y)})))])})),e.$slots.prependInner||e.$props.leftIcon?{name:"prependInner",fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"prependInner",(0,b._B)((0,r.Ng)({...t,toggleDropdown:X,showDropdown:H,hideDropdown:z,isOpen:(0,l.R1)(u),focus:(0,l.R1)(y)}))),e.$props.leftIcon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),(0,r.v6)({key:0,class:"va-time-input__left-button va-time-input__side-button","aria-label":(0,l.R1)(J)(e.$props.ariaToggleDropdownLabel)},Y.value),null,16,["aria-label"])):(0,r.Q3)("",!0)]),key:"0"}:void 0]),1040,["style"])]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(ks),{"no-padding":"",onKeydown:[(0,Ze.jR)((0,Ze.D$)(z,["prevent"]),["esc"]),(0,Ze.jR)((0,Ze.D$)(z,["prevent"]),["enter"])]},{default:(0,r.k6)(()=>[(0,r.bF)(wy,(0,r.v6)({ref_key:"timePicker",ref:s},(0,l.R1)(ee),{modelValue:(0,l.R1)(d),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(d)?d.value=e:null)}),null,16,["modelValue"])]),_:1},8,["onKeydown"])]),_:3},16,["modelValue","class","style"]))}}),Sy=Te(Ty),ky=e=>null==e?void 0:e.props,Cy=e=>{var t;return!!(null==(t=null==e?void 0:e.props)?void 0:t.active)||!1},Ry=e=>e.type===r.FK,Iy=e=>e&&0===e.length;function Ay(e){var t;const n=null==(t=e.default)?void 0:t.call(e);return!n||Iy(n)?[]:Ry(n[0])?n[0].children:n}const xy=e=>{const t=Ay(e.slots);return t.forEach((n,r)=>{ky(n)||(n.props={});const a=ky(n);a.vertical=e.props.vertical,e.props.centered&&(a.inverted=!!(r%2)),0===r&&(a.isFirst=!0),r===t.length-1&&(a.isLast=!0);const o=a.active;if(!o)return;0===r&&(a.activePrevious=o),r===t.length-1&&(a.activeNext=o);const i=Cy(t[r-1]);i&&(a.activePrevious=!0);const s=Cy(t[r+1]);s&&(a.activeNext=!0)}),t},Oy="va-timeline",Ny={name:Oy,props:{...De,vertical:{type:Boolean},centered:{type:Boolean},alignTop:{type:Boolean}},setup(e,{slots:t}){return()=>(0,r.h)("div",{class:{[Oy]:!0,[`${Oy}--vertical`]:e.vertical,[`${Oy}--align-top`]:e.alignTop}},xy({props:e,slots:t}))}},Dy=Te(Ny),Ly="va-timeline-separator",Py=(0,r.pM)({name:Ly,props:{...De,color:{type:String,default:"primary"},vertical:{type:Boolean},active:{type:Boolean},activePrevious:{type:Boolean},activeNext:{type:Boolean}},setup(e){const{getColor:t}=Kt();return()=>(0,r.h)("div",{class:{[Ly]:!0,[`${Ly}--vertical`]:e.vertical}},[(0,r.h)("div",{class:{[`${Ly}__line`]:!0,[`${Ly}__line--active`]:e.activePrevious},style:{backgroundColor:t(e.activePrevious?e.color:"divider")}}),(0,r.h)("div",{class:{[`${Ly}__center`]:!0,[`${Ly}__center--active`]:e.active},style:{backgroundColor:t(e.active?e.color:"divider")}}),(0,r.h)("div",{class:{[`${Ly}__line`]:!0,[`${Ly}__line--active`]:e.activeNext},style:{backgroundColor:t(e.activeNext?e.color:"divider")}})])}}),My=Te(Py),Vy="va-timeline-item",Fy=pr(My),$y=(0,r.pM)({name:Vy,props:{...De,...Fy,color:{type:String,default:"primary"},isFirst:{type:Boolean},isLast:{type:Boolean},inverted:{type:Boolean}},setup(e,{slots:t}){const n=[(0,r.h)(My,{...yr(Fy).value})],a=e.inverted?t.after:t.before;a&&n.unshift((0,r.h)("div",{class:`${Vy}__before`},a()));const o=e.inverted?t.before:t.after;return o&&n.push((0,r.h)("div",{class:`${Vy}__after`},o())),()=>(0,r.h)("div",{class:[{[Vy]:!0},{[`${Vy}--vertical`]:e.vertical},{[`${Vy}--is-first`]:e.isFirst},{[`${Vy}--is-last`]:e.isLast}]},n)}}),By=Te($y),Wy=Te(wy),Uy=5,jy=(0,l.KR)([]),Gy=e=>{var t;return(null==(t=e.component)?void 0:t.props)||{}},zy=e=>e.el?e.el.offsetHeight+Uy:0,Hy=e=>{const t=(0,r.nI)(),n=(0,r.EW)(()=>{const n=jy.value.findIndex(e=>e===t.vnode);return-1===n?0:jy.value.slice(n+1).reduce((t,n)=>{const{position:r}=Gy(n),{position:a}=e;return a===r?zy(n)+t:t},0)});return(0,r.sV)(()=>{jy.value.unshift(t.vnode)}),(0,r.xo)(()=>{jy.value=jy.value.filter(e=>e!==t.vnode)}),{yOffset:n,updateYOffset:()=>{jy.value=jy.value.filter(e=>e!==t.vnode)}}},Ky=()=>{let e;const t=(...t)=>(e=window.setTimeout(...t),e),n=()=>e&&window.clearTimeout(e);return{start:t,clear:n}},Xy=["role","aria-live"],qy={class:"va-toast__group"},Qy=["textContent"],Yy={class:"va-toast__content"},Jy=["innerHTML"],Zy=["textContent"],eb={key:1,class:"va-toast__content"},tb=(0,r.pM)({name:"VaToast",__name:"VaToast",props:{...De,title:{type:String,default:""},offsetY:{type:[Number,String],default:16},offsetX:{type:[Number,String],default:16},message:{type:[String,Function],default:""},dangerouslyUseHtmlString:{type:Boolean,default:!1},icon:{type:String,default:"close"},customClass:{type:String,default:""},duration:{type:[Number,String],default:5e3},color:{type:String,default:"primary"},closeable:{type:Boolean,default:!0},onClose:{type:Function},onClick:{type:Function},multiLine:{type:Boolean,default:!1},position:{type:String,default:"top-right",validator:e=>["top-right","top-center","top-left","bottom-right","bottom-center","bottom-left"].includes(e)},render:{type:Function},ariaCloseLabel:Bn("$t:close"),role:{type:String,default:void 0},inline:{type:Boolean,default:!1}},emits:["on-click","on-close"],setup(e,{emit:t}){const n=(0,r.pM)({name:"VaToastRenderer",props:{render:{type:Function,required:!0}},setup:e=>()=>e.render()}),{tp:a}=Un(),o=e,i=t,s=(0,l.IJ)(),{getColor:u}=Kt(),{textColorComputed:c}=Xt((0,r.EW)(()=>u(o.color))),d=je("offsetY"),h=je("offsetX"),f=je("duration"),p=(0,l.KR)(!1),{yOffset:v,updateYOffset:m}=Hy(o),g=(0,r.EW)(()=>({vertical:o.position.includes("top")?"top":"bottom",horizontal:o.position.includes("center")?"center":o.position.includes("right")?"right":"left"})),y=()=>{const e=g.value.vertical,t=g.value.horizontal;return"center"===t?{[e]:`${d.value+v.value}px`,left:"50%","--va-toast-x-shift":"-50%"}:{[e]:`${d.value+v.value}px`,[t]:`${h.value}px`}},w=(0,r.EW)(()=>[o.customClass,o.multiLine?"va-toast--multiline":"",o.inline?"va-toast--inline":"",[`va-toast--${o.position}`]]),_=(0,r.EW)(()=>({...y(),backgroundColor:u(o.color),color:c.value})),E=(0,r.EW)(()=>"status"===o.role?"polite":"assertive"),T=(0,r.EW)(()=>"function"===typeof o.message?o.message():o.message),S=()=>{var e,t;null==(e=s.value)||e.removeEventListener("transitionend",S),null==(t=s.value)||t.remove()},k=()=>{"function"===typeof o.onClick?o.onClick():i("on-click")},C=()=>{p.value=!1,m()},R=()=>{"function"===typeof o.onClose?o.onClose():i("on-close"),S()},I=Ky(),A=I.clear,x=()=>{f.value>0&&I.start(()=>p.value&&C(),f.value)};return(0,r.sV)(()=>{p.value=!0,x()}),(e,t)=>((0,r.uX)(),(0,r.Wv)(Ze.eB,{name:"va-toast-fade",onAfterLeave:R},{default:(0,r.k6)(()=>[(0,r.bo)((0,r.Lk)("div",{ref_key:"rootElement",ref:s,role:e.$props.role??e.$props.closeable?"alertdialog":"alert","aria-live":E.value,"aria-atomic":"true",class:(0,b.C4)(["va-toast",w.value]),style:(0,b.Tr)(_.value),onMouseenter:t[0]||(t[0]=(...e)=>(0,l.R1)(A)&&(0,l.R1)(A)(...e)),onMouseleave:x,onClick:k},[(0,r.Lk)("div",qy,[e.$props.title?((0,r.uX)(),(0,r.CE)("h2",{key:0,class:"va-toast__title",textContent:(0,b.v_)(e.$props.title)},null,8,Qy)):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("div",Yy,[e.$props.dangerouslyUseHtmlString?((0,r.uX)(),(0,r.CE)("div",{key:0,innerHTML:T.value},null,8,Jy)):((0,r.uX)(),(0,r.CE)("p",{key:1,textContent:(0,b.v_)(T.value)},null,8,Zy))],512),[[Ze.aG,e.$props.message]]),e.$props.render?((0,r.uX)(),(0,r.CE)("div",eb,[(0,r.bF)((0,l.R1)(n),{render:e.$props.render},null,8,["render"])])):(0,r.Q3)("",!0),e.$props.closeable?((0,r.uX)(),(0,r.Wv)(Vn,{key:2,class:"va-toast__close-icon",role:"button","aria-label":(0,l.R1)(a)(e.$props.ariaCloseLabel),tabindex:"0",size:"1rem",name:e.$props.icon,onClick:(0,Ze.D$)(C,["stop"]),onKeydown:(0,Ze.jR)((0,Ze.D$)(C,["stop"]),["enter"])},null,8,["aria-label","name","onKeydown"])):(0,r.Q3)("",!0)])],46,Xy),[[Ze.aG,p.value]])]),_:1}))}}),nb=Ee(tb);let rb=1;Ue().vaToastInstances=[];const ab=e=>{var t;return(null==(t=e.component)?void 0:t.props)||{}},ob=(e,t)=>{if(!e)return;if(!Ue().vaToastInstances.length)return void(rb=1);const n=Ue().vaToastInstances.findIndex(t=>t===e);n<0||(t(),Ue().vaToastInstances=Ue().vaToastInstances.reduce((t,n,r)=>n===e?t:[...t,n],[]),Ue().vaToastInstances.length||(rb=1))},ib=(e,t)=>{e&&((0,Ze.XX)(null,e),e.remove()),e=null},sb=(e,{props:t,children:n,element:a,appContext:o}={})=>{let i,s=a;const l=()=>{ob(i,()=>ib(s)),(null==t?void 0:t.onClose)&&t.onClose()};return i=(0,r.bF)(e,{...t,onClose:l},n),o&&(i.appContext=o),s?(0,Ze.XX)(i,s):"undefined"!==typeof document&&(0,Ze.XX)(i,s=document.createElement("div")),{vNode:i,el:s}},lb=e=>{Ue().vaToastInstances.length?Ue().vaToastInstances.forEach(t=>{e&&t.appContext!==e||ab(t).onClose()}):rb=1},ub=e=>{const t=Ue().vaToastInstances.find(t=>{var n;return(null==(n=t.el)?void 0:n.id)===e});if(t){const e=ab(t);e.onClose()}},cb=e=>"string"===typeof e?{message:e}:e,db=(e,t)=>{const{vNode:n,el:r}=sb(nb,{appContext:t,props:cb(e)}),a=ab(n);return r&&n.el&&a?(document.body.appendChild(r.childNodes[0]),n.el.id="notification_"+rb,rb+=1,Ue().vaToastInstances.push(n),n.el.id):null},hb={nodes:{type:Array,default:[]},stateful:{type:Boolean,default:!0},selectable:{type:Boolean,default:!1},selectionType:{type:String,default:"leaf",validator:e=>["leaf","independent"].includes(e)},valueBy:{type:[String,Function],default:"id"},textBy:{type:[String,Function],default:"label"},trackBy:{type:[String,Function],default:"id"},iconBy:{type:[String,Function],default:"icon"},disabledBy:{type:[String,Function],default:"disabled"},expandedBy:{type:[String,Function],default:"expanded"},checkedBy:{type:[String,Function],default:"checked"},childrenBy:{type:[String,Function],default:"children"},expandAll:{type:Boolean,default:!1},expanded:{type:Array,default:[]},expandNodeBy:{type:String,default:"leaf"},filter:{type:String,default:""},filterMethod:{type:Function,default:void 0},checked:{type:Array,default:[]},color:{type:String,default:"primary"}},fb=["update:modelValue","update:checked","update:expanded","update:selected"],pb=e=>{const t=e=>{const t=typeof e;return"string"===t||"number"===t},n=(e,n)=>!n||t(e)?e:$s(e,n),r=t=>n(t,e.valueBy),a=t=>e.valueBy&&e.nodes.find(e=>t===r(e))||t,o=t=>n(t,e.textBy),i=t=>n(t,e.checkedBy),s=t=>n(t,e.disabledBy),l=t=>n(t,e.expandedBy),u=t=>n(t,e.trackBy),c=t=>n(t,e.childrenBy)??[],d=(e,t)=>{e.forEach(e=>{const n=e.children||[];n.length&&d(n,t),t(e)})};return{getText:o,getValue:r,getChecked:i,getTrackBy:u,getChildren:c,getDisabled:s,getExpanded:l,iterateNodes:d,getNodeByValue:a,getNodeProperty:n}},vb=Symbol("TreeView"),mb=(e,t)=>{const{emit:n,toggleNode:r,toggleCheckbox:a}=t,o=e=>"true"===(null==e?void 0:e.getAttribute("aria-expanded")),i=e=>{var t;return(null==(t=null==e?void 0:e.parentElement)?void 0:t.closest(".va-tree-node"))||null},s=e=>null==e?void 0:e.previousElementSibling,l=e=>{if(!e)return null;let t=s(e),n=o(t)&&h(t);if(n)do{if(o(n)){if(n=h(n),n)continue;break}t=n;break}while(1);return t||i(e)},u=e=>null==e?void 0:e.nextElementSibling,c=e=>{if(!e)return null;let t=u(e);const n=o(e);if(!t){let n=i(e);do{if(u(n)){t=u(n);break}if(n=i(n),!n)break}while(1)}return n?d(e):t},d=e=>{var t;return(null==(t=null==e?void 0:e.querySelector(".va-tree-node-children"))?void 0:t.firstElementChild)||null},h=e=>{var t;return(null==(t=null==e?void 0:e.querySelector(".va-tree-node-children"))?void 0:t.lastElementChild)||null},f=(e,t,n)=>{var a,s;const l=o(e);"left"===t?l?r(n):null==(a=i(e))||a.focus():l?null==(s=d(e))||s.focus():r(n)},p=(e,t)=>{var n,r;"up"===t?null==(n=l(e))||n.focus():null==(r=c(e))||r.focus()},v=(t,r)=>{const o=t.target;switch(t.code){case"ArrowUp":p(o,"up");break;case"ArrowRight":f(o,"right",r);break;case"ArrowDown":p(o,"down");break;case"ArrowLeft":f(o,"left",r);break;case"Space":if(e.selectable){const e="undefined"!==typeof r.checked?!r.checked:null;a(r,e)}else n("update:selected",r);break;case"Escape":e.selectable||n("update:selected",null),o.blur();break;default:o.blur()}};return{handleKeyboardNavigation:v}},gb=mb,yb=(e,t)=>{const{getColor:n}=Kt(),a=(0,r.EW)(()=>n(e.color)),o=(0,r.EW)(()=>"leaf"===e.selectionType),{getText:i,getValue:s,getChecked:u,getTrackBy:c,getChildren:d,getDisabled:h,getExpanded:f,iterateNodes:p,getNodeProperty:v}=pb(e),{nodes:m,expandAll:g,filter:y,filterMethod:b,textBy:w}=(0,l.QW)(e),{valueComputed:_}=Ne(e,t,"expanded"),{valueComputed:E}=Ne(e,t,"checked"),T=(0,l.KR)(),S=(0,r.EW)({get:()=>T.value,set:e=>{const n=s(e);T.value!==n&&(T.value=n,t("update:selected",e))}}),k=(e,t,n)=>{e.value=n?e.value.concat(t).filter((e,t,n)=>n.indexOf(e)===t):e.value.filter(e=>!t.includes(e))},C=(e,t)=>{let n=null===t||t;t&&e.indeterminate&&(n=!1);const r=[s(e)];if(o.value&&e.hasChildren){const t=e=>{e.forEach(e=>{if(e.disabled)return;const n=d(e);n.length&&t(n),r.push(s(e))})};t(d(e))}k(E,r,n)},R=e=>{e.expanded=!e.expanded},I=({node:t,level:n,children:r=[],computedFilterMethod:a})=>{var i;const l=s(t);let u=!0;const c=!!r.length;let d=!1,f=E.value.includes(l)||!1;if(o.value&&c){const e=r.every(e=>e.checked);f=e,d=!e&&r.some(e=>e.indeterminate||e.checked),d&&(f=null)}return y.value&&(u=(null==r?void 0:r.some(e=>e.matchesFilter))||(null==(i=a.value)?void 0:i.call(a,t,y.value,w.value))),{...t,level:n,checked:f,children:r,get disabled(){return h(t)||!1},get expanded(){const n=e.expandedBy;return n in t?t[n]:_.value.includes(l)||!1},set expanded(n){const r=e.expandedBy;t[r]=n,c&&k(_,[s(t)],n)},hasChildren:c,matchesFilter:u,indeterminate:d}},A=(0,r.EW)(()=>(null==b?void 0:b.value)?b.value:(e,t)=>i(e).toLowerCase().includes(t.toLowerCase())),x=(e,t=0)=>e.map(e=>{const n=d(e);if(n.length){const r=x(n,t+1);return I({node:e,level:t,children:r,computedFilterMethod:A})}return I({node:e,level:t,computedFilterMethod:A})}),O=e=>e.filter(e=>(e.children&&(e.children=O(e.children)),0===e.children.length&&(e.hasChildren=!1),e.matchesFilter)),{handleKeyboardNavigation:N}=gb(e,{emit:t,toggleCheckbox:C,toggleNode:R});(0,r.Gt)(vb,{selectedNodeComputed:S,colorComputed:a,iconBy:e.iconBy,selectable:e.selectable,expandNodeBy:e.expandNodeBy,getText:i,getValue:s,getTrackBy:c,toggleNode:R,toggleCheckbox:C,getNodeProperty:v,handleKeyboardNavigation:N});const D=(0,r.EW)(()=>x(m.value)),L=()=>{const e=[],t=[];p(m.value,n=>{(g.value||f(n))&&e.push(s(n)),u(n)&&t.push(s(n))}),e.length&&k(_,e,!0),t.length&&k(E,t,!0)};return L(),{treeItems:(0,r.EW)(()=>O(D.value)),getText:i,getTrackBy:c,toggleCheckbox:C}},bb=yb,wb=["role","aria-expanded","aria-disabled","aria-checked","tabindex"],_b={class:"va-tree-node-root"},Eb={key:2,class:"va-tree-node-content__item"},Tb=["aria-hidden"],Sb="The VaTreeNode component should be used in the context of VaTreeView component",kb=(0,r.pM)({name:"VaTreeNode",__name:"VaTreeNode",props:{node:{type:Object,required:!0}},setup(e){const t=e,{iconBy:n,selectable:a,expandNodeBy:o,colorComputed:i,selectedNodeComputed:s,getText:u,getTrackBy:c,toggleNode:d,toggleCheckbox:h,getNodeProperty:f,handleKeyboardNavigation:p}=Vf(vb,Sb),v=(0,r.EW)(()=>u(t.node)||""),m=(0,r.EW)(()=>t.node.hasChildren?!!t.node.expanded:void 0),g=(0,r.EW)(()=>f(t.node,n)),y=(0,r.EW)(()=>t.node.hasChildren?"group":"treeitem"),w=gr("va-tree-node",()=>({disabled:Boolean(t.node.disabled),checked:Boolean(t.node.checked),hasChildren:Boolean(t.node.hasChildren),[`level-${t.node.level}`]:!0,[`expand-by-${o}`]:!0})),_=gr("va-tree-node-children",()=>({expanded:!!m.value})),E=gr("va-tree-node-content",()=>({indent:!1===t.node.hasChildren})),T=gr("va-tree-node-content",()=>({clickable:!0===t.node.hasChildren&&"node"===o})),S=(0,r.EW)(()=>t.node.disabled?-1:0),k=e=>{const n="node"===o&&"leaf"===e?"node":e;o===n&&d(t.node),s.value=t.node};return(e,t)=>{const n=(0,r.g2)("va-tree-node",!0);return(0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-tree-node",(0,l.R1)(w)]),role:y.value,"aria-expanded":m.value,"aria-disabled":e.$props.node.disabled,"aria-checked":!!e.$props.node.checked,tabindex:S.value,onKeydown:[t[4]||(t[4]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(p)(t,e.$props.node),["stop","prevent"]),["up"])),t[5]||(t[5]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(p)(t,e.$props.node),["stop","prevent"]),["right"])),t[6]||(t[6]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(p)(t,e.$props.node),["stop","prevent"]),["down"])),t[7]||(t[7]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(p)(t,e.$props.node),["stop","prevent"]),["left"])),t[8]||(t[8]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(p)(t,e.$props.node),["stop","prevent"]),["space"])),t[9]||(t[9]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(p)(t,e.$props.node),["stop","prevent"]),["esc"]))]},[(0,r.Lk)("div",_b,[(0,r.Lk)("div",{class:(0,b.C4)(["va-tree-node-content",(0,l.R1)(E)]),onClick:t[3]||(t[3]=e=>k("node"))},[e.$props.node.hasChildren?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-tree-node-content__item va-tree-node-content__item--leaf",onClick:t[0]||(t[0]=(0,Ze.D$)(e=>k("leaf"),["stop"]))},[(0,r.RG)(e.$slots,"icon-toggle",(0,b._B)((0,r.Ng)(e.$props.node)),()=>[(0,r.bF)((0,l.R1)(Fn),{name:m.value?"keyboard_arrow_down":"keyboard_arrow_right",size:"20px"},null,8,["name"])])])):(0,r.Q3)("",!0),(0,l.R1)(a)?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-tree-node-content__item",onClick:t[2]||(t[2]=(0,Ze.D$)(()=>{},["stop"]))},[(0,r.RG)(e.$slots,"checkbox",(0,b._B)((0,r.Ng)(e.$props.node)),()=>[(0,r.bF)((0,l.R1)(mu),{"model-value":e.$props.node.checked,color:(0,l.R1)(i),indeterminate:"","onUpdate:modelValue":t[1]||(t[1]=t=>(0,l.R1)(h)(e.$props.node,t)),class:"va-tree-node__checkbox"},null,8,["model-value","color"])])])):(0,r.Q3)("",!0),g.value?((0,r.uX)(),(0,r.CE)("div",Eb,[(0,r.RG)(e.$slots,"icon",(0,b._B)((0,r.Ng)(e.$props.node)),()=>[(0,r.bF)((0,l.R1)(Fn),{name:g.value,size:"small"},null,8,["name"])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",{class:(0,b.C4)(["va-tree-node-content__body",(0,l.R1)(T)])},[(0,r.RG)(e.$slots,"content",(0,b._B)((0,r.Ng)(e.$props.node)),()=>[(0,r.eW)((0,b.v_)(v.value),1)])],2)],2)]),(0,r.bo)((0,r.Lk)("div",{"aria-hidden":!e.$props.node.expanded,class:(0,b.C4)(["va-tree-node-children",(0,l.R1)(_)])},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.$props.node.children,t=>((0,r.uX)(),(0,r.Wv)(n,{key:(0,l.R1)(c)(t),node:t},(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1032,["node"]))),128))],10,Tb),[[Ze.aG,e.$props.node.hasChildren]])],42,wb)}}}),Cb=Te(kb),Rb={class:"va-tree-view",role:"tree"},Ib=(0,r.pM)({name:"VaTreeView",__name:"VaTreeView",props:{...hb},emits:[...fb],setup(e,{emit:t}){const n=e,a=t,{treeItems:o,getTrackBy:i}=bb(n,a);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Rb,[e.$props.filter&&!(0,l.R1)(o).length?(0,r.RG)(e.$slots,"not-found",{key:0},()=>[(0,r.eW)("No matching nodes found")]):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)((0,l.R1)(o),t=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Cb),{key:(0,l.R1)(i)(t),node:t},(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1032,["node"]))),128))]))}}),Ab=Te(Ib),xb={class:"va-scroll-container__content"},Ob=(0,r.pM)({name:"VaScrollContainer",__name:"VaScrollContainer",props:{...cn,vertical:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!1},color:{type:String,default:"secondary"},rtl:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1},sizesConfig:{type:Object,default:()=>({defaultSize:4,sizes:{small:4,medium:6,large:8}})},size:{type:String,default:"small",validator:e=>["small","medium","large"].includes(e)}},setup(e){const t=e,{getColor:n}=Kt(),{sizeComputed:a}=mn(t),o=(0,r.EW)(()=>t.horizontal?"auto":"hidden"),i=(0,r.EW)(()=>t.vertical?"auto":"hidden"),s=(0,r.EW)(()=>{const e=n(t.color);return t.gradient?`linear-gradient(0deg, var(--va-scroll-container-scrollbar-gradient-to) 0%, ${e} 100%)`:e}),l=(0,r.EW)(()=>a.value),u=(0,r.EW)(()=>t.rtl?"rtl":"ltr");return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-scroll-container",style:(0,b.Tr)(`--va-scroll-color: ${String(s.value)};--va-scrollbar-size: ${String(l.value)};--va-overflow-x: ${String(o.value)};--va-overflow-y: ${String(i.value)};--va-scrollbar-position: ${String(u.value)}`)},[(0,r.Lk)("div",xb,[(0,r.RG)(e.$slots,"default")])],4))}}),Nb=Te(Ob),Db={class:"va-viewer-content"},Lb=(0,r.pM)({name:"VaViewer",inheritAttrs:!1,__name:"VaViewer",setup(e,{expose:t}){const n=(0,l.KR)(),a=(0,l.KR)(),o=eo(),i=(0,l.KR)(!0),s=(0,r.EW)(()=>o.value&&!i.value),u=()=>i.value=!1,c=()=>i.value=!0,d=(0,r.Ht)(),h=()=>{d.anchor||u()};_s([n,a],c);const f=Za(),p=(0,r.EW)(()=>{var e;return null==(e=f.value)?void 0:e.body});return t({openViewer:u,closeViewer:c}),(e,t)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",(0,r.v6)({class:"va-viewer"},e.$attrs,{onClick:h}),[(0,r.RG)(e.$slots,"anchor",(0,b._B)((0,r.Ng)({openViewer:u}))),e.$slots.anchor?(0,r.Q3)("",!0):(0,r.RG)(e.$slots,"default",{key:0})],16),s.value?((0,r.uX)(),(0,r.Wv)(r.Im,{key:0,to:p.value},[(0,r.Lk)("div",Db,[(0,r.Lk)("div",{ref_key:"content",ref:n,class:"va-viewer-content__main-area"},[e.$slots.image?(0,r.Q3)("",!0):(0,r.RG)(e.$slots,"default",{key:0}),(0,r.RG)(e.$slots,"image")],512),(0,r.Lk)("div",{ref_key:"controls",ref:a,class:"va-viewer-content__controls-panel"},[(0,r.RG)(e.$slots,"controls"),(0,r.RG)(e.$slots,"close",(0,b._B)((0,r.Ng)({close:c})),()=>[(0,r.Lk)("button",{class:"va-viewer-content__close-button",onClick:c},[(0,r.bF)((0,l.R1)(Fn),{name:"close",color:"backgroundPrimary"})])])],512)])],8,["to"])):(0,r.Q3)("",!0)],64))}}),Pb=Te(Lb),Mb=(0,r.pM)({name:"VaValue",props:{defaultValue:{type:null,required:!1,default:!1}},setup(e,{slots:t}){const n=(0,l.KR)(e.defaultValue),a=new Proxy(n,{get(e,t){return"value"===t?e.value:e[t]},set(e,t,n){return"value"===t&&(e.value=n),!0}});return()=>(0,r.h)(r.FK,[Ua(t.default,a)])}}),Vb=Te(Mb),Fb=e=>{const t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="auto";const{font:n}=window.getComputedStyle(e);return t.style.font=n,t.textContent="Vuestic",t.style.zIndex="-1",t.style.pointerEvents="none",t.style.opacity="0",t.ariaHidden="true",t.innerText=e.value,t},$b=(e,t)=>{const n=(0,l.KR)(),a=(0,l.KR)();return(0,r.wB)(e,t=>{var r,a;t&&(n.value=Fb(t),null==(a=null==(r=e.value)?void 0:r.parentElement)||a.appendChild(n.value))}),_u(n,t=>{t&&e.value&&(a.value=t[0].contentRect.height)}),(0,r.wB)(t,e=>{n.value&&(n.value.innerText=String(e),n.value.innerHTML+="&nbsp;;")}),a},Bb=["rows","loading","ariaLabel"],Wb=e=>{if(e>0)return!0;throw new Error(`\`minRows|maxRows\` must be a positive integer greater than 0, but ${e} is provided`)},{createEmits:Ub,createListeners:jb}=Is(["input","change","click","update:modelValue"]),Gb=pr(Ku),zb=(0,r.pM)({name:"VaTextarea",__name:"VaTextarea",props:{...Lu,...Gb,...Ae,...zl,modelValue:{type:[String,Number],default:""},placeholder:{type:String},autosize:{type:Boolean,default:!1},minRows:{type:[Number,String],default:1,validator:Wb},maxRows:{type:[Number,String],validator:Wb},resize:{type:Boolean,default:!0},clearValue:{type:[String],default:""}},emits:[...Ub(),...Hl],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,r.OA)(),s=(0,l.IJ)(),{valueComputed:c}=Ne(a,o,"modelValue",{defaultValue:""}),d=()=>{Mr(s.value)},h=()=>{Vr(s.value)},f=()=>T(()=>{o("update:modelValue",a.clearValue),o("clear"),E()}),{isDirty:p,isTouched:v,computedError:m,computedErrorMessages:g,listeners:y,validationAriaAttributes:w,isLoading:_,resetValidation:E,withoutValidation:T}=Yl(a,o,{value:c,focus:d,reset:f}),S=(0,r.EW)(()=>a.resize&&!a.autosize),k=(0,l.KR)(a.minRows),C=$b(s,c);function R(){let e=parseFloat(String(a.minRows)),t=parseFloat(String(a.maxRows));if(e=isNaN(e)?1:e,t=isNaN(t)?1/0:t,!a.autosize)return void(k.value=Math.max(t,Math.min(e,t??0)));if(!C.value||!s.value)return;const n=getComputedStyle(s.value),r=C.value,o=parseFloat(n.lineHeight),i=Math.max(e*o,e+Math.round(o)),l=t*o||1/0,u=Math.max(i,Math.min(l,r??0));k.value=Math.round(u/o),s.value.style.height=`${u+1}px`}(0,r.nT)(()=>{R()});const I=(0,r.EW)(()=>({resize:S.value?void 0:"none"})),A=(0,r.EW)(()=>({...tr(a,["disabled","readonly","placeholder","name"])})),x=(0,r.EW)(()=>({...w.value,...u(i,["class","style"])})),O=yr(Gb),N=jb(o);return t({isDirty:p,isTouched:v,isLoading:_,computedError:m,computedErrorMessages:g,reset:f,focus:d,blur:h,value:c,withoutValidation:T,resetValidation:E}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ku),(0,r.v6)({class:"va-textarea"},(0,l.R1)(O),{error:(0,l.R1)(m),"error-messages":(0,l.R1)(g)}),{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,b.C4)(["va-textarea__resize-wrapper",{"va-textarea__resize-wrapper--resizable":S.value}])},[(0,r.bo)((0,r.Lk)("textarea",(0,r.v6)({"onUpdate:modelValue":n[0]||(n[0]=e=>(0,l.i9)(c)?c.value=e:null)},{...A.value,...(0,l.R1)(N),...x.value,...(0,l.R1)(y)},{class:["va-textarea__textarea",{"va-textarea__textarea--autosize":e.autosize}],ref_key:"textarea",ref:s,rows:k.value,style:I.value,loading:(0,l.R1)(_),ariaLabel:t.$props.label}),null,16,Bb),[[Ze.Jo,(0,l.R1)(c)]])],2)]),_:1},16,["error","error-messages"]))}}),Hb=Ee(zb),Kb='[role="menuitem"]:not([aria-disabled="true"])',Xb='[role="menuitem"]:focus',qb=e=>({role:"menuitem",tabindex:-1,"aria-disabled":Boolean(e.disabled)}),Qb=()=>({role:"menu",tabindex:0}),Yb=e=>{jr("keydown",({key:t})=>{if(!e.value)return;const n=e.value.querySelectorAll(Kb),r=e.value.querySelector(Xb);if(n.length){if(!r){const t=e.value.querySelector(Kb);return void(t&&Mr(t))}if("ArrowDown"===t||"ArrowRight"===t){const e=Array.from(n).indexOf(r);Mr(n[e+1])}if("ArrowUp"===t||"ArrowLeft"===t){const e=Array.from(n).indexOf(r);Mr(n[e-1])}}},e)},Jb={class:"va-menu-item__cell va-menu-item__cell--left"},Zb={class:"va-menu-item__cell va-menu-item__cell--center"},ew={class:"va-menu-item__content"},tw={class:"va-menu-item__cell va-menu-item__cell--right"},nw=(0,r.pM)({name:"VaMenuItem",__name:"VaMenuItem",props:{name:{type:String,default:""},icon:{type:String,defatult:""},rightIcon:{type:String,defatult:""},disabled:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const{hasKeyboardFocus:n,keyboardFocusListeners:a}=ou();return(t,o)=>((0,r.uX)(),(0,r.CE)("tr",(0,r.v6)({class:"va-menu-item"},(0,l.R1)(qb)({disabled:e.disabled}),(0,r.Tb)((0,l.R1)(a),!0),{class:{"va-menu-item--disabled":e.disabled,"va-menu-item--keyboard-focus":(0,l.R1)(n)},onClick:o[0]||(o[0]=e=>t.$emit("selected")),onKeydown:o[1]||(o[1]=(0,Ze.jR)(e=>t.$emit("selected"),["enter","space"]))}),[(0,r.Lk)("td",Jb,[(0,r.RG)(t.$slots,"left-icon",{},()=>[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,class:"va-menu-item__icon--left",name:e.icon},null,8,["name"])):(0,r.Q3)("",!0)])]),(0,r.Lk)("td",Zb,[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.Lk)("a",ew,(0,b.v_)(e.name),1)])]),(0,r.Lk)("td",tw,[(0,r.RG)(t.$slots,"right-icon",{},()=>[e.rightIcon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Fn),{key:0,class:"va-menu-item__icon--right",name:e.rightIcon},null,8,["name"])):(0,r.Q3)("",!0)])])],16))}}),rw={class:"va-menu-list__group-name"},aw=(0,r.pM)({name:"VaMenuGroup",__name:"VaMenuGroup",props:{groupName:{type:String,required:!0},color:{type:String,default:"secondary"}},setup(e){const t=e,{getColor:n}=Kt(),a=(0,r.EW)(()=>n(t.color));return(t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",{class:"va-menu-list__group-name-wrapper",colspan:"99999",style:(0,b.Tr)(`--va-color-computed: ${String(a.value)}`)},[(0,r.Lk)("span",rw,(0,b.v_)(e.groupName),1)],4),(0,r.RG)(t.$slots,"default",{style:(0,b.Tr)(`--va-color-computed: ${String(a.value)}`)},void 0,!0)],64))}}),ow=qs(aw,[["__scopeId","data-v-4dd1ae9a"]]),iw={colspan:"9999"},sw=(0,r.pM)({name:"VaMenuList",__name:"VaMenuList",props:{...Bs,options:{type:Array,default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const n=e,a=(0,l.KR)();Yb(a);const{getText:o,getValue:i,getDisabled:s,getGroupBy:u,getTrackBy:c}=Ws(n),d=(0,r.EW)(()=>n.options.reduce((e,t)=>{const n=u(t);return n?(e[n]||(e[n]=[]),e[n].push(t)):e._noGroup.push(t),e},{_noGroup:[]})),h=e=>Array.isArray(e)&&e[0].type===r.FK?e[0].children:e,f=e=>"object"===typeof e.type&&"name"in e.type&&"string"===typeof e.type.name?e.type.name:"",p=e=>"string"===typeof e.type?e.type:"object"===typeof e.type&&"name"in e.type&&"string"===typeof e.type.name?e.type.name:String(e.key);return(e,t)=>((0,r.uX)(),(0,r.CE)("table",(0,r.v6)({class:"va-menu-list",ref_key:"container",ref:a},(0,l.R1)(Qb)()),[(0,r.Lk)("tbody",null,[e.$slots.default?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(h(e.$slots.default()),e=>((0,r.uX)(),(0,r.CE)(r.FK,null,["VaMenuItem"===f(e)?((0,r.uX)(),(0,r.Wv)((0,r.$y)(e),{key:p(e)+"menuitem"})):"VaDropdown"===f(e)?((0,r.uX)(),(0,r.Wv)((0,r.$y)(e),{key:p(e)+"menu-dropdown"})):((0,r.uX)(),(0,r.CE)("td",{colspan:"999",key:p(e),class:"va-menu-list__virtual-td"},[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e)))]))],64))),256)):(0,r.RG)(e.$slots,"default",{key:1},()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.value,(t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:n},["_noGroup"!==n?(0,r.RG)(e.$slots,"group",{key:0},()=>[(0,r.Lk)("tr",null,[(0,r.Lk)("td",iw,[(0,r.bF)(ow,{"group-name":n},null,8,["group-name"])])])]):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t,t=>((0,r.uX)(),(0,r.Wv)(nw,{key:(0,l.R1)(c)(t),name:(0,l.R1)(o)(t),icon:t.icon,"right-icon":t.rightIcon,disabled:(0,l.R1)(s)(t),onSelected:n=>e.$emit("selected",(0,l.R1)(i)(t),t)},{"left-icon":(0,r.k6)(t=>[(0,r.RG)(e.$slots,"left-icon",(0,b._B)((0,r.Ng)(t)))]),"right-icon":(0,r.k6)(t=>[(0,r.RG)(e.$slots,"right-icon",(0,b._B)((0,r.Ng)(t)))]),_:2},1032,["name","icon","right-icon","disabled","onSelected"]))),128))],64))),128))])])],16))}}),lw=Ee(sw),uw=Ee(nw),cw=Ee(ow),dw=e=>{(0,r.nT)(()=>{e.value&&(0,r.dY)(()=>{Mr(Lr(e.value))})})},hw=pr(lw),fw=vr(lw),pw=pr(Ts),vw=vr(Ts),mw=(0,r.pM)({name:"VaMenu",__name:"VaMenu",props:{...De,...hw,...pw,stickToEdges:{type:Boolean,default:!0}},emits:[...vw,...fw],setup(e,{expose:t,emit:n}){const a=(0,l.KR)(),o=(0,l.KR)();dw(a);const i=()=>{var e;null==(e=o.value)||e.hide(),(0,r.dY)(()=>{var e;const t=Lr(null==(e=o.value)?void 0:e.anchorRef);t&&Fr(t)})},s=e=>{"Escape"===e.key&&i(),"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault()},u=yr(hw),c=yr(pw);return t({close:i}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ts),(0,r.v6)((0,l.R1)(c),{ref_key:"dropdown",ref:o}),{anchor:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"anchor")]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(ks),{onKeydown:s},{default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(lw),(0,r.v6)({onKeydown:t[0]||(t[0]=(0,Ze.jR)((0,Ze.D$)(()=>{},["prevent","stop"]),["enter","space"]))},(0,l.R1)(u),{ref_key:"menuList",ref:a,onSelected:t[1]||(t[1]=t=>{e.$emit("selected",t),i()})}),(0,r.eX)({_:2},[e.$slots.default?{name:"default",fn:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),key:"0"}:void 0]),1040)]),_:3})]),_:3},16))}}),gw=Ee(mw),yw={rules:()=>[],dirty:!1,errorCount:1,success:!1,messages:()=>[],immediateValidation:!1},bw={stateful:!1},ww=(0,r.pM)({__name:"VaFormField",props:(0,r.HF)({stateful:{type:Boolean},modelValue:{},name:{},rules:{},dirty:{type:Boolean},error:{type:Boolean},errorMessages:{},errorCount:{},success:{type:Boolean},messages:{},immediateValidation:{type:Boolean},clearValue:{}},{...bw,...yw}),emits:["update:error","update:errorMessages","update:dirty","update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{valueComputed:o}=Ne(n,a,"modelValue"),i=()=>{o.value=n.clearValue},s=()=>{},{computedError:u,computedErrorMessages:c,validate:d,isDirty:h,isLoading:f,isValid:p,resetValidation:v,validationAriaAttributes:m,listeners:g}=Yl(n,a,{reset:i,focus:s,value:o}),y=(0,r.EW)(()=>u.value?c.value:n.messages),w=(0,r.EW)(()=>p.value?n.success?"success":"":"danger"),_=(0,r.EW)(()=>n.error?Number(n.errorCount):99),E=(0,l.KR)(o.value);(0,r.nT)(()=>{E.value=o.value});const T=()=>new Proxy(E,{get(e,t){return"ref"===t?E.value:Reflect.get(e,t)},set(e,t,n){return"ref"===t?(E.value=n,o.value=n,!0):Reflect.set(o,t,n)}});return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(uu),{"model-value":y.value,"has-error":!(0,l.R1)(p),color:w.value,limit:_.value},(0,r.eX)({default:(0,r.k6)(({ariaAttributes:t,attrs:n})=>[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({error:(0,l.R1)(u),errorMessages:y.value,messages:y.value,validate:(0,l.R1)(d),isDirty:(0,l.R1)(h),isLoading:(0,l.R1)(f),isValid:(0,l.R1)(p),resetValidation:(0,l.R1)(v),validationAriaAttributes:(0,l.R1)(m),...(0,l.R1)(g),value:T(),modelValue:T(),ariaAttributes:t,bind:{...n,...t,...(0,l.R1)(g)}})))]),_:2},[(0,r.pI)(["message","messages"],t=>({name:t,fn:(0,r.k6)(n=>[(0,r.RG)(e.$slots,t,(0,b._B)((0,r.Ng)(n)))])}))]),1032,["model-value","has-error","color","limit"]))}}),_w=Ee(ww),Ew=e=>{if(!e)return 0;const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return Math.max(t,n)},Tw=e=>{const t=(0,l.KR)({top:0,left:0,width:0,height:0,bottom:0,right:0});let n,a;const o=()=>{e.value&&(t.value=e.value.getBoundingClientRect())};return(0,r.sV)(()=>{n=new ResizeObserver(o),a=new MutationObserver(o),e.value&&n.observe(e.value),e.value&&a.observe(e.value,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",o),window.addEventListener("scroll",o),o()}),(0,r.xo)(()=>{null==n||n.disconnect(),null==a||a.disconnect(),window.removeEventListener("resize",o),window.removeEventListener("scroll",o),n=void 0,a=void 0}),t},Sw=(0,r.pM)({__name:"VaStickyScrollbar",props:{el:{},direction:{default:"horizontal"},offset:{default:0}},setup(e){const t=e,n=(0,l.KR)(null),a=je("offset"),o=(0,r.EW)(()=>{var e;return t.el?t.el:(null==(e=n.value)?void 0:e.parentNode)??null}),i=Tw(o),s=(0,r.EW)(()=>{const e=o.value;if(!e)return{};const n=e,r=Ew(n),{bottom:s,left:l,right:u,top:c}=i.value;return"vertical"===t.direction?l>window.innerWidth||u<window.innerWidth?{display:"none"}:{position:"fixed",top:`${c}px`,right:0,height:`${n.clientHeight}px`,overflowY:"auto",overflowX:"hidden"}:c>window.innerHeight||s<window.innerHeight?{display:"none"}:{position:"fixed",top:Math.min(s,window.innerHeight)-r-Number(a.value)+"px",width:`${n.clientWidth}px`,overflowX:"auto",overflowY:"hidden"}});jr("scroll",e=>{var r,a;n.value&&("horizontal"===t.direction?null==(r=o.value)||r.scrollTo({left:n.value.scrollLeft}):null==(a=o.value)||a.scrollTo({top:n.value.scrollTop}))},n),jr("scroll",e=>{var r,a,i,s;if(n.value)if("horizontal"===t.direction){if((null==(r=o.value)?void 0:r.scrollLeft)===n.value.scrollLeft)return;n.value.scrollTo({left:null==(a=o.value)?void 0:a.scrollLeft})}else{if((null==(i=o.value)?void 0:i.scrollTop)===n.value.scrollTop)return;n.value.scrollTo({top:null==(s=o.value)?void 0:s.scrollTop})}},o);const u=(0,l.KR)(0),c=(0,l.KR)(0);_u((0,r.EW)(()=>o.value?[...o.value.children]:[]),()=>{u.value=o.value.scrollWidth,c.value=o.value.scrollHeight});const d=(0,r.EW)(()=>"vertical"===t.direction?{width:"1px",height:`${c.value}px`}:{height:"1px",width:`${u.value}px`});return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{style:(0,b.Tr)(s.value),ref_key:"currentEl",ref:n},[(0,r.Lk)("div",{style:(0,b.Tr)(d.value)},null,4)],4))}}),kw=Object.freeze(Object.defineProperty({__proto__:null,VaAccordion:Me,VaAffix:Je,VaAlert:Hn,VaAppBar:Jn,VaAspectRatio:er,VaAvatar:Er,VaAvatarGroup:kr,VaBacktop:oa,VaBadge:Ca,VaBreadcrumbs:Fa,VaBreadcrumbsItem:Va,VaButton:na,VaButtonDropdown:Ms,VaButtonGroup:Ka,VaButtonToggle:Gs,VaCard:rl,VaCardActions:tl,VaCardBlock:nl,VaCardContent:Zs,VaCardTitle:el,VaCarousel:Ll,VaCheckbox:mu,VaChip:bu,VaCollapse:Cu,VaColorIndicator:Iu,VaColorInput:dc,VaColorPalette:pc,VaConfig:Ga,VaContent:bc,VaCounter:Nc,VaDataTable:th,VaDateInput:pf,VaDatePicker:vf,VaDivider:wf,VaDropdown:Ts,VaDropdownContent:ks,VaFallback:lr,VaFileUpload:Ip,VaForm:Lp,VaFormField:_w,VaHover:wl,VaIcon:Fn,VaImage:yl,VaInfiniteScroll:$p,VaInnerLoading:Bd,VaInput:sc,VaInputWrapper:Ku,VaLayout:rv,VaList:Df,VaListItem:If,VaListItemLabel:xf,VaListItemSection:Of,VaListLabel:Af,VaListSeparator:Nf,VaMenu:gw,VaMenuGroup:cw,VaMenuItem:uw,VaMenuList:lw,VaMessageList:uu,VaModal:Ep,VaNavbar:hv,VaNavbarItem:fv,VaOptionList:Av,VaPagination:Lv,VaParallax:Bv,VaPopover:Kv,VaProgressBar:Mf,VaProgressCircle:ir,VaRadio:yv,VaRating:sm,VaScrollContainer:Nb,VaSelect:jm,VaSeparator:zm,VaSidebar:rg,VaSidebarItem:dg,VaSidebarItemContent:ug,VaSidebarItemTitle:cg,VaSkeleton:Qm,VaSkeletonGroup:Ym,VaSlider:Eg,VaSpacer:Sg,VaSplit:Og,VaStepper:ey,VaStickyScrollbar:Sw,VaSwitch:kv,VaTab:Gg,VaTabs:Bg,VaTextarea:Hb,VaTimeInput:Sy,VaTimePicker:Wy,VaTimeline:Dy,VaTimelineItem:By,VaToast:nb,VaTreeView:Ab,VaValue:Vb,VaViewer:Pb,VaVirtualScroller:Vd},Symbol.toStringTag,{value:"Module"})),Cw=e=>"function"===typeof e,Rw=(e,t,...n)=>{Cw(t)?e.use(t(...n)):e.use(t)},Iw=e=>e.config.globalProperties,Aw=(e,t,n)=>{const r=Iw(e);r[t]=n},xw=(e,t)=>Iw(e)[t],Ow=et((e={})=>({install(t){const n=he(e);(null==e?void 0:e.componentsAll)&&console.warn("Global config -> `componentsAll` was moved to Global config -> components.all. Please replace this to make it work. More info here: https://github.com/epicmaxco/vuestic-ui/issues/1967"),t.provide(ce,n),Aw(t,"$vaConfig",n)}})),Nw=(e,t)=>{if(Fe())return;let n=document.getElementById(e);n?n.innerHTML=t():(n=document.createElement("style"),n.setAttribute("type","text/css"),n.setAttribute("id",e),n.innerHTML=t(),document.head.append(n))},Dw=e=>{var t;null==(t=document.getElementById(e))||t.remove()},Lw=(e,t)=>`${Ot(e)}: ${t};\n`,Pw="data-va-app",Mw=e=>`va-color-variables-${e}`,Vw=(e,t)=>{const{colors:n,getTextColor:a,getColor:o,currentPresetName:i,applyPreset:s}=Kt(),l=(e=n)=>{if(!e)return;const t=Object.keys(e),r=t.map(t=>`${Ot(t)}: ${e[t]}`).join(";"),i=t.map(t=>`${Ot(`on-${t}`)}: ${o(a(e[t]))}`).join(";");return`${r};${i}`},u=(e=n,t=":root, :host")=>{const r=Object.keys(e);let i=`${t} {\n`;return r.forEach(t=>{i+=Lw(t,e[t])}),r.forEach(t=>{i+=Lw(`on-${t}`,o(a(e[t])))}),i+="}\n",i},c=(0,r.EW)(()=>e._uid),d=(0,r.EW)(()=>":root, :host"),h=e=>{if(!e||Fe())return;const t=u(e,d.value);Nw(Mw(c.value),()=>t)};function f(){return{[Pw]:c.value}}const p=e.mount;return e.mount=function(...t){const n=p.apply(this,t),r=e._container,a=r.getAttribute(Pw);return a&&a!==c.value.toString()&&Dw(Mw(a)),r.setAttribute(Pw,c.value.toString()),n},(0,r.wB)(n,e=>{h(e)},{immediate:!0,deep:!0}),{colors:n,currentPresetName:i,getAppStylesRootAttribute:f,renderCSSVariables:l,updateColors:h,renderCSSVariablesStyleContent:u}},Fw=et(e=>({install(e){Aw(e,"$vaColorConfig",Vw(e))}})),$w=(e,t)=>{const n=Object.entries(t);return e.reduce((e,t)=>e.concat(n.map(([e,n])=>({...t,postfix:t.postfix??e,value:t.value??n}))),[])},Bw=e=>e.reduce((e,t)=>{const n=[t.property].flat().map(e=>`${e}: ${t.value};`).join("");return e+=`.va-${t.prefix}--${t.postfix} { ${n} }`,e},""),Ww=(e,t)=>{const n=$w(e,t);Nw("va-color-helpers",()=>Bw(n))},Uw=()=>{if(Fe())return;const{globalConfig:e}=pe();return(0,r.wB)(()=>e.value.colorsClasses,t=>{t.length&&Ww(t,e.value.colors.variables)},{immediate:!0,deep:!0}),(0,r.wB)(()=>e.value.colors.variables,t=>{t&&Ww(e.value.colorsClasses,t)},{immediate:!0,deep:!0}),{renderColorHelpers:()=>{const t=$w(e.value.colorsClasses,e.value.colors.variables);return Bw(t)}}},jw=et(()=>({install(e){Aw(e,"$vaColorsClasses",Uw())}}));function Gw(){const e=(0,l.Kh)({width:void 0,height:void 0}),t=()=>{e.width=null==window?void 0:window.innerWidth,e.height=null==window?void 0:window.innerHeight},n=(0,r.EW)($e);return(0,r.wB)(n,e=>{e&&t()},{immediate:!0}),jr("resize",t,!0),{windowSizes:e}}const zw=e=>{var t;const n=null==(t=xw(e,"$vaConfig"))?void 0:t.globalConfig;if(!n)return V("createBreakpointConfigPlugin: globalConfig is not defined!"),{};const a=(0,r.EW)(()=>{const e=n.value.breakpoint;return e||V("createBreakpointConfigPlugin: breakpointConfig is not defined!"),e??{}});if(!a.value.enabled)return{};if(!a.value.thresholds||!Object.values(a.value.thresholds).length)return V("createBreakpointConfigPlugin: there are no defined thresholds!"),{};const{windowSizes:o}=Gw(),i=(0,r.EW)($e),s=(0,r.EW)(()=>{if(i.value&&o.width)return Object.entries(a.value.thresholds).reduce((e,[t,n])=>(o.width>=n&&(e=t),e),"xs")}),l=(0,r.EW)(()=>Object.keys(a.value.thresholds).reduce((e,t)=>(e[t]=`va-screen-${t}`,e),{})),u=()=>{let e="";return Object.values(a.value.thresholds).forEach((t,n)=>{e+=`@media screen and (min-width: ${t}px) {`,e+=`:root { --va-media-ratio: ${.2*(n+1)} }`,e+="}\n"}),e},c=(0,r.EW)(ps);Nw(`va-helpers-media-${c.value}`,u);const d=Za();(0,r.wB)(s,e=>{e&&a.value.bodyClass&&d.value&&(d.value.body.classList.forEach(e=>{Object.values(l.value).includes(e)&&d.value.body.classList.remove(e)}),d.value.body.classList.add(l.value[e]))},{immediate:!0});const h=(0,r.EW)(()=>{const e="xs"===s.value,t="sm"===s.value,n="md"===s.value,r="lg"===s.value,a="xl"===s.value;return{xs:e,sm:t,md:n,lg:r,xl:a,smUp:t||n||r||a,mdUp:n||r||a,lgUp:r||a,smDown:e||t,mdDown:e||t||n,lgDown:e||t||n||r}});return at(()=>({width:o.width,height:o.height,current:s.value,thresholds:a.value.thresholds,...h.value}))},Hw=et(()=>({install(e){const t=zw(e);e.provide(H,t),Aw(e,"$vaBreakpoint",t)}})),Kw={closeDropdown(){let e=this;while(e=e.$parent){const t=e.$options.name;if("VaDropdown"===t){e.hide();break}}}},Xw=et(()=>({install(e){Aw(e,"$closeDropdown",Kw.closeDropdown),Aw(e,"$vaDropdown",Kw)}})),qw=e=>({init(t){return db(t,null==e?void 0:e._context)},close(e){ub(e)},closeAll(t=!1){lb(t||null==e?void 0:e._context)}}),Qw=et(()=>({install(e){Aw(e,"$vaToast",qw(e))}})),Yw=e=>{var t;return(null==(t=e.component)?void 0:t.props)||{}},Jw=(e,t)=>{e&&((0,Ze.XX)(null,e),e.remove()),e=null},Zw=(e,{props:t,appContext:n}={})=>{const a=null==document?void 0:document.createElement("div");let o;const i=e=>{var n;null==(n=null==t?void 0:t.onClose)||n.call(t,e),Jw(a)},s=e=>{var n;null==(n=null==t?void 0:t["onUpdate:modelValue"])||n.call(t,e),(null==t?void 0:t.withoutTransitions)&&!e&&(0,r.dY)(()=>{Jw(a)})};return o=(0,r.h)(e,{...t,stateful:(null==t?void 0:t.stateful)??!0,modelValue:!0,onClose:i,"onUpdate:modelValue":s}),n&&(o.appContext=n),a&&(0,Ze.XX)(o,a),{vNode:o,el:a}},e_=e=>"string"===typeof e?{message:e}:e,t_=(e,t)=>{const{vNode:n,el:r}=Zw(Ep,{appContext:t,props:e_(e)});return r&&n.el&&Yw(n)&&document.body.appendChild(r.childNodes[0]),n},n_=e=>({init(t){return t_(t,null==e?void 0:e._context)},confirm(t){return new Promise("string"===typeof t?n=>{t_({message:t,onOk(){n(!0)},onCancel(){n(!1)}},null==e?void 0:e._context)}:n=>{t_({...t,onOk(){var e;null==(e=null==t?void 0:t.onOk)||e.call(t),n(!0)},onCancel(){var e;null==(e=null==t?void 0:t.onCancel)||e.call(t),n(!1)}},null==e?void 0:e._context)})}}),r_=et(()=>({install(e){Aw(e,"$vaModal",n_(e))}})),a_=et((e={})=>({install(t){const{config:n}=e;W(t),Object.entries(kw).forEach(([e,n])=>{t.component(e,n)}),Rw(t,Ow(n)),Rw(t,nt),Rw(t,Fw(n)),Rw(t,jw),Rw(t,Hw),Rw(t,Xw),Rw(t,Qw),Rw(t,r_),W(null)}}))},884:(e,t,n)=>{n.d(t,{gS:()=>vu,rJ:()=>sl,kd:()=>pu,H9:()=>ll,x7:()=>uu,GG:()=>du,aU:()=>fl,My:()=>Jl,P:()=>Xl,BN:()=>hu,mZ:()=>fu});var r,a,o=n(928),i=n(125),s=n(424),l=n(72),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={};(function(){var e;
/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return t.prototype[n].apply(e,a)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var o=e.g[3],i=t+(o^n&(a^o))+r[0]+3614090360&4294967295;t=n+(i<<7&4294967295|i>>>25),i=o+(a^t&(n^a))+r[1]+3905402710&4294967295,o=t+(i<<12&4294967295|i>>>20),i=a+(n^o&(t^n))+r[2]+606105819&4294967295,a=o+(i<<17&4294967295|i>>>15),i=n+(t^a&(o^t))+r[3]+3250441966&4294967295,n=a+(i<<22&4294967295|i>>>10),i=t+(o^n&(a^o))+r[4]+4118548399&4294967295,t=n+(i<<7&4294967295|i>>>25),i=o+(a^t&(n^a))+r[5]+1200080426&4294967295,o=t+(i<<12&4294967295|i>>>20),i=a+(n^o&(t^n))+r[6]+2821735955&4294967295,a=o+(i<<17&4294967295|i>>>15),i=n+(t^a&(o^t))+r[7]+4249261313&4294967295,n=a+(i<<22&4294967295|i>>>10),i=t+(o^n&(a^o))+r[8]+1770035416&4294967295,t=n+(i<<7&4294967295|i>>>25),i=o+(a^t&(n^a))+r[9]+2336552879&4294967295,o=t+(i<<12&4294967295|i>>>20),i=a+(n^o&(t^n))+r[10]+4294925233&4294967295,a=o+(i<<17&4294967295|i>>>15),i=n+(t^a&(o^t))+r[11]+2304563134&4294967295,n=a+(i<<22&4294967295|i>>>10),i=t+(o^n&(a^o))+r[12]+1804603682&4294967295,t=n+(i<<7&4294967295|i>>>25),i=o+(a^t&(n^a))+r[13]+4254626195&4294967295,o=t+(i<<12&4294967295|i>>>20),i=a+(n^o&(t^n))+r[14]+2792965006&4294967295,a=o+(i<<17&4294967295|i>>>15),i=n+(t^a&(o^t))+r[15]+1236535329&4294967295,n=a+(i<<22&4294967295|i>>>10),i=t+(a^o&(n^a))+r[1]+4129170786&4294967295,t=n+(i<<5&4294967295|i>>>27),i=o+(n^a&(t^n))+r[6]+3225465664&4294967295,o=t+(i<<9&4294967295|i>>>23),i=a+(t^n&(o^t))+r[11]+643717713&4294967295,a=o+(i<<14&4294967295|i>>>18),i=n+(o^t&(a^o))+r[0]+3921069994&4294967295,n=a+(i<<20&4294967295|i>>>12),i=t+(a^o&(n^a))+r[5]+3593408605&4294967295,t=n+(i<<5&4294967295|i>>>27),i=o+(n^a&(t^n))+r[10]+38016083&4294967295,o=t+(i<<9&4294967295|i>>>23),i=a+(t^n&(o^t))+r[15]+3634488961&4294967295,a=o+(i<<14&4294967295|i>>>18),i=n+(o^t&(a^o))+r[4]+3889429448&4294967295,n=a+(i<<20&4294967295|i>>>12),i=t+(a^o&(n^a))+r[9]+568446438&4294967295,t=n+(i<<5&4294967295|i>>>27),i=o+(n^a&(t^n))+r[14]+3275163606&4294967295,o=t+(i<<9&4294967295|i>>>23),i=a+(t^n&(o^t))+r[3]+4107603335&4294967295,a=o+(i<<14&4294967295|i>>>18),i=n+(o^t&(a^o))+r[8]+1163531501&4294967295,n=a+(i<<20&4294967295|i>>>12),i=t+(a^o&(n^a))+r[13]+2850285829&4294967295,t=n+(i<<5&4294967295|i>>>27),i=o+(n^a&(t^n))+r[2]+4243563512&4294967295,o=t+(i<<9&4294967295|i>>>23),i=a+(t^n&(o^t))+r[7]+1735328473&4294967295,a=o+(i<<14&4294967295|i>>>18),i=n+(o^t&(a^o))+r[12]+2368359562&4294967295,n=a+(i<<20&4294967295|i>>>12),i=t+(n^a^o)+r[5]+4294588738&4294967295,t=n+(i<<4&4294967295|i>>>28),i=o+(t^n^a)+r[8]+2272392833&4294967295,o=t+(i<<11&4294967295|i>>>21),i=a+(o^t^n)+r[11]+1839030562&4294967295,a=o+(i<<16&4294967295|i>>>16),i=n+(a^o^t)+r[14]+4259657740&4294967295,n=a+(i<<23&4294967295|i>>>9),i=t+(n^a^o)+r[1]+2763975236&4294967295,t=n+(i<<4&4294967295|i>>>28),i=o+(t^n^a)+r[4]+1272893353&4294967295,o=t+(i<<11&4294967295|i>>>21),i=a+(o^t^n)+r[7]+4139469664&4294967295,a=o+(i<<16&4294967295|i>>>16),i=n+(a^o^t)+r[10]+3200236656&4294967295,n=a+(i<<23&4294967295|i>>>9),i=t+(n^a^o)+r[13]+681279174&4294967295,t=n+(i<<4&4294967295|i>>>28),i=o+(t^n^a)+r[0]+3936430074&4294967295,o=t+(i<<11&4294967295|i>>>21),i=a+(o^t^n)+r[3]+3572445317&4294967295,a=o+(i<<16&4294967295|i>>>16),i=n+(a^o^t)+r[6]+76029189&4294967295,n=a+(i<<23&4294967295|i>>>9),i=t+(n^a^o)+r[9]+3654602809&4294967295,t=n+(i<<4&4294967295|i>>>28),i=o+(t^n^a)+r[12]+3873151461&4294967295,o=t+(i<<11&4294967295|i>>>21),i=a+(o^t^n)+r[15]+530742520&4294967295,a=o+(i<<16&4294967295|i>>>16),i=n+(a^o^t)+r[2]+3299628645&4294967295,n=a+(i<<23&4294967295|i>>>9),i=t+(a^(n|~o))+r[0]+4096336452&4294967295,t=n+(i<<6&4294967295|i>>>26),i=o+(n^(t|~a))+r[7]+1126891415&4294967295,o=t+(i<<10&4294967295|i>>>22),i=a+(t^(o|~n))+r[14]+2878612391&4294967295,a=o+(i<<15&4294967295|i>>>17),i=n+(o^(a|~t))+r[5]+4237533241&4294967295,n=a+(i<<21&4294967295|i>>>11),i=t+(a^(n|~o))+r[12]+1700485571&4294967295,t=n+(i<<6&4294967295|i>>>26),i=o+(n^(t|~a))+r[3]+2399980690&4294967295,o=t+(i<<10&4294967295|i>>>22),i=a+(t^(o|~n))+r[10]+4293915773&4294967295,a=o+(i<<15&4294967295|i>>>17),i=n+(o^(a|~t))+r[1]+2240044497&4294967295,n=a+(i<<21&4294967295|i>>>11),i=t+(a^(n|~o))+r[8]+1873313359&4294967295,t=n+(i<<6&4294967295|i>>>26),i=o+(n^(t|~a))+r[15]+4264355552&4294967295,o=t+(i<<10&4294967295|i>>>22),i=a+(t^(o|~n))+r[6]+2734768916&4294967295,a=o+(i<<15&4294967295|i>>>17),i=n+(o^(a|~t))+r[13]+1309151649&4294967295,n=a+(i<<21&4294967295|i>>>11),i=t+(a^(n|~o))+r[4]+4149444226&4294967295,t=n+(i<<6&4294967295|i>>>26),i=o+(n^(t|~a))+r[11]+3174756917&4294967295,o=t+(i<<10&4294967295|i>>>22),i=a+(t^(o|~n))+r[2]+718787259&4294967295,a=o+(i<<15&4294967295|i>>>17),i=n+(o^(a|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+o&4294967295}function s(e,t){var n=u;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function l(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var o=0|e[a];r&&o==t||(n[a]=o,r=!1)}this.g=n}t(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=n;)i(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},o.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var u={};function d(e){return-128<=e&&128>e?s(e,function(e){return new l([0|e],0>e?-1:0)}):new l([0|e],0>e?-1:0)}function h(e){if(isNaN(e)||!isFinite(e))return p;if(0>e)return b(h(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new l(t,0)}function f(e,t){if(0==e.length)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return b(f(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=h(Math.pow(t,8)),r=p,a=0;a<e.length;a+=8){var o=Math.min(8,e.length-a),i=parseInt(e.substring(a,a+o),t);8>o?(o=h(Math.pow(t,o)),r=r.j(o).add(h(i))):(r=r.j(n),r=r.add(h(i)))}return r}var p=d(0),v=d(1),m=d(16777216);function g(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function y(e){return-1==e.h}function b(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new l(n,~e.h).add(v)}function w(e,t){return e.add(b(t))}function _(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function E(e,t){this.g=e,this.h=t}function T(e,t){if(g(t))throw Error("division by zero");if(g(e))return new E(p,p);if(y(e))return t=T(b(e),t),new E(b(t.g),b(t.h));if(y(t))return t=T(e,b(t)),new E(b(t.g),t.h);if(30<e.g.length){if(y(e)||y(t))throw Error("slowDivide_ only works with positive integers.");for(var n=v,r=t;0>=r.l(e);)n=S(n),r=S(r);var a=k(n,1),o=k(r,1);for(r=k(r,2),n=k(n,2);!g(r);){var i=o.add(r);0>=i.l(e)&&(a=a.add(n),o=i),r=k(r,1),n=k(n,1)}return t=w(e,a.j(t)),new E(a,t)}for(a=p;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=h(n),i=o.j(t);y(i)||0<i.l(e);)n-=r,o=h(n),i=o.j(t);g(o)&&(o=v),a=a.add(o),e=w(e,i)}return new E(a,e)}function S(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new l(n,e.h)}function k(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,a=[],o=0;o<r;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new l(a,e.h)}e=l.prototype,e.m=function(){if(y(this))return-b(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(g(this))return"0";if(y(this))return"-"+b(this).toString(e);for(var t=h(Math.pow(e,6)),n=this,r="";;){var a=T(n,t).g;n=w(n,a.j(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=a,g(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return e=w(this,e),y(e)?-1:g(e)?0:1},e.abs=function(){return y(this)?b(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,a=0;a<=t;a++){var o=r+(65535&this.i(a))+(65535&e.i(a)),i=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);r=i>>>16,o&=65535,i&=65535,n[a]=i<<16|o}return new l(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(g(this)||g(e))return p;if(y(this))return y(e)?b(this).j(b(e)):b(b(this).j(e));if(y(e))return b(this.j(b(e)));if(0>this.l(m)&&0>e.l(m))return h(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<e.g.length;a++){var o=this.i(r)>>>16,i=65535&this.i(r),s=e.i(a)>>>16,u=65535&e.i(a);n[2*r+2*a]+=i*u,_(n,2*r+2*a),n[2*r+2*a+1]+=o*u,_(n,2*r+2*a+1),n[2*r+2*a+1]+=i*s,_(n,2*r+2*a+1),n[2*r+2*a+2]+=o*s,_(n,2*r+2*a+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new l(n,0)},e.A=function(e){return T(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new l(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new l(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new l(n,this.h^e.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,a=c.Md5=o,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=f,r=c.Integer=l}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,f,p,v,m,g,y,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function n(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var r=n(this);function a(e,n){if(n)e:{var a=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in a))break e;a=a[i]}e=e[e.length-1],o=a[e],n=n(o),n!=o&&null!=n&&t(a,e,{configurable:!0,writable:!0,value:n})}}function o(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}a("Array.prototype.values",function(e){return e||function(){return o(this,function(e,t){return t})}});
/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var i=i||{},s=this||self;function l(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:_,E.apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function S(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return t.prototype[n].apply(e,a)}}function k(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function C(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(l(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}class R{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function I(e){return/^[\s\xa0]*$/.test(e)}function A(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function x(e){return x[" "](e),e}x[" "]=function(){};var O=-1!=A().indexOf("Gecko")&&!(-1!=A().toLowerCase().indexOf("webkit")&&-1==A().indexOf("Edge"))&&!(-1!=A().indexOf("Trident")||-1!=A().indexOf("MSIE"))&&-1==A().indexOf("Edge");function N(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function D(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function L(e){const t={};for(const n in e)t[n]=e[n];return t}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function V(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function F(e){s.setTimeout(()=>{throw e},0)}function $(){var e=z;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class B{constructor(){this.h=this.g=null}add(e,t){const n=W.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var W=new R(()=>new U,e=>e.reset());class U{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,G=!1,z=new B,H=()=>{const e=s.Promise.resolve(void 0);j=()=>{e.then(K)}};var K=()=>{for(var e;e=$();){try{e.h.call(e.g)}catch(n){F(n)}var t=W;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}G=!1};function X(){this.s=this.s,this.C=this.C}function q(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},q.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function Y(e,t){if(q.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(O){e:{try{x(t.nodeName);var a=!0;break e}catch(o){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:J[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Y.aa.h.call(this)}}S(Y,q);var J={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),ee=0;function te(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++ee,this.da=this.fa=!1}function ne(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function re(e){this.src=e,this.g={},this.h=0}function ae(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],o=Array.prototype.indexOf.call(a,t,void 0);(r=0<=o)&&Array.prototype.splice.call(a,o,1),r&&(ne(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function oe(e,t,n,r){for(var a=0;a<e.length;++a){var o=e[a];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return a}return-1}re.prototype.add=function(e,t,n,r,a){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var i=oe(e,t,r,a);return-1<i?(t=e[i],n||(t.fa=!1)):(t=new te(t,this.src,o,!!r,a),t.fa=n,e.push(t)),t};var ie="closure_lm_"+(1e6*Math.random()|0),se={};function le(e,t,n,r,a){if(r&&r.once)return de(e,t,n,r,a);if(Array.isArray(t)){for(var o=0;o<t.length;o++)le(e,t[o],n,r,a);return null}return n=ye(n),e&&e[Z]?e.K(t,n,u(r)?!!r.capture:!!r,a):ue(e,t,n,!1,r,a)}function ue(e,t,n,r,a,o){if(!t)throw Error("Invalid event type");var i=u(a)?!!a.capture:!!a,s=me(e);if(s||(e[ie]=s=new re(e)),n=s.add(t,n,r,i,o),n.proxy)return n;if(r=ce(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Q||(a=i),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(pe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ce(){function e(n){return t.call(e.src,e.listener,n)}const t=ve;return e}function de(e,t,n,r,a){if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,a);return null}return n=ye(n),e&&e[Z]?e.L(t,n,u(r)?!!r.capture:!!r,a):ue(e,t,n,!0,r,a)}function he(e,t,n,r,a){if(Array.isArray(t))for(var o=0;o<t.length;o++)he(e,t[o],n,r,a);else r=u(r)?!!r.capture:!!r,n=ye(n),e&&e[Z]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=oe(o,n,r,a),-1<n&&(ne(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=me(e))&&(t=e.g[t.toString()],e=-1,t&&(e=oe(t,n,r,a)),(n=-1<e?t[e]:null)&&fe(n))}function fe(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[Z])ae(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=me(t))?(ae(n,e),0==n.h&&(n.src=null,t[ie]=null)):ne(e)}}}function pe(e){return e in se?se[e]:se[e]="on"+e}function ve(e,t){if(e.da)e=!0;else{t=new Y(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&fe(e),e=n.call(r,t)}return e}function me(e){return e=e[ie],e instanceof re?e:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(e){return"function"===typeof e?e:(e[ge]||(e[ge]=function(t){return e.handleEvent(t)}),e[ge])}function be(){X.call(this),this.i=new re(this),this.M=this,this.F=null}function we(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new q(t,e);else if(t instanceof q)t.target=t.target||e;else{var a=t;t=new q(r,e),M(t,a)}if(a=!0,n)for(var o=n.length-1;0<=o;o--){var i=t.g=n[o];a=_e(i,r,!0,t)&&a}if(i=t.g=e,a=_e(i,r,!0,t)&&a,a=_e(i,r,!1,t)&&a,n)for(o=0;o<n.length;o++)i=t.g=n[o],a=_e(i,r,!1,t)&&a}function _e(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var a=!0,o=0;o<t.length;++o){var i=t[o];if(i&&!i.da&&i.capture==n){var s=i.listener,l=i.ha||i.src;i.fa&&ae(e.i,i),a=!1!==s.call(l,r)&&a}}return a&&!r.defaultPrevented}function Ee(e,t,n){if("function"===typeof e)n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Te(e){e.g=Ee(()=>{e.g=null,e.i&&(e.i=!1,Te(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}S(be,X),be.prototype[Z]=!0,be.prototype.removeEventListener=function(e,t,n,r){he(this,e,t,n,r)},be.prototype.N=function(){if(be.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ne(n[r]);delete t.g[e],t.h--}}this.F=null},be.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},be.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class Se extends X{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ke(e){X.call(this),this.h=e,this.g={}}S(ke,X);var Ce=[];function Re(e){N(e.g,function(e,t){this.g.hasOwnProperty(t)&&fe(e)},e),e.g={}}ke.prototype.N=function(){ke.aa.N.call(this),Re(this)},ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ie=s.JSON.stringify,Ae=s.JSON.parse,xe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function Oe(){}function Ne(e){return e.h||(e.h=e.i())}function De(){}Oe.prototype.h=null;var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pe(){q.call(this,"d")}function Me(){q.call(this,"c")}S(Pe,q),S(Me,q);var Ve={},Fe=null;function $e(){return Fe=Fe||new be}function Be(e){q.call(this,Ve.La,e)}function We(e){const t=$e();we(t,new Be(t))}function Ue(e,t){q.call(this,Ve.STAT_EVENT,e),this.stat=t}function je(e){const t=$e();we(t,new Ue(t,e))}function Ge(e,t){q.call(this,Ve.Ma,e),this.size=t}function ze(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function He(){this.g=!0}function Ke(e,t,n,r,a,o){e.info(function(){if(e.g)if(o)for(var i="",s=o.split("&"),l=0;l<s.length;l++){var u=s[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");i=2<=d.length&&"type"==d[1]?i+(c+"=")+u+"&":i+(c+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+i})}function Xe(e,t,n,r,a,o,i){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+o+" "+i})}function qe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Ye(e,n)+(r?" "+r:"")})}function Qe(e,t){e.info(function(){return"TIMEOUT: "+t})}function Ye(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var o=a[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var i=1;i<a.length;i++)a[i]=""}}}return Ie(n)}catch(s){return t}}Ve.La="serverreachability",S(Be,q),Ve.STAT_EVENT="statevent",S(Ue,q),Ve.Ma="timingevent",S(Ge,q),He.prototype.xa=function(){this.g=!1},He.prototype.info=function(){};var Je,Ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},et={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function tt(){}function nt(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ke(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}S(tt,Oe),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},Je=new tt;var at={},ot={};function it(e,t,n){e.L=1,e.v=Pt(xt(t)),e.m=n,e.P=!0,st(e,null)}function st(e,t){e.F=Date.now(),ct(e),e.A=xt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Xt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new rt,e.g=Wn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new Se(E(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(Ce[0]=a.toString()),a=Ce);for(var o=0;o<a.length;o++){var i=le(n,a[o],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?L(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),We(),Ke(e.i,e.u,e.A,e.l,e.R,e.m)}function lt(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ut(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ot:(n=Number(t.substring(n,r)),isNaN(n)?at:(r+=1,r+n>t.length?ot:(t=t.slice(r,r+n),e.C=r+n,t)))}function ct(e){e.S=Date.now()+e.I,dt(e,e.I)}function dt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ze(E(e.ba,e),t)}function ht(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function ft(e){0==e.j.G||e.J||Mn(e.j,e)}function pt(e){ht(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,Re(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function vt(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||wt(n.h,e)))if(!e.K&&wt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Pn(n),Sn(n)}Nn(n),je(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=ze(E(n.Za,n),6e3));if(1>=bt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else Fn(n,11)}else if((e.K||n.g==e)&&Pn(n),!I(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let u=a[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=u[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(_t(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,Lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms")),r=n;var i=e;if(r.qa=Bn(r,r.J?r.ia:null,r.W),i.K){Et(r.h,i);var s=i,l=r.L;l&&(s.I=l),s.B&&(ht(s),ct(s)),r.g=i}else On(r);0<n.i.length&&Cn(n)}else"stop"!=u[0]&&"close"!=u[0]||Fn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Fn(n,7):Tn(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}We(4)}catch(u){}}nt.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==yn(e)?t.j():this.Y(e)},nt.prototype.Y=function(e){try{if(e==this.g)e:{const h=yn(this.g);var t=this.g.Ba();const f=this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||bn(this.g)))){this.J||4!=h||7==t||We(8==t||0>=f?3:2),ht(this);var n=this.g.Z();this.X=n;t:if(lt(this)){var r=bn(this.g);e="";var a=r.length,o=4==yn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pt(this),ft(this);var i="";break t}this.h.i=new s.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,i=this.h.g}else i=this.g.oa();if(this.o=200==n,Xe(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,je(12),pt(this),ft(this);break e}qe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vt(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<i.length;){if(e=ut(this,i),e==ot){4==h&&(this.s=4,je(14),n=!1),qe(this.i,this.l,null,"[Incomplete Response]");break}if(e==at){this.s=4,je(15),qe(this.i,this.l,i,"[Invalid Chunk]"),n=!1;break}qe(this.i,this.l,e,null),vt(this,e)}if(lt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=i.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<i.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Dn(d),d.M=!0,je(11))}}else qe(this.i,this.l,i,"[Invalid Chunked Response]"),pt(this),ft(this)}else qe(this.i,this.l,i,null),vt(this,i);4==h&&pt(this),this.o&&!this.J&&(4==h?Mn(this.j,this):(this.o=!1,ct(this)))}else wn(this.g),400==n&&0<i.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),pt(this),ft(this)}}}catch(h){}},nt.prototype.cancel=function(){this.J=!0,pt(this)},nt.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(Qe(this.i,this.A),2!=this.L&&(We(),je(17)),pt(this),this.s=2,ft(this)):dt(this,this.S-e)};var mt=class{constructor(e,t){this.g=e,this.map=t}};function gt(e){this.l=e||10,s.PerformanceNavigationTiming?(e=s.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function bt(e){return e.h?1:e.g?e.g.size:0}function wt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _t(e,t){e.g?e.g.add(t):e.h=t}function Et(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Tt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return k(e.i)}function St(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function kt(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(l(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=kt(e),r=St(e),a=r.length,o=0;o<a;o++)t.call(void 0,r[o],n&&n[o],e)}gt.prototype.cancel=function(){if(this.i=Tt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function It(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var o=e[n].substring(0,r);a=e[n].substring(r+1)}else o=e[n];t(o,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}function At(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof At){this.h=e.h,Ot(this,e.j),this.o=e.o,this.g=e.g,Nt(this,e.s),this.l=e.l;var t=e.i,n=new Gt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Dt(this,n),this.m=e.m}else e&&(t=String(e).match(Rt))?(this.h=!1,Ot(this,t[1]||"",!0),this.o=Mt(t[2]||""),this.g=Mt(t[3]||"",!0),Nt(this,t[4]),this.l=Mt(t[5]||"",!0),Dt(this,t[6]||"",!0),this.m=Mt(t[7]||"")):(this.h=!1,this.i=new Gt(null,this.h))}function xt(e){return new At(e)}function Ot(e,t,n){e.j=n?Mt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function Dt(e,t,n){t instanceof Gt?(e.i=t,Qt(e.i,e.h)):(n||(t=Vt(t,Ut)),e.i=new Gt(t,e.h))}function Lt(e,t,n){e.i.set(t,n)}function Pt(e){return Lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ft(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}At.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vt(t,$t,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Vt(t,$t,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.s,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vt(n,"/"==n.charAt(0)?Wt:Bt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Vt(n,jt)),e.join("")};var $t=/[#\/\?@]/g,Bt=/[#\?:]/g,Wt=/[#\?]/g,Ut=/[#\?@]/g,jt=/#/g;function Gt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zt(e){e.g||(e.g=new Map,e.h=0,e.i&&It(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ht(e,t){zt(e),t=qt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Kt(e,t){return zt(e),t=qt(e,t),e.g.has(t)}function Xt(e,t,n){Ht(e,t),0<n.length&&(e.i=null,e.g.set(qt(e,t),k(n)),e.h+=n.length)}function qt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Qt(e,t){t&&!e.j&&(zt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ht(this,t),Xt(this,n,e))},e)),e.j=t}function Yt(e,t){const n=new He;if(s.Image){const r=new Image;r.onload=T(Zt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=T(Zt,n,"TestLoadImage: error",!1,t,r),r.onabort=T(Zt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=T(Zt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Jt(e,t){const n=new He,r=new AbortController,a=setTimeout(()=>{r.abort(),Zt(n,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(a),e.ok?Zt(n,"TestPingServer: ok",!0,t):Zt(n,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(a),Zt(n,"TestPingServer: error",!1,t)})}function Zt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(o){}}function en(){this.g=new xe}function tn(e,t,n){const r=n||"";try{Ct(e,function(e,n){let a=e;u(e)&&(a=Ie(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function nn(e){this.l=e.Ub||null,this.j=e.eb||!1}function rn(e,t){be.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function an(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function on(e){e.readyState=4,e.l=null,e.j=null,e.v=null,sn(e)}function sn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ln(e){let t="";return N(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ln(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lt(e,t,n))}function cn(e){be.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}e=Gt.prototype,e.add=function(e,t){zt(this),this.i=null,e=qt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){zt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){zt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){zt(this);let t=[];if("string"===typeof e)Kt(this,e)&&(t=t.concat(this.g.get(qt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return zt(this),this.i=null,e=qt(this,e),Kt(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=this.V(e),0<e.length?String(e[0]):t):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),i=this.V(r);for(r=0;r<i.length;r++){var a=o;""!==i[r]&&(a+="="+encodeURIComponent(String(i[r]))),e.push(a)}}return this.i=e.join("&")},S(nn,Oe),nn.prototype.g=function(){return new rn(this.l,this.j)},nn.prototype.i=function(e){return function(){return e}}({}),S(rn,be),e=rn.prototype,e.open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,sn(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,on(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sn(this)),this.g&&(this.readyState=3,sn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;an(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?on(this):sn(this),3==this.readyState&&an(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,on(this))},e.Qa=function(e){this.g&&(this.response=e,on(this))},e.ga=function(){this.g&&on(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(rn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),S(cn,be);var dn=/^https?$/i,hn=["POST","PUT"];function fn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,pn(e),mn(e)}function pn(e){e.A||(e.A=!0,we(e,"complete"),we(e,"error"))}function vn(e){if(e.h&&"undefined"!=typeof i&&(!e.v[1]||4!=yn(e)||2!=e.Z()))if(e.u&&4==yn(e))Ee(e.Ea,0,e);else if(we(e,"readystatechange"),4==yn(e)){e.h=!1;try{const i=e.Z();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){var a=String(e.D).match(Rt)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),r=!dn.test(a?a.toLowerCase():"")}n=r}if(n)we(e,"complete"),we(e,"success");else{e.m=6;try{var o=2<yn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",pn(e)}}finally{mn(e)}}}function mn(e,t){if(e.g){gn(e);const r=e.g,a=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||we(e,"ready");try{r.onreadystatechange=a}catch(n){}}}function gn(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function yn(e){return e.g?e.g.readyState:0}function bn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function wn(e){const t={};e=(e.g&&2<=yn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(I(e[r]))continue;var n=V(e[r]);const a=n[0];if(n=n[1],"string"!==typeof n)continue;n=n.trim();const o=t[a]||[];t[a]=o,o.push(n)}D(t,function(e){return e.join(", ")})}function _n(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function En(e){this.Aa=0,this.i=[],this.j=new He,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_n("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_n("baseRetryDelayMs",5e3,e),this.cb=_n("retryDelaySeedMs",1e4,e),this.Wa=_n("forwardChannelMaxRetries",2,e),this.wa=_n("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new gt(e&&e.concurrentRequestLimit),this.Da=new en,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Tn(e){if(kn(e),3==e.G){var t=e.U++,n=xt(e.I);if(Lt(n,"SID",e.K),Lt(n,"RID",t),Lt(n,"TYPE","terminate"),An(e,n),t=new nt(e,e.j,t),t.L=2,t.v=Pt(xt(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ct(t)}$n(e)}function Sn(e){e.g&&(Dn(e),e.g.cancel(),e.g=null)}function kn(e){Sn(e),e.u&&(s.clearTimeout(e.u),e.u=null),Pn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Cn(e){if(!yt(e.h)&&!e.s){e.s=!0;var t=e.Ga;j||H(),G||(j(),G=!0),z.add(t,e),e.B=0}}function Rn(e,t){return!(bt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=ze(E(e.Ga,e,t),Vn(e,e.B)),e.B++,!0))}function In(e,t){var n;n=t?t.l:e.U++;const r=xt(e.I);Lt(r,"SID",e.K),Lt(r,"RID",n),Lt(r,"AID",e.T),An(e,r),e.m&&e.o&&un(r,e.m,e.o),n=new nt(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=xn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),_t(e.h,n),it(n,r,t)}function An(e,t){e.H&&N(e.H,function(e,n){Lt(t,n,e)}),e.l&&Ct({},function(e,n){Lt(t,n,e)})}function xn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?E(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let s=0;s<n;s++){let n=a[s].g;const l=a[s].map;if(n-=t,0>n)t=Math.max(0,a[s].g-100),i=!1;else try{tn(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function On(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;j||H(),G||(j(),G=!0),z.add(t,e),e.v=0}}function Nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=ze(E(e.Fa,e),Vn(e,e.v)),e.v++,!0)}function Dn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function Ln(e){e.g=new nt(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=xt(e.qa);Lt(t,"RID","rpc"),Lt(t,"SID",e.K),Lt(t,"AID",e.T),Lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&Lt(t,"TO",e.ja),Lt(t,"TYPE","xmlhttp"),An(e,t),e.m&&e.o&&un(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Pt(xt(t)),n.m=null,n.P=!0,st(n,e)}function Pn(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function Mn(e,t){var n=null;if(e.g==t){Pn(e),Dn(e),e.g=null;var r=2}else{if(!wt(e.h,t))return;n=t.D,Et(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;r=$e(),we(r,new Ge(r,n)),Cn(e)}else On(e);else if(a=t.s,3==a||0==a&&0<t.X||!(1==r&&Rn(e,t)||2==r&&Nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:Fn(e,5);break;case 4:Fn(e,10);break;case 3:Fn(e,6);break;default:Fn(e,2)}}function Vn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function Fn(e,t){if(e.j.info("Error code "+t),2==t){var n=E(e.fb,e),r=e.Xa;const t=!r;r=new At(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Ot(r,"https"),Pt(r),t?Yt(r.toString(),n):Jt(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),$n(e),kn(e)}function $n(e){if(e.G=0,e.ka=[],e.l){const t=Tt(e.h);0==t.length&&0==e.i.length||(C(e.ka,t),C(e.ka,e.i),e.h.i.length=0,k(e.i),e.i.length=0),e.l.ra()}}function Bn(e,t,n){var r=n instanceof At?xt(n):new At(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Nt(r,r.s);else{var a=s.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new At(null);r&&Ot(o,r),t&&(o.g=t),a&&Nt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&Lt(r,n,t),Lt(r,"VER",e.la),An(e,r),r}function Wn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ca&&!e.pa?new cn(new nn({eb:n})):new cn(e.pa),t.Ha(e.J),t}function Un(){}function jn(){}function Gn(e,t){be.call(this),this.g=new En(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!I(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Kn(this)}function zn(e){Pe.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Hn(){Me.call(this),this.status=1}function Kn(e){this.g=e}e=cn.prototype,e.Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Je.g(),this.v=this.o?Ne(this.o):Ne(Je),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void fn(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(hn,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gn(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){fn(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,we(this,"complete"),we(this,"abort"),mn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),cn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?vn(this):this.bb())},e.bb=function(){vn(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ae(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},e=En.prototype,e.la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Bn(this,null,this.W),Cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new nt(this,this.j,e);let o=this.o;if(this.S&&(o?(o=L(o),M(o,this.S)):o=this.S),null!==this.m||this.O||(a.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(r="__data__"in r.map&&(r=r.map.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(t+=r,4096<t){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=xn(this,a,t),n=xt(this.I),Lt(n,"RID",e),Lt(n,"CVER",22),this.D&&Lt(n,"X-HTTP-Session-Id",this.D),An(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(ln(o)))+"&"+t:this.m&&un(n,this.m,o)),_t(this.h,a),this.Ua&&Lt(n,"TYPE","init"),this.P?(Lt(n,"$req",t),Lt(n,"SID","null"),a.T=!0,it(a,n,null)):it(a,n,t),this.G=2}}else 3==this.G&&(e?In(this,e):0==this.i.length||yt(this.h)||In(this))},e.Fa=function(){if(this.u=null,Ln(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ze(E(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),Sn(this),Ln(this))},e.Za=function(){null!=this.C&&(this.C=null,Sn(this),Nn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},e=Un.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},jn.prototype.g=function(e,t){return new Gn(e,t)},S(Gn,be),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Tn(this.g)},Gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&(n={},n.__data__=Ie(e),e=n);t.i.push(new mt(t.Ya++,e)),3==t.G&&Cn(t)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Tn(this.g),delete this.g,Gn.aa.N.call(this)},S(zn,Pe),S(Hn,Me),S(Kn,Un),Kn.prototype.ua=function(){we(this.g,"a")},Kn.prototype.ta=function(e){we(this.g,new zn(e))},Kn.prototype.sa=function(e){we(this.g,new Hn)},Kn.prototype.ra=function(){we(this.g,"b")},jn.prototype.createWebChannel=jn.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,y=w.createWebChannelTransport=function(){return new jn},g=w.getStatEventTarget=function(){return $e()},m=w.Event=Ve,v=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,p=w.ErrorCode=Ze,et.COMPLETE="complete",f=w.EventType=et,De.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",be.prototype.listen=be.prototype.K,h=w.WebChannel=De,w.FetchXmlHttpFactory=nn,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,d=w.XhrIo=cn}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const _="@firebase/firestore",E="4.8.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}T.UNAUTHENTICATED=new T(null),T.GOOGLE_CREDENTIALS=new T("google-credentials-uid"),T.FIRST_PARTY=new T("first-party-uid"),T.MOCK_USER=new T("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let S="11.10.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=new s.Vy("@firebase/firestore");function C(){return k.logLevel}function R(e,...t){if(k.logLevel<=s.$b.DEBUG){const n=t.map(x);k.debug(`Firestore (${S}): ${e}`,...n)}}function I(e,...t){if(k.logLevel<=s.$b.ERROR){const n=t.map(x);k.error(`Firestore (${S}): ${e}`,...n)}}function A(e,...t){if(k.logLevel<=s.$b.WARN){const n=t.map(x);k.warn(`Firestore (${S}): ${e}`,...n)}}function x(e){if("string"==typeof e)return e;try{
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,N(e,r,n)}function N(e,t,n){let r=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw I(r),new Error(r)}function D(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||N(t,a,r)}function L(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(T.UNAUTHENTICATED))}shutdown(){}}class B{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class W{constructor(e){this.t=e,this.currentUser=T.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){D(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new V;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new V,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},i=e=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>i(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new V)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(D("string"==typeof t.accessToken,31837,{l:t}),new F(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e,2055,{h:e}),new T(e)}}class U{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=T.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new U(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(T.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,o.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){D(void 0===this.o,3512);const n=e=>{null!=e.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,R("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new G(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(D("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new G(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(){return new TextEncoder}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=H(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function q(e,t){return e<t?-1:e>t?1:0}function Q(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return q(r,a);{const o=K(),i=J(o.encode(Y(e,n)),o.encode(Y(t,n)));return 0!==i?i:q(r,a)}}n+=r>65535?2:1}return q(e.length,t.length)}function Y(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function J(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return q(e[n],t[n]);return q(e.length,t.length)}function Z(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ee="__name__";class te{constructor(e,t,n){void 0===t?t=0:t>e.length&&O(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&O(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===te.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof te?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=te.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return q(e.length,t.length)}static compareSegments(e,t){const n=te.isNumericId(e),r=te.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?te.extractNumericId(e).compare(te.extractNumericId(t)):Q(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ne extends te{construct(e,t,n){return new ne(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new M(P.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new ne(t)}static emptyPath(){return new ne([])}}const re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ae extends te{construct(e,t,n){return new ae(e,t,n)}static isValidIdentifier(e){return re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ae.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ee}static keyField(){return new ae([ee])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new M(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new M(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new M(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(a(),r++)}if(a(),o)throw new M(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ae(t)}static emptyPath(){return new ae([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(ne.fromString(e))}static fromName(e){return new oe(ne.fromString(e).popFirst(5))}static empty(){return new oe(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new ne(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e,t,n){if(!n)throw new M(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function se(e,t,n,r){if(!0===t&&!0===r)throw new M(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function le(e){if(!oe.isDocumentKey(e))throw new M(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ue(e){if(oe.isDocumentKey(e))throw new M(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ce(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function de(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":O(12329,{type:typeof e})}function he(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=de(e);throw new M(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fe(e,t){const n={typeString:e};return t&&(n.value=t),n}function pe(e,t){if(!ce(e))throw new M(P.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const i=e[r];if(a&&typeof i!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(void 0!==o&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new M(P.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve=-62135596800,me=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*me);return new ge(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ve)throw new M(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/me}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pe(e,ge._jsonSchema))return new ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ve;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:fe("string",ge._jsonSchemaVersion),seconds:fe("number"),nanoseconds:fe("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ge(0,0))}static max(){return new ye(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=-1;class we{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}we.UNKNOWN_ID=-1;function _e(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=ye.fromTimestamp(1e9===r?new ge(n+1,0):new ge(n,r));return new Te(a,oe.empty(),t)}function Ee(e){return new Te(e.readTime,e.key,be)}class Te{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Te(ye.min(),oe.empty(),be)}static max(){return new Te(ye.max(),oe.empty(),be)}}function Se(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=oe.comparator(e.documentKey,t.documentKey),0!==n?n:q(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}const ke="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Re(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==ke)throw e;R("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&O(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(e){return Ie.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,n)=>{t(e)})}static reject(e){return new Ie((t,n)=>{n(e)})}static waitFor(e){return new Ie((t,n)=>{let r=0,a=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++a,o&&a===r&&t()},e=>n(e))}),o=!0,a===r&&t()})}static or(e){let t=Ie.resolve(!1);for(const n of e)t=t.next(e=>e?Ie.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ie((n,r)=>{const a=e.length,o=new Array(a);let i=0;for(let s=0;s<a;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++i,i===a&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Ie((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xe(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Oe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Oe.ue=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ne=-1;function De(e){return null==e}function Le(e){return 0===e&&1/e==-1/0}function Pe(e){return"number"==typeof e&&Number.isInteger(e)&&!Le(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me="";function Ve(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$e(t)),t=Fe(e.get(n),t);return $e(t)}function Fe(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="";break;case Me:n+="";break;default:n+=t}}return n}function $e(e){return e+Me+""}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Be="remoteDocuments",We="owner",Ue="mutationQueues",je="mutations";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="documentMutations",ze="remoteDocumentsV14",He="remoteDocumentGlobal",Ke="targets",Xe="targetDocuments",qe="targetGlobal",Qe="collectionParents",Ye="clientMetadata",Je="bundles",Ze="namedQueries",et="indexConfiguration",tt="indexState",nt="indexEntries",rt="documentOverlays",at="globals",ot=[Ue,je,Ge,Be,Ke,We,qe,Xe,Ye,He,Qe,Je,Ze],it=[Ue,je,Ge,ze,Ke,We,qe,Xe,Ye,He,Qe,Je,Ze,rt],st=it,lt=[...st,et,tt,nt];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ut(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ct(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||pt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ft(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ft(this.root,e,this.comparator,!1)}getReverseIterator(){return new ft(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ft(this.root,e,this.comparator,!0)}}class ft{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:pt.RED,this.left=null!=r?r:pt.EMPTY,this.right=null!=a?a:pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new pt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw O(43730,{key:this.key,value:this.value});if(this.right.isRed())throw O(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw O(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1,pt.EMPTY=new class{constructor(){this.size=0}get key(){throw O(57766)}get value(){throw O(16141)}get color(){throw O(16727)}get left(){throw O(29726)}get right(){throw O(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mt(this.data.getIterator())}getIteratorFrom(e){return new mt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof vt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vt(this.comparator);return t.data=e,t}}class mt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gt{constructor(e){this.fields=e,e.sort(ae.comparator)}static empty(){return new gt([])}unionWith(e){let t=new vt(ae.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new yt("Invalid base64 string: "+e):e}}(e);return new bt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const wt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _t(e){if(D(!!e,39018),"string"==typeof e){let t=0;const n=wt.exec(e);if(D(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Et(e.seconds),nanos:Et(e.nanos)}}function Et(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tt(e){return"string"==typeof e?bt.fromBase64String(e):bt.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="server_timestamp",kt="__type__",Ct="__previous_value__",Rt="__local_write_time__";function It(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[kt])||void 0===n?void 0:n.stringValue)===St}function At(e){const t=e.mapValue.fields[Ct];return It(t)?At(t):t}function xt(e){const t=_t(e.mapValue.fields[Rt].timestampValue);return new ge(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t,n,r,a,o,i,s,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=i,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=u}}const Nt="(default)";class Dt{constructor(e,t){this.projectId=e,this.database=t||Nt}static empty(){return new Dt("","")}get isDefaultDatabase(){return this.database===Nt}isEqual(e){return e instanceof Dt&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="__type__",Pt="__max__",Mt={mapValue:{fields:{__type__:{stringValue:Pt}}}},Vt="__vector__",Ft="value";function $t(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?It(e)?4:nn(e)?9007199254740991:en(e)?10:11:O(28295,{value:e})}function Bt(e,t){if(e===t)return!0;const n=$t(e);if(n!==$t(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xt(e).isEqual(xt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_t(e.timestampValue),r=_t(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tt(e.bytesValue).isEqual(Tt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Et(e.geoPointValue.latitude)===Et(t.geoPointValue.latitude)&&Et(e.geoPointValue.longitude)===Et(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Et(e.integerValue)===Et(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Et(e.doubleValue),r=Et(t.doubleValue);return n===r?Le(n)===Le(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],Bt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ut(n)!==ut(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Bt(n[a],r[a])))return!1;return!0}(e,t);default:return O(52216,{left:e})}}function Wt(e,t){return void 0!==(e.values||[]).find(e=>Bt(e,t))}function Ut(e,t){if(e===t)return 0;const n=$t(e),r=$t(t);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Et(e.integerValue||e.doubleValue),r=Et(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jt(e.timestampValue,t.timestampValue);case 4:return jt(xt(e),xt(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Tt(e),r=Tt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=q(n[a],r[a]);if(0!==e)return e}return q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=q(Et(e.latitude),Et(t.latitude));return 0!==n?n:q(Et(e.longitude),Et(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Gt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,o;const i=e.fields||{},s=t.fields||{},l=null===(n=i[Ft])||void 0===n?void 0:n.arrayValue,u=null===(r=s[Ft])||void 0===r?void 0:r.arrayValue,c=q((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(o=null==u?void 0:u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:Gt(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Mt.mapValue&&t===Mt.mapValue)return 0;if(e===Mt.mapValue)return 1;if(t===Mt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},o=Object.keys(a);r.sort(),o.sort();for(let i=0;i<r.length&&i<o.length;++i){const e=Q(r[i],o[i]);if(0!==e)return e;const t=Ut(n[r[i]],a[o[i]]);if(0!==t)return t}return q(r.length,o.length)}(e.mapValue,t.mapValue);default:throw O(23264,{le:n})}}function jt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return q(e,t);const n=_t(e),r=_t(t),a=q(n.seconds,r.seconds);return 0!==a?a:q(n.nanos,r.nanos)}function Gt(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Ut(n[a],r[a]);if(e)return e}return q(n.length,r.length)}function zt(e){return Ht(e)}function Ht(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_t(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Tt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return oe.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ht(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+=`${a}:${Ht(e.fields[a])}`;return n+"}"}(e.mapValue):O(61005,{value:e})}function Kt(e){switch($t(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=At(e);return t?16+Kt(t):16;case 5:return 2*e.stringValue.length;case 6:return Tt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Kt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ct(e.fields,(e,n)=>{t+=e.length+Kt(n)}),t}(e.mapValue);default:throw O(13486,{value:e})}}function Xt(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function qt(e){return!!e&&"integerValue"in e}function Qt(e){return!!e&&"arrayValue"in e}function Yt(e){return!!e&&"nullValue"in e}function Jt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zt(e){return!!e&&"mapValue"in e}function en(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Lt])||void 0===n?void 0:n.stringValue)===Vt}function tn(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ct(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=tn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tn(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Pt}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tn(t)}setAll(e){let t=ae.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=tn(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Zt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ct(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new rn(tn(this.value))}}function an(e){const t=[];return ct(e.fields,(e,n)=>{const r=new ae([e]);if(Zt(n)){const e=an(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new gt(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class on{constructor(e,t,n,r,a,o,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=o,this.documentState=i}static newInvalidDocument(e){return new on(e,0,ye.min(),ye.min(),ye.min(),rn.empty(),0)}static newFoundDocument(e,t,n,r){return new on(e,1,t,ye.min(),n,r,0)}static newNoDocument(e,t){return new on(e,2,t,ye.min(),ye.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,ye.min(),ye.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t){this.position=e,this.inclusive=t}}function ln(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const o=t[a],i=e.position[a];if(r=o.field.isKeyField()?oe.comparator(oe.fromName(i.referenceValue),n.key):Ut(i,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function un(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bt(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t="asc"){this.field=e,this.dir=t}}function dn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{}class fn extends hn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new _n(e,t,n):"array-contains"===t?new kn(e,n):"in"===t?new Cn(e,n):"not-in"===t?new Rn(e,n):"array-contains-any"===t?new In(e,n):new fn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new En(e,n):new Tn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ut(t,this.value)):null!==t&&$t(this.value)===$t(t)&&this.matchesComparison(Ut(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends hn{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new pn(e,t)}matches(e){return vn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function vn(e){return"and"===e.op}function mn(e){return gn(e)&&vn(e)}function gn(e){for(const t of e.filters)if(t instanceof pn)return!1;return!0}function yn(e){if(e instanceof fn)return e.field.canonicalString()+e.op.toString()+zt(e.value);if(mn(e))return e.filters.map(e=>yn(e)).join(",");{const t=e.filters.map(e=>yn(e)).join(",");return`${e.op}(${t})`}}function bn(e,t){return e instanceof fn?function(e,t){return t instanceof fn&&e.op===t.op&&e.field.isEqual(t.field)&&Bt(e.value,t.value)}(e,t):e instanceof pn?function(e,t){return t instanceof pn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&bn(n,t.filters[r]),!0)}(e,t):void O(19439)}function wn(e){return e instanceof fn?function(e){return`${e.field.canonicalString()} ${e.op} ${zt(e.value)}`}(e):e instanceof pn?function(e){return e.op.toString()+" {"+e.getFilters().map(wn).join(" ,")+"}"}(e):"Filter"}class _n extends fn{constructor(e,t,n){super(e,t,n),this.key=oe.fromName(n.referenceValue)}matches(e){const t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class En extends fn{constructor(e,t){super(e,"in",t),this.keys=Sn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Tn extends fn{constructor(e,t){super(e,"not-in",t),this.keys=Sn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>oe.fromName(e.referenceValue))}class kn extends fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qt(t)&&Wt(t.arrayValue,this.value)}}class Cn extends fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wt(this.value.arrayValue,t)}}class Rn extends fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Wt(this.value.arrayValue,t)}}class In extends fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Wt(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t=null,n=[],r=[],a=null,o=null,i=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=o,this.endAt=i,this.Pe=null}}function xn(e,t=null,n=[],r=[],a=null,o=null,i=null){return new An(e,t,n,r,a,o,i)}function On(e){const t=L(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>yn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),De(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>zt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>zt(e)).join(",")),t.Pe=e}return t.Pe}function Nn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!un(e.startAt,t.startAt)&&un(e.endAt,t.endAt)}function Dn(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ln{constructor(e,t=null,n=[],r=[],a=null,o="F",i=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=o,this.startAt=i,this.endAt=s,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Pn(e,t,n,r,a,o,i,s){return new Ln(e,t,n,r,a,o,i,s)}function Mn(e){return new Ln(e)}function Vn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fn(e){return null!==e.collectionGroup}function $n(e){const t=L(e);if(null===t.Te){t.Te=[];const e=new Set;for(const a of t.explicitOrderBy)t.Te.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new vt(ae.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new cn(r,n))}),e.has(ae.keyField().canonicalString())||t.Te.push(new cn(ae.keyField(),n))}return t.Te}function Bn(e){const t=L(e);return t.Ie||(t.Ie=Wn(t,$n(e))),t.Ie}function Wn(e,t){if("F"===e.limitType)return xn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new cn(e.field,t)});const n=e.endAt?new sn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new sn(e.startAt.position,e.startAt.inclusive):null;return xn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Un(e,t){const n=e.filters.concat([t]);return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jn(e,t,n){return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gn(e,t){return Nn(Bn(e),Bn(t))&&e.limitType===t.limitType}function zn(e){return`${On(Bn(e))}|lt:${e.limitType}`}function Hn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>wn(e)).join(", ")}]`),De(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>zt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>zt(e)).join(",")),`Target(${t})`}(Bn(e))}; limitType=${e.limitType})`}function Kn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oe.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of $n(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$n(e),t))&&!(e.endAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$n(e),t))}(e,t)}function Xn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qn(e){return(t,n)=>{let r=!1;for(const a of $n(e)){const e=Qn(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function Qn(e,t,n){const r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Ut(r,a):O(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return O(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ct(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return dt(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new ht(oe.comparator);function Zn(){return Jn}const er=new ht(oe.comparator);function tr(...e){let t=er;for(const n of e)t=t.insert(n.key,n);return t}function nr(e){let t=er;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rr(){return or()}function ar(){return or()}function or(){return new Yn(e=>e.toString(),(e,t)=>e.isEqual(t))}const ir=new ht(oe.comparator),sr=new vt(oe.comparator);function lr(...e){let t=sr;for(const n of e)t=t.add(n);return t}const ur=new vt(q);function cr(){return ur}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Le(t)?"-0":t}}function hr(e){return{integerValue:""+e}}function fr(e,t){return Pe(t)?hr(t):dr(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this._=void 0}}function vr(e,t,n){return e instanceof yr?function(e,t){const n={fields:{[kt]:{stringValue:St},[Rt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&It(t)&&(t=At(t)),t&&(n.fields[Ct]=t),{mapValue:n}}(n,t):e instanceof br?wr(e,t):e instanceof _r?Er(e,t):function(e,t){const n=gr(e,t),r=Sr(n)+Sr(e.Ee);return qt(n)&&qt(e.Ee)?hr(r):dr(e.serializer,r)}(e,t)}function mr(e,t,n){return e instanceof br?wr(e,t):e instanceof _r?Er(e,t):n}function gr(e,t){return e instanceof Tr?function(e){return qt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class yr extends pr{}class br extends pr{constructor(e){super(),this.elements=e}}function wr(e,t){const n=kr(t);for(const r of e.elements)n.some(e=>Bt(e,r))||n.push(r);return{arrayValue:{values:n}}}class _r extends pr{constructor(e){super(),this.elements=e}}function Er(e,t){let n=kr(t);for(const r of e.elements)n=n.filter(e=>!Bt(e,r));return{arrayValue:{values:n}}}class Tr extends pr{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Sr(e){return Et(e.integerValue||e.doubleValue)}function kr(e){return Qt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof br&&t instanceof br||e instanceof _r&&t instanceof _r?Z(e.elements,t.elements,Bt):e instanceof Tr&&t instanceof Tr?Bt(e.Ee,t.Ee):e instanceof yr&&t instanceof yr}(e.transform,t.transform)}class Rr{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ar(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xr{}function Or(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Wr(e.key,Ir.none()):new Mr(e.key,e.data,Ir.none());{const n=e.data,r=rn.empty();let a=new vt(ae.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new Vr(e.key,r,new gt(a.toArray()),Ir.none())}}function Nr(e,t,n){e instanceof Mr?function(e,t,n){const r=e.value.clone(),a=$r(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vr?function(e,t,n){if(!Ar(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=$r(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Fr(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dr(e,t,n,r){return e instanceof Mr?function(e,t,n,r){if(!Ar(e.precondition,t))return n;const a=e.value.clone(),o=Br(e.fieldTransforms,r,t);return a.setAll(o),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vr?function(e,t,n,r){if(!Ar(e.precondition,t))return n;const a=Br(e.fieldTransforms,r,t),o=t.data;return o.setAll(Fr(e)),o.setAll(a),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ar(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Lr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=gr(r.transform,e||null);null!=a&&(null===n&&(n=rn.empty()),n.set(r.field,a))}return n||null}function Pr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,(e,t)=>Cr(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mr extends xr{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vr extends xr{constructor(e,t,n,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Fr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function $r(e,t,n){const r=new Map;D(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let a=0;a<n.length;a++){const o=e[a],i=o.transform,s=t.data.field(o.field);r.set(o.field,mr(i,s,n[a]))}return r}function Br(e,t,n){const r=new Map;for(const a of e){const e=a.transform,o=n.data.field(a.field);r.set(a.field,vr(e,o,t))}return r}class Wr extends xr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ur extends xr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ar();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let i=this.applyToLocalView(o,a.mutatedFields);i=t.has(r.key)?null:i;const s=Or(o,i);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(ye.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lr())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,(e,t)=>Pr(e,t))&&Z(this.baseMutations,e.baseMutations,(e,t)=>Pr(e,t))}}class Gr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){D(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=function(){return ir}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,n[o].version);return new Gr(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hr{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr,Xr;function qr(e){switch(e){case P.OK:return O(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return O(15467,{code:e})}}function Qr(e){if(void 0===e)return I("GRPC error has no .code"),P.UNKNOWN;switch(e){case Kr.OK:return P.OK;case Kr.CANCELLED:return P.CANCELLED;case Kr.UNKNOWN:return P.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return P.INTERNAL;case Kr.UNAVAILABLE:return P.UNAVAILABLE;case Kr.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Kr.NOT_FOUND:return P.NOT_FOUND;case Kr.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Kr.ABORTED:return P.ABORTED;case Kr.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Kr.DATA_LOSS:return P.DATA_LOSS;default:return O(39323,{code:e})}}(Xr=Kr||(Kr={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Yr=null;
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new r([4294967295,4294967295],0);function Zr(e){const t=K().encode(e),n=new a;return n.update(t),new Uint8Array(n.digest())}function ea(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new r([n,a],0),new r([o,i],0)]}class ta{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new na(`Invalid padding: ${t}`);if(n<0)throw new na(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new na(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new na(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=r.fromNumber(this.fe)}pe(e,t,n){let a=e.add(t.multiply(r.fromNumber(n)));return 1===a.compare(Jr)&&(a=new r([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Zr(e),[n,r]=ea(t);for(let a=0;a<this.hashCount;a++){const e=this.pe(n,r,a);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new ta(a,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.fe)return;const t=Zr(e),[n,r]=ea(t);for(let a=0;a<this.hashCount;a++){const e=this.pe(n,r,a);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,aa.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ra(ye.min(),r,new ht(q),Zn(),lr())}}class aa{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new aa(n,t,lr(),lr(),lr())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class ia{constructor(e,t){this.targetId=e,this.De=t}}class sa{constructor(e,t,n=bt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class la{constructor(){this.ve=0,this.Ce=da(),this.Fe=bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=lr(),t=lr(),n=lr();return this.Ce.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:O(38017,{changeType:a})}}),new aa(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=da()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,D(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ua{constructor(e){this.We=e,this.Ge=new Map,this.ze=Zn(),this.je=ca(),this.Je=ca(),this.He=new ht(q)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:O(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const a=r.target;if(Dn(a))if(0===n){const e=new oe(a.path);this.Xe(t,e,on.newNoDocument(e,ye.min()))}else D(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),a=n?this.ut(n,e,r):1;if(0!==a){this.rt(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Yr||Yr.ct(function(e,t,n,r,a){var o,i,s,l,u,c;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===a,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(i=null==h?void 0:h.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,e.De,this.We.lt(),n,a))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let o,i;try{o=Tt(n).toUint8Array()}catch(e){if(e instanceof yt)return A("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new ta(o,r,a)}catch(e){return A(e instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.fe?null:i}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const a=this.st(r);if(a){if(n.current&&Dn(a.target)){const t=new oe(a.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,on.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=lr();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new ra(e,t,this.He,this.ze,n);return this.ze=Zn(),this.je=ca(),this.Je=ca(),this.He=new ht(q),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new la,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new vt(q),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new vt(q),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new la),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ca(){return new ht(oe.comparator)}function da(){return new ht(oe.comparator)}const ha=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),fa=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})(),pa=(()=>{const e={and:"AND",or:"OR"};return e})();class va{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ma(e,t){return e.useProto3Json||De(t)?t:{value:t}}function ga(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ya(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ba(e,t){return ga(e,t.toTimestamp())}function wa(e){return D(!!e,49232),ye.fromTimestamp(function(e){const t=_t(e);return new ge(t.seconds,t.nanos)}(e))}function _a(e,t){return Ea(e,t).canonicalString()}function Ea(e,t){const n=function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ta(e){const t=ne.fromString(e);return D(Ha(t),10190,{key:t.toString()}),t}function Sa(e,t){return _a(e.databaseId,t.path)}function ka(e,t){const n=Ta(t);if(n.get(1)!==e.databaseId.projectId)throw new M(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(Aa(n))}function Ca(e,t){return _a(e.databaseId,t)}function Ra(e){const t=Ta(e);return 4===t.length?ne.emptyPath():Aa(t)}function Ia(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Aa(e){return D(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function xa(e,t,n){return{name:Sa(e,t),fields:n.value.mapValue.fields}}function Oa(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:O(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(D(void 0===t||"string"==typeof t,58123),bt.fromBase64String(t||"")):(D(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),bt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,s=i&&function(e){const t=void 0===e.code?P.UNKNOWN:Qr(e.code);return new M(t,e.message||"")}(i);n=new sa(r,a,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=ka(e,r.document.name),o=wa(r.document.updateTime),i=r.document.createTime?wa(r.document.createTime):ye.min(),s=new rn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(a,o,i,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new oa(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=ka(e,r.document),o=r.readTime?wa(r.readTime):ye.min(),i=on.newNoDocument(a,o),s=r.removedTargetIds||[];n=new oa([],s,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=ka(e,r.document),o=r.removedTargetIds||[];n=new oa([],o,a,null)}else{if(!("filter"in t))return O(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,o=new Hr(r,a),i=e.targetId;n=new ia(i,o)}}return n}function Na(e,t){let n;if(t instanceof Mr)n={update:xa(e,t.key,t.value)};else if(t instanceof Wr)n={delete:Sa(e,t.key)};else if(t instanceof Vr)n={update:xa(e,t.key,t.data),updateMask:za(t.fieldMask)};else{if(!(t instanceof Ur))return O(16599,{Rt:t.type});n={verify:Sa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof yr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof br)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _r)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Tr)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw O(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ba(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:O(27497)}(e,t.precondition)),n}function Da(e,t){return e&&e.length>0?(D(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?wa(e.updateTime):wa(t);return n.isEqual(ye.min())&&(n=wa(t)),new Rr(n,e.transformResults||[])}(e,t))):[]}function La(e,t){return{documents:[Ca(e,t.path)]}}function Pa(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ca(e,a);const o=function(e){if(0!==e.length)return Ga(pn.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ua(e.field),direction:$a(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const s=ma(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:a}}function Ma(e){let t=Ra(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){D(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Fa(e);return t instanceof pn&&mn(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map(e=>function(e){return new cn(ja(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,De(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new sn(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new sn(n,t)}(n.endAt)),Pn(t,a,i,o,s,"F",l,u)}function Va(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}function Fa(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ja(e.unaryFilter.field);return fn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ja(e.unaryFilter.field);return fn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ja(e.unaryFilter.field);return fn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ja(e.unaryFilter.field);return fn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return O(61313);default:return O(60726)}}(e):void 0!==e.fieldFilter?function(e){return fn.create(ja(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return O(58110);default:return O(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pn.create(e.compositeFilter.filters.map(e=>Fa(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return O(1026)}}(e.compositeFilter.op))}(e):O(30097,{filter:e})}function $a(e){return ha[e]}function Ba(e){return fa[e]}function Wa(e){return pa[e]}function Ua(e){return{fieldPath:e.canonicalString()}}function ja(e){return ae.fromServerFormat(e.fieldPath)}function Ga(e){return e instanceof fn?function(e){if("=="===e.op){if(Jt(e.value))return{unaryFilter:{field:Ua(e.field),op:"IS_NAN"}};if(Yt(e.value))return{unaryFilter:{field:Ua(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jt(e.value))return{unaryFilter:{field:Ua(e.field),op:"IS_NOT_NAN"}};if(Yt(e.value))return{unaryFilter:{field:Ua(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(e.field),op:Ba(e.op),value:e.value}}}(e):e instanceof pn?function(e){const t=e.getFilters().map(e=>Ga(e));return 1===t.length?t[0]:{compositeFilter:{op:Wa(e.op),filters:t}}}(e):O(54877,{filter:e})}function za(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ha(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t,n,r,a=ye.min(),o=ye.min(),i=bt.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=i,this.expectedCount=s}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.gt=e}}function qa(e){const t=Ma({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jn(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qa{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Et(e.integerValue));else if("doubleValue"in e){const n=Et(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Le(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=_t(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Tt(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?nn(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):en(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):O(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const a=e.fields||{};this.Ct(t,53);const o=Ft,i=(null===(r=null===(n=a[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Et(i)),this.xt(o,t),this.Dt(a[o],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),oe.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Qa.Ut=new Qa;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ya{constructor(){this.Dn=new Ja}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getIndexType(e,t){return Ie.resolve(0)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,t){return Ie.resolve(Te.min())}getMinOffsetFromCollectionGroup(e,t){return Ie.resolve(Te.min())}updateCollectionGroup(e,t,n){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class Ja{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vt(ne.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new vt(ne.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uint8Array(0);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Za={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eo=41943040;class to{static withCacheSize(e){return new to(e,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to.DEFAULT_COLLECTION_PERCENTILE=10,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,to.DEFAULT=new to(eo,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),to.DISABLED=new to(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class no{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new no(0)}static ur(){return new no(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ro="LruGarbageCollector",ao=1048576;function oo([e,t],[n,r]){const a=q(e,n);return 0===a?q(t,r):a}class io{constructor(e){this.Tr=e,this.buffer=new vt(oo),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();oo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class so{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){R(ro,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){xe(e)?R(ro,"Ignoring IndexedDB error during garbage collection: ",e):await Re(e)}await this.Rr(3e5)})}}class lo{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ie.resolve(Oe.ue);const n=new io(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(R("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(Za)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(R("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Za):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,a,o,i,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(R("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,i=Date.now(),this.removeTargets(e,n,t))).next(t=>(a=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),C()<=s.$b.DEBUG&&R("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(i-o)+"ms\n"+`\tRemoved ${a} targets in `+(l-i)+"ms\n"+`\tRemoved ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})))}}function uo(e,t){return new lo(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class co{constructor(){this.changes=new Yn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ho{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Dr(n.mutation,e,gt.empty(),ge.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lr()).next(()=>t))}getLocalViewOfDocuments(e,t,n=lr()){const r=rr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=tr();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=rr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,lr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=Zn();const o=or(),i=function(){return or()}();return t.forEach((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof Vr)?a=a.insert(t.key,t):void 0!==i?(o.set(t.key,i.mutation.getFieldMask()),Dr(i.mutation,t,i.mutation.getFieldMask(),ge.now())):o.set(t.key,gt.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return i.set(e,new ho(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),i))}recalculateAndSaveOverlays(e,t){const n=or();let r=new ht((e,t)=>e-t),a=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let i=n.get(e)||gt.empty();i=a.applyToLocalView(o,i),n.set(e,i);const s=(r.get(a.batchId)||lr()).add(e);r=r.insert(a.batchId,s)})}).next(()=>{const o=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),s=r.key,l=r.value,u=ar();l.forEach(e=>{if(!a.has(e)){const r=Or(t.get(e),n.get(e));null!==r&&u.set(e,r),a=a.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return Ie.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ie.resolve(rr());let i=be,s=a;return o.next(t=>Ie.forEach(t,(t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),a.get(t)?Ie.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,s,t,lr())).next(e=>({batchId:i,changes:nr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next(e=>{let t=tr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let o=tr();return this.indexManager.getCollectionParents(e,a).next(i=>Ie.forEach(i,i=>{const s=function(e,t){return new Ln(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(a));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,on.newInvalidDocument(r)))});let n=tr();return e.forEach((e,r)=>{const o=a.get(e);void 0!==o&&Dr(o.mutation,r,gt.empty(),ge.now()),Kn(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ie.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wa(e.createTime)}}(t)),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:qa(e.bundledQuery),readTime:wa(e.readTime)}}(t)),Ie.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.overlays=new ht(oe.comparator),this.kr=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rr();return Ie.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Ie.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Ie.resolve()}getOverlaysForCollection(e,t,n){const r=rr(),a=t.length+1,o=new oe(t.child("")),i=this.overlays.getIteratorFrom(o);for(;i.hasNext();){const e=i.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ie.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new ht((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=rr(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=rr(),s=a.getIterator();for(;s.hasNext();)if(s.getNext().value.forEach((e,t)=>i.set(e,t)),i.size()>=r)break;return Ie.resolve(i)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new zr(t,n));let a=this.kr.get(t);void 0===a&&(a=lr(),this.kr.set(t,a)),this.kr.set(t,a.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ie.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.qr=new vt(yo.Qr),this.$r=new vt(yo.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new yo(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new yo(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new oe(new ne([])),n=new yo(t,e),r=new yo(t,e+1),a=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),a.push(e.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new oe(new ne([])),n=new yo(t,e),r=new yo(t,e+1);let a=lr();return this.$r.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new yo(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class yo{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return oe.comparator(e.key,t.key)||q(e.Hr,t.Hr)}static Ur(e,t){return q(e.Hr,t.Hr)||oe.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new vt(yo.Qr)}checkEmpty(e){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jr(a,t,n,r);this.mutationQueue.push(o);for(const i of r)this.Yr=this.Yr.add(new yo(i.key,a)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(e,t){return Ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),a=r<0?0:r;return Ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?Ne:this.er-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new yo(t,0),r=new yo(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);a.push(t)}),Ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new vt(q);return t.forEach(e=>{const t=new yo(e,0),r=new yo(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Ie.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;oe.isDocumentKey(a)||(a=a.child(""));const o=new yo(new oe(a),0);let i=new vt(q);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.Hr)),!0)},o),Ie.resolve(this.ei(i))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){D(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Ie.forEach(t.mutations,r=>{const a=new yo(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new yo(t,0),r=this.Yr.firstAfterOrEqual(n);return Ie.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.ni=e,this.docs=function(){return new ht(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,o=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ie.resolve(n?n.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let n=Zn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():on.newInvalidDocument(e))}),Ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=Zn();const o=t.path,i=new oe(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Se(Ee(i),n)<=0||(r.has(i.key)||Kn(t,i))&&(a=a.insert(i.key,i.mutableCopy()))}return Ie.resolve(a)}getAllFromCollectionGroup(e,t,n,r){O(9500)}ri(e,t){return Ie.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new _o(this)}getSize(e){return Ie.resolve(this.size)}}class _o extends co{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Ie.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.persistence=e,this.ii=new Yn(e=>On(e),Nn),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.si=0,this.oi=new go,this.targetCount=0,this._i=no.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Ie.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new no(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.hr(t),Ie.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.ii.forEach((o,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)}),Ie.waitFor(a).next(()=>r)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Ie.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Ie.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),Ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Ie.resolve(n)}containsKey(e,t){return Ie.resolve(this.oi.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.ai={},this.overlays={},this.ui=new Oe(0),this.ci=!1,this.ci=!0,this.li=new mo,this.referenceDelegate=e(this),this.hi=new Eo(this),this.indexManager=new Ya,this.remoteDocumentCache=function(e){return new wo(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Xa(t),this.Ti=new po(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new bo(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){R("MemoryPersistence","Starting transaction:",e);const r=new So(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Ie.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class So extends Ce{constructor(e){super(),this.currentSequenceNumber=e}}class ko{constructor(e){this.persistence=e,this.Ai=new go,this.Ri=null}static Vi(e){return new ko(e)}get mi(){if(this.Ri)return this.Ri;throw O(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Ie.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.mi,n=>{const r=oe.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,ye.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Ie.or([()=>Ie.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Co{constructor(e,t){this.persistence=e,this.gi=new Yn(e=>Ve(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=uo(this,t)}static Vi(e,t){return new Co(e,t)}Ii(){}di(e){return Ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Ie.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Ie.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,a.removeEntry(r,ye.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ie.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ie.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kt(e.data.value)),t}Sr(e,t,n){return Ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Ie.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ro{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=lr(),r=lr();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Ro(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return(0,l.nr)()?8:Ae((0,l.ZQ)())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ps(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.ys(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new Io;return this.ws(e,t,n).next(r=>{if(a.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>a.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(C()<=s.$b.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",Hn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ie.resolve()):(C()<=s.$b.DEBUG&&R("QueryEngine","Query:",Hn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(C()<=s.$b.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",Hn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(t))):Ie.resolve())}ps(e,t){if(Vn(t))return Ie.resolve(null);let n=Bn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=jn(t,null,"F"),n=Bn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=lr(...r);return this.gs.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.bs(t,r);return this.Ds(t,o,a,n.readTime)?this.ps(e,jn(t,null,"F")):this.vs(e,o,t,n)}))})))}ys(e,t,n,r){return Vn(t)||r.isEqual(ye.min())?Ie.resolve(null):this.gs.getDocuments(e,n).next(a=>{const o=this.bs(t,a);return this.Ds(t,o,n,r)?Ie.resolve(null):(C()<=s.$b.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hn(t)),this.vs(e,o,t,_e(r,be)).next(e=>e))})}bs(e,t){let n=new vt(qn(e));return t.forEach((t,r)=>{Kn(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ws(e,t,n){return C()<=s.$b.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",Hn(t)),this.gs.getDocumentsMatchingQuery(e,t,Te.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="LocalStore",Oo=3e8;class No{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ht(q),this.Ms=new Yn(e=>On(e),Nn),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fo(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Do(e,t,n,r){return new No(e,t,n,r)}async function Lo(e,t){const n=L(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],o=[];let i=lr();for(const e of r){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next(e=>({Bs:e,removedBatchIds:a,addedBatchIds:o}))})})}function Po(e,t){const n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,o=a.keys();let i=Ie.resolve();return o.forEach(e=>{i=i.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);D(null!==o,48541),t.version.compareTo(o)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),i.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}function Mo(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Vo(e,t){const n=L(e),r=t.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const i=[];t.targetChanges.forEach((o,s)=>{const l=a.get(s);if(!l)return;i.push(n.hi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.hi.addMatchingKeys(e,o.addedDocuments,s)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?u=u.withResumeToken(bt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),a=a.insert(s,u),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;const r=t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds();if(r>=Oo)return!0;const a=n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size;return a>0}(l,u,o)&&i.push(n.hi.updateTargetData(e,u))});let s=Zn(),l=lr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),i.push(Fo(e,o,t.documentUpdates).next(e=>{s=e.Ls,l=e.ks})),!r.isEqual(ye.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));i.push(t)}return Ie.waitFor(i).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Fs=a,e))}function Fo(e,t,n){let r=lr(),a=lr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Zn();return n.forEach((n,o)=>{const i=e.get(n);o.isFoundDocument()!==i.isFoundDocument()&&(a=a.add(n)),o.isNoDocument()&&o.version.isEqual(ye.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!i.isValidDocument()||o.version.compareTo(i.version)>0||0===o.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):R(xo,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",o.version)}),{Ls:r,ks:a}})}function $o(e,t){const n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ne),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Bo(e,t){const n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(a=>a?(r=a,Ie.resolve(r)):n.hi.allocateTargetId(e).next(a=>(r=new Ka(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function Wo(e,t,n){const r=L(e),a=r.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!xe(e))throw e;R(xo,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(a.target)}function Uo(e,t,n){const r=L(e);let a=ye.min(),o=lr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=L(e),a=r.Ms.get(n);return void 0!==a?Ie.resolve(r.Fs.get(a)):r.hi.getTargetData(t,n)}(r,e,Bn(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?a:ye.min(),n?o:lr())).next(e=>(jo(r,Xn(t),e),{documents:e,qs:o})))}function jo(e,t,n){let r=e.xs.get(t)||ye.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class Go{constructor(){this.activeTargetIds=cr()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zo{constructor(){this.Fo=new Go,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Go,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{xo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="ConnectivityMonitor";class Xo{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){R(Ko,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){R(Ko,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo=null;function Qo(){return null===qo?qo=function(){return 268435456+Math.round(2147483648*Math.random())}():qo++,"0x"+qo.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Yo="RestConnection",Jo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zo{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Nt?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,a){const o=Qo(),i=this.Go(e,t.toUriEncodedString());R(Yo,`Sending RPC '${e}' ${o}:`,i,n);const s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(s,r,a);const{host:u}=new URL(i),c=(0,l.zJ)(u);return this.jo(e,i,s,n,c).then(t=>(R(Yo,`Received RPC '${e}' ${o}: `,t),t),t=>{throw A(Yo,`RPC '${e}' ${o} failed with error: `,t,"url: ",i,"request:",n),t})}Jo(e,t,n,r,a,o){return this.Wo(e,t,n,r,a)}zo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Jo[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class ni extends Zo{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,a){const o=Qo();return new Promise((a,i)=>{const s=new d;s.setWithCredentials(!0),s.listenOnce(f.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case p.NO_ERROR:const t=s.getResponseJson();R(ti,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),a(t);break;case p.TIMEOUT:R(ti,`RPC '${e}' ${o} timed out`),i(new M(P.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=s.getStatus();if(R(ti,`RPC '${e}' ${o} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(t)>=0?t:P.UNKNOWN}(t.status);i(new M(e,t.message))}else i(new M(P.UNKNOWN,"Server responded with status "+s.getStatus()))}else i(new M(P.UNAVAILABLE,"Connection failed."));break;default:O(9055,{c_:e,streamId:o,l_:s.getLastErrorCode(),h_:s.getLastError()})}}finally{R(ti,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);R(ti,`RPC '${e}' ${o} sending request:`,r),s.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Qo(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=y(),i=g(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.zo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const u=a.join("");R(ti,`Creating RPC '${e}' stream ${r}: ${u}`,s);const c=o.createWebChannel(u,s);this.T_(c);let d=!1,f=!1;const p=new ei({Ho:t=>{f?R(ti,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(R(ti,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),R(ti,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Yo:()=>c.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(c,h.EventType.OPEN,()=>{f||(R(ti,`RPC '${e}' stream ${r} transport opened.`),p.s_())}),b(c,h.EventType.CLOSE,()=>{f||(f=!0,R(ti,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(c))}),b(c,h.EventType.ERROR,t=>{f||(f=!0,A(ti,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.__(new M(P.UNAVAILABLE,"The operation could not be completed")))}),b(c,h.EventType.MESSAGE,t=>{var n;if(!f){const a=t.data[0];D(!!a,16349);const o=a,i=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(i){R(ti,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=Kr[e];if(void 0!==t)return Qr(t)}(t),a=i.message;void 0===n&&(n=P.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),f=!0,p.__(new M(n,a)),c.close()}else R(ti,`RPC '${e}' stream ${r} received:`,a),p.a_(a)}}),b(i,m.STAT_EVENT,t=>{t.stat===v.PROXY?R(ti,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===v.NOPROXY&&R(ti,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e){return new va(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t,n=1e3,r=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&R("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="PersistentStream";class si{constructor(e,t,n,r,a,o,i,s){this.Fi=e,this.w_=n,this.S_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=i,this.listener=s,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new oi(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(I(t.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.b_===t&&this.W_(e,n)},t=>{e(()=>{const e=new M(P.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return R(ii,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(R(ii,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class li extends si{constructor(e,t,n,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Oa(this.serializer,e),n=function(e){if(!("targetChange"in e))return ye.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ye.min():t.readTime?wa(t.readTime):ye.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Ia(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Dn(r)?{documents:La(e,r)}:{query:Pa(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ya(e,t.resumeToken);const r=ma(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ye.min())>0){n.readTime=ga(e,t.snapshotVersion.toTimestamp());const r=ma(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=Va(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Ia(this.serializer),t.removeTarget=e,this.k_(t)}}class ui extends si{constructor(e,t,n,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return D(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,D(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){D(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Da(e.writeResults,e.commitTime),n=wa(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Ia(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Na(this.serializer,e))};this.k_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{}class di extends ci{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new M(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(e,Ea(t,n),r,a,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(P.UNKNOWN,e.toString())})}Jo(e,t,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Jo(e,Ea(t,n),r,o,i,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(P.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class hi{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(I(t),this._a=!1):R("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="RemoteStore";class pi{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Ti(this)&&(R(fi,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.Ia.add(4),await mi(t),t.Aa.set("Unknown"),t.Ia.delete(4),await vi(t)}(this))})}),this.Aa=new hi(n,r)}}async function vi(e){if(Ti(e))for(const t of e.da)await t(!0)}async function mi(e){for(const t of e.da)await t(!1)}function gi(e,t){const n=L(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Ei(n)?_i(n):Ui(n).x_()&&bi(n,t))}function yi(e,t){const n=L(e),r=Ui(n);n.Ta.delete(t),r.x_()&&wi(n,t),0===n.Ta.size&&(r.x_()?r.B_():Ti(n)&&n.Aa.set("Unknown"))}function bi(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ye.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ui(e).H_(t)}function wi(e,t){e.Ra.$e(t),Ui(e).Y_(t)}function _i(e){e.Ra=new ua({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Ui(e).start(),e.Aa.aa()}function Ei(e){return Ti(e)&&!Ui(e).M_()&&e.Ta.size>0}function Ti(e){return 0===L(e).Ia.size}function Si(e){e.Ra=void 0}async function ki(e){e.Aa.set("Online")}async function Ci(e){e.Ta.forEach((t,n)=>{bi(e,t)})}async function Ri(e,t){Si(e),Ei(e)?(e.Aa.la(t),_i(e)):e.Aa.set("Unknown")}async function Ii(e,t,n){if(e.Aa.set("Online"),t instanceof sa&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){R(fi,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ai(e,n)}else if(t instanceof oa?e.Ra.Ye(t):t instanceof ia?e.Ra.it(t):e.Ra.et(t),!n.isEqual(ye.min()))try{const t=await Mo(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ta.get(r);a&&e.Ta.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(bt.EMPTY_BYTE_STRING,r.snapshotVersion)),wi(e,t);const a=new Ka(r.target,t,n,r.sequenceNumber);bi(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){R(fi,"Failed to raise snapshot:",t),await Ai(e,t)}}async function Ai(e,t,n){if(!xe(t))throw t;e.Ia.add(1),await mi(e),e.Aa.set("Offline"),n||(n=()=>Mo(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{R(fi,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await vi(e)})}function xi(e,t){return t().catch(n=>Ai(e,n,t))}async function Oi(e){const t=L(e),n=ji(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Ne;for(;Ni(t);)try{const e=await $o(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Di(t,e)}catch(e){await Ai(t,e)}Li(t)&&Pi(t)}function Ni(e){return Ti(e)&&e.Pa.length<10}function Di(e,t){e.Pa.push(t);const n=ji(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Li(e){return Ti(e)&&!ji(e).M_()&&e.Pa.length>0}function Pi(e){ji(e).start()}async function Mi(e){ji(e).na()}async function Vi(e){const t=ji(e);for(const n of e.Pa)t.X_(n.mutations)}async function Fi(e,t,n){const r=e.Pa.shift(),a=Gr.from(r,t,n);await xi(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Oi(e)}async function $i(e,t){t&&ji(e).Z_&&await async function(e,t){if(function(e){return qr(e)&&e!==P.ABORTED}(t.code)){const n=e.Pa.shift();ji(e).N_(),await xi(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Oi(e)}}(e,t),Li(e)&&Pi(e)}async function Bi(e,t){const n=L(e);n.asyncQueue.verifyOperationInProgress(),R(fi,"RemoteStore received new credentials");const r=Ti(n);n.Ia.add(3),await mi(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await vi(n)}async function Wi(e,t){const n=L(e);t?(n.Ia.delete(2),await vi(n)):t||(n.Ia.add(2),await mi(n),n.Aa.set("Unknown"))}function Ui(e){return e.Va||(e.Va=function(e,t,n){const r=L(e);return r.ia(),new li(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Zo:ki.bind(null,e),e_:Ci.bind(null,e),n_:Ri.bind(null,e),J_:Ii.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Ei(e)?_i(e):e.Aa.set("Unknown")):(await e.Va.stop(),Si(e))})),e.Va}function ji(e){return e.ma||(e.ma=function(e,t,n){const r=L(e);return r.ia(),new ui(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Mi.bind(null,e),n_:$i.bind(null,e),ea:Vi.bind(null,e),ta:Fi.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Oi(e)):(await e.ma.stop(),e.Pa.length>0&&(R(fi,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Gi{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new V,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const o=Date.now()+n,i=new Gi(e,t,o,r,a);return i.start(n),i}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zi(e,t){if(I("AsyncQueue",`${t}: ${e}`),xe(e))return new M(P.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{static emptySet(e){return new Hi(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||oe.comparator(t.key,n.key):(e,t)=>oe.comparator(e.key,t.key),this.keyedMap=tr(),this.sortedSet=new ht(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hi))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Hi;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.fa=new ht(oe.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):O(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Xi{constructor(e,t,n,r,a,o,i,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=i,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Xi(e,t,Hi.emptySet(t),o,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Qi{constructor(){this.queries=Yi(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=L(e),r=n.queries;n.queries=Yi(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new M(P.ABORTED,"Firestore shutting down"))}}function Yi(){return new Yn(e=>zn(e),Gn)}async function Ji(e,t){const n=L(e);let r=3;const a=t.query;let o=n.queries.get(a);o?!o.Sa()&&t.ba()&&(r=2):(o=new qi,r=t.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(a,!0);break;case 1:o.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=zi(e,`Initialization of query '${Hn(t.query)}' failed`);return void t.onError(n)}n.queries.set(a,o),o.wa.push(t),t.va(n.onlineState),o.ya&&t.Ca(o.ya)&&ns(n)}async function Zi(e,t){const n=L(e),r=t.query;let a=3;const o=n.queries.get(r);if(o){const e=o.wa.indexOf(t);e>=0&&(o.wa.splice(e,1),0===o.wa.length?a=t.ba()?0:1:!o.Sa()&&t.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function es(e,t){const n=L(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(a)&&(r=!0);t.ya=a}}r&&ns(n)}function ts(e,t,n){const r=L(e),a=r.queries.get(t);if(a)for(const o of a.wa)o.onError(n);r.queries.delete(t)}function ns(e){e.Da.forEach(e=>{e.next()})}var rs,as;(as=rs||(rs={})).Fa="default",as.Cache="cache";class os{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Xi(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Xi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==rs.Cache}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class is{constructor(e){this.key=e}}class ss{constructor(e){this.key=e}}class ls{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=lr(),this.mutatedKeys=lr(),this.Xa=qn(e),this.eu=new Hi(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Ki,r=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,o=r,i=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Kn(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.iu(u,c)||(n.track({type:2,doc:c}),f=!0,(s&&this.Xa(c,s)>0||l&&this.Xa(c,l)<0)&&(i=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(s||l)&&(i=!0)),f&&(c?(o=o.add(c),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{eu:o,ru:n,Ds:i,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O(20277,{At:e})}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const i=t&&!r?this.ou():[],s=0===this.Za.size&&this.current&&!r?1:0,l=s!==this.Ya;return this.Ya=s,0!==o.length||l?{snapshot:new Xi(this.query,e.eu,a,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:i}:{_u:i}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ki,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=lr(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new ss(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new is(n))}),t}uu(e){this.Ha=e.qs,this.Za=lr();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Xi.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const us="SyncEngine";class cs{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ds{constructor(e){this.key=e,this.lu=!1}}class hs{constructor(e,t,n,r,a,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Yn(e=>zn(e),Gn),this.Tu=new Map,this.Iu=new Set,this.du=new ht(oe.comparator),this.Eu=new Map,this.Au=new go,this.Ru={},this.Vu=new Map,this.mu=no.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function fs(e,t,n=!0){const r=Ps(e);let a;const o=r.Pu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.cu()):a=await vs(r,t,n,!0),a}async function ps(e,t){const n=Ps(e);await vs(n,t,!0,!1)}async function vs(e,t,n,r){const a=await Bo(e.localStore,Bn(t)),o=a.targetId,i=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await ms(e,t,o,"current"===i,a.resumeToken)),e.isPrimaryClient&&n&&gi(e.remoteStore,a),s}async function ms(e,t,n,r,a){e.gu=(t,n,r)=>async function(e,t,n,r){let a=t.view.nu(n);a.Ds&&(a=await Uo(e.localStore,t.query,!1).then(({documents:e})=>t.view.nu(e,a)));const o=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(a,e.isPrimaryClient,o,i);return As(e,t.targetId,s._u),s.snapshot}(e,t,n,r);const o=await Uo(e.localStore,t,!0),i=new ls(t,o.qs),s=i.nu(o.documents),l=aa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),u=i.applyChanges(s,e.isPrimaryClient,l);As(e,n,u._u);const c=new cs(t,n,i);return e.Pu.set(t,c),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),u.snapshot}async function gs(e,t,n){const r=L(e),a=r.Pu.get(t),o=r.Tu.get(a.targetId);if(o.length>1)return r.Tu.set(a.targetId,o.filter(e=>!Gn(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Wo(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&yi(r.remoteStore,a.targetId),Rs(r,a.targetId)}).catch(Re)):(Rs(r,a.targetId),await Wo(r.localStore,a.targetId,!0))}async function ys(e,t){const n=L(e),r=n.Pu.get(t),a=n.Tu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yi(n.remoteStore,r.targetId))}async function bs(e,t,n){const r=Ms(e);try{const e=await function(e,t){const n=L(e),r=ge.now(),a=t.reduce((e,t)=>e.add(t.key),lr());let o,i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Zn(),l=lr();return n.Os.getEntries(e,a).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(a=>{o=a;const i=[];for(const e of t){const t=Lr(e,o.get(e.key).overlayedDocument);null!=t&&i.push(new Vr(e.key,t,an(t.value.mapValue),Ir.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)}).next(t=>{i=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:i.batchId,changes:nr(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new ht(q)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ns(r,e.changes),await Oi(r.remoteStore)}catch(e){const t=zi(e,"Failed to persist write");n.reject(t)}}async function ws(e,t){const n=L(e);try{const e=await Vo(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(D(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?D(r.lu,14607):e.removedDocuments.size>0&&(D(r.lu,42227),r.lu=!1))}),await Ns(n,e,t)}catch(e){await Re(e)}}function _s(e,t,n){const r=L(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const a=r.view.va(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=L(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.wa)a.va(t)&&(r=!0)}),r&&ns(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Es(e,t,n){const r=L(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Eu.get(t),o=a&&a.key;if(o){let e=new ht(oe.comparator);e=e.insert(o,on.newNoDocument(o,ye.min()));const n=lr().add(o),a=new ra(ye.min(),new Map,new ht(q),e,n);await ws(r,a),r.du=r.du.remove(o),r.Eu.delete(t),Os(r)}else await Wo(r.localStore,t,!1).then(()=>Rs(r,t,n)).catch(Re)}async function Ts(e,t){const n=L(e),r=t.batch.batchId;try{const e=await Po(n.localStore,t);Cs(n,r,null),ks(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ns(n,e)}catch(e){await Re(e)}}async function Ss(e,t,n){const r=L(e);try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(D(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Cs(r,t,n),ks(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ns(r,e)}catch(n){await Re(n)}}function ks(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Cs(e,t,n){const r=L(e);let a=r.Ru[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Ru[r.currentUser.toKey()]=a}}function Rs(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Is(e,t)})}function Is(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(yi(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Os(e))}function As(e,t,n){for(const r of n)r instanceof is?(e.Au.addReference(r.key,t),xs(e,r)):r instanceof ss?(R(us,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Is(e,r.key)):O(19791,{yu:r})}function xs(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(R(us,"New document in limbo: "+n),e.Iu.add(r),Os(e))}function Os(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new oe(ne.fromString(t)),r=e.mu.next();e.Eu.set(r,new ds(n)),e.du=e.du.insert(n,r),gi(e.remoteStore,new Ka(Bn(Mn(n.path)),r,"TargetPurposeLimboResolution",Oe.ue))}}async function Ns(e,t,n){const r=L(e),a=[],o=[],i=[];r.Pu.isEmpty()||(r.Pu.forEach((e,s)=>{i.push(r.gu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,a?"current":"not-current")}if(e){a.push(e);const t=Ro.Es(s.targetId,e);o.push(t)}}))}),await Promise.all(i),r.hu.J_(a),await async function(e,t){const n=L(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ie.forEach(t,t=>Ie.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ie.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!xe(e))throw e;R(xo,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,a)}}}(r.localStore,o))}async function Ds(e,t){const n=L(e);if(!n.currentUser.isEqual(t)){R(us,"User change. New user:",t.toKey());const e=await Lo(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new M(P.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ns(n,e.Bs)}}function Ls(e,t){const n=L(e),r=n.Eu.get(t);if(r&&r.lu)return lr().add(r.key);{let e=lr();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Ps(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ws.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ls.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Es.bind(null,t),t.hu.J_=es.bind(null,t.eventManager),t.hu.pu=ts.bind(null,t.eventManager),t}function Ms(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ts.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ss.bind(null,t),t}class Vs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ai(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Do(this.persistence,new Ao,e.initialUser,this.serializer)}Du(e){return new To(ko.Vi,this.serializer)}bu(e){return new zo}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vs.provider={build:()=>new Vs};class Fs extends Vs{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){D(this.persistence.referenceDelegate instanceof Co,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new so(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?to.withCacheSize(this.cacheSizeBytes):to.DEFAULT;return new To(e=>Co.Vi(e,t),this.serializer)}}class $s{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>_s(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ds.bind(null,this.syncEngine),await Wi(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qi}()}createDatastore(e){const t=ai(e.databaseInfo.databaseId),n=function(e){return new ni(e)}(e.databaseInfo);return function(e,t,n,r){return new di(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new pi(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>_s(this.syncEngine,e,0),function(){return Xo.C()?new Xo:new Ho}())}createSyncEngine(e,t){return function(e,t,n,r,a,o,i){const s=new hs(e,t,n,r,a,o);return i&&(s.fu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);R(fi,"RemoteStore shutting down."),t.Ia.add(5),await mi(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}$s.provider={build:()=>new $s};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bs{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):I("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ws="FirestoreClient";class Us{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=T.UNAUTHENTICATED,this.clientId=X.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{R(Ws,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(R(Ws,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new V;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=zi(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function js(e,t){e.asyncQueue.verifyOperationInProgress(),R(Ws,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Lo(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{A("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{R("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{A("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function Gs(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zs(e);R(Ws,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Bi(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Bi(t.remoteStore,n)),e._onlineComponents=t}async function zs(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){R(Ws,"Using user provided OfflineComponentProvider");try{await js(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;A("Error using user provided cache. Falling back to memory cache: "+n),await js(e,new Vs)}}else R(Ws,"Using default OfflineComponentProvider"),await js(e,new Fs(void 0));return e._offlineComponents}async function Hs(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(R(Ws,"Using user provided OnlineComponentProvider"),await Gs(e,e._uninitializedComponentsProvider._online)):(R(Ws,"Using default OnlineComponentProvider"),await Gs(e,new $s))),e._onlineComponents}function Ks(e){return Hs(e).then(e=>e.syncEngine)}async function Xs(e){const t=await Hs(e),n=t.eventManager;return n.onListen=fs.bind(null,t.syncEngine),n.onUnlisten=gs.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ps.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ys.bind(null,t.syncEngine),n}function qs(e,t,n={}){const r=new V;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const o=new Bs({next:s=>{o.Ou(),t.enqueueAndForget(()=>Zi(e,i));const l=s.docs.has(n);!l&&s.fromCache?a.reject(new M(P.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?a.reject(new M(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(s)},error:e=>a.reject(e)}),i=new os(Mn(n.path),o,{includeMetadataChanges:!0,ka:!0});return Ji(e,i)}(await Xs(e),e.asyncQueue,t,n,r)),r.promise}function Qs(e,t,n={}){const r=new V;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const o=new Bs({next:n=>{o.Ou(),t.enqueueAndForget(()=>Zi(e,i)),n.fromCache&&"server"===r.source?a.reject(new M(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),i=new os(n,o,{includeMetadataChanges:!0,ka:!0});return Ji(e,i)}(await Xs(e),e.asyncQueue,t,n,r)),r.promise}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ys(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Js=new Map,Zs="firestore.googleapis.com",el=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new M(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zs,this.ssl=el}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:el;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=eo;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ao)throw new M(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}se("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ys(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new M(P.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new M(P.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new M(P.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nl{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tl(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new $;switch(e.type){case"firstParty":return new j(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Js.get(e);t&&(R("ComponentProvider","Removing Datastore"),Js.delete(e),t.terminate())}(this),Promise.resolve()}}function rl(e,t,n,r={}){var a;e=he(e,nl);const o=(0,l.zJ)(t),i=e._getSettings(),s=Object.assign(Object.assign({},i),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;o&&((0,l.gE)(`https://${u}`),(0,l.P1)("Firestore",!0)),i.host!==Zs&&i.host!==u&&A("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},i),{host:u,ssl:o,emulatorOptions:r});if(!(0,l.bD)(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=T.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new M(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new T(o)}e._authCredentials=new B(new F(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new al(this.firestore,e,this._query)}}class ol{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ol(this.firestore,e,this._key)}toJSON(){return{type:ol._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(pe(t,ol._jsonSchema))return new ol(e,n||null,new oe(ne.fromString(t.referencePath)))}}ol._jsonSchemaVersion="firestore/documentReference/1.0",ol._jsonSchema={type:fe("string",ol._jsonSchemaVersion),referencePath:fe("string")};class il extends al{constructor(e,t,n){super(e,t,Mn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ol(this.firestore,null,new oe(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function sl(e,t,...n){if(e=(0,l.Ku)(e),ie("collection","path",t),e instanceof nl){const r=ne.fromString(t,...n);return ue(r),new il(e,null,r)}{if(!(e instanceof ol||e instanceof il))throw new M(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ne.fromString(t,...n));return ue(r),new il(e.firestore,null,r)}}function ll(e,t,...n){if(e=(0,l.Ku)(e),1===arguments.length&&(t=X.newId()),ie("doc","path",t),e instanceof nl){const r=ne.fromString(t,...n);return le(r),new ol(e,null,new oe(r))}{if(!(e instanceof ol||e instanceof il))throw new M(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ne.fromString(t,...n));return le(r),new ol(e.firestore,e instanceof il?e.converter:null,new oe(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ul="AsyncQueue";class cl{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new oi(this,"async_queue_retry"),this.oc=()=>{const e=ri();e&&R(ul,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=ri();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ri();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new V;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xe(e))throw e;R(ul,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,I("INTERNAL UNHANDLED ERROR: ",dl(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Gi.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&O(47125,{hc:dl(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function dl(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class hl extends nl{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new cl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cl(e),this._firestoreClient=void 0,await e}}}function fl(e,t){const n="object"==typeof e?e:(0,o.Sx)(),r="string"==typeof e?e:t||Nt,a=(0,o.j6)(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=(0,l.yU)("firestore");e&&rl(a,...e)}return a}function pl(e){if(e._terminated)throw new M(P.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||vl(e),e._firestoreClient}function vl(e){var t,n,r;const a=e._freezeSettings(),o=function(e,t,n,r){return new Ot(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ys(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Us(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(bt.fromBase64String(e))}catch(e){throw new M(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ml(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ml._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pe(e,ml._jsonSchema))return ml.fromBase64String(e.bytes)}}ml._jsonSchemaVersion="firestore/bytes/1.0",ml._jsonSchema={type:fe("string",ml._jsonSchemaVersion),bytes:fe("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ae(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yl{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bl._jsonSchemaVersion}}static fromJSON(e){if(pe(e,bl._jsonSchema))return new bl(e.latitude,e.longitude)}}bl._jsonSchemaVersion="firestore/geoPoint/1.0",bl._jsonSchema={type:fe("string",bl._jsonSchemaVersion),latitude:fe("number"),longitude:fe("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pe(e,wl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new wl(e.vectorValues);throw new M(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wl._jsonSchemaVersion="firestore/vectorValue/1.0",wl._jsonSchema={type:fe("string",wl._jsonSchemaVersion),vectorValues:fe("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const _l=/^__.*__$/;class El{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Vr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mr(e,this.data,t,this.fieldTransforms)}}class Tl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Vr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O(40011,{Ec:e})}}class kl{constructor(e,t,n,r,a,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new kl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bl(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(Sl(this.Ec)&&_l.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Cl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ai(e)}Dc(e,t,n,r=!1){return new kl({Ec:e,methodName:t,bc:n,path:ae.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rl(e){const t=e._freezeSettings(),n=ai(e._databaseId);return new Cl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Il(e,t,n,r,a,o={}){const i=e.Dc(o.merge||o.mergeFields?2:0,t,n,a);Ml("Data must be an object, but it was:",i,r);const s=Ll(r,i);let l,u;if(o.merge)l=new gt(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const a=Vl(t,r,n);if(!i.contains(a))throw new M(P.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);Wl(e,a)||e.push(a)}l=new gt(e),u=i.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=i.fieldTransforms;return new El(new rn(s),l,u)}class Al extends yl{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Al}}function xl(e,t,n,r){const a=e.Dc(1,t,n);Ml("Data must be an object, but it was:",a,r);const o=[],i=rn.empty();ct(r,(e,r)=>{const s=$l(t,e,n);r=(0,l.Ku)(r);const u=a.gc(s);if(r instanceof Al)o.push(s);else{const e=Dl(r,u);null!=e&&(o.push(s),i.set(s,e))}});const s=new gt(o);return new Tl(i,s,a.fieldTransforms)}function Ol(e,t,n,r,a,o){const i=e.Dc(1,t,n),s=[Vl(t,r,n)],u=[a];if(o.length%2!=0)throw new M(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<o.length;l+=2)s.push(Vl(t,o[l])),u.push(o[l+1]);const c=[],d=rn.empty();for(let f=s.length-1;f>=0;--f)if(!Wl(c,s[f])){const e=s[f];let t=u[f];t=(0,l.Ku)(t);const n=i.gc(e);if(t instanceof Al)c.push(e);else{const r=Dl(t,n);null!=r&&(c.push(e),d.set(e,r))}}const h=new gt(c);return new Tl(d,h,i.fieldTransforms)}function Nl(e,t,n,r=!1){return Dl(n,e.Dc(r?4:3,t))}function Dl(e,t){if(Pl(e=(0,l.Ku)(e)))return Ml("Unsupported field value:",t,e),Ll(e,t);if(e instanceof yl)return function(e,t){if(!Sl(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=Dl(a,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ge.fromDate(e);return{timestampValue:ga(t.serializer,n)}}if(e instanceof ge){const n=new ge(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ga(t.serializer,n)}}if(e instanceof bl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ml)return{bytesValue:ya(t.serializer,e._byteString)};if(e instanceof ol){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:_a(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof wl)return function(e,t){const n={fields:{[Lt]:{stringValue:Vt},[Ft]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return dr(t.serializer,e)})}}}};return{mapValue:n}}(e,t);throw t.wc(`Unsupported field value: ${de(e)}`)}(e,t)}function Ll(e,t){const n={};return dt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ct(e,(e,r)=>{const a=Dl(r,t.Vc(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function Pl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ge||e instanceof bl||e instanceof ml||e instanceof ol||e instanceof yl||e instanceof wl)}function Ml(e,t,n){if(!Pl(n)||!ce(n)){const r=de(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Vl(e,t,n){if((t=(0,l.Ku)(t))instanceof gl)return t._internalPath;if("string"==typeof t)return $l(e,t);throw Bl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Fl=new RegExp("[~\\*/\\[\\]]");function $l(e,t,n){if(t.search(Fl)>=0)throw Bl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new gl(...t.split("."))._internalPath}catch(r){throw Bl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Bl(e,t,n,r,a){const o=r&&!r.isEmpty(),i=void 0!==a;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${a}`),l+=")"),new M(P.INVALID_ARGUMENT,s+e+l)}function Wl(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ol(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jl extends Ul{data(){return super.data()}}function Gl(e,t){return"string"==typeof t?$l(e,t):t instanceof gl?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hl{}class Kl extends Hl{}function Xl(e,t,...n){let r=[];t instanceof Hl&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof Ql).length,n=e.filter(e=>e instanceof ql).length;if(t>1||t>0&&n>0)throw new M(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);for(const a of r)e=a._apply(e);return e}class ql extends Kl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ql(e,t,n)}_apply(e){const t=this._parse(e);return tu(e._query,t),new al(e.firestore,e.converter,Un(e._query,t))}_parse(e){const t=Rl(e.firestore),n=function(e,t,n,r,a,o,i){let s;if(a.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new M(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){eu(i,o);const t=[];for(const n of i)t.push(Zl(r,e,n));s={arrayValue:{values:t}}}else s=Zl(r,e,i)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||eu(i,o),s=Nl(n,t,i,"in"===o||"not-in"===o);const l=fn.create(a,o,s);return l}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ql extends Hl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ql(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const a of r)tu(n,a),n=Un(n,a)}(e._query,t),new al(e.firestore,e.converter,Un(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yl extends Kl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yl(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new M(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new cn(t,n);return r}(e._query,this._field,this._direction);return new al(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ln(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Jl(e,t="asc"){const n=t,r=Gl("orderBy",e);return Yl._create(r,n)}function Zl(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fn(t)&&-1!==n.indexOf("/"))throw new M(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!oe.isDocumentKey(r))throw new M(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xt(e,new oe(r))}if(n instanceof ol)return Xt(e,n._key);throw new M(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${de(n)}.`)}function eu(e,t){if(!Array.isArray(e)||0===e.length)throw new M(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tu(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new M(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new M(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class nu{convertValue(e,t="none"){switch($t(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw O(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ct(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Ft].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Et(e.doubleValue));return new wl(a)}convertGeoPoint(e){return new bl(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=At(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xt(e));default:return null}}convertTimestamp(e){const t=_t(e);return new ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ne.fromString(e);D(Ha(n),9688,{name:e});const r=new Dt(n.get(1),n.get(3)),a=new oe(n.popFirst(5));return r.isEqual(t)||I(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ou extends Ul{constructor(e,t,n,r,a,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Gl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new M(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ou._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",ou._jsonSchema={type:fe("string",ou._jsonSchemaVersion),bundleSource:fe("string","DocumentSnapshot"),bundleName:fe("string"),bundle:fe("string")};class iu extends ou{data(e={}){return super.data(e)}}class su{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new au(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new iu(this._firestore,this._userDataWriter,n.key,n,new au(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new iu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new au(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new iu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new au(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,o=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:lu(t.type),doc:r,oldIndex:a,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new M(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O(61501,{type:e})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function uu(e){e=he(e,ol);const t=he(e.firestore,hl);return qs(pl(t),e._key).then(n=>gu(t,e,n))}su._jsonSchemaVersion="firestore/querySnapshot/1.0",su._jsonSchema={type:fe("string",su._jsonSchemaVersion),bundleSource:fe("string","QuerySnapshot"),bundleName:fe("string"),bundle:fe("string")};class cu extends nu{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ol(this.firestore,null,t)}}function du(e){e=he(e,al);const t=he(e.firestore,hl),n=pl(t),r=new cu(t);return zl(e._query),Qs(n,e._query).then(n=>new su(t,r,e,n))}function hu(e,t,n){e=he(e,ol);const r=he(e.firestore,hl),a=ru(e.converter,t,n);return mu(r,[Il(Rl(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Ir.none())])}function fu(e,t,n,...r){e=he(e,ol);const a=he(e.firestore,hl),o=Rl(a);let i;return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof gl?Ol(o,"updateDoc",e._key,t,n,r):xl(o,"updateDoc",e._key,t),mu(a,[i.toMutation(e._key,Ir.exists(!0))])}function pu(e){return mu(he(e.firestore,hl),[new Wr(e._key,Ir.none())])}function vu(e,t){const n=he(e.firestore,hl),r=ll(e),a=ru(e.converter,t);return mu(n,[Il(Rl(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function mu(e,t){return function(e,t){const n=new V;return e.asyncQueue.enqueueAndForget(async()=>bs(await Ks(e),t,n)),n.promise}(pl(e),t)}function gu(e,t,n){const r=n.docs.get(t._key),a=new cu(e);return new ou(e,a,t._key,r,new au(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,t=!0){!function(e){S=e}(o.MF),(0,o.om)(new i.uA("firestore",(e,{instanceIdentifier:n,options:r})=>{const a=e.getProvider("app").getImmediate(),o=new hl(new W(e.getProvider("auth-internal")),new z(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dt(e.options.projectId,t)}(a,n),a);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(_,E,e),(0,o.KO)(_,E,"esm2017")}()},928:(e,t,n)=>{n.d(t,{MF:()=>be,j6:()=>pe,xZ:()=>ve,om:()=>fe,Sx:()=>_e,Wp:()=>we,KO:()=>Ee});var r=n(125),a=n(424),o=n(72);const i=(e,t)=>t.some(t=>e instanceof t);let s,l;function u(){return s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap;function m(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{t(E(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&d.set(t,e)}).catch(()=>{}),v.set(t,e),t}function g(e){if(h.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});h.set(e,t)}let y={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function b(e){y=e(y)}function w(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?c().includes(e)?function(...t){return e.apply(T(this),t),E(d.get(this))}:function(...t){return E(e.apply(T(this),t))}:function(t,...n){const r=e.call(T(this),t,...n);return f.set(r,t.sort?t.sort():[t]),E(r)}}function _(e){return"function"===typeof e?w(e):(e instanceof IDBTransaction&&g(e),i(e,u())?new Proxy(e,y):e)}function E(e){if(e instanceof IDBRequest)return m(e);if(p.has(e))return p.get(e);const t=_(e);return t!==e&&(p.set(e,t),v.set(t,e)),t}const T=e=>v.get(e);function S(e,t,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const i=indexedDB.open(e,t),s=E(i);return r&&i.addEventListener("upgradeneeded",e=>{r(E(i.result),e.oldVersion,e.newVersion,E(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const k=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],R=new Map;function I(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(R.get(t))return R.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=C.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!k.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,a?"readwrite":"readonly");let i=o.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),a&&o.done]))[0]};return R.set(t,o),o}b(e=>({...e,get:(t,n,r)=>I(t,n)||e.get(t,n,r),has:(t,n)=>!!I(t,n)||e.has(t,n)}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class A{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if(x(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}function x(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const O="@firebase/app",N="0.13.2",D=new a.Vy("@firebase/app"),L="@firebase/app-compat",P="@firebase/analytics-compat",M="@firebase/analytics",V="@firebase/app-check-compat",F="@firebase/app-check",$="@firebase/auth",B="@firebase/auth-compat",W="@firebase/database",U="@firebase/data-connect",j="@firebase/database-compat",G="@firebase/functions",z="@firebase/functions-compat",H="@firebase/installations",K="@firebase/installations-compat",X="@firebase/messaging",q="@firebase/messaging-compat",Q="@firebase/performance",Y="@firebase/performance-compat",J="@firebase/remote-config",Z="@firebase/remote-config-compat",ee="@firebase/storage",te="@firebase/storage-compat",ne="@firebase/firestore",re="@firebase/ai",ae="@firebase/firestore-compat",oe="firebase",ie="11.10.0",se="[DEFAULT]",le={[O]:"fire-core",[L]:"fire-core-compat",[M]:"fire-analytics",[P]:"fire-analytics-compat",[F]:"fire-app-check",[V]:"fire-app-check-compat",[$]:"fire-auth",[B]:"fire-auth-compat",[W]:"fire-rtdb",[U]:"fire-data-connect",[j]:"fire-rtdb-compat",[G]:"fire-fn",[z]:"fire-fn-compat",[H]:"fire-iid",[K]:"fire-iid-compat",[X]:"fire-fcm",[q]:"fire-fcm-compat",[Q]:"fire-perf",[Y]:"fire-perf-compat",[J]:"fire-rc",[Z]:"fire-rc-compat",[ee]:"fire-gcs",[te]:"fire-gcs-compat",[ne]:"fire-fst",[ae]:"fire-fst-compat",[re]:"fire-vertex","fire-js":"fire-js",[oe]:"fire-js-all"},ue=new Map,ce=new Map,de=new Map;function he(e,t){try{e.container.addComponent(t)}catch(n){D.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function fe(e){const t=e.name;if(de.has(t))return D.debug(`There were multiple attempts to register component ${t}.`),!1;de.set(t,e);for(const n of ue.values())he(n,e);for(const n of ce.values())he(n,e);return!0}function pe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ve(e){return null!==e&&void 0!==e&&void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const me={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},ge=new o.FA("app","Firebase",me);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ye{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ge.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const be=ie;function we(e,t={}){let n=e;if("object"!==typeof t){const e=t;t={name:e}}const a=Object.assign({name:se,automaticDataCollectionEnabled:!0},t),i=a.name;if("string"!==typeof i||!i)throw ge.create("bad-app-name",{appName:String(i)});if(n||(n=(0,o.T9)()),!n)throw ge.create("no-options");const s=ue.get(i);if(s){if((0,o.bD)(n,s.options)&&(0,o.bD)(a,s.config))return s;throw ge.create("duplicate-app",{appName:i})}const l=new r.h1(i);for(const r of de.values())l.addComponent(r);const u=new ye(n,a,l);return ue.set(i,u),u}function _e(e=se){const t=ue.get(e);if(!t&&e===se&&(0,o.T9)())return we();if(!t)throw ge.create("no-app",{appName:e});return t}function Ee(e,t,n){var a;let o=null!==(a=le[e])&&void 0!==a?a:e;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${o}" with version "${t}":`];return i&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void D.warn(e.join(" "))}fe(new r.uA(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Te="firebase-heartbeat-database",Se=1,ke="firebase-heartbeat-store";let Ce=null;function Re(){return Ce||(Ce=S(Te,Se,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ke)}catch(n){console.warn(n)}}}}).catch(e=>{throw ge.create("idb-open",{originalErrorMessage:e.message})})),Ce}async function Ie(e){try{const t=await Re(),n=t.transaction(ke),r=await n.objectStore(ke).get(xe(e));return await n.done,r}catch(t){if(t instanceof o.g)D.warn(t.message);else{const e=ge.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});D.warn(e.message)}}}async function Ae(e,t){try{const n=await Re(),r=n.transaction(ke,"readwrite"),a=r.objectStore(ke);await a.put(t,xe(e)),await r.done}catch(n){if(n instanceof o.g)D.warn(n.message);else{const e=ge.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});D.warn(e.message)}}}function xe(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe=1024,Ne=30;class De{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Me(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),a=Le();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(e=>e.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>Ne){const e=Fe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){D.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Le(),{heartbeatsToSend:n,unsentEntries:r}=Pe(this._heartbeatsCache.heartbeats),a=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return D.warn(t),""}}}function Le(){const e=new Date;return e.toISOString().substring(0,10)}function Pe(e,t=Oe){const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Ve(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ve(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Me{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await Ie(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ae(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ae(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ve(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}function Fe(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){fe(new r.uA("platform-logger",e=>new A(e),"PRIVATE")),fe(new r.uA("heartbeat",e=>new De(e),"PRIVATE")),Ee(O,N,e),Ee(O,N,"esm2017"),Ee("fire-js","")}$e("")},951:()=>{},953:(e,t,n)=>{n.d(t,{C4:()=>k,EW:()=>qe,Gc:()=>_e,IG:()=>xe,IJ:()=>Pe,KR:()=>Le,Kh:()=>we,Pr:()=>Be,QW:()=>je,R1:()=>Fe,Tm:()=>Ce,X2:()=>c,a1:()=>Ne,bl:()=>C,fE:()=>Re,g8:()=>ke,hV:()=>tt,hZ:()=>V,i9:()=>De,jr:()=>l,ju:()=>Ie,lJ:()=>Oe,lW:()=>He,nD:()=>Te,o5:()=>s,qA:()=>B,rY:()=>Ue,u4:()=>M,ux:()=>Ae,wB:()=>et,yC:()=>i});var r=n(33);
/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let a,o;class i{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=a,!e&&a&&(this.index=(a.scopes||(a.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=a;try{return a=this,e()}finally{a=t}}else 0}on(){1===++this._on&&(this.prevScope=a,a=this)}off(){this._on>0&&0===--this._on&&(a=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function s(){return a}function l(e,t=!1){a&&a.cleanups.push(e)}const u=new WeakSet;class c{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,a&&a.active&&a.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,u.has(this)&&(u.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||p(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,R(this),g(this);const e=o,t=T;o=this,T=!0;try{return this.fn()}finally{0,y(this),o=e,T=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)_(e);this.deps=this.depsTail=void 0,R(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?u.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){b(this)&&this.run()}get dirty(){return b(this)}}let d,h,f=0;function p(e,t=!1){if(e.flags|=8,t)return e.next=h,void(h=e);e.next=d,d=e}function v(){f++}function m(){if(--f>0)return;if(h){let e=h;h=void 0;while(e){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;while(d){let n=d;d=void 0;while(n){const r=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=r}}if(e)throw e}function g(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function y(e){let t,n=e.depsTail,r=n;while(r){const e=r.prevDep;-1===r.version?(r===n&&(n=e),_(r),E(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function b(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(w(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function w(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===I)return;if(e.globalVersion=I,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!b(e)))return;e.flags|=2;const t=e.dep,n=o,a=T;o=e,T=!0;try{g(e);const n=e.fn(e._value);(0===t.version||(0,r.$H)(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(i){throw t.version++,i}finally{o=n,T=a,y(e),e.flags&=-3}}function _(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)_(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function E(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let T=!0;const S=[];function k(){S.push(T),T=!1}function C(){const e=S.pop();T=void 0===e||e}function R(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=o;o=void 0;try{t()}finally{o=e}}}let I=0;class A{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class x{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!o||!T||o===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==o)t=this.activeLink=new A(o,this),o.deps?(t.prevDep=o.depsTail,o.depsTail.nextDep=t,o.depsTail=t):o.deps=o.depsTail=t,O(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=o.depsTail,t.nextDep=void 0,o.depsTail.nextDep=t,o.depsTail=t,o.deps===t&&(o.deps=e)}return t}trigger(e){this.version++,I++,this.notify(e)}notify(e){v();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{m()}}}function O(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)O(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const N=new WeakMap,D=Symbol(""),L=Symbol(""),P=Symbol("");function M(e,t,n){if(T&&o){let t=N.get(e);t||N.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new x),r.map=t,r.key=n),r.track()}}function V(e,t,n,a,o,i){const s=N.get(e);if(!s)return void I++;const l=e=>{e&&e.trigger()};if(v(),"clear"===t)s.forEach(l);else{const o=(0,r.cy)(e),i=o&&(0,r.yI)(n);if(o&&"length"===n){const e=Number(a);s.forEach((t,n)=>{("length"===n||n===P||!(0,r.Bm)(n)&&n>=e)&&l(t)})}else switch((void 0!==n||s.has(void 0))&&l(s.get(n)),i&&l(s.get(P)),t){case"add":o?i&&l(s.get("length")):(l(s.get(D)),(0,r.CE)(e)&&l(s.get(L)));break;case"delete":o||(l(s.get(D)),(0,r.CE)(e)&&l(s.get(L)));break;case"set":(0,r.CE)(e)&&l(s.get(D));break}}m()}function F(e,t){const n=N.get(e);return n&&n.get(t)}function $(e){const t=Ae(e);return t===e?t:(M(t,"iterate",P),Re(e)?t:t.map(Oe))}function B(e){return M(e=Ae(e),"iterate",P),e}const W={__proto__:null,[Symbol.iterator](){return U(this,Symbol.iterator,Oe)},concat(...e){return $(this).concat(...e.map(e=>(0,r.cy)(e)?$(e):e))},entries(){return U(this,"entries",e=>(e[1]=Oe(e[1]),e))},every(e,t){return G(this,"every",e,t,void 0,arguments)},filter(e,t){return G(this,"filter",e,t,e=>e.map(Oe),arguments)},find(e,t){return G(this,"find",e,t,Oe,arguments)},findIndex(e,t){return G(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return G(this,"findLast",e,t,Oe,arguments)},findLastIndex(e,t){return G(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return G(this,"forEach",e,t,void 0,arguments)},includes(...e){return H(this,"includes",e)},indexOf(...e){return H(this,"indexOf",e)},join(e){return $(this).join(e)},lastIndexOf(...e){return H(this,"lastIndexOf",e)},map(e,t){return G(this,"map",e,t,void 0,arguments)},pop(){return K(this,"pop")},push(...e){return K(this,"push",e)},reduce(e,...t){return z(this,"reduce",e,t)},reduceRight(e,...t){return z(this,"reduceRight",e,t)},shift(){return K(this,"shift")},some(e,t){return G(this,"some",e,t,void 0,arguments)},splice(...e){return K(this,"splice",e)},toReversed(){return $(this).toReversed()},toSorted(e){return $(this).toSorted(e)},toSpliced(...e){return $(this).toSpliced(...e)},unshift(...e){return K(this,"unshift",e)},values(){return U(this,"values",Oe)}};function U(e,t,n){const r=B(e),a=r[t]();return r===e||Re(e)||(a._next=a.next,a.next=()=>{const e=a._next();return e.value&&(e.value=n(e.value)),e}),a}const j=Array.prototype;function G(e,t,n,r,a,o){const i=B(e),s=i!==e&&!Re(e),l=i[t];if(l!==j[t]){const t=l.apply(e,o);return s?Oe(t):t}let u=n;i!==e&&(s?u=function(t,r){return n.call(this,Oe(t),r,e)}:n.length>2&&(u=function(t,r){return n.call(this,t,r,e)}));const c=l.call(i,u,r);return s&&a?a(c):c}function z(e,t,n,r){const a=B(e);let o=n;return a!==e&&(Re(e)?n.length>3&&(o=function(t,r,a){return n.call(this,t,r,a,e)}):o=function(t,r,a){return n.call(this,t,Oe(r),a,e)}),a[t](o,...r)}function H(e,t,n){const r=Ae(e);M(r,"iterate",P);const a=r[t](...n);return-1!==a&&!1!==a||!Ie(n[0])?a:(n[0]=Ae(n[0]),r[t](...n))}function K(e,t,n=[]){k(),v();const r=Ae(e)[t].apply(e,n);return m(),C(),r}const X=(0,r.pD)("__proto__,__v_isRef,__isVue"),q=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(r.Bm));function Q(e){(0,r.Bm)(e)||(e=String(e));const t=Ae(this);return M(t,"has",e),t.hasOwnProperty(e)}class Y{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e["__v_skip"];const a=this._isReadonly,o=this._isShallow;if("__v_isReactive"===t)return!a;if("__v_isReadonly"===t)return a;if("__v_isShallow"===t)return o;if("__v_raw"===t)return n===(a?o?ge:me:o?ve:pe).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=(0,r.cy)(e);if(!a){let e;if(i&&(e=W[t]))return e;if("hasOwnProperty"===t)return Q}const s=Reflect.get(e,t,De(e)?e:n);return((0,r.Bm)(t)?q.has(t):X(t))?s:(a||M(e,"get",t),o?s:De(s)?i&&(0,r.yI)(t)?s:s.value:(0,r.Gv)(s)?a?Ee(s):we(s):s)}}class J extends Y{constructor(e=!1){super(!1,e)}set(e,t,n,a){let o=e[t];if(!this._isShallow){const t=Ce(o);if(Re(n)||Ce(n)||(o=Ae(o),n=Ae(n)),!(0,r.cy)(e)&&De(o)&&!De(n))return!t&&(o.value=n,!0)}const i=(0,r.cy)(e)&&(0,r.yI)(t)?Number(t)<e.length:(0,r.$3)(e,t),s=Reflect.set(e,t,n,De(e)?e:a);return e===Ae(a)&&(i?(0,r.$H)(n,o)&&V(e,"set",t,n,o):V(e,"add",t,n)),s}deleteProperty(e,t){const n=(0,r.$3)(e,t),a=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&V(e,"delete",t,void 0,a),o}has(e,t){const n=Reflect.has(e,t);return(0,r.Bm)(t)&&q.has(t)||M(e,"has",t),n}ownKeys(e){return M(e,"iterate",(0,r.cy)(e)?"length":D),Reflect.ownKeys(e)}}class Z extends Y{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ee=new J,te=new Z,ne=new J(!0),re=new Z(!0),ae=e=>e,oe=e=>Reflect.getPrototypeOf(e);function ie(e,t,n){return function(...a){const o=this["__v_raw"],i=Ae(o),s=(0,r.CE)(i),l="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,c=o[e](...a),d=n?ae:t?Ne:Oe;return!t&&M(i,"iterate",u?L:D),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function se(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function le(e,t){const n={get(n){const a=this["__v_raw"],o=Ae(a),i=Ae(n);e||((0,r.$H)(n,i)&&M(o,"get",n),M(o,"get",i));const{has:s}=oe(o),l=t?ae:e?Ne:Oe;return s.call(o,n)?l(a.get(n)):s.call(o,i)?l(a.get(i)):void(a!==o&&a.get(n))},get size(){const t=this["__v_raw"];return!e&&M(Ae(t),"iterate",D),Reflect.get(t,"size",t)},has(t){const n=this["__v_raw"],a=Ae(n),o=Ae(t);return e||((0,r.$H)(t,o)&&M(a,"has",t),M(a,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)},forEach(n,r){const a=this,o=a["__v_raw"],i=Ae(o),s=t?ae:e?Ne:Oe;return!e&&M(i,"iterate",D),o.forEach((e,t)=>n.call(r,s(e),s(t),a))}};(0,r.X$)(n,e?{add:se("add"),set:se("set"),delete:se("delete"),clear:se("clear")}:{add(e){t||Re(e)||Ce(e)||(e=Ae(e));const n=Ae(this),r=oe(n),a=r.has.call(n,e);return a||(n.add(e),V(n,"add",e,e)),this},set(e,n){t||Re(n)||Ce(n)||(n=Ae(n));const a=Ae(this),{has:o,get:i}=oe(a);let s=o.call(a,e);s||(e=Ae(e),s=o.call(a,e));const l=i.call(a,e);return a.set(e,n),s?(0,r.$H)(n,l)&&V(a,"set",e,n,l):V(a,"add",e,n),this},delete(e){const t=Ae(this),{has:n,get:r}=oe(t);let a=n.call(t,e);a||(e=Ae(e),a=n.call(t,e));const o=r?r.call(t,e):void 0,i=t.delete(e);return a&&V(t,"delete",e,void 0,o),i},clear(){const e=Ae(this),t=0!==e.size,n=void 0,r=e.clear();return t&&V(e,"clear",void 0,void 0,n),r}});const a=["keys","values","entries",Symbol.iterator];return a.forEach(r=>{n[r]=ie(r,e,t)}),n}function ue(e,t){const n=le(e,t);return(t,a,o)=>"__v_isReactive"===a?!e:"__v_isReadonly"===a?e:"__v_raw"===a?t:Reflect.get((0,r.$3)(n,a)&&a in t?n:t,a,o)}const ce={get:ue(!1,!1)},de={get:ue(!1,!0)},he={get:ue(!0,!1)},fe={get:ue(!0,!0)};const pe=new WeakMap,ve=new WeakMap,me=new WeakMap,ge=new WeakMap;function ye(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function be(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ye((0,r.Zf)(e))}function we(e){return Ce(e)?e:Se(e,!1,ee,ce,pe)}function _e(e){return Se(e,!1,ne,de,ve)}function Ee(e){return Se(e,!0,te,he,me)}function Te(e){return Se(e,!0,re,fe,ge)}function Se(e,t,n,a,o){if(!(0,r.Gv)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const i=be(e);if(0===i)return e;const s=o.get(e);if(s)return s;const l=new Proxy(e,2===i?a:n);return o.set(e,l),l}function ke(e){return Ce(e)?ke(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ce(e){return!(!e||!e["__v_isReadonly"])}function Re(e){return!(!e||!e["__v_isShallow"])}function Ie(e){return!!e&&!!e["__v_raw"]}function Ae(e){const t=e&&e["__v_raw"];return t?Ae(t):e}function xe(e){return!(0,r.$3)(e,"__v_skip")&&Object.isExtensible(e)&&(0,r.yQ)(e,"__v_skip",!0),e}const Oe=e=>(0,r.Gv)(e)?we(e):e,Ne=e=>(0,r.Gv)(e)?Ee(e):e;function De(e){return!!e&&!0===e["__v_isRef"]}function Le(e){return Me(e,!1)}function Pe(e){return Me(e,!0)}function Me(e,t){return De(e)?e:new Ve(e,t)}class Ve{constructor(e,t){this.dep=new x,this["__v_isRef"]=!0,this["__v_isShallow"]=!1,this._rawValue=t?e:Ae(e),this._value=t?e:Oe(e),this["__v_isShallow"]=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this["__v_isShallow"]||Re(e)||Ce(e);e=n?e:Ae(e),(0,r.$H)(e,t)&&(this._rawValue=e,this._value=n?e:Oe(e),this.dep.trigger())}}function Fe(e){return De(e)?e.value:e}const $e={get:(e,t,n)=>"__v_raw"===t?e:Fe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return De(a)&&!De(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function Be(e){return ke(e)?e:new Proxy(e,$e)}class We{constructor(e){this["__v_isRef"]=!0,this._value=void 0;const t=this.dep=new x,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Ue(e){return new We(e)}function je(e){const t=(0,r.cy)(e)?new Array(e.length):{};for(const n in e)t[n]=Ke(e,n);return t}class Ge{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this["__v_isRef"]=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return F(Ae(this._object),this._key)}}class ze{constructor(e){this._getter=e,this["__v_isRef"]=!0,this["__v_isReadonly"]=!0,this._value=void 0}get value(){return this._value=this._getter()}}function He(e,t,n){return De(e)?e:(0,r.Tn)(e)?new ze(e):(0,r.Gv)(e)&&arguments.length>1?Ke(e,t,n):Le(e)}function Ke(e,t,n){const r=e[t];return De(r)?r:new Ge(e,t,n)}class Xe{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new x(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=I-1,this.next=void 0,this.effect=this,this["__v_isReadonly"]=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags||o===this))return p(this,!0),!0}get value(){const e=this.dep.track();return w(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qe(e,t,n=!1){let a,o;(0,r.Tn)(e)?a=e:(a=e.get,o=e.set);const i=new Xe(a,o,n);return i}const Qe={},Ye=new WeakMap;let Je;function Ze(e,t=!1,n=Je){if(n){let t=Ye.get(n);t||Ye.set(n,t=[]),t.push(e)}else 0}function et(e,t,n=r.MZ){const{immediate:a,deep:o,once:i,scheduler:l,augmentJob:u,call:d}=n,h=e=>o?e:Re(e)||!1===o||0===o?tt(e,1):tt(e);let f,p,v,m,g=!1,y=!1;if(De(e)?(p=()=>e.value,g=Re(e)):ke(e)?(p=()=>h(e),g=!0):(0,r.cy)(e)?(y=!0,g=e.some(e=>ke(e)||Re(e)),p=()=>e.map(e=>De(e)?e.value:ke(e)?h(e):(0,r.Tn)(e)?d?d(e,2):e():void 0)):p=(0,r.Tn)(e)?t?d?()=>d(e,2):e:()=>{if(v){k();try{v()}finally{C()}}const t=Je;Je=f;try{return d?d(e,3,[m]):e(m)}finally{Je=t}}:r.tE,t&&o){const e=p,t=!0===o?1/0:o;p=()=>tt(e(),t)}const b=s(),w=()=>{f.stop(),b&&b.active&&(0,r.TF)(b.effects,f)};if(i&&t){const e=t;t=(...t)=>{e(...t),w()}}let _=y?new Array(e.length).fill(Qe):Qe;const E=e=>{if(1&f.flags&&(f.dirty||e))if(t){const e=f.run();if(o||g||(y?e.some((e,t)=>(0,r.$H)(e,_[t])):(0,r.$H)(e,_))){v&&v();const n=Je;Je=f;try{const n=[e,_===Qe?void 0:y&&_[0]===Qe?[]:_,m];_=e,d?d(t,3,n):t(...n)}finally{Je=n}}}else f.run()};return u&&u(E),f=new c(p),f.scheduler=l?()=>l(E,!1):E,m=e=>Ze(e,!1,f),v=f.onStop=()=>{const e=Ye.get(f);if(e){if(d)d(e,4);else for(const t of e)t();Ye.delete(f)}},t?a?E(!0):_=f.run():l?l(E.bind(null,!0),!0):f.run(),w.pause=f.pause.bind(f),w.resume=f.resume.bind(f),w.stop=w,w}function tt(e,t=1/0,n){if(t<=0||!(0,r.Gv)(e)||e["__v_skip"])return e;if(n=n||new Set,n.has(e))return e;if(n.add(e),t--,De(e))tt(e.value,t,n);else if((0,r.cy)(e))for(let r=0;r<e.length;r++)tt(e[r],t,n);else if((0,r.vM)(e)||(0,r.CE)(e))e.forEach(e=>{tt(e,t,n)});else if((0,r.Qd)(e)){for(const r in e)tt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&tt(e[r],t,n)}return e}},959:(e,t,n)=>{n.d(t,{Wp:()=>Mh,_h:()=>mh});
/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */
var r={version:"0.18.5"},a=1200,o=1252,i=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],s={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},l=function(e){-1!=i.indexOf(e)&&(o=s[0]=e)};function u(){l(1252)}var c=function(e){a=e,l(e)};function d(){c(1200),u()}function h(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var f,p=function(e){return String.fromCharCode(e)},v=function(e){return String.fromCharCode(e)};var m=null,g=!0,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(e){for(var t="",n=0,r=0,a=0,o=0,i=0,s=0,l=0,u=0;u<e.length;)n=e.charCodeAt(u++),o=n>>2,r=e.charCodeAt(u++),i=(3&n)<<4|r>>4,a=e.charCodeAt(u++),s=(15&r)<<2|a>>6,l=63&a,isNaN(r)?s=l=64:isNaN(a)&&(l=64),t+=y.charAt(o)+y.charAt(i)+y.charAt(s)+y.charAt(l);return t}function w(e){var t="",n=0,r=0,a=0,o=0,i=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)o=y.indexOf(e.charAt(u++)),i=y.indexOf(e.charAt(u++)),n=o<<2|i>>4,t+=String.fromCharCode(n),s=y.indexOf(e.charAt(u++)),r=(15&i)<<4|s>>2,64!==s&&(t+=String.fromCharCode(r)),l=y.indexOf(e.charAt(u++)),a=(3&s)<<6|l,64!==l&&(t+=String.fromCharCode(a));return t}var _=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),E=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function T(e){return _?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function S(e){return _?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var k=function(e){return _?E(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function C(e){if("undefined"===typeof ArrayBuffer)return k(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function R(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function I(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}var A=_?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:E(e)}))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};function x(e){for(var t=[],n=0,r=e.length+250,a=T(e.length+255),o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i<128)a[n++]=i;else if(i<2048)a[n++]=192|i>>6&31,a[n++]=128|63&i;else if(i>=55296&&i<57344){i=64+(1023&i);var s=1023&e.charCodeAt(++o);a[n++]=240|i>>8&7,a[n++]=128|i>>2&63,a[n++]=128|s>>6&15|(3&i)<<4,a[n++]=128|63&s}else a[n++]=224|i>>12&15,a[n++]=128|i>>6&63,a[n++]=128|63&i;n>r&&(t.push(a.slice(0,n)),n=0,a=T(65535),r=65530)}return t.push(a.slice(0,n)),A(t)}var O=/\u0000/g,N=/[\u0001-\u0006]/g;function D(e){var t="",n=e.length-1;while(n>=0)t+=e.charAt(n--);return t}function L(e,t){var n=""+e;return n.length>=t?n:ft("0",t-n.length)+n}function P(e,t){var n=""+e;return n.length>=t?n:ft(" ",t-n.length)+n}function M(e,t){var n=""+e;return n.length>=t?n:n+ft(" ",t-n.length)}function V(e,t){var n=""+Math.round(e);return n.length>=t?n:ft("0",t-n.length)+n}function F(e,t){var n=""+e;return n.length>=t?n:ft("0",t-n.length)+n}var B=Math.pow(2,32);function W(e,t){if(e>B||e<-B)return V(e,t);var n=Math.round(e);return F(n,t)}function U(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var j=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],G=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function z(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var H={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},K={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},X={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function q(e,t,n){var r=e<0?-1:1,a=e*r,o=0,i=1,s=0,l=1,u=0,c=0,d=Math.floor(a);while(u<t){if(d=Math.floor(a),s=d*i+o,c=d*u+l,a-d<5e-8)break;a=1/(a-d),o=i,i=s,l=u,u=c}if(c>t&&(u>t?(c=l,s=o):(c=u,s=i)),!n)return[0,r*s,c];var h=Math.floor(r*s/c);return[h,r*s-h*c,c]}function Q(e,t,n){if(e>2958465||e<0)return null;var r=0|e,a=Math.floor(86400*(e-r)),o=0,i=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,86400==++a&&(s.T=a=0,++r,++s.D)),60===r)i=n?[1317,10,29]:[1900,2,29],o=3;else if(0===r)i=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],o=l.getDay(),r<60&&(o=(o+6)%7),n&&(o=se(l,i))}return s.y=i[0],s.m=i[1],s.d=i[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=o,s}var Y=new Date(1899,11,31,0,0,0),J=Y.getTime(),Z=new Date(1900,2,1,0,0,0);function ee(e,t){var n=e.getTime();return t?n-=1262304e5:e>=Z&&(n+=864e5),(n-(J+6e4*(e.getTimezoneOffset()-Y.getTimezoneOffset())))/864e5}function te(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ne(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function re(e){var t=e<0?12:11,n=te(e.toFixed(12));return n.length<=t?n:(n=e.toPrecision(10),n.length<=t?n:e.toExponential(5))}function ae(e){var t=te(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}function oe(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?re(e):10===n?e.toFixed(10).substr(0,12):ae(e),te(ne(t.toUpperCase()))}function ie(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):oe(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Fe(14,ee(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function se(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function le(e,t,n,r){var a,o="",i=0,s=0,l=n.y,u=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,u=2;break;default:a=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:a=n.m,u=t.length;break;case 3:return G[n.m-1][1];case 5:return G[n.m-1][0];default:return G[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=n.d,u=t.length;break;case 3:return j[n.q][0];default:return j[n.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(s=r>=2?3===r?1e3:100:1===r?10:1,i=Math.round(s*(n.S+n.u)),i>=60*s&&(i=0),"s"===t?0===i?"0":""+i/s:(o=L(i,2+r),"ss"===t?o.substr(0,2):"."+o.substr(2,t.length-1))):L(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*n.D+n.H;break;case"[m]":case"[mm]":a=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":a=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=3===t.length?1:2;break;case 101:a=l,u=1;break}var c=u>0?L(a,u):"";return c}function ue(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var ce=/%/g;function de(e,t,n){var r=t.replace(ce,""),a=t.length-r.length;return xe(e,r,n*Math.pow(10,2*a))+ft("%",a)}function he(e,t,n){var r=t.length-1;while(44===t.charCodeAt(r-1))--r;return xe(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function fe(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+fe(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%a;if(o<0&&(o+=a),n=(t/Math.pow(10,o)).toPrecision(r+1+(a+o)%a),-1===n.indexOf("e")){var i=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+o):n+="E+"+(i-o);while("0."===n.substr(0,2))n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(a+o)%a)+"."+r.substr(o)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var pe=/# (\?+)( ?)\/( ?)(\d+)/;function ve(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),o=Math.floor(a/r),i=a-o*r,s=r;return n+(0===o?"":""+o)+" "+(0===i?ft(" ",e[1].length+1+e[4].length):P(i,e[1].length)+e[2]+"/"+e[3]+L(s,e[4].length))}function me(e,t,n){return n+(0===t?"":""+t)+ft(" ",e[1].length+2+e[4].length)}var ge=/^#*0*\.([0#]+)/,ye=/\).*[0#]/,be=/\(###\) ###\\?-####/;function we(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function _e(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Ee(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Te(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Se(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}function ke(e,t,n){if(40===e.charCodeAt(0)&&!t.match(ye)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ke("n",r,n):"("+ke("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return he(e,t,n);if(-1!==t.indexOf("%"))return de(e,t,n);if(-1!==t.indexOf("E"))return fe(t,n);if(36===t.charCodeAt(0))return"$"+ke(e,t.substr(" "==t.charAt(1)?2:1),n);var a,o,i,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+W(l,t.length);if(t.match(/^[#?]+$/))return a=W(n,0),"0"===a&&(a=""),a.length>t.length?a:we(t.substr(0,t.length-a.length))+a;if(o=t.match(pe))return ve(o,l,u);if(t.match(/^#+0+$/))return u+W(l,t.length-t.indexOf("0"));if(o=t.match(ge))return a=_e(n,o[1].length).replace(/^([^\.]+)$/,"$1."+we(o[1])).replace(/\.$/,"."+we(o[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+ft("0",we(o[1]).length-t.length)}),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return u+_e(l,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return u+ue(W(l,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ke(e,t,-n):ue(""+(Math.floor(n)+Te(n,o[1].length)))+"."+L(Ee(n,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return ke(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=D(ke(e,t.replace(/[\\-]/g,""),n)),i=0,D(D(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<a.length?a.charAt(i++):"0"===e?"0":""}));if(t.match(be))return a=ke(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var c="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(o[4].length,7),s=q(l,Math.pow(10,i)-1,!1),a=""+u,c=xe("n",o[1],s[1])," "==c.charAt(c.length-1)&&(c=c.substr(0,c.length-1)+"0"),a+=c+o[2]+"/"+o[3],c=M(s[2],i),c.length<o[4].length&&(c=we(o[4].substr(o[4].length-c.length))+c),a+=c,a;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(o[1].length,o[4].length),7),s=q(l,Math.pow(10,i)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?P(s[1],i)+o[2]+"/"+o[3]+M(s[2],i):ft(" ",2*i+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return a=W(n,0),t.length<=a.length?a:we(t.substr(0,t.length-a.length))+a;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var d=t.indexOf(".")-i,h=t.length-a.length-d;return we(t.substr(0,d)+a+t.substr(t.length-h))}if(o=t.match(/^00,000\.([#0]*0)$/))return i=Ee(n,o[1].length),n<0?"-"+ke(e,t,-n):ue(Se(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?L(0,3-e.length):"")+e})+"."+L(i,o[1].length);switch(t){case"###,##0.00":return ke(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=ue(W(l,0));return"0"!==f?u+f:"";case"###,###.00":return ke(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ke(e,"#,##0.00",n).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function Ce(e,t,n){var r=t.length-1;while(44===t.charCodeAt(r-1))--r;return xe(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function Re(e,t,n){var r=t.replace(ce,""),a=t.length-r.length;return xe(e,r,n*Math.pow(10,2*a))+ft("%",a)}function Ie(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Ie(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%a;if(o<0&&(o+=a),n=(t/Math.pow(10,o)).toPrecision(r+1+(a+o)%a),!n.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+o):n+="E+"+(i-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(a+o)%a)+"."+r.substr(o)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ae(e,t,n){if(40===e.charCodeAt(0)&&!t.match(ye)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ae("n",r,n):"("+Ae("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return Ce(e,t,n);if(-1!==t.indexOf("%"))return Re(e,t,n);if(-1!==t.indexOf("E"))return Ie(t,n);if(36===t.charCodeAt(0))return"$"+Ae(e,t.substr(" "==t.charAt(1)?2:1),n);var a,o,i,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+L(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,0===n&&(a=""),a.length>t.length?a:we(t.substr(0,t.length-a.length))+a;if(o=t.match(pe))return me(o,l,u);if(t.match(/^#+0+$/))return u+L(l,t.length-t.indexOf("0"));if(o=t.match(ge))return a=(""+n).replace(/^([^\.]+)$/,"$1."+we(o[1])).replace(/\.$/,"."+we(o[1])),a=a.replace(/\.(\d*)$/,function(e,t){return"."+t+ft("0",we(o[1]).length-t.length)}),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return u+ue(""+l);if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ae(e,t,-n):ue(""+n)+"."+ft("0",o[1].length);if(o=t.match(/^#,#*,#0/))return Ae(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=D(Ae(e,t.replace(/[\\-]/g,""),n)),i=0,D(D(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<a.length?a.charAt(i++):"0"===e?"0":""}));if(t.match(be))return a=Ae(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var c="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(o[4].length,7),s=q(l,Math.pow(10,i)-1,!1),a=""+u,c=xe("n",o[1],s[1])," "==c.charAt(c.length-1)&&(c=c.substr(0,c.length-1)+"0"),a+=c+o[2]+"/"+o[3],c=M(s[2],i),c.length<o[4].length&&(c=we(o[4].substr(o[4].length-c.length))+c),a+=c,a;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(o[1].length,o[4].length),7),s=q(l,Math.pow(10,i)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?P(s[1],i)+o[2]+"/"+o[3]+M(s[2],i):ft(" ",2*i+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:we(t.substr(0,t.length-a.length))+a;if(o=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var d=t.indexOf(".")-i,h=t.length-a.length-d;return we(t.substr(0,d)+a+t.substr(t.length-h))}if(o=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ae(e,t,-n):ue(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?L(0,3-e.length):"")+e})+"."+L(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=ue(""+l);return"0"!==f?u+f:"";default:if(t.match(/\.[0#?]*$/))return Ae(e,t.slice(0,t.lastIndexOf(".")),n)+we(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function xe(e,t,n){return(0|n)===n?Ae(e,t,n):ke(e,t,n)}function Oe(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}var Ne=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function De(e){var t=0,n="",r="";while(t<e.length)switch(n=e.charAt(t)){case"G":U(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":r=n;while("]"!==e.charAt(t++)&&t<e.length)r+=e.charAt(t);if(r.match(Ne))return!0;break;case".":case"0":case"#":while(t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1));break;case"?":while(e.charAt(++t)===n);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":while(t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1);break;case" ":++t;break;default:++t;break}return!1}function Le(e,t,n,r){var a,o,i,s=[],l="",u=0,c="",d="t",h="H";while(u<e.length)switch(c=e.charAt(u)){case"G":if(!U(e,u))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},u+=7;break;case'"':for(l="";34!==(i=e.charCodeAt(++u))&&u<e.length;)l+=String.fromCharCode(i);s[s.length]={t:"t",v:l},++u;break;case"\\":var f=e.charAt(++u),p="("===f||")"===f?f:"t";s[s.length]={t:p,v:f},++u;break;case"_":s[s.length]={t:"t",v:" "},u+=2;break;case"@":s[s.length]={t:"T",v:t},++u;break;case"B":case"b":if("1"===e.charAt(u+1)||"2"===e.charAt(u+1)){if(null==a&&(a=Q(t,n,"2"===e.charAt(u+1)),null==a))return"";s[s.length]={t:"X",v:e.substr(u,2)},d=c,u+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&(a=Q(t,n),null==a))return"";l=c;while(++u<e.length&&e.charAt(u).toLowerCase()===c)l+=c;"m"===c&&"h"===d.toLowerCase()&&(c="M"),"h"===c&&(c=h),s[s.length]={t:c,v:l},d=c;break;case"A":case"a":case"":var v={t:c,v:c};if(null==a&&(a=Q(t,n)),"A/P"===e.substr(u,3).toUpperCase()?(null!=a&&(v.v=a.H>=12?"P":"A"),v.t="T",h="h",u+=3):"AM/PM"===e.substr(u,5).toUpperCase()?(null!=a&&(v.v=a.H>=12?"PM":"AM"),v.t="T",u+=5,h="h"):"/"===e.substr(u,5).toUpperCase()?(null!=a&&(v.v=a.H>=12?"":""),v.t="T",u+=5,h="h"):(v.t="t",++u),null==a&&"T"===v.t)return"";s[s.length]=v,d=c;break;case"[":l=c;while("]"!==e.charAt(u++)&&u<e.length)l+=e.charAt(u);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(Ne)){if(null==a&&(a=Q(t,n),null==a))return"";s[s.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",De(e)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=a){l=c;while(++u<e.length&&"0"===(c=e.charAt(u)))l+=c;s[s.length]={t:"s",v:l};break}case"0":case"#":l=c;while(++u<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(u))>-1)l+=c;s[s.length]={t:"n",v:l};break;case"?":l=c;while(e.charAt(++u)===c)l+=c;s[s.length]={t:c,v:l},d=c;break;case"*":++u," "!=e.charAt(u)&&"*"!=e.charAt(u)||++u;break;case"(":case")":s[s.length]={t:1===r?"t":c,v:c},++u;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":l=c;while(u<e.length&&"0123456789".indexOf(e.charAt(++u))>-1)l+=e.charAt(u);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:c,v:c},++u;break;case"$":s[s.length]={t:"t",v:"$"},++u;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++u;break}var m,g=0,y=0;for(u=s.length-1,d="t";u>=0;--u)switch(s[u].t){case"h":case"H":s[u].t=h,d="h",g<1&&(g=1);break;case"s":(m=s[u].v.match(/\.0+$/))&&(y=Math.max(y,m[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":d=s[u].t;break;case"m":"s"===d&&(s[u].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[u].v.match(/[Hh]/)&&(g=1),g<2&&s[u].v.match(/[Mm]/)&&(g=2),g<3&&s[u].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M);break}var b,w="";for(u=0;u<s.length;++u)switch(s[u].t){case"t":case"T":case" ":case"D":break;case"X":s[u].v="",s[u].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[u].v=le(s[u].t.charCodeAt(0),s[u].v,a,y),s[u].t="t";break;case"n":case"?":b=u+1;while(null!=s[b]&&("?"===(c=s[b].t)||"D"===c||(" "===c||"t"===c)&&null!=s[b+1]&&("?"===s[b+1].t||"t"===s[b+1].t&&"/"===s[b+1].v)||"("===s[u].t&&(" "===c||"n"===c||")"===c)||"t"===c&&("/"===s[b].v||" "===s[b].v&&null!=s[b+1]&&"?"==s[b+1].t)))s[u].v+=s[b].v,s[b]={v:"",t:";"},++b;w+=s[u].v,u=b-1;break;case"G":s[u].t="t",s[u].v=ie(t,n);break}var _,E,T="";if(w.length>0){40==w.charCodeAt(0)?(_=t<0&&45===w.charCodeAt(0)?-t:t,E=xe("n",w,_)):(_=t<0&&r>1?-t:t,E=xe("n",w,_),_<0&&s[0]&&"t"==s[0].t&&(E=E.substr(1),s[0].v="-"+s[0].v)),b=E.length-1;var S=s.length;for(u=0;u<s.length;++u)if(null!=s[u]&&"t"!=s[u].t&&s[u].v.indexOf(".")>-1){S=u;break}var k=s.length;if(S===s.length&&-1===E.indexOf("E")){for(u=s.length-1;u>=0;--u)null!=s[u]&&-1!=="n?".indexOf(s[u].t)&&(b>=s[u].v.length-1?(b-=s[u].v.length,s[u].v=E.substr(b+1,s[u].v.length)):b<0?s[u].v="":(s[u].v=E.substr(0,b+1),b=-1),s[u].t="t",k=u);b>=0&&k<s.length&&(s[k].v=E.substr(0,b+1)+s[k].v)}else if(S!==s.length&&-1===E.indexOf("E")){for(b=E.indexOf(".")-1,u=S;u>=0;--u)if(null!=s[u]&&-1!=="n?".indexOf(s[u].t)){for(o=s[u].v.indexOf(".")>-1&&u===S?s[u].v.indexOf(".")-1:s[u].v.length-1,T=s[u].v.substr(o+1);o>=0;--o)b>=0&&("0"===s[u].v.charAt(o)||"#"===s[u].v.charAt(o))&&(T=E.charAt(b--)+T);s[u].v=T,s[u].t="t",k=u}for(b>=0&&k<s.length&&(s[k].v=E.substr(0,b+1)+s[k].v),b=E.indexOf(".")+1,u=S;u<s.length;++u)if(null!=s[u]&&(-1!=="n?(".indexOf(s[u].t)||u===S)){for(o=s[u].v.indexOf(".")>-1&&u===S?s[u].v.indexOf(".")+1:0,T=s[u].v.substr(0,o);o<s[u].v.length;++o)b<E.length&&(T+=E.charAt(b++));s[u].v=T,s[u].t="t",k=u}}}for(u=0;u<s.length;++u)null!=s[u]&&"n?".indexOf(s[u].t)>-1&&(_=r>1&&t<0&&u>0&&"-"===s[u-1].v?-t:t,s[u].v=xe(s[u].t,s[u].v,_),s[u].t="t");var C="";for(u=0;u!==s.length;++u)null!=s[u]&&(C+=s[u].v);return C}var Pe=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Me(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function Ve(e,t){var n=Oe(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:break}var o=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,o];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var i=n[0].match(Pe),s=n[1].match(Pe);return Me(t,i)?[r,n[0]]:Me(t,s)?[r,n[1]]:[r,n[null!=i&&null!=s?2:1]]}return[r,o]}function Fe(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:H)[e],null==r&&(r=n.table&&n.table[K[e]]||H[K[e]]),null==r&&(r=X[e]||"General");break}if(U(r,0))return ie(t,n);t instanceof Date&&(t=ee(t,n.date1904));var a=Ve(r,t);if(U(a[1]))return ie(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return Le(a[1],t,n,a[0])}function $e(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=H[n]){if(H[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return H[t]=e,t}function Be(e){for(var t=0;392!=t;++t)void 0!==e[t]&&$e(e[t],t)}function We(){H=z()}var Ue=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function je(e){var t="number"==typeof e?H[e]:e;return t=t.replace(Ue,"(\\d+)"),new RegExp("^"+t+"$")}function Ge(e,t,n){var r=-1,a=-1,o=-1,i=-1,s=-1,l=-1;(t.match(Ue)||[]).forEach(function(e,t){var u=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=u;break;case"d":o=u;break;case"h":i=u;break;case"s":l=u;break;case"m":i>=0?s=u:a=u;break}}),l>=0&&-1==s&&a>=0&&(s=a,a=-1);var u=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);7==u.length&&(u="0"+u),8==u.length&&(u="20"+u);var c=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==i&&-1==s&&-1==l?u:-1==r&&-1==a&&-1==o?c:u+"T"+c}var ze=function(){var e={};function t(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=n,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}e.version="1.2.0";var n=t();function r(e){var t=0,n=0,r=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)a[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=a[t]=n>>>8^e[255&n];var o=[];for(r=1;16!=r;++r)o[r-1]="undefined"!==typeof Int32Array?a.subarray(256*r,256*r+256):a.slice(256*r,256*r+256);return o}var a=r(n),o=a[0],i=a[1],s=a[2],l=a[3],u=a[4],c=a[5],d=a[6],h=a[7],f=a[8],p=a[9],v=a[10],m=a[11],g=a[12],y=a[13],b=a[14];function w(e,t){for(var r=-1^t,a=0,o=e.length;a<o;)r=r>>>8^n[255&(r^e.charCodeAt(a++))];return~r}function _(e,t){for(var r=-1^t,a=e.length-15,w=0;w<a;)r=b[e[w++]^255&r]^y[e[w++]^r>>8&255]^g[e[w++]^r>>16&255]^m[e[w++]^r>>>24]^v[e[w++]]^p[e[w++]]^f[e[w++]]^h[e[w++]]^d[e[w++]]^c[e[w++]]^u[e[w++]]^l[e[w++]]^s[e[w++]]^i[e[w++]]^o[e[w++]]^n[e[w++]];a+=15;while(w<a)r=r>>>8^n[255&(r^e[w++])];return~r}function E(e,t){for(var r=-1^t,a=0,o=e.length,i=0,s=0;a<o;)i=e.charCodeAt(a++),i<128?r=r>>>8^n[255&(r^i)]:i<2048?(r=r>>>8^n[255&(r^(192|i>>6&31))],r=r>>>8^n[255&(r^(128|63&i))]):i>=55296&&i<57344?(i=64+(1023&i),s=1023&e.charCodeAt(a++),r=r>>>8^n[255&(r^(240|i>>8&7))],r=r>>>8^n[255&(r^(128|i>>2&63))],r=r>>>8^n[255&(r^(128|s>>6&15|(3&i)<<4))],r=r>>>8^n[255&(r^(128|63&s))]):(r=r>>>8^n[255&(r^(224|i>>12&15))],r=r>>>8^n[255&(r^(128|i>>6&63))],r=r>>>8^n[255&(r^(128|63&i))]);return~r}return e.table=n,e.bstr=w,e.buf=_,e.str=E,e}(),He=function(){var e,t={};function n(e,t){for(var n=e.split("/"),r=t.split("/"),a=0,o=0,i=Math.min(n.length,r.length);a<i;++a){if(o=n[a].length-r[a].length)return o;if(n[a]!=r[a])return n[a]<r[a]?-1:1}return n.length-r.length}function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function a(e){if("/"==e.charAt(e.length-1))return a(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function o(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=n<<6|t.getMinutes(),n=n<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=r<<4|t.getMonth()+1,r=r<<5|t.getDate(),e.write_shift(2,r)}function i(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,a=31&n;n>>>=5;var o=15&n;n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(o-1),r.setDate(a);var i=31&t;t>>>=5;var s=63&t;return t>>>=6,r.setHours(t),r.setMinutes(s),r.setSeconds(i<<1),r}function s(e){xn(e,0);var t={},n=0;while(e.l<=e.length-4){var r=e.read_shift(2),a=e.read_shift(2),o=e.l+a,i={};switch(r){case 21589:n=e.read_shift(1),1&n&&(i.mtime=e.read_shift(4)),a>5&&(2&n&&(i.atime=e.read_shift(4)),4&n&&(i.ctime=e.read_shift(4))),i.mtime&&(i.mt=new Date(1e3*i.mtime));break}e.l=o,t[r]=i}return t}function l(){return e||(e={})}function u(e,t){if(80==e[0]&&75==e[1])return Oe(e,t);if(109==(32|e[0])&&105==(32|e[1]))return Be(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n=3,r=512,a=0,o=0,i=0,s=0,l=0,u=[],p=e.slice(0,512);xn(p,0);var m=c(p);switch(n=m[0],n){case 3:r=512;break;case 4:r=4096;break;case 0:if(0==m[1])return Oe(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==r&&(p=e.slice(0,r),xn(p,28));var b=e.slice(0,r);d(p,n);var w=p.read_shift(4,"i");if(3===n&&0!==w)throw new Error("# Directory Sectors: Expected 0 saw "+w);p.l+=4,i=p.read_shift(4,"i"),p.l+=4,p.chk("00100000","Mini Stream Cutoff Size: "),s=p.read_shift(4,"i"),a=p.read_shift(4,"i"),l=p.read_shift(4,"i"),o=p.read_shift(4,"i");for(var _=-1,E=0;E<109;++E){if(_=p.read_shift(4,"i"),_<0)break;u[E]=_}var T=h(e,r);v(l,o,T,r,u);var S=g(T,i,u,r);S[i].name="!Directory",a>0&&s!==$&&(S[s].name="!MiniFAT"),S[u[0]].name="!FAT",S.fat_addrs=u,S.ssz=r;var k={},C=[],R=[],I=[];y(i,S,T,C,a,k,R,s),f(R,I,C),C.shift();var A={FileIndex:R,FullPaths:I};return t&&t.raw&&(A.raw={header:b,sectors:T}),A}function c(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(B,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}function d(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}function h(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],a=1;a<n;++a)r[a-1]=e.slice(a*t,(a+1)*t);return r[n-1]=e.slice(n*t),r}function f(e,t,n){for(var r=0,a=0,o=0,i=0,s=0,l=n.length,u=[],c=[];r<l;++r)u[r]=c[r]=r,t[r]=n[r];for(;s<c.length;++s)r=c[s],a=e[r].L,o=e[r].R,i=e[r].C,u[r]===r&&(-1!==a&&u[a]!==a&&(u[r]=u[a]),-1!==o&&u[o]!==o&&(u[r]=u[o])),-1!==i&&(u[i]=r),-1!==a&&r!=u[r]&&(u[a]=u[r],c.lastIndexOf(a)<s&&c.push(a)),-1!==o&&r!=u[r]&&(u[o]=u[r],c.lastIndexOf(o)<s&&c.push(o));for(r=1;r<l;++r)u[r]===r&&(-1!==o&&u[o]!==o?u[r]=u[o]:-1!==a&&u[a]!==a&&(u[r]=u[a]));for(r=1;r<l;++r)if(0!==e[r].type){if(s=r,s!=u[s])do{s=u[s],t[r]=t[s]+"/"+t[r]}while(0!==s&&-1!==u[s]&&s!=u[s]);u[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}function p(e,t,n){var r=e.start,a=e.size,o=[],i=r;while(n&&a>0&&i>=0)o.push(t.slice(i*F,i*F+F)),a-=F,i=En(n,4*i);return 0===o.length?Nn(0):A(o).slice(0,e.size)}function v(e,t,n,r,a){var o=$;if(e===$){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var i=n[e],s=(r>>>2)-1;if(!i)return;for(var l=0;l<s;++l){if((o=En(i,4*l))===$)break;a.push(o)}v(En(i,r-4),t-1,n,r,a)}}function m(e,t,n,r,a){var o=[],i=[];a||(a=[]);var s=r-1,l=0,u=0;for(l=t;l>=0;){a[l]=!0,o[o.length]=l,i.push(e[l]);var c=n[Math.floor(4*l/r)];if(u=4*l&s,r<4+u)throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[c])break;l=En(e[c],u)}return{nodes:o,data:Qt([i])}}function g(e,t,n,r){var a=e.length,o=[],i=[],s=[],l=[],u=r-1,c=0,d=0,h=0,f=0;for(c=0;c<a;++c)if(s=[],h=c+t,h>=a&&(h-=a),!i[h]){l=[];var p=[];for(d=h;d>=0;){p[d]=!0,i[d]=!0,s[s.length]=d,l.push(e[d]);var v=n[Math.floor(4*d/r)];if(f=4*d&u,r<4+f)throw new Error("FAT boundary crossed: "+d+" 4 "+r);if(!e[v])break;if(d=En(e[v],f),p[d])break}o[h]={nodes:s,data:Qt([l])}}return o}function y(e,t,n,r,a,o,i,s){for(var l,u=0,c=r.length?2:0,d=t[e].data,h=0,f=0;h<d.length;h+=128){var v=d.slice(h,h+128);xn(v,64),f=v.read_shift(2),l=Jt(v,0,f-c),r.push(l);var g={name:l,type:v.read_shift(1),color:v.read_shift(1),L:v.read_shift(4,"i"),R:v.read_shift(4,"i"),C:v.read_shift(4,"i"),clsid:v.read_shift(16),state:v.read_shift(4,"i"),start:0,size:0},y=v.read_shift(2)+v.read_shift(2)+v.read_shift(2)+v.read_shift(2);0!==y&&(g.ct=C(v,v.l-8));var b=v.read_shift(2)+v.read_shift(2)+v.read_shift(2)+v.read_shift(2);0!==b&&(g.mt=C(v,v.l-8)),g.start=v.read_shift(4,"i"),g.size=v.read_shift(4,"i"),g.size<0&&g.start<0&&(g.size=g.type=0,g.start=$,g.name=""),5===g.type?(u=g.start,a>0&&u!==$&&(t[u].name="!StreamData")):g.size>=4096?(g.storage="fat",void 0===t[g.start]&&(t[g.start]=m(n,g.start,t.fat_addrs,t.ssz)),t[g.start].name=g.name,g.content=t[g.start].data.slice(0,g.size)):(g.storage="minifat",g.size<0?g.size=0:u!==$&&g.start!==$&&t[u]&&(g.content=p(g,t[u].data,(t[s]||{}).data))),g.content&&xn(g.content,0),o[l]=g,i.push(g)}}function C(e,t){return new Date(1e3*(_n(e,t+4)/1e7*Math.pow(2,32)+_n(e,t)/1e7-11644473600))}function R(t,n){return l(),u(e.readFileSync(t),n)}function I(e,t){var n=t&&t.type;switch(n||_&&Buffer.isBuffer(e)&&(n="buffer"),n||"base64"){case"file":return R(e,t);case"base64":return u(k(w(e)),t);case"binary":return u(k(e),t)}return u(e,t)}function x(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),D(e)}function D(e){var t="Sh33tJ5";if(!He.find(e,"/"+t)){var n=Nn(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),L(e)}}function L(e,t){x(e);for(var o=!1,i=!1,s=e.FullPaths.length-1;s>=0;--s){var l=e.FileIndex[s];switch(l.type){case 0:i?o=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:i=!0,isNaN(l.R*l.L*l.C)&&(o=!0),l.R>-1&&l.L>-1&&l.R==l.L&&(o=!0);break;default:o=!0;break}}if(o||t){var u=new Date(1987,1,19),c=0,d=Object.create?Object.create(null):{},h=[];for(s=0;s<e.FullPaths.length;++s)d[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&h.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<h.length;++s){var f=r(h[s][0]);i=d[f],i||(h.push([f,{name:a(f).replace("/",""),type:1,clsid:U,ct:u,mt:u,content:null}]),d[f]=!0)}for(h.sort(function(e,t){return n(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],s=0;s<h.length;++s)e.FullPaths[s]=h[s][0],e.FileIndex[s]=h[s][1];for(s=0;s<h.length;++s){var p=e.FileIndex[s],v=e.FullPaths[s];if(p.name=a(v).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||U,0===s)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==v.slice(-1)){for(c=s+1;c<h.length;++c)if(r(e.FullPaths[c])==v)break;for(p.C=c>=h.length?-1:c,c=s+1;c<h.length;++c)if(r(e.FullPaths[c])==r(v))break;p.R=c>=h.length?-1:c,p.type=1}else r(e.FullPaths[s+1]||"")==r(v)&&(p.R=s+1),p.type=2}}}function P(e,t){var n=t||{};if("mad"==n.fileType)return We(e,n);switch(L(e),n.fileType){case"zip":return De(e,n)}var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var a=e.FileIndex[r];if(a.content){var o=a.content.length;o>0&&(o<4096?t+=o+63>>6:n+=o+511>>9)}}var i=e.FullPaths.length+3>>2,s=t+7>>3,l=t+127>>7,u=s+n+i+l,c=u+127>>7,d=c<=109?0:Math.ceil((c-109)/127);while(u+c+d+127>>7>c)d=++c<=109?0:Math.ceil((c-109)/127);var h=[1,d,c,l,i,n,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),a=Nn(r[7]<<9),o=0,i=0;for(o=0;o<8;++o)a.write_shift(1,W[o]);for(o=0;o<8;++o)a.write_shift(2,0);for(a.write_shift(2,62),a.write_shift(2,3),a.write_shift(2,65534),a.write_shift(2,9),a.write_shift(2,6),o=0;o<3;++o)a.write_shift(2,0);for(a.write_shift(4,0),a.write_shift(4,r[2]),a.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),a.write_shift(4,0),a.write_shift(4,4096),a.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:$),a.write_shift(4,r[3]),a.write_shift(-4,r[1]?r[0]-1:$),a.write_shift(4,r[1]),o=0;o<109;++o)a.write_shift(-4,o<r[2]?r[1]+o:-1);if(r[1])for(i=0;i<r[1];++i){for(;o<236+127*i;++o)a.write_shift(-4,o<r[2]?r[1]+o:-1);a.write_shift(-4,i===r[1]-1?$:i+1)}var s=function(e){for(i+=e;o<i-1;++o)a.write_shift(-4,o+1);e&&(++o,a.write_shift(-4,$))};for(i=o=0,i+=r[1];o<i;++o)a.write_shift(-4,j.DIFSECT);for(i+=r[2];o<i;++o)a.write_shift(-4,j.FATSECT);s(r[3]),s(r[4]);for(var l=0,u=0,c=e.FileIndex[0];l<e.FileIndex.length;++l)c=e.FileIndex[l],c.content&&(u=c.content.length,u<4096||(c.start=i,s(u+511>>9)));s(r[6]+7>>3);while(511&a.l)a.write_shift(-4,j.ENDOFCHAIN);for(i=o=0,l=0;l<e.FileIndex.length;++l)c=e.FileIndex[l],c.content&&(u=c.content.length,!u||u>=4096||(c.start=i,s(u+63>>6)));while(511&a.l)a.write_shift(-4,j.ENDOFCHAIN);for(o=0;o<r[4]<<2;++o){var d=e.FullPaths[o];if(d&&0!==d.length){c=e.FileIndex[o],0===o&&(c.start=c.size?c.start-1:$);var h=0===o&&n.root||c.name;if(u=2*(h.length+1),a.write_shift(64,h,"utf16le"),a.write_shift(2,u),a.write_shift(1,c.type),a.write_shift(1,c.color),a.write_shift(-4,c.L),a.write_shift(-4,c.R),a.write_shift(-4,c.C),c.clsid)a.write_shift(16,c.clsid,"hex");else for(l=0;l<4;++l)a.write_shift(4,0);a.write_shift(4,c.state||0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,c.start),a.write_shift(4,c.size),a.write_shift(4,0)}else{for(l=0;l<17;++l)a.write_shift(4,0);for(l=0;l<3;++l)a.write_shift(4,-1);for(l=0;l<12;++l)a.write_shift(4,0)}}for(o=1;o<e.FileIndex.length;++o)if(c=e.FileIndex[o],c.size>=4096)if(a.l=c.start+1<<9,_&&Buffer.isBuffer(c.content))c.content.copy(a,a.l,0,c.size),a.l+=c.size+511&-512;else{for(l=0;l<c.size;++l)a.write_shift(1,c.content[l]);for(;511&l;++l)a.write_shift(1,0)}for(o=1;o<e.FileIndex.length;++o)if(c=e.FileIndex[o],c.size>0&&c.size<4096)if(_&&Buffer.isBuffer(c.content))c.content.copy(a,a.l,0,c.size),a.l+=c.size+63&-64;else{for(l=0;l<c.size;++l)a.write_shift(1,c.content[l]);for(;63&l;++l)a.write_shift(1,0)}if(_)a.l=a.length;else while(a.l<a.length)a.write_shift(1,0);return a}function M(e,t){var n=e.FullPaths.map(function(e){return e.toUpperCase()}),r=n.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),a=!1;47===t.charCodeAt(0)?(a=!0,t=n[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var o=t.toUpperCase(),i=!0===a?n.indexOf(o):r.indexOf(o);if(-1!==i)return e.FileIndex[i];var s=!o.match(N);for(o=o.replace(O,""),s&&(o=o.replace(N,"!")),i=0;i<n.length;++i){if((s?n[i].replace(N,"!"):n[i]).replace(O,"")==o)return e.FileIndex[i];if((s?r[i].replace(N,"!"):r[i]).replace(O,"")==o)return e.FileIndex[i]}return null}t.version="1.2.1";var V,F=64,$=-2,B="d0cf11e0a1b11ae1",W=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",j={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:$,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(t,n,r){l();var a=P(t,r);e.writeFileSync(n,a)}function z(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function H(t,n){var r=P(t,n);switch(n&&n.type||"buffer"){case"file":return l(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:z(r);case"base64":return b("string"==typeof r?r:z(r));case"buffer":if(_)return Buffer.isBuffer(r)?r:E(r);case"array":return"string"==typeof r?k(r):r}return r}function K(e){try{var t=e.InflateRaw,n=new t;if(n._processChunk(new Uint8Array([3,0]),n._finishFlushFlag),!n.bytesRead)throw new Error("zlib does not expose bytesRead");V=e}catch(r){console.error("cannot use native zlib: "+(r.message||r))}}function X(e,t){if(!V)return Ae(e,t);var n=V.InflateRaw,r=new n,a=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,a}function q(e){return V?V.deflateRawSync(e):_e(e)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Z(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var ee="undefined"!==typeof Uint8Array,te=ee?new Uint8Array(256):[],ne=0;ne<256;++ne)te[ne]=Z(ne);function re(e,t){var n=te[255&e];return t<=8?n>>>8-t:(n=n<<8|te[e>>8&255],t<=16?n>>>16-t:(n=n<<8|te[e>>16&255],n>>>24-t))}function ae(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function oe(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function ie(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}function se(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function le(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function ue(e,t,n){var r=7&t,a=t>>>3,o=(1<<n)-1,i=e[a]>>>r;return n<8-r?i&o:(i|=e[a+1]<<8-r,n<16-r?i&o:(i|=e[a+2]<<16-r,n<24-r||(i|=e[a+3]<<24-r),i&o))}function ce(e,t,n){var r=7&t,a=t>>>3;return r<=5?e[a]|=(7&n)<<r:(e[a]|=n<<r&255,e[a+1]=(7&n)>>8-r),t+3}function de(e,t,n){var r=7&t,a=t>>>3;return n=(1&n)<<r,e[a]|=n,t+1}function he(e,t,n){var r=7&t,a=t>>>3;return n<<=r,e[a]|=255&n,n>>>=8,e[a+1]=n,t+8}function fe(e,t,n){var r=7&t,a=t>>>3;return n<<=r,e[a]|=255&n,n>>>=8,e[a+1]=255&n,e[a+2]=n>>>8,t+16}function pe(e,t){var n=e.length,r=2*n>t?2*n:t+5,a=0;if(n>=t)return e;if(_){var o=S(r);if(e.copy)e.copy(o);else for(;a<e.length;++a)o[a]=e[a];return o}if(ee){var i=new Uint8Array(r);if(i.set)i.set(e);else for(;a<n;++a)i[a]=e[a];return i}return e.length=r,e}function ve(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function me(e,t,n){var r=1,a=0,o=0,i=0,s=0,l=e.length,u=ee?new Uint16Array(32):ve(32);for(o=0;o<32;++o)u[o]=0;for(o=l;o<n;++o)e[o]=0;l=e.length;var c=ee?new Uint16Array(l):ve(l);for(o=0;o<l;++o)u[a=e[o]]++,r<a&&(r=a),c[o]=0;for(u[0]=0,o=1;o<=r;++o)u[o+16]=s=s+u[o-1]<<1;for(o=0;o<l;++o)s=e[o],0!=s&&(c[o]=u[s+16]++);var d=0;for(o=0;o<l;++o)if(d=e[o],0!=d)for(s=re(c[o],r)>>r-d,i=(1<<r+4-d)-1;i>=0;--i)t[s|i<<d]=15&d|o<<4;return r}var ge=ee?new Uint16Array(512):ve(512),ye=ee?new Uint16Array(32):ve(32);if(!ee){for(var be=0;be<512;++be)ge[be]=0;for(be=0;be<32;++be)ye[be]=0}(function(){for(var e=[],t=0;t<32;t++)e.push(5);me(e,ye,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);me(n,ge,288)})();var we=function(){for(var e=ee?new Uint8Array(32768):[],t=0,n=0;t<J.length-1;++t)for(;n<J[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=ee?new Uint8Array(259):[];for(t=0,n=0;t<Y.length-1;++t)for(;n<Y[t+1];++n)r[n]=t;function a(e,t){var n=0;while(n<e.length){var r=Math.min(65535,e.length-n),a=n+r==e.length;t.write_shift(1,+a),t.write_shift(2,r),t.write_shift(2,65535&~r);while(r-- >0)t[t.l++]=e[n++]}return t.l}function o(t,n){var a=0,o=0,i=ee?new Uint16Array(32768):[];while(o<t.length){var s=Math.min(65535,t.length-o);if(s<10){a=ce(n,a,+!(o+s!=t.length)),7&a&&(a+=8-(7&a)),n.l=a/8|0,n.write_shift(2,s),n.write_shift(2,65535&~s);while(s-- >0)n[n.l++]=t[o++];a=8*n.l}else{a=ce(n,a,+!(o+s!=t.length)+2);var l=0;while(s-- >0){var u=t[o];l=32767&(l<<5^u);var c=-1,d=0;if((c=i[l])&&(c|=-32768&o,c>o&&(c-=32768),c<o))while(t[c+d]==t[o+d]&&d<250)++d;if(d>2){u=r[d],u<=22?a=he(n,a,te[u+1]>>1)-1:(he(n,a,3),a+=5,he(n,a,te[u-23]>>5),a+=3);var h=u<8?0:u-4>>2;h>0&&(fe(n,a,d-Y[u]),a+=h),u=e[o-c],a=he(n,a,te[u]>>3),a-=3;var f=u<4?0:u-2>>1;f>0&&(fe(n,a,o-c-J[u]),a+=f);for(var p=0;p<d;++p)i[l]=32767&o,l=32767&(l<<5^t[o]),++o;s-=d-1}else u<=143?u+=48:a=de(n,a,1),a=he(n,a,te[u]),i[l]=32767&o,++o}a=he(n,a,0)-1}}return n.l=(a+7)/8|0,n.l}return function(e,t){return e.length<8?a(e,t):o(e,t)}}();function _e(e){var t=Nn(50+Math.floor(1.1*e.length)),n=we(e,t);return t.slice(0,n)}var Ee=ee?new Uint16Array(32768):ve(32768),Te=ee?new Uint16Array(32768):ve(32768),Se=ee?new Uint16Array(128):ve(128),ke=1,Ce=1;function Re(e,t){var n=se(e,t)+257;t+=5;var r=se(e,t)+1;t+=5;var a=ie(e,t)+4;t+=4;for(var o=0,i=ee?new Uint8Array(19):ve(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,u=ee?new Uint8Array(8):ve(8),c=ee?new Uint8Array(8):ve(8),d=i.length,h=0;h<a;++h)i[Q[h]]=o=oe(e,t),l<o&&(l=o),u[o]++,t+=3;var f=0;for(u[0]=0,h=1;h<=l;++h)c[h]=f=f+u[h-1]<<1;for(h=0;h<d;++h)0!=(f=i[h])&&(s[h]=c[f]++);var p=0;for(h=0;h<d;++h)if(p=i[h],0!=p){f=te[s[h]]>>8-p;for(var v=(1<<7-p)-1;v>=0;--v)Se[f|v<<p]=7&p|h<<3}var m=[];for(l=1;m.length<n+r;)switch(f=Se[le(e,t)],t+=7&f,f>>>=3){case 16:o=3+ae(e,t),t+=2,f=m[m.length-1];while(o-- >0)m.push(f);break;case 17:o=3+oe(e,t),t+=3;while(o-- >0)m.push(0);break;case 18:o=11+le(e,t),t+=7;while(o-- >0)m.push(0);break;default:m.push(f),l<f&&(l=f);break}var g=m.slice(0,n),y=m.slice(n);for(h=n;h<286;++h)g[h]=0;for(h=r;h<30;++h)y[h]=0;return ke=me(g,Ee,286),Ce=me(y,Te,30),t}function Ie(e,t){if(3==e[0]&&!(3&e[1]))return[T(t),2];var n=0,r=0,a=S(t||1<<18),o=0,i=a.length>>>0,s=0,l=0;while(0==(1&r))if(r=oe(e,n),n+=3,r>>>1!=0)for(r>>1==1?(s=9,l=5):(n=Re(e,n),s=ke,l=Ce);;){!t&&i<o+32767&&(a=pe(a,o+32767),i=a.length);var u=ue(e,n,s),c=r>>>1==1?ge[u]:Ee[u];if(n+=15&c,c>>>=4,0===(c>>>8&255))a[o++]=c;else{if(256==c)break;c-=257;var d=c<8?0:c-4>>2;d>5&&(d=0);var h=o+Y[c];d>0&&(h+=ue(e,n,d),n+=d),u=ue(e,n,l),c=r>>>1==1?ye[u]:Te[u],n+=15&c,c>>>=4;var f=c<4?0:c-2>>1,p=J[c];f>0&&(p+=ue(e,n,f),n+=f),!t&&i<h&&(a=pe(a,h+100),i=a.length);while(o<h)a[o]=a[o-p],++o}}else{7&n&&(n+=8-(7&n));var v=e[n>>>3]|e[(n>>>3)+1]<<8;if(n+=32,v>0){!t&&i<o+v&&(a=pe(a,o+v),i=a.length);while(v-- >0)a[o++]=e[n>>>3],n+=8}}return t?[a,n+7>>>3]:[a.slice(0,o),n+7>>>3]}function Ae(e,t){var n=e.slice(e.l||0),r=Ie(n,t);return e.l+=r[1],r[0]}function xe(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function Oe(e,t){var n=e;xn(n,0);var r=[],a=[],o={FileIndex:r,FullPaths:a};x(o,{root:t.root});var i=n.length-4;while((80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0)--i;n.l=i+4,n.l+=4;var l=n.read_shift(2);n.l+=6;var u=n.read_shift(4);for(n.l=u,i=0;i<l;++i){n.l+=20;var c=n.read_shift(4),d=n.read_shift(4),h=n.read_shift(2),f=n.read_shift(2),p=n.read_shift(2);n.l+=8;var v=n.read_shift(4),m=s(n.slice(n.l+h,n.l+h+f));n.l+=h+f+p;var g=n.l;n.l=v+4,Ne(n,c,d,o,m),n.l=g}return o}function Ne(e,t,n,r,a){e.l+=2;var o=e.read_shift(2),l=e.read_shift(2),u=i(e);if(8257&o)throw new Error("Unsupported ZIP encryption");for(var c=e.read_shift(4),d=e.read_shift(4),h=e.read_shift(4),f=e.read_shift(2),p=e.read_shift(2),v="",m=0;m<f;++m)v+=String.fromCharCode(e[e.l++]);if(p){var g=s(e.slice(e.l,e.l+p));(g[21589]||{}).mt&&(u=g[21589].mt),((a||{})[21589]||{}).mt&&(u=a[21589].mt)}e.l+=p;var y=e.slice(e.l,e.l+d);switch(l){case 8:y=X(e,h);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+l)}var b=!1;8&o&&(c=e.read_shift(4),134695760==c&&(c=e.read_shift(4),b=!0),d=e.read_shift(4),h=e.read_shift(4)),d!=t&&xe(b,"Bad compressed size: "+t+" != "+d),h!=n&&xe(b,"Bad uncompressed size: "+n+" != "+h),je(r,v,y,{unsafe:!0,mt:u})}function De(e,t){var n=t||{},r=[],a=[],i=Nn(1),s=n.compression?8:0,l=0,u=!1;u&&(l|=8);var c=0,d=0,h=0,f=0,p=e.FullPaths[0],v=p,m=e.FileIndex[0],g=[],y=0;for(c=1;c<e.FullPaths.length;++c)if(v=e.FullPaths[c].slice(p.length),m=e.FileIndex[c],m.size&&m.content&&"Sh33tJ5"!=v){var b=h,w=Nn(v.length);for(d=0;d<v.length;++d)w.write_shift(1,127&v.charCodeAt(d));w=w.slice(0,w.l),g[f]=ze.buf(m.content,0);var _=m.content;8==s&&(_=q(_)),i=Nn(30),i.write_shift(4,67324752),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,s),m.mt?o(i,m.mt):i.write_shift(4,0),i.write_shift(-4,8&l?0:g[f]),i.write_shift(4,8&l?0:_.length),i.write_shift(4,8&l?0:m.content.length),i.write_shift(2,w.length),i.write_shift(2,0),h+=i.length,r.push(i),h+=w.length,r.push(w),h+=_.length,r.push(_),8&l&&(i=Nn(12),i.write_shift(-4,g[f]),i.write_shift(4,_.length),i.write_shift(4,m.content.length),h+=i.l,r.push(i)),i=Nn(46),i.write_shift(4,33639248),i.write_shift(2,0),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,s),i.write_shift(4,0),i.write_shift(-4,g[f]),i.write_shift(4,_.length),i.write_shift(4,m.content.length),i.write_shift(2,w.length),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i.write_shift(4,b),y+=i.l,a.push(i),y+=w.length,a.push(w),++f}return i=Nn(22),i.write_shift(4,101010256),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,f),i.write_shift(2,f),i.write_shift(4,y),i.write_shift(4,h),i.write_shift(2,0),A([A(r),A(a),i])}var Le={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Pe(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&Le[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/),r&&Le[r[1]])?Le[r[1]]:"application/octet-stream"}function Me(e){for(var t=b(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function Ve(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09"),"\n"==t.charAt(0)&&(t="=0D"+t.slice(1)),t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A");for(var n=[],r=t.split("\r\n"),a=0;a<r.length;++a){var o=r[a];if(0!=o.length)for(var i=0;i<o.length;){var s=76,l=o.slice(i,i+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=o.slice(i,i+s),i+=s,i<o.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function Fe(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];while(n<=e.length&&"="==r.charAt(r.length-1))r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return k(t.join("\r\n"))}function $e(e,t,n){for(var r,a="",o="",i="",s=0;s<10;++s){var l=t[s];if(!l||l.match(/^\s*$/))break;var u=l.match(/^(.*?):\s*([^\s].*)$/);if(u)switch(u[1].toLowerCase()){case"content-location":a=u[2].trim();break;case"content-type":i=u[2].trim();break;case"content-transfer-encoding":o=u[2].trim();break}}switch(++s,o.toLowerCase()){case"base64":r=k(w(t.slice(s).join("")));break;case"quoted-printable":r=Fe(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+o)}var c=je(e,a.slice(n.length),r,{unsafe:!0});i&&(c.ctype=i)}function Be(e,t){if("mime-version:"!=z(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(_&&Buffer.isBuffer(e)?e.toString("binary"):z(e)).split("\r\n"),a=0,o="";for(a=0;a<r.length;++a)if(o=r[a],/^Content-Location:/i.test(o)&&(o=o.slice(o.indexOf("file")),n||(n=o.slice(0,o.lastIndexOf("/")+1)),o.slice(0,n.length)!=n))while(n.length>0)if(n=n.slice(0,n.length-1),n=n.slice(0,n.lastIndexOf("/")+1),o.slice(0,n.length)==n)break;var i=(r[1]||"").match(/boundary="(.*?)"/);if(!i)throw new Error("MAD cannot find boundary");var s="--"+(i[1]||""),l=[],u=[],c={FileIndex:l,FullPaths:u};x(c);var d,h=0;for(a=0;a<r.length;++a){var f=r[a];f!==s&&f!==s+"--"||(h++&&$e(c,r.slice(d,a),n),d=a)}return c}function We(e,t){var n=t||{},r=n.boundary||"SheetJS";r="------="+r;for(var a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+r.slice(2)+'"',"","",""],o=e.FullPaths[0],i=o,s=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(i=e.FullPaths[l].slice(o.length),s=e.FileIndex[l],s.size&&s.content&&"Sh33tJ5"!=i){i=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var u=s.content,c=_&&Buffer.isBuffer(u)?u.toString("binary"):z(u),d=0,h=Math.min(1024,c.length),f=0,p=0;p<=h;++p)(f=c.charCodeAt(p))>=32&&f<128&&++d;var v=d>=4*h/5;a.push(r),a.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+i),a.push("Content-Transfer-Encoding: "+(v?"quoted-printable":"base64")),a.push("Content-Type: "+Pe(s,i)),a.push(""),a.push(v?Ve(c):Me(c))}return a.push(r+"--\r\n"),a.join("\r\n")}function Ue(e){var t={};return x(t,e),t}function je(e,t,n,r){var o=r&&r.unsafe;o||x(e);var i=!o&&He.find(e,t);if(!i){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),i={name:a(t),type:2},e.FileIndex.push(i),e.FullPaths.push(s),o||He.utils.cfb_gc(e)}return i.content=n,i.size=n?n.length:0,r&&(r.CLSID&&(i.clsid=r.CLSID),r.mt&&(i.mt=r.mt),r.ct&&(i.ct=r.ct)),i}function Ge(e,t){x(e);var n=He.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1}function Ke(e,t,n){x(e);var r=He.find(e,t);if(r)for(var o=0;o<e.FileIndex.length;++o)if(e.FileIndex[o]==r)return e.FileIndex[o].name=a(n),e.FullPaths[o]=n,!0;return!1}function Xe(e){L(e,!0)}return t.find=M,t.read=I,t.parse=u,t.write=H,t.writeFile=G,t.utils={cfb_new:Ue,cfb_add:je,cfb_del:Ge,cfb_mov:Ke,cfb_gc:Xe,ReadShift:Sn,CheckField:An,prep_blob:xn,bconcat:A,use_zlib:K,_deflateRaw:_e,_inflateRaw:Ae,consts:j},t}();let Ke;function Xe(e){return"string"===typeof e?C(e):Array.isArray(e)?I(e):e}function qe(e,t,n){if("undefined"!==typeof Ke&&Ke.writeFileSync)return n?Ke.writeFileSync(e,t,n):Ke.writeFileSync(e,t);if("undefined"!==typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=C(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?Mt(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var a=new Blob([Xe(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!==typeof saveAs)return saveAs(a,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(a);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var i=document.createElement("a");if(null!=i.download)return i.download=e,i.href=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=R(t)),s.write(t),s.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Qe(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Ye(e,t){for(var n=[],r=Qe(e),a=0;a!==r.length;++a)null==n[e[r[a]][t]]&&(n[e[r[a]][t]]=r[a]);return n}function Je(e){for(var t=[],n=Qe(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function Ze(e){for(var t=[],n=Qe(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function et(e){for(var t=[],n=Qe(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var tt=new Date(1899,11,30,0,0,0);function nt(e,t){var n=e.getTime();t&&(n-=1263168e5);var r=tt.getTime()+6e4*(e.getTimezoneOffset()-tt.getTimezoneOffset());return(n-r)/864e5}var rt=new Date,at=tt.getTime()+6e4*(rt.getTimezoneOffset()-tt.getTimezoneOffset()),ot=rt.getTimezoneOffset();function it(e){var t=new Date;return t.setTime(24*e*60*60*1e3+at),t.getTimezoneOffset()!==ot&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-ot)),t}var st=new Date("2017-02-19T19:06:09.000Z"),lt=isNaN(st.getFullYear())?new Date("2/19/17"):st,ut=2017==lt.getFullYear();function ct(e,t){var n=new Date(e);if(ut)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==lt.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)),o}function dt(e,t){if(_&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return Mt(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Mt(h(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return Mt(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Mt(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"",:"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(e){return n[e]||e})}catch(o){}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function ht(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=ht(e[n]));return t}function ft(e,t){var n="";while(n.length<t)n+=e;return n}function pt(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,function(e,t){return n=-n,t}),isNaN(t=Number(r))?t:t/n):t/n}var vt=["january","february","march","april","may","june","july","august","september","october","november","december"];function mt(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),o=t.getDate();if(isNaN(o))return n;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&-1==vt.indexOf(i))return n}else if(i.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||o>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function gt(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=_?E(n):x(n),He.utils.cfb_add(e,t,r);He.utils.cfb_add(e,t,n)}else e.file(t,n)}function yt(){return He.utils.cfb_new()}var bt='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var wt={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},_t=Je(wt),Et=/[&<>'"]/g,Tt=/[\u0000-\u0008\u000b-\u001f]/g;function St(e){var t=e+"";return t.replace(Et,function(e){return _t[e]}).replace(Tt,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function kt(e){return St(e).replace(/ /g,"_x0020_")}var Ct=/[\u0000-\u001f]/g;function Rt(e){var t=e+"";return t.replace(Et,function(e){return _t[e]}).replace(/\n/g,"<br/>").replace(Ct,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function It(e){var t=e+"";return t.replace(Et,function(e){return _t[e]}).replace(Ct,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}function At(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function xt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ot(e){var t="",n=0,r=0,a=0,o=0,i=0,s=0;while(n<e.length)r=e.charCodeAt(n++),r<128?t+=String.fromCharCode(r):(a=e.charCodeAt(n++),r>191&&r<224?(i=(31&r)<<6,i|=63&a,t+=String.fromCharCode(i)):(o=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&o):(i=e.charCodeAt(n++),s=((7&r)<<18|(63&a)<<12|(63&o)<<6|63&i)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function Nt(e){var t,n,r,a=T(2*e.length),o=1,i=0,s=0;for(n=0;n<e.length;n+=o)o=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),o=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),o=3):(o=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),t-=65536,s=55296+(t>>>10&1023),t=56320+(1023&t)),0!==s&&(a[i++]=255&s,a[i++]=s>>>8,s=0),a[i++]=t%256,a[i++]=t>>>8;return a.slice(0,i).toString("ucs2")}function Dt(e){return E(e,"binary").toString("utf8")}var Lt="foo bar baz",Pt=_&&(Dt(Lt)==Ot(Lt)&&Dt||Nt(Lt)==Ot(Lt)&&Nt)||Ot,Mt=_?function(e){return E(e,"utf8").toString("binary")}:function(e){var t=[],n=0,r=0,a=0;while(n<e.length)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},Vt=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}();var Ft=/(^\s|\s$|\n)/;function $t(e,t){return"<"+e+(t.match(Ft)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Bt(e){return Qe(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Wt(e,t,n){return"<"+e+(null!=n?Bt(n):"")+(null!=t?(t.match(Ft)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Ut(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function jt(e,t){switch(typeof e){case"string":var n=Wt("vt:lpwstr",St(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return Wt((0|e)==e?"vt:i4":"vt:r8",St(String(e)));case"boolean":return Wt("vt:bool",e?"true":"false")}if(e instanceof Date)return Wt("vt:filetime",Ut(e));throw new Error("Unable to serialize "+e)}var Gt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zt=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ht={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Kt(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],o=5;o>=0;--o)a=256*a+e[t+o];return 2047==r?0==a?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function Xt(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,o=0,i=r?-t:t;isFinite(i)?0==i?a=o=0:(a=Math.floor(Math.log(i)/Math.LN2),o=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?a=-1022:(o-=Math.pow(2,52),a+=1023)):(a=2047,o=isNaN(t)?26985:0);for(var s=0;s<=5;++s,o/=256)e[n+s]=255&o;e[n+6]=(15&a)<<4|15&o,e[n+7]=a>>4|r}var qt=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,o=e[0][r].length;a<o;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},Qt=_?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:E(e)})):qt(e)}:qt,Yt=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(bn(e,a)));return r.join("").replace(O,"")},Jt=_?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(O,""):Yt(e,t,n)}:Yt,Zt=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},en=_?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):Zt(e,t,n)}:Zt,tn=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(yn(e,a)));return r.join("")},nn=_?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):tn(e,t,n)}:tn,rn=function(e,t){var n=_n(e,t);return n>0?nn(e,t+4,t+4+n-1):""},an=rn,on=function(e,t){var n=_n(e,t);return n>0?nn(e,t+4,t+4+n-1):""},sn=on,ln=function(e,t){var n=2*_n(e,t);return n>0?nn(e,t+4,t+4+n-1):""},un=ln,cn=function(e,t){var n=_n(e,t);return n>0?Jt(e,t+4,t+4+n):""},dn=cn,hn=function(e,t){var n=_n(e,t);return n>0?nn(e,t+4,t+4+n):""},fn=hn,pn=function(e,t){return Kt(e,t)},vn=pn,mn=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function gn(){Jt=function(e,t,n){return f.utils.decode(1200,e.slice(t,n)).replace(O,"")},nn=function(e,t,n){return f.utils.decode(65001,e.slice(t,n))},an=function(e,t){var n=_n(e,t);return n>0?f.utils.decode(o,e.slice(t+4,t+4+n-1)):""},sn=function(e,t){var n=_n(e,t);return n>0?f.utils.decode(a,e.slice(t+4,t+4+n-1)):""},un=function(e,t){var n=2*_n(e,t);return n>0?f.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},dn=function(e,t){var n=_n(e,t);return n>0?f.utils.decode(1200,e.slice(t+4,t+4+n)):""},fn=function(e,t){var n=_n(e,t);return n>0?f.utils.decode(65001,e.slice(t+4,t+4+n)):""}}_&&(an=function(e,t){if(!Buffer.isBuffer(e))return rn(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},sn=function(e,t){if(!Buffer.isBuffer(e))return on(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},un=function(e,t){if(!Buffer.isBuffer(e))return ln(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},dn=function(e,t){if(!Buffer.isBuffer(e))return cn(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},fn=function(e,t){if(!Buffer.isBuffer(e))return hn(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},vn=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):pn(e,t)},mn=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof f&&gn();var yn=function(e,t){return e[t]},bn=function(e,t){return 256*e[t+1]+e[t]},wn=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},_n=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},En=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Tn=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Sn(e,t){var n,r,o,i,s,l,u="",c=[];switch(t){case"dbcs":if(l=this.l,_&&Buffer.isBuffer(this))u=this.slice(this.l,this.l+2*e).toString("utf16le");else for(s=0;s<e;++s)u+=String.fromCharCode(bn(this,l)),l+=2;e*=2;break;case"utf8":u=nn(this,this.l,this.l+e);break;case"utf16le":e*=2,u=Jt(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof f)return Sn.call(this,e,"dbcs");u=f.utils.decode(a,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":u=an(this,this.l),e=4+_n(this,this.l);break;case"lpstr-cp":u=sn(this,this.l),e=4+_n(this,this.l);break;case"lpwstr":u=un(this,this.l),e=4+2*_n(this,this.l);break;case"lpp4":e=4+_n(this,this.l),u=dn(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+_n(this,this.l),u=fn(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":e=0,u="";while(0!==(o=yn(this,this.l+e++)))c.push(p(o));u=c.join("");break;case"_wstr":e=0,u="";while(0!==(o=bn(this,this.l+e)))c.push(p(o)),e+=2;e+=2,u=c.join("");break;case"dbcs-cont":for(u="",l=this.l,s=0;s<e;++s){if(this.lens&&-1!==this.lens.indexOf(l))return o=yn(this,l),this.l=l+1,i=Sn.call(this,e-s,o?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(p(bn(this,l))),l+=2}u=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof f){u=f.utils.decode(a,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(u="",l=this.l,s=0;s!=e;++s){if(this.lens&&-1!==this.lens.indexOf(l))return o=yn(this,l),this.l=l+1,i=Sn.call(this,e-s,o?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(p(yn(this,l))),l+=1}u=c.join("");break;default:switch(e){case 1:return n=yn(this,this.l),this.l++,n;case 2:return n=("i"===t?wn:bn)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?En:Tn)(this,this.l),this.l+=4,n):(r=_n(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?vn(this,this.l):vn([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:u=en(this,this.l,e);break}}return this.l+=e,u}var kn=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Cn=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Rn=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function In(e,t,n){var r=0,a=0;if("dbcs"===n){for(a=0;a!=t.length;++a)Rn(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof f&&874==o)for(a=0;a!=t.length;++a){var i=f.utils.encode(o,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);r=t.length}else{if("hex"===n){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===n){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=255&l,this[this.l++]=l>>8}while(this.l<s)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,kn(this,t,this.l);break;case 8:if(r=8,"f"===n){Xt(this,t,this.l);break}case 16:break;case-4:r=4,Cn(this,t,this.l);break}}return this.l+=r,this}function An(e,t){var n=en(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function xn(e,t){e.l=t,e.read_shift=Sn,e.chk=An,e.write_shift=In}function On(e,t){e.l+=t}function Nn(e){var t=T(e);return xn(t,0),t}function Dn(){var e=[],t=_?256:2048,n=function(e){var t=Nn(e);return xn(t,0),t},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},o=function(e){return r&&e<r.length-r.l?r:(a(),r=n(Math.max(e+1,t)))},i=function(){return a(),A(e)},s=function(e){a(),r=e,null==r.l&&(r.l=r.length),o(t)};return{next:o,push:s,end:i,_bufs:e}}function Ln(e,t,n,r){var a,o=+t;if(!isNaN(o)){r||(r=nd[o].p||(n||[]).length||0),a=1+(o>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var i=e.next(a);o<=127?i.write_shift(1,o):(i.write_shift(1,128+(127&o)),i.write_shift(1,o>>7));for(var s=0;4!=s;++s){if(!(r>=128)){i.write_shift(1,r);break}i.write_shift(1,128+(127&r)),r>>=7}r>0&&mn(n)&&e.push(n)}}function Pn(e,t,n){var r=ht(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){while(r.c>=256)r.c-=256;while(r.r>=65536)r.r-=65536}return r}function Mn(e,t,n){var r=ht(e);return r.s=Pn(r.s,t.s,n),r.e=Pn(r.e,t.s,n),r}function Vn(e,t){if(e.cRel&&e.c<0){e=ht(e);while(e.c<0)e.c+=t>8?16384:256}if(e.rRel&&e.r<0){e=ht(e);while(e.r<0)e.r+=t>8?1048576:t>5?65536:16384}var n=qn(e);return e.cRel||null==e.cRel||(n=zn(n)),e.rRel||null==e.rRel||(n=Wn(n)),n}function Fn(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?Vn(e.s,t.biff)+":"+Vn(e.e,t.biff):(e.s.rRel?"":"$")+Bn(e.s.r)+":"+(e.e.rRel?"":"$")+Bn(e.e.r):(e.s.cRel?"":"$")+Gn(e.s.c)+":"+(e.e.cRel?"":"$")+Gn(e.e.c)}function $n(e){return parseInt(Un(e),10)-1}function Bn(e){return""+(e+1)}function Wn(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Un(e){return e.replace(/\$(\d+)$/,"$1")}function jn(e){for(var t=Hn(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Gn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function zn(e){return e.replace(/^([A-Z])/,"$$$1")}function Hn(e){return e.replace(/^\$([A-Z])/,"$1")}function Kn(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xn(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function qn(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Qn(e){var t=e.indexOf(":");return-1==t?{s:Xn(e),e:Xn(e)}:{s:Xn(e.slice(0,t)),e:Xn(e.slice(t+1))}}function Yn(e,t){return"undefined"===typeof t||"number"===typeof t?Yn(e.s,e.e):("string"!==typeof e&&(e=qn(e)),"string"!==typeof t&&(t=qn(t)),e==t?e:e+":"+t)}function Jn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,o=e.length;for(n=0;r<o;++r){if((a=e.charCodeAt(r)-64)<1||a>26)break;n=26*n+a}for(t.s.c=--n,n=0;r<o;++r){if((a=e.charCodeAt(r)-48)<0||a>9)break;n=10*n+a}if(t.s.r=--n,r===o||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=o;++r){if((a=e.charCodeAt(r)-64)<1||a>26)break;n=26*n+a}for(t.e.c=--n,n=0;r!=o;++r){if((a=e.charCodeAt(r)-48)<0||a>9)break;n=10*n+a}return t.e.r=--n,t}function Zn(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=Fe(e.z,n?nt(t):t)}catch(r){}try{return e.w=Fe((e.XF||{}).numFmtId||(n?14:0),n?nt(t):t)}catch(r){return""+t}}function er(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?Jr[e.v]||e.v:Zn(e,void 0==t?e.v:t))}function tr(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function nr(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense;null!=m&&null==a&&(a=m);var o=e||(a?[]:{}),i=0,s=0;if(o&&null!=r.origin){if("number"==typeof r.origin)i=r.origin;else{var l="string"==typeof r.origin?Xn(r.origin):r.origin;i=l.r,s=l.c}o["!ref"]||(o["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var c=Jn(o["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),-1==i&&(u.e.r=i=c.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if("undefined"!==typeof t[d][h]){var f={v:t[d][h]},p=i+d,v=s+h;if(u.s.r>p&&(u.s.r=p),u.s.c>v&&(u.s.c=v),u.e.r<p&&(u.e.r=p),u.e.c<v&&(u.e.c=v),!t[d][h]||"object"!==typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[d][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||H[14],r.cellDates?(f.t="d",f.w=Fe(f.z,nt(f.v))):(f.t="n",f.v=nt(f.v),f.w=Fe(f.z,f.v))):f.t="s";else f=t[d][h];if(a)o[p]||(o[p]=[]),o[p][v]&&o[p][v].z&&(f.z=o[p][v].z),o[p][v]=f;else{var g=qn({c:v,r:p});o[g]&&o[g].z&&(f.z=o[g].z),o[g]=f}}}return u.s.c<1e7&&(o["!ref"]=Yn(u)),o}function rr(e,t){return nr(null,e,t)}function ar(e){return e.read_shift(4,"i")}function or(e,t){return t||(t=Nn(4)),t.write_shift(4,e),t}function ir(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function sr(e,t){var n=!1;return null==t&&(n=!0,t=Nn(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function lr(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ur(e,t){return t||(t=Nn(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function cr(e,t){var n=e.l,r=e.read_shift(1),a=ir(e),o=[],i={t:a,h:a};if(0!==(1&r)){for(var s=e.read_shift(4),l=0;l!=s;++l)o.push(lr(e));i.r=o}else i.r=[{ich:0,ifnt:0}];return e.l=n+t,i}function dr(e,t){var n=!1;return null==t&&(n=!0,t=Nn(15+4*e.t.length)),t.write_shift(1,0),sr(e.t,t),n?t.slice(0,t.l):t}var hr=cr;function fr(e,t){var n=!1;return null==t&&(n=!0,t=Nn(23+4*e.t.length)),t.write_shift(1,1),sr(e.t,t),t.write_shift(4,1),ur({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function pr(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function vr(e,t){return null==t&&(t=Nn(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function mr(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function gr(e,t){return null==t&&(t=Nn(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var yr=ir,br=sr;function wr(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function _r(e,t){var n=!1;return null==t&&(n=!0,t=Nn(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var Er=ir,Tr=wr,Sr=_r;function kr(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var a=0===r?vn([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):En(t,0)>>2;return n?a/100:a}function Cr(e,t){null==t&&(t=Nn(4));var n=0,r=0,a=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:a==(0|a)&&a>=-(1<<29)&&a<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?a:e)<<2)+(n+2))}function Rr(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Ir(e,t){return t||(t=Nn(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Ar=Rr,xr=Ir;function Or(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Nr(e,t){return(t||Nn(8)).write_shift(8,e,"f")}function Dr(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),o=e.read_shift(2,"i"),i=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var u=Yr[a];u&&(t.rgb=Lo(u));break;case 2:t.rgb=Lo([i,s,l]);break;case 3:t.theme=a;break}return 0!=o&&(t.tint=o>0?o/32767:o/32768),t}function Lr(e,t){if(t||(t=Nn(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function Pr(e){var t=e.read_shift(1);e.l++;var n={fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t};return n}function Mr(e,t){t||(t=Nn(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var Vr=2,Fr=3,$r=11,Br=19,Wr=64,Ur=65,jr=71,Gr=4108,zr=4126,Hr=80,Kr={1:{n:"CodePage",t:Vr},2:{n:"Category",t:Hr},3:{n:"PresentationFormat",t:Hr},4:{n:"ByteCount",t:Fr},5:{n:"LineCount",t:Fr},6:{n:"ParagraphCount",t:Fr},7:{n:"SlideCount",t:Fr},8:{n:"NoteCount",t:Fr},9:{n:"HiddenCount",t:Fr},10:{n:"MultimediaClipCount",t:Fr},11:{n:"ScaleCrop",t:$r},12:{n:"HeadingPairs",t:Gr},13:{n:"TitlesOfParts",t:zr},14:{n:"Manager",t:Hr},15:{n:"Company",t:Hr},16:{n:"LinksUpToDate",t:$r},17:{n:"CharacterCount",t:Fr},19:{n:"SharedDoc",t:$r},22:{n:"HyperlinksChanged",t:$r},23:{n:"AppVersion",t:Fr,p:"version"},24:{n:"DigSig",t:Ur},26:{n:"ContentType",t:Hr},27:{n:"ContentStatus",t:Hr},28:{n:"Language",t:Hr},29:{n:"Version",t:Hr},255:{},2147483648:{n:"Locale",t:Br},2147483651:{n:"Behavior",t:Br},1919054434:{}},Xr={1:{n:"CodePage",t:Vr},2:{n:"Title",t:Hr},3:{n:"Subject",t:Hr},4:{n:"Author",t:Hr},5:{n:"Keywords",t:Hr},6:{n:"Comments",t:Hr},7:{n:"Template",t:Hr},8:{n:"LastAuthor",t:Hr},9:{n:"RevNumber",t:Hr},10:{n:"EditTime",t:Wr},11:{n:"LastPrinted",t:Wr},12:{n:"CreatedDate",t:Wr},13:{n:"ModifiedDate",t:Wr},14:{n:"PageCount",t:Fr},15:{n:"WordCount",t:Fr},16:{n:"CharCount",t:Fr},17:{n:"Thumbnail",t:jr},18:{n:"Application",t:Hr},19:{n:"DocSecurity",t:Fr},255:{},2147483648:{n:"Locale",t:Br},2147483651:{n:"Behavior",t:Br},1919054434:{}};function qr(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var Qr=qr([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yr=ht(Qr),Jr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Zr={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ea={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ta(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function na(e,t){var n,r=et(Zr),a=[];a[a.length]=bt,a[a.length]=Wt("Types",null,{xmlns:Gt.CT,"xmlns:xsd":Gt.xsd,"xmlns:xsi":Gt.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return Wt("Default",null,{Extension:e[0],ContentType:e[1]})}));var o=function(r){e[r]&&e[r].length>0&&(n=e[r][0],a[a.length]=Wt("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:ea[r][t.bookType]||ea[r]["xlsx"]}))},i=function(n){(e[n]||[]).forEach(function(e){a[a.length]=Wt("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:ea[n][t.bookType]||ea[n]["xlsx"]})})},s=function(t){(e[t]||[]).forEach(function(e){a[a.length]=Wt("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})})};return o("workbooks"),i("sheets"),i("charts"),s("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),i("metadata"),s("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ra={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function aa(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function oa(e){var t=[bt,Wt("Relationships",null,{xmlns:Gt.RELS})];return Qe(e["!id"]).forEach(function(n){t[t.length]=Wt("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ia(e,t,n,r,a,o){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,o?a.TargetMode=o:[ra.HLINK,ra.XPATH,ra.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function sa(e){var t=[bt];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}function la(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function ua(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function ca(e){var t=[bt];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push(la(e[n][0],e[n][1])),t.push(ua("",e[n][0]));return t.push(la("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function da(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+r.version+"</meta:generator></office:meta></office:document-meta>"}var ha=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function fa(e,t,n,r,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=St(t),r[r.length]=n?Wt(e,t,n):$t(e,t))}function pa(e,t){var n=t||{},r=[bt,Wt("cp:coreProperties",null,{"xmlns:cp":Gt.CORE_PROPS,"xmlns:dc":Gt.dc,"xmlns:dcterms":Gt.dcterms,"xmlns:dcmitype":Gt.dcmitype,"xmlns:xsi":Gt.xsi})],a={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&fa("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:Ut(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),null!=e.ModifiedDate&&fa("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:Ut(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var o=0;o!=ha.length;++o){var i=ha[o],s=n.Props&&null!=n.Props[i[1]]?n.Props[i[1]]:e?e[i[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&fa(i[0],s,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var va=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ma=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ga(e){var t=[],n=Wt;return e||(e={}),e.Application="SheetJS",t[t.length]=bt,t[t.length]=Wt("Properties",null,{xmlns:Gt.EXT_PROPS,"xmlns:vt":Gt.vt}),va.forEach(function(r){if(void 0!==e[r[1]]){var a;switch(r[2]){case"string":a=St(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false";break}void 0!==a&&(t[t.length]=n(r[0],a))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+St(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ya(e){var t=[bt,Wt("Properties",null,{xmlns:Gt.CUST_PROPS,"xmlns:vt":Gt.vt})];if(!e)return t.join("");var n=1;return Qe(e).forEach(function(r){++n,t[t.length]=Wt("property",jt(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:St(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ba={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function wa(e,t){var n=[];return Qe(ba).map(function(e){for(var t=0;t<ha.length;++t)if(ha[t][1]==e)return ha[t];for(t=0;t<va.length;++t)if(va[t][1]==e)return va[t];throw e}).forEach(function(r){if(null!=e[r[1]]){var a=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push($t(ba[r[1]]||r[1],a))}}),Wt("DocumentProperties",n.join(""),{xmlns:Ht.o})}function _a(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&Qe(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<ha.length;++r)if(t==ha[r][1])return;for(r=0;r<va.length;++r)if(t==va[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var o=e[t],i="string";"number"==typeof o?(i="float",o=String(o)):!0===o||!1===o?(i="boolean",o=o?"1":"0"):o=String(o),a.push(Wt(kt(t),o,{"dt:dt":i}))}}),t&&Qe(t).forEach(function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],o="string";"number"==typeof r?(o="float",r=String(r)):!0===r||!1===r?(o="boolean",r=r?"1":"0"):r instanceof Date?(o="dateTime.tz",r=r.toISOString()):r=String(r),a.push(Wt(kt(n),r,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Ht.o+'">'+a.join("")+"</"+r+">"}function Ea(e){var t="string"==typeof e?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),a=(n-r)/Math.pow(2,32);r*=1e7,a*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r%=Math.pow(2,32),a+=o);var i=Nn(8);return i.write_shift(4,r),i.write_shift(4,a),i}function Ta(e,t){var n=Nn(4),r=Nn(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=Nn(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=Ea(t);break;case 31:case 80:r=Nn(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");while(r.l!=r.length)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return A([n,r])}var Sa=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function ka(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Ca(e,t,n){var r=Nn(8),a=[],o=[],i=8,s=0,l=Nn(8),u=Nn(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),o.push(l),a.push(u),i+=8+l.length,!t){u=Nn(8),u.write_shift(4,0),a.unshift(u);var c=[Nn(4)];for(c[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];l=Nn(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,s+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");while(l.l!=l.length)l.write_shift(1,0);c.push(l)}l=A(c),o.unshift(l),i+=8+l.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(Sa.indexOf(e[s][0])>-1||ma.indexOf(e[s][0])>-1)&&null!=e[s][1]){var h=e[s][1],f=0;if(t){f=+t[e[s][0]];var p=n[f];if("version"==p.p&&"string"==typeof h){var v=h.split(".");h=(+v[0]<<16)+(+v[1]||0)}l=Ta(p.t,h)}else{var m=ka(h);-1==m&&(m=31,h=String(h)),l=Ta(m,h)}o.push(l),u=Nn(8),u.write_shift(4,t?f:2+s),a.push(u),i+=8+l.length}var g=8*(o.length+1);for(s=0;s<o.length;++s)a[s].write_shift(4,g),g+=o[s].length;return r.write_shift(4,i),r.write_shift(4,o.length),A([r].concat(a).concat(o))}function Ra(e,t,n,r,a,o){var i=Nn(a?68:48),s=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,He.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var l=Ca(e,n,r);if(s.push(l),a){var u=Ca(a,null,null);i.write_shift(16,o,"hex"),i.write_shift(4,68+l.length),s.push(u)}return A(s)}function Ia(e,t){t||(t=Nn(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function Aa(e,t){return 1===e.read_shift(t)}function xa(e,t){return t||(t=Nn(2)),t.write_shift(2,+!!e),t}function Oa(e){return e.read_shift(2,"u")}function Na(e,t){return t||(t=Nn(2)),t.write_shift(2,e),t}function Da(e,t,n){return n||(n=Nn(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function La(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),o="sbcs-cont",i=a;if(n&&n.biff>=8&&(a=1200),n&&8!=n.biff)12==n.biff&&(o="wstr");else{var s=e.read_shift(1);s&&(o="dbcs-cont")}n.biff>=2&&n.biff<=5&&(o="cpstr");var l=r?e.read_shift(r,o):"";return a=i,l}function Pa(e){var t=e.t||"",n=1,r=Nn(3+(n>1?2:0));r.write_shift(2,t.length),r.write_shift(1,1|(n>1?8:0)),n>1&&r.write_shift(2,n);var a=Nn(2*t.length);a.write_shift(2*t.length,t,"utf16le");var o=[r,a];return A(o)}function Ma(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return r=0===a?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont"),r}function Va(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):Ma(e,r,n)}function Fa(e,t,n){if(n.biff>5)return Va(e,t,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function $a(e,t,n){return n||(n=Nn(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function Ba(e,t){t||(t=Nn(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Wa(e){var t=Nn(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var a=r.indexOf("#"),o=a>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}t.write_shift(4,2),t.write_shift(4,o);var i=[8,6815827,6619237,4849780,83];for(n=0;n<i.length;++n)t.write_shift(4,i[n]);if(28==o)r=r.slice(1),Ba(r,t);else if(2&o){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<i.length;++n)t.write_shift(1,parseInt(i[n],16));var s=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),8&o&&Ba(a>-1?r.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<i.length;++n)t.write_shift(1,parseInt(i[n],16));var l=0;while("../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3))++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function Ua(e,t,n,r){return r||(r=Nn(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function ja(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),o=e.read_shift(r,"i"),i=e.read_shift(r,"i");return[a,o,i]}function Ga(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function za(e,t){return t||(t=Nn(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Ha(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=Nn(a);return o.write_shift(2,r),o.write_shift(2,t),a>4&&o.write_shift(2,29282),a>6&&o.write_shift(2,1997),a>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function Ka(e,t){var n=!t||8==t.biff,r=Nn(n?112:54);r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));while(r.l<r.length)r.write_shift(1,n?0:32);return r}function Xa(e,t){var n=!t||t.biff>=8?2:1,r=Nn(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function qa(e,t){var n=Nn(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],a=0;a<e.length;++a)r[a]=Pa(e[a],t);var o=A([n].concat(r));return o.parts=[n.length].concat(r.map(function(e){return e.length})),o}function Qa(){var e=Nn(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Ya(e){var t=Nn(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Ja(e,t){var n=e.name||"Arial",r=t&&5==t.biff,a=r?15+n.length:16+2*n.length,o=Nn(a);return o.write_shift(2,20*(e.sz||12)),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),o}function Za(e,t,n,r){var a=Nn(10);return Ua(e,t,r,a),a.write_shift(4,n),a}function eo(e,t,n,r,a){var o=!a||8==a.biff,i=Nn(+o+8+(1+o)*n.length);return Ua(e,t,r,i),i.write_shift(2,n.length),o&&i.write_shift(1,1),i.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),i}function to(e,t,n,r){var a=n&&5==n.biff;r||(r=Nn(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return null==o.l&&(o.l=o.length),o}function no(e,t){var n=8!=t.biff&&t.biff?2:4,r=Nn(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function ro(e,t,n,r){var a=n&&5==n.biff;r||(r=Nn(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var o=0;return e.numFmtId>0&&a&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function ao(e){var t=Nn(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function oo(e,t,n,r,a,o){var i=Nn(8);return Ua(e,t,r,i),Da(n,o,i),i}function io(e,t,n,r){var a=Nn(14);return Ua(e,t,r,a),Nr(n,a),a}function so(e,t,n){if(n.biff<8)return lo(e,t,n);var r=[],a=e.l+t,o=e.read_shift(n.biff>8?4:2);while(0!==o--)r.push(ja(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function lo(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=La(e,t,n);return 3==r.charCodeAt(0)?r.slice(1):r}function uo(e){var t=Nn(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)za(e[n],t);return t}function co(e){var t=Nn(24),n=Xn(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return A([t,Wa(e[1])])}function ho(e){var t=e[1].Tooltip,n=Nn(10+2*(t.length+1));n.write_shift(2,2048);var r=Xn(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function fo(e){return e||(e=Nn(4)),e.write_shift(2,1),e.write_shift(2,1),e}function po(e,t,n){if(!n.cellStyles)return On(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),o=e.read_shift(r),i=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var u={s:a,e:o,w:i,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function vo(e,t){var n=Nn(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function mo(e){for(var t=Nn(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function go(e,t,n){var r=Nn(15);return od(r,e,t),r.write_shift(8,n,"f"),r}function yo(e,t,n){var r=Nn(9);return od(r,e,t),r.write_shift(2,n),r}var bo=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Je({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=[],a=T(1);switch(n.type){case"base64":a=k(w(t));break;case"binary":a=k(t);break;case"buffer":case"array":a=t;break}xn(a,0);var o=a.read_shift(1),i=!!(136&o),s=!1,l=!1;switch(o){case 2:break;case 3:break;case 48:s=!0,i=!0;break;case 49:s=!0,i=!0;break;case 131:break;case 139:break;case 140:l=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+o.toString(16))}var u=0,c=521;2==o&&(u=a.read_shift(2)),a.l+=3,2!=o&&(u=a.read_shift(4)),u>1048576&&(u=1e6),2!=o&&(c=a.read_shift(2));var d=a.read_shift(2),h=n.codepage||1252;2!=o&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(h=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);var p=[],v={},m=Math.min(a.length,2==o?521:c-10-(s?264:0)),g=l?32:11;while(a.l<m&&13!=a[a.l])switch(v={},v.name=f.utils.decode(h,a.slice(a.l,a.l+g)).replace(/[\u0000\r\n].*$/g,""),a.l+=g,v.type=String.fromCharCode(a.read_shift(1)),2==o||l||(v.offset=a.read_shift(4)),v.len=a.read_shift(1),2==o&&(v.offset=a.read_shift(2)),v.dec=a.read_shift(1),v.name.length&&p.push(v),2!=o&&(a.l+=l?13:14),v.type){case"B":s&&8==v.len||!n.WTF||console.log("Skipping "+v.name+":"+v.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+v.type)}if(13!==a[a.l]&&(a.l=c-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=c;var y=0,b=0;for(r[0]=[],b=0;b!=p.length;++b)r[0][b]=p[b].name;while(u-- >0)if(42!==a[a.l])for(++a.l,r[++y]=[],b=0,b=0;b!=p.length;++b){var _=a.slice(a.l,a.l+p[b].len);a.l+=p[b].len,xn(_,0);var E=f.utils.decode(h,_);switch(p[b].type){case"C":E.trim().length&&(r[y][b]=E.replace(/\s+$/,""));break;case"D":8===E.length?r[y][b]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):r[y][b]=E;break;case"F":r[y][b]=parseFloat(E.trim());break;case"+":case"I":r[y][b]=l?2147483648^_.read_shift(-4,"i"):_.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":r[y][b]=!0;break;case"N":case"F":r[y][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!i)throw new Error("DBF Unexpected MEMO for type "+o.toString(16));r[y][b]="##MEMO##"+(l?parseInt(E.trim(),10):_.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&"."!=E&&(r[y][b]=+E||0);break;case"@":r[y][b]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":r[y][b]=new Date(864e5*(_.read_shift(4)-2440588)+_.read_shift(4));break;case"Y":r[y][b]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[y][b]=-_.read_shift(-8,"f");break;case"B":if(s&&8==p[b].len){r[y][b]=_.read_shift(8,"f");break}case"G":case"P":_.l+=p[b].len;break;case"0":if("_NullFlags"===p[b].name)break;default:throw new Error("DBF Unsupported data type "+p[b].type)}}else a.l+=d;if(2!=o&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=p,r}function r(e,t){var r=t||{};r.dateNF||(r.dateNF="yyyymmdd");var a=rr(n(e,r),r);return a["!cols"]=r.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete r.DBF,a}function a(e,t){try{return tr(r(e,t),t)}catch(n){if(t&&t.WTF)throw n}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(e,n){var r=n||{};if(+r.codepage>=0&&c(+r.codepage),"string"==r.type)throw new Error("Cannot write DBF to JS string");var a=Dn(),s=yh(e,{header:1,raw:!0,cellDates:!0}),l=s[0],u=s.slice(1),d=e["!cols"]||[],h=0,f=0,p=0,v=1;for(h=0;h<l.length;++h)if(((d[h]||{}).DBF||{}).name)l[h]=d[h].DBF.name,++p;else if(null!=l[h]){if(++p,"number"===typeof l[h]&&(l[h]=l[h].toString(10)),"string"!==typeof l[h])throw new Error("DBF Invalid column name "+l[h]+" |"+typeof l[h]+"|");if(l.indexOf(l[h])!==h)for(f=0;f<1024;++f)if(-1==l.indexOf(l[h]+"_"+f)){l[h]+="_"+f;break}}var m=Jn(e["!ref"]),g=[],y=[],b=[];for(h=0;h<=m.e.c-m.s.c;++h){var w="",_="",E=0,T=[];for(f=0;f<u.length;++f)null!=u[f][h]&&T.push(u[f][h]);if(0!=T.length&&null!=l[h]){for(f=0;f<T.length;++f){switch(typeof T[f]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=T[f]instanceof Date?"D":"C";break;default:_="C"}E=Math.max(E,String(T[f]).length),w=w&&w!=_?"C":_}E>250&&(E=250),_=((d[h]||{}).DBF||{}).type,"C"==_&&d[h].DBF.len>E&&(E=d[h].DBF.len),"B"==w&&"N"==_&&(w="N",b[h]=d[h].DBF.dec,E=d[h].DBF.len),y[h]="C"==w||"N"==_?E:i[w]||0,v+=y[h],g[h]=w}else g[h]="?"}var S=a.next(32);for(S.write_shift(4,318902576),S.write_shift(4,u.length),S.write_shift(2,296+32*p),S.write_shift(2,v),h=0;h<4;++h)S.write_shift(4,0);for(S.write_shift(4,(+t[o]||3)<<8),h=0,f=0;h<l.length;++h)if(null!=l[h]){var k=a.next(32),C=(l[h].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,C,"sbcs"),k.write_shift(1,"?"==g[h]?"C":g[h],"sbcs"),k.write_shift(4,f),k.write_shift(1,y[h]||i[g[h]]||0),k.write_shift(1,b[h]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),f+=y[h]||i[g[h]]||0}var R=a.next(264);for(R.write_shift(4,13),h=0;h<65;++h)R.write_shift(4,0);for(h=0;h<u.length;++h){var I=a.next(v);for(I.write_shift(1,0),f=0;f<l.length;++f)if(null!=l[f])switch(g[f]){case"L":I.write_shift(1,null==u[h][f]?63:u[h][f]?84:70);break;case"B":I.write_shift(8,u[h][f]||0,"f");break;case"N":var A="0";for("number"==typeof u[h][f]&&(A=u[h][f].toFixed(b[f]||0)),p=0;p<y[f]-A.length;++p)I.write_shift(1,32);I.write_shift(1,A,"sbcs");break;case"D":u[h][f]?(I.write_shift(4,("0000"+u[h][f].getFullYear()).slice(-4),"sbcs"),I.write_shift(2,("00"+(u[h][f].getMonth()+1)).slice(-2),"sbcs"),I.write_shift(2,("00"+u[h][f].getDate()).slice(-2),"sbcs")):I.write_shift(8,"00000000","sbcs");break;case"C":var x=String(null!=u[h][f]?u[h][f]:"").slice(0,y[f]);for(I.write_shift(1,x,"sbcs"),p=0;p<y[f]-x.length;++p)I.write_shift(1,32);break}}return a.next(1).write_shift(1,26),a.end()}return{to_workbook:a,to_sheet:r,from_sheet:s}}(),wo=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+Qe(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?v(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:v(r)};function a(e,t){switch(t.type){case"base64":return o(w(e),t);case"binary":return o(e,t);case"buffer":return o(_&&Buffer.isBuffer(e)?e.toString("binary"):R(e),t);case"array":return o(dt(e),t)}throw new Error("Unrecognized type "+t.type)}function o(e,a){var o,i=e.split(/[\n\r]+/),s=-1,l=-1,u=0,d=0,h=[],p=[],v=null,m={},g=[],y=[],b=[],w=0;for(+a.codepage>=0&&c(+a.codepage);u!==i.length;++u){w=0;var _,E=i[u].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),T=E.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),S=T[0];if(E.length>0)switch(S){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":"P"==T[1].charAt(0)&&p.push(E.slice(3).replace(/;;/g,";"));break;case"C":var k=!1,C=!1,R=!1,I=!1,A=-1,x=-1;for(d=1;d<T.length;++d)switch(T[d].charAt(0)){case"A":break;case"X":l=parseInt(T[d].slice(1))-1,C=!0;break;case"Y":for(s=parseInt(T[d].slice(1))-1,C||(l=0),o=h.length;o<=s;++o)h[o]=[];break;case"K":_=T[d].slice(1),'"'===_.charAt(0)?_=_.slice(1,_.length-1):"TRUE"===_?_=!0:"FALSE"===_?_=!1:isNaN(pt(_))?isNaN(mt(_).getDate())||(_=ct(_)):(_=pt(_),null!==v&&De(v)&&(_=it(_))),"undefined"!==typeof f&&"string"==typeof _&&"string"!=(a||{}).type&&(a||{}).codepage&&(_=f.utils.decode(a.codepage,_)),k=!0;break;case"E":I=!0;var O=ji(T[d].slice(1),{r:s,c:l});h[s][l]=[h[s][l],O];break;case"S":R=!0,h[s][l]=[h[s][l],"S5S"];break;case"G":break;case"R":A=parseInt(T[d].slice(1))-1;break;case"C":x=parseInt(T[d].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+E)}if(k&&(h[s][l]&&2==h[s][l].length?h[s][l][0]=_:h[s][l]=_,v=null),R){if(I)throw new Error("SYLK shared formula cannot have own formula");var N=A>-1&&h[A][x];if(!N||!N[1])throw new Error("SYLK shared formula cannot find base");h[s][l][1]=Hi(N[1],{r:s-A,c:l-x})}break;case"F":var D=0;for(d=1;d<T.length;++d)switch(T[d].charAt(0)){case"X":l=parseInt(T[d].slice(1))-1,++D;break;case"Y":for(s=parseInt(T[d].slice(1))-1,o=h.length;o<=s;++o)h[o]=[];break;case"M":w=parseInt(T[d].slice(1))/20;break;case"F":break;case"G":break;case"P":v=p[parseInt(T[d].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=T[d].slice(1).split(" "),o=parseInt(b[0],10);o<=parseInt(b[1],10);++o)w=parseInt(b[2],10),y[o-1]=0===w?{hidden:!0}:{wch:w},Bo(y[o-1]);break;case"C":l=parseInt(T[d].slice(1))-1,y[l]||(y[l]={});break;case"R":s=parseInt(T[d].slice(1))-1,g[s]||(g[s]={}),w>0?(g[s].hpt=w,g[s].hpx=Go(w)):0===w&&(g[s].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+E)}D<1&&(v=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+E)}}return g.length>0&&(m["!rows"]=g),y.length>0&&(m["!cols"]=y),a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),[h,m]}function i(e,t){var n=a(e,t),r=n[0],o=n[1],i=rr(r,t);return Qe(o).forEach(function(e){i[e]=o[e]}),i}function s(e,t){return tr(i(e,t),t)}function l(e,t,n,r){var a="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+zi(e.f,{r:n,c:r}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return a}function u(e,t){t.forEach(function(t,n){var r="F;W"+(n+1)+" "+(n+1)+" ";t.hidden?r+="0":("number"!=typeof t.width||t.wpx||(t.wpx=Vo(t.width)),"number"!=typeof t.wpx||t.wch||(t.wch=Fo(t.wpx)),"number"==typeof t.wch&&(r+=Math.round(t.wch)))," "!=r.charAt(r.length-1)&&e.push(r)})}function d(e,t){t.forEach(function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*jo(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))})}function h(e,t){var n,r=["ID;PWXL;N;E"],a=[],o=Jn(e["!ref"]),i=Array.isArray(e),s="\r\n";r.push("P;PGeneral"),r.push("F;P0;DG0G8;M255"),e["!cols"]&&u(r,e["!cols"]),e["!rows"]&&d(r,e["!rows"]),r.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var c=o.s.r;c<=o.e.r;++c)for(var h=o.s.c;h<=o.e.c;++h){var f=qn({r:c,c:h});n=i?(e[c]||[])[h]:e[f],n&&(null!=n.v||n.f&&!n.F)&&a.push(l(n,e,c,h,t))}return r.join(s)+s+a.join(s)+s+"E"+s}return e["|"]=254,{to_workbook:s,to_sheet:i,from_sheet:h}}(),_o=function(){function e(e,n){switch(n.type){case"base64":return t(w(e),n);case"binary":return t(e,n);case"buffer":return t(_&&Buffer.isBuffer(e)?e.toString("binary"):R(e),n);case"array":return t(dt(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){for(var n=e.split("\n"),r=-1,a=-1,o=0,i=[];o!==n.length;++o)if("BOT"!==n[o].trim()){if(!(r<0)){var s=n[o].trim().split(","),l=s[0],u=s[1];++o;var c=n[o]||"";while(1&(c.match(/["]/g)||[]).length&&o<n.length-1)c+="\n"+n[++o];switch(c=c.trim(),+l){case-1:if("BOT"===c){i[++r]=[],a=0;continue}if("EOD"!==c)throw new Error("Unrecognized DIF special command "+c);break;case 0:"TRUE"===c?i[r][a]=!0:"FALSE"===c?i[r][a]=!1:isNaN(pt(u))?isNaN(mt(u).getDate())?i[r][a]=u:i[r][a]=ct(u):i[r][a]=pt(u),++a;break;case 1:c=c.slice(1,c.length-1),c=c.replace(/""/g,'"'),g&&c&&c.match(/^=".*"$/)&&(c=c.slice(2,-1)),i[r][a++]=""!==c?c:null;break}if("EOD"===c)break}}else i[++r]=[],a=0;return t&&t.sheetRows&&(i=i.slice(0,t.sheetRows)),i}function n(t,n){return rr(e(t,n),n)}function r(e,t){return tr(n(e,t),t)}var a=function(){var e=function(e,t,n,r,a){e.push(t),e.push(n+","+r),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,a=[],o=Jn(n["!ref"]),i=Array.isArray(n);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,o.e.r-o.s.r+1,""),e(a,"TUPLES",0,o.e.c-o.s.c+1,""),e(a,"DATA",0,0,"");for(var s=o.s.r;s<=o.e.r;++s){t(a,-1,0,"BOT");for(var l=o.s.c;l<=o.e.c;++l){var u=qn({r:s,c:l});if(r=i?(n[s]||[])[l]:n[u],r)switch(r.t){case"n":var c=g?r.w:r.v;c||null==r.v||(c=r.v),null==c?g&&r.f&&!r.F?t(a,1,0,"="+r.f):t(a,1,0,""):t(a,0,c,"V");break;case"b":t(a,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(a,1,0,!g||isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=Fe(r.z||H[14],nt(ct(r.v)))),g?t(a,0,r.w,"V"):t(a,1,0,r.w);break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");var d="\r\n",h=a.join(d);return h}}();return{to_workbook:r,to_sheet:n,from_sheet:a}}(),Eo=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){for(var r=t.split("\n"),a=-1,o=-1,i=0,s=[];i!==r.length;++i){var l=r[i].trim().split(":");if("cell"===l[0]){var u=Xn(l[1]);if(s.length<=u.r)for(a=s.length;a<=u.r;++a)s[a]||(s[a]=[]);switch(a=u.r,o=u.c,l[2]){case"t":s[a][o]=e(l[3]);break;case"v":s[a][o]=+l[3];break;case"vtf":var c=l[l.length-1];case"vtc":switch(l[3]){case"nl":s[a][o]=!!+l[4];break;default:s[a][o]=+l[4];break}"vtf"==l[2]&&(s[a][o]=[s[a][o],c])}}}return n&&n.sheetRows&&(s=s.slice(0,n.sheetRows)),s}function r(e,t){return rr(n(e,t),t)}function a(e,t){return tr(r(e,t),t)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),l="--SocialCalcSpreadsheetControlSave--";function u(e){if(!e||!e["!ref"])return"";for(var n,r=[],a=[],o="",i=Qn(e["!ref"]),s=Array.isArray(e),l=i.s.r;l<=i.e.r;++l)for(var u=i.s.c;u<=i.e.c;++u)if(o=qn({r:l,c:u}),n=s?(e[l]||[])[u]:e[o],n&&null!=n.v&&"z"!==n.t){switch(a=["cell",o,"t"],n.t){case"s":case"str":a.push(t(n.v));break;case"n":n.f?(a[2]="vtf",a[3]="n",a[4]=n.v,a[5]=t(n.f)):(a[2]="v",a[3]=n.v);break;case"b":a[2]="vt"+(n.f?"f":"c"),a[3]="nl",a[4]=n.v?"1":"0",a[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var c=nt(ct(n.v));a[2]="vtc",a[3]="nd",a[4]=""+c,a[5]=n.w||Fe(n.z||H[14],c);break;case"e":continue}r.push(a.join(":"))}return r.push("sheet:c:"+(i.e.c-i.s.c+1)+":r:"+(i.e.r-i.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}function c(e){return[o,i,s,i,u(e),l].join("\n")}return{to_workbook:a,to_sheet:r,from_sheet:c}}(),To=function(){function e(e,t,n,r,a){a.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(pt(e))?isNaN(mt(e).getDate())?t[n][r]=e:t[n][r]=ct(e):t[n][r]=pt(e))}function t(t,n){var r=n||{},a=[];if(!t||0===t.length)return a;var o=t.split(/[\r\n]/),i=o.length-1;while(i>=0&&0===o[i].length)--i;for(var s=10,l=0,u=0;u<=i;++u)l=o[u].indexOf(" "),-1==l?l=o[u].length:l++,s=Math.max(s,l);for(u=0;u<=i;++u){a[u]=[];var c=0;for(e(o[u].slice(0,s).trim(),a,u,c,r),c=1;c<=(o[u].length-s)/10+1;++c)e(o[u].slice(s+10*(c-1),s+10*c).trim(),a,u,c,r)}return r.sheetRows&&(a=a.slice(0,r.sheetRows)),a}var n={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(e){for(var t={},a=!1,o=0,i=0;o<e.length;++o)34==(i=e.charCodeAt(o))?a=!a:!a&&i in n&&(t[i]=(t[i]||0)+1);for(o in i=[],t)Object.prototype.hasOwnProperty.call(t,o)&&i.push([t[o],o]);if(!i.length)for(o in t=r,t)Object.prototype.hasOwnProperty.call(t,o)&&i.push([t[o],o]);return i.sort(function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]}),n[i.pop()[1]]||44}function o(e,t){var n=t||{},r="";null!=m&&null==n.dense&&(n.dense=m);var o=n.dense?[]:{},i={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(r=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(r=e.charAt(4),e=e.slice(6)):r=a(e.slice(0,1024)):r=n&&n.FS?n.FS:a(e.slice(0,1024));var s=0,l=0,u=0,c=0,d=0,h=r.charCodeAt(0),f=!1,p=0,v=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=n.dateNF?je(n.dateNF):null;function y(){var t=e.slice(c,d),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):Ki(t)?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(u=pt(t)))if(!isNaN(mt(t).getDate())||g&&t.match(g)){r.z=n.dateNF||H[14];var a=0;g&&t.match(g)&&(t=Ge(t,n.dateNF,t.match(g)||[]),a=1),n.cellDates?(r.t="d",r.v=ct(t,a)):(r.t="n",r.v=nt(ct(t,a))),!1!==n.cellText&&(r.w=Fe(r.z,r.v instanceof Date?nt(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=u;if("z"==r.t||(n.dense?(o[s]||(o[s]=[]),o[s][l]=r):o[qn({c:l,r:s})]=r),c=d+1,v=e.charCodeAt(c),i.e.c<l&&(i.e.c=l),i.e.r<s&&(i.e.r=s),p==h)++l;else if(l=0,++s,n.sheetRows&&n.sheetRows<=s)return!0}e:for(;d<e.length;++d)switch(p=e.charCodeAt(d)){case 34:34===v&&(f=!f);break;case h:case 10:case 13:if(!f&&y())break e;break;default:break}return d-c>0&&y(),o["!ref"]=Yn(i),o}function i(e,n){return n&&n.PRN?n.FS||"sep="==e.slice(0,4)||e.indexOf("\t")>=0||e.indexOf(",")>=0||e.indexOf(";")>=0?o(e,n):rr(t(e,n),n):o(e,n)}function s(e,t){var n="",r="string"==t.type?[0,0,0,0]:ih(e,t);switch(t.type){case"base64":n=w(e);break;case"binary":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof f?f.utils.decode(t.codepage,e):_&&Buffer.isBuffer(e)?e.toString("binary"):R(e);break;case"array":n=dt(e);break;case"string":n=e;break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=Pt(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=Pt(n):"binary"==t.type&&"undefined"!==typeof f&&t.codepage&&(n=f.utils.decode(t.codepage,f.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?Eo.to_sheet("string"==t.type?n:Pt(n),t):i(n,t)}function l(e,t){return tr(s(e,t),t)}function u(e){for(var t,n=[],r=Jn(e["!ref"]),a=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var i=[],s=r.s.c;s<=r.e.c;++s){var l=qn({r:o,c:s});if(t=a?(e[o]||[])[s]:e[l],t&&null!=t.v){var u=(t.w||(er(t),t.w)||"").slice(0,10);while(u.length<10)u+=" ";i.push(u+(0===s?" ":""))}else i.push("          ")}n.push(i.join(""))}return n.join("\n")}return{to_workbook:l,to_sheet:s,from_sheet:u}}();var So=function(){function e(e,t,n){if(e){xn(e,e.l||0);var r=n.Enum||B;while(e.l<e.length){var a=e.read_shift(2),o=r[a]||r[65535],i=e.read_shift(2),s=e.l+i,l=o.f&&o.f(e,i,n);if(e.l=s,t(l,o,a))return}}}function t(e,t){switch(t.type){case"base64":return n(k(w(e)),t);case"binary":return n(k(e),t);case"buffer":case"array":return n(e,t)}throw"Unsupported type "+t.type}function n(t,n){if(!t)return t;var r=n||{};null!=m&&null==r.dense&&(r.dense=m);var a=r.dense?[]:{},o="Sheet1",i="",s=0,l={},u=[],c=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=B,e(t,function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:d=e;break;case 204:e&&(i=e);break;case 222:i=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||H[14],r.cellDates&&(e[1].t="d",e[1].v=it(e[1].v))),r.qpro&&e[3]>s&&(a["!ref"]=Yn(d),l[o]=a,u.push(o),a=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],o=i||"Sheet"+(s+1),i="");var c=r.dense?(a[e[0].r]||[])[e[0].c]:a[qn(e[0])];if(c){c.t=e[1].t,c.v=e[1].v,null!=e[1].z&&(c.z=e[1].z),null!=e[1].f&&(c.f=e[1].f);break}r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[qn(e[0])]=e[1];break;default:}},r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=W,14==t[2]&&(r.qpro=!0,t.l=0),e(t,function(e,t,n){switch(n){case 204:o=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(a["!ref"]=Yn(d),l[o]=a,u.push(o),a=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],o="Sheet"+(s+1)),h>0&&e[0].r>=h)break;r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[qn(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(c[e[14e3][0]]=e[14e3][1]);break;case 1537:c[e[0]]=e[1],e[0]==s&&(o=e[1]);break;default:break}},r)}if(a["!ref"]=Yn(d),l[i||o]=a,u.push(i||o),!c.length)return{SheetNames:u,Sheets:l};for(var f={},p=[],v=0;v<c.length;++v)l[u[v]]?(p.push(c[v]||u[v]),f[c[v]]=l[c[v]]||l[u[v]]):(p.push(c[v]),f[c[v]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function r(e,t){var n=t||{};if(+n.codepage>=0&&c(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=Dn(),a=Jn(e["!ref"]),i=Array.isArray(e),s=[];rd(r,0,o(1030)),rd(r,6,l(a));for(var u=Math.min(a.e.r,8191),d=a.s.r;d<=u;++d)for(var f=Bn(d),v=a.s.c;v<=a.e.c;++v){d===a.s.r&&(s[v]=Gn(v));var m=s[v]+f,y=i?(e[d]||[])[v]:e[m];if(y&&"z"!=y.t)if("n"==y.t)(0|y.v)==y.v&&y.v>=-32768&&y.v<=32767?rd(r,13,p(d,v,y.v)):rd(r,14,g(d,v,y.v));else{var b=er(y);rd(r,15,h(d,v,b.slice(0,239)))}}return rd(r,1),r.end()}function a(e,t){var n=t||{};if(+n.codepage>=0&&c(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=Dn();rd(r,0,i(e));for(var a=0,o=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&rd(r,27,$(e.SheetNames[a],o++));var s=0;for(a=0;a<e.SheetNames.length;++a){var l=e.Sheets[e.SheetNames[a]];if(l&&l["!ref"]){for(var u=Jn(l["!ref"]),d=Array.isArray(l),h=[],f=Math.min(u.e.r,8191),p=u.s.r;p<=f;++p)for(var v=Bn(p),m=u.s.c;m<=u.e.c;++m){p===u.s.r&&(h[m]=Gn(m));var g=h[m]+v,y=d?(l[p]||[])[m]:l[g];if(y&&"z"!=y.t)if("n"==y.t)rd(r,23,x(p,m,s,y.v));else{var b=er(y);rd(r,22,R(p,m,s,b.slice(0,239)))}}++s}}return rd(r,1),r.end()}function o(e){var t=Nn(2);return t.write_shift(2,e),t}function i(e){var t=Nn(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,a=0,o=0;o<e.SheetNames.length;++o){var i=e.SheetNames[o],s=e.Sheets[i];if(s&&s["!ref"]){++a;var l=Qn(s["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}return n>8191&&(n=8191),t.write_shift(2,n),t.write_shift(1,a),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}function s(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}function l(e){var t=Nn(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}function u(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function d(e,t,n){var r=e.l+t,a=u(e,t,n);if(a[1].t="s",20768==n.vers){e.l++;var o=e.read_shift(1);return a[1].v=e.read_shift(o,"utf8"),a}return n.qpro&&e.l++,a[1].v=e.read_shift(r-e.l,"cstr"),a}function h(e,t,n){var r=Nn(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var a=0;a<r.length;++a){var o=n.charCodeAt(a);r.write_shift(1,o>=128?95:o)}return r.write_shift(1,0),r}function f(e,t,n){var r=u(e,t,n);return r[1].v=e.read_shift(2,"i"),r}function p(e,t,n){var r=Nn(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function v(e,t,n){var r=u(e,t,n);return r[1].v=e.read_shift(8,"f"),r}function g(e,t,n){var r=Nn(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function y(e,t,n){var r=e.l+t,a=u(e,t,n);if(a[1].v=e.read_shift(8,"f"),n.qpro)e.l=r;else{var o=e.read_shift(2);T(e.slice(e.l,e.l+o),a),e.l+=o}return a}function b(e,t,n){var r=32768&t;return t&=-32769,t=(r?e:0)+(t>=8192?t-16384:t),(r?"":"$")+(n?Gn(t):Bn(t))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(e,t){xn(e,0);var n=[],r=0,a="",o="",i="",s="";while(e.l<e.length){var l=e[e.l++];switch(l){case 0:n.push(e.read_shift(8,"f"));break;case 1:o=b(t[0].c,e.read_shift(2),!0),a=b(t[0].r,e.read_shift(2),!1),n.push(o+a);break;case 2:var u=b(t[0].c,e.read_shift(2),!0),c=b(t[0].r,e.read_shift(2),!1);o=b(t[0].c,e.read_shift(2),!0),a=b(t[0].r,e.read_shift(2),!1),n.push(u+c+":"+o+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:var d="";while(l=e[e.l++])d+=String.fromCharCode(l);n.push('"'+d.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:s=n.pop(),i=n.pop(),n.push(["AND","OR"][l-20]+"("+i+","+s+")");break;default:if(l<32&&E[l])s=n.pop(),i=n.pop(),n.push(i+E[l]+s);else{if(!_[l])return l<=7?console.error("WK1 invalid opcode "+l.toString(16)):l<=24?console.error("WK1 unsupported op "+l.toString(16)):l<=30?console.error("WK1 invalid opcode "+l.toString(16)):l<=115?console.error("WK1 unsupported function opcode "+l.toString(16)):console.error("WK1 unrecognized opcode "+l.toString(16));if(r=_[l][1],69==r&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+l.toString(16)+":|"+n.join("|")+"|");var h=n.slice(-r);n.length-=r,n.push(_[l][0]+"("+h.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}function S(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function C(e,t){var n=S(e,t);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}function R(e,t,n,r){var a=Nn(6+r.length);a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),a.write_shift(1,39);for(var o=0;o<r.length;++o){var i=r.charCodeAt(o);a.write_shift(1,i>=128?95:i)}return a.write_shift(1,0),a}function I(e,t){var n=S(e,t);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64;break}return n[1].v=r,n}function A(e,t){var n=S(e,t),r=e.read_shift(4),a=e.read_shift(4),o=e.read_shift(2);if(65535==o)return 0===r&&3221225472===a?(n[1].t="e",n[1].v=15):0===r&&3489660928===a?(n[1].t="e",n[1].v=42):n[1].v=0,n;var i=32768&o;return o=(32767&o)-16446,n[1].v=(1-2*i)*(a*Math.pow(2,o+32)+r*Math.pow(2,o)),n}function x(e,t,n,r){var a=Nn(14);if(a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),0==r)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var o=0,i=0,s=0,l=0;return r<0&&(o=1,r=-r),i=0|Math.log2(r),r/=Math.pow(2,i-31),l=r>>>0,0==(2147483648&l)&&(r/=2,++i,l=r>>>0),r-=l,l|=2147483648,l>>>=0,r*=Math.pow(2,32),s=r>>>0,a.write_shift(4,s),a.write_shift(4,l),i+=16383+(o?32768:0),a.write_shift(2,i),a}function O(e,t){var n=A(e,14);return e.l+=t-14,n}function N(e,t){var n=S(e,t),r=e.read_shift(4);return n[1].v=r>>6,n}function D(e,t){var n=S(e,t),r=e.read_shift(8,"f");return n[1].v=r,n}function L(e,t){var n=D(e,14);return e.l+=t-10,n}function P(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function M(e,t){var n=e[e.l++];n>t-1&&(n=t-1);var r="";while(r.length<n)r+=String.fromCharCode(e[e.l++]);return r}function V(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);e.l+=17,e.l+=1,e.l+=2;var a=e.read_shift(t-21,"cstr");return[r,a]}}function F(e,t){var n={},r=e.l+t;while(e.l<r){var a=e.read_shift(2);if(14e3==a){n[a]=[0,""],n[a][0]=e.read_shift(2);while(e[e.l])n[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}function $(e,t){var n=Nn(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var a=e.charCodeAt(r);n[n.l++]=a>127?95:a}return n[n.l++]=0,n}var B={0:{n:"BOF",f:Oa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:P},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:F},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:P},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}}();var ko=/^\s|\s$|[\t\n\r]/;function Co(e,t){if(!t.bookSST)return"";var n=[bt];n[n.length]=Wt("sst",null,{xmlns:zt[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var a=e[r],o="<si>";a.r?o+=a.r:(o+="<t",a.t||(a.t=""),a.t.match(ko)&&(o+=' xml:space="preserve"'),o+=">"+St(a.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function Ro(e){return[e.read_shift(4),e.read_shift(4)]}function Io(e,t){return t||(t=Nn(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Ao=dr;function xo(e){var t=Dn();Ln(t,159,Io(e));for(var n=0;n<e.length;++n)Ln(t,19,Ao(e[n]));return Ln(t,160),t.end()}function Oo(e){if("undefined"!==typeof f)return f.utils.encode(o,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function No(e){var t,n,r,a,o,i,s=0,l=Oo(e),u=l.length+1;for(t=T(u),t[0]=l.length,n=1;n!=u;++n)t[n]=l[n-1];for(n=u-1;n>=0;--n)r=t[n],a=0===(16384&s)?0:1,o=s<<1&32767,i=a|o,s=i^r;return 52811^s}var Do=function(){function e(e,n){switch(n.type){case"base64":return t(w(e),n);case"binary":return t(e,n);case"buffer":return t(_&&Buffer.isBuffer(e)?e.toString("binary"):R(e),n);case"array":return t(dt(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=t||{},r=n.dense?[]:{},a=e.match(/\\trowd.*?\\row\b/g);if(!a.length)throw new Error("RTF missing table");var o={s:{c:0,r:0},e:{c:0,r:a.length-1}};return a.forEach(function(e,t){Array.isArray(r)&&(r[t]=[]);var n,a=/\\\w+\b/g,i=0,s=-1;while(n=a.exec(e)){switch(n[0]){case"\\cell":var l=e.slice(i,a.lastIndex-n[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var u={v:l,t:"s"};Array.isArray(r)?r[t][s]=u:r[qn({r:t,c:s})]=u}break}i=a.lastIndex}s>o.e.c&&(o.e.c=s)}),r["!ref"]=Yn(o),r}function n(t,n){return tr(e(t,n),n)}function r(e){for(var t,n=["{\\rtf1\\ansi"],r=Jn(e["!ref"]),a=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){n.push("\\trowd\\trautofit1");for(var i=r.s.c;i<=r.e.c;++i)n.push("\\cellx"+(i+1));for(n.push("\\pard\\intbl"),i=r.s.c;i<=r.e.c;++i){var s=qn({r:o,c:i});t=a?(e[o]||[])[i]:e[s],t&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(er(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function Lo(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var Po=6,Mo=Po;function Vo(e){return Math.floor((e+Math.round(128/Mo)/256)*Mo)}function Fo(e){return Math.floor((e-5)/Mo*100+.5)/100}function $o(e){return Math.round((e*Mo+5)/Mo*256)/256}function Bo(e){e.width?(e.wpx=Vo(e.width),e.wch=Fo(e.wpx),e.MDW=Mo):e.wpx?(e.wch=Fo(e.wpx),e.width=$o(e.wch),e.MDW=Mo):"number"==typeof e.wch&&(e.width=$o(e.wch),e.wpx=Vo(e.width),e.MDW=Mo),e.customWidth&&delete e.customWidth}var Wo=96,Uo=Wo;function jo(e){return 96*e/Uo}function Go(e){return e*Uo/96}function zo(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=Wt("numFmt",null,{numFmtId:r,formatCode:St(e[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Wt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Ho(e){var t=[];return t[t.length]=Wt("cellXfs",null),e.forEach(function(e){t[t.length]=Wt("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Wt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Ko(e,t){var n,r=[bt,Wt("styleSheet",null,{xmlns:zt[0],"xmlns:vt":Gt.vt})];return e.SSF&&null!=(n=zo(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Ho(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Xo(e,t){var n=e.read_shift(2),r=ir(e,t-2);return[n,r]}function qo(e,t,n){n||(n=Nn(6+4*t.length)),n.write_shift(2,e),sr(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function Qo(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=Pr(e,2,n);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var o=e.read_shift(2);switch(700===o&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var i=e.read_shift(1);0!=i&&(r.underline=i);var s=e.read_shift(1);s>0&&(r.family=s);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=Dr(e,8),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ir(e,t-21),r}function Yo(e,t){t||(t=Nn(153)),t.write_shift(2,20*e.sz),Mr(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Lr(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),sr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Jo,Zo=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ei=On;function ti(e,t){t||(t=Nn(84)),Jo||(Jo=Je(Zo));var n=Jo[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(Lr({auto:1},t),Lr({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ni(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}function ri(e,t,n){n||(n=Nn(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function ai(e,t){return t||(t=Nn(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var oi=On;function ii(e,t){return t||(t=Nn(51)),t.write_shift(1,0),ai(null,t),ai(null,t),ai(null,t),ai(null,t),ai(null,t),t.length>t.l?t.slice(0,t.l):t}function si(e,t){return t||(t=Nn(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),_r(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function li(e,t,n){var r=Nn(2052);return r.write_shift(4,e),_r(t,r),_r(n,r),r.length>r.l?r.slice(0,r.l):r}function ui(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n}),0!=n&&(Ln(e,615,or(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&Ln(e,44,qo(r,t[r]))}),Ln(e,616))}}function ci(e){var t=1;0!=t&&(Ln(e,611,or(t)),Ln(e,43,Yo({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ln(e,612))}function di(e){var t=2;0!=t&&(Ln(e,603,or(t)),Ln(e,45,ti({patternType:"none"})),Ln(e,45,ti({patternType:"gray125"})),Ln(e,604))}function hi(e){var t=1;0!=t&&(Ln(e,613,or(t)),Ln(e,46,ii({})),Ln(e,614))}function fi(e){var t=1;Ln(e,626,or(t)),Ln(e,47,ri({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ln(e,627)}function pi(e,t){Ln(e,617,or(t.length)),t.forEach(function(t){Ln(e,47,ri(t,0))}),Ln(e,618)}function vi(e){var t=1;Ln(e,619,or(t)),Ln(e,48,si({xfId:0,builtinId:0,name:"Normal"})),Ln(e,620)}function mi(e){var t=0;Ln(e,505,or(t)),Ln(e,506)}function gi(e){var t=0;Ln(e,508,li(t,"TableStyleMedium9","PivotStyleMedium4")),Ln(e,509)}function yi(){}function bi(e,t){var n=Dn();return Ln(n,278),ui(n,e.SSF),ci(n,e),di(n,e),hi(n,e),fi(n,e),pi(n,t.cellXfs),vi(n,e),mi(n,e),gi(n,e),yi(n,e),Ln(n,279),n.end()}function wi(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[bt];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function _i(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ir(e,t-8)}}function Ei(e){var t=Nn(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),sr(e.name,t),t.slice(0,t.l)}function Ti(e){var t=[],n=e.read_shift(4);while(n-- >0)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Si(e){var t=Nn(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function ki(e,t){var n=Nn(8+2*t.length);return n.write_shift(4,e),sr(t,n),n.slice(0,n.l)}function Ci(e){return e.l+=4,0!=e.read_shift(4)}function Ri(e,t){var n=Nn(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}function Ii(){var e=Dn();return Ln(e,332),Ln(e,334,or(1)),Ln(e,335,Ei({name:"XLDAPR",version:12e4,flags:3496657072})),Ln(e,336),Ln(e,339,ki(1,"XLDAPR")),Ln(e,52),Ln(e,35,or(514)),Ln(e,4096,or(0)),Ln(e,4097,Na(1)),Ln(e,36),Ln(e,53),Ln(e,340),Ln(e,337,Ri(1,!0)),Ln(e,51,Si([[1,0]])),Ln(e,338),Ln(e,333),e.end()}function Ai(){var e=[bt];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}function xi(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=qn(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}var Oi=1024;function Ni(e,t){var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[Wt("xml",null,{"xmlns:v":Ht.v,"xmlns:o":Ht.o,"xmlns:x":Ht.x,"xmlns:mv":Ht.mv}).replace(/\/>/,">"),Wt("o:shapelayout",Wt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Wt("v:shapetype",[Wt("v:stroke",null,{joinstyle:"miter"}),Wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];while(Oi<1e3*e)Oi+=1e3;return t.forEach(function(e){var t=Xn(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?Wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=Wt("v:fill",r,n),i={on:"t",obscured:"t"};++Oi,a=a.concat(["<v:shape"+Bt({id:"_x0000_s"+Oi,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,Wt("v:shadow",null,i),Wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$t("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),$t("x:AutoFill","False"),$t("x:Row",String(t.r)),$t("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Di(e){var t=[bt,Wt("comments",null,{xmlns:zt[0]})],n=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var r=St(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var r=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(r=n.indexOf(St(e.a))),a.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),a.length<=1)t.push($t("t",St(a[0]||"")));else{for(var o="Comment:\n    "+a[0]+"\n",i=1;i<a.length;++i)o+="Reply:\n    "+a[i]+"\n";t.push($t("t",St(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Li(e,t,n){var r=[bt,Wt("ThreadedComments",null,{xmlns:Gt.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(e){var a="";(e[1]||[]).forEach(function(o,i){if(o.T){o.a&&-1==t.indexOf(o.a)&&t.push(o.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==i?a=s.id:s.parentId=a,o.ID=s.id,o.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Wt("threadedComment",$t("text",o.t||""),s))}else delete o.ID})}),r.push("</ThreadedComments>"),r.join("")}function Pi(e){var t=[bt,Wt("personList",null,{xmlns:Gt.TCMNT,"xmlns:x":zt[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,n){t.push(Wt("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Mi(e){var t={};t.iauthor=e.read_shift(4);var n=Ar(e,16);return t.rfx=n.s,t.ref=qn(n.s),e.l+=16,t}function Vi(e,t){return null==t&&(t=Nn(36)),t.write_shift(4,e[1].iauthor),xr(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Fi=ir;function $i(e){return sr(e.slice(0,54))}function Bi(e){var t=Dn(),n=[];return Ln(t,628),Ln(t,630),e.forEach(function(e){e[1].forEach(function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),Ln(t,632,$i(e.a)))})}),Ln(t,631),Ln(t,633),e.forEach(function(e){e[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var a={s:Xn(e[0]),e:Xn(e[0])};Ln(t,635,Vi([a,r])),r.t&&r.t.length>0&&Ln(t,637,fr(r)),Ln(t,636),delete r.iauthor})}),Ln(t,634),Ln(t,629),t.end()}function Wi(e,t){t.FullPaths.forEach(function(n,r){if(0!=r){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&He.utils.cfb_add(e,a,t.FileIndex[r].content)}})}var Ui=["xlsb","xlsm","xlam","biff8","xla"];var ji=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,a){var o=!1,i=!1;0==r.length?i=!0:"["==r.charAt(0)&&(i=!0,r=r.slice(1,-1)),0==a.length?o=!0:"["==a.charAt(0)&&(o=!0,a=a.slice(1,-1));var s=r.length>0?0|parseInt(r,10):0,l=a.length>0?0|parseInt(a,10):0;return o?l+=t.c:--l,i?s+=t.r:--s,n+(o?"":"$")+Gn(l)+(i?"":"$")+Bn(s)}return function(r,a){return t=a,r.replace(e,n)}}(),Gi=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,zi=function(){return function(e,t){return e.replace(Gi,function(e,n,r,a,o,i){var s=jn(a)-(r?0:t.c),l=$n(i)-(o?0:t.r),u=0==l?"":o?l+1:"["+l+"]",c=0==s?"":r?s+1:"["+s+"]";return n+"R"+u+"C"+c})}}();function Hi(e,t){return e.replace(Gi,function(e,n,r,a,o,i){return n+("$"==r?r+a:Gn(jn(a)+t.c))+("$"==o?o+i:Bn($n(i)+t.r))})}function Ki(e){return 1!=e.length}function Xi(e){e.l+=1}function qi(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function Qi(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return Yi(e,t,n);12==n.biff&&(r=4)}var a=e.read_shift(r),o=e.read_shift(r),i=qi(e,2),s=qi(e,2);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:o,c:s[0],cRel:s[1],rRel:s[2]}}}function Yi(e){var t=qi(e,2),n=qi(e,2),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function Ji(e,t,n){if(n.biff<8)return Yi(e,t,n);var r=e.read_shift(12==n.biff?4:2),a=e.read_shift(12==n.biff?4:2),o=qi(e,2),i=qi(e,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function Zi(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return es(e,t,n);var r=e.read_shift(n&&12==n.biff?4:2),a=qi(e,2);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function es(e){var t=qi(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function ts(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function ns(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return rs(e,t,n);var a=e.read_shift(r>=12?4:2),o=e.read_shift(2),i=(16384&o)>>14,s=(32768&o)>>15;if(o&=16383,1==s)while(a>524287)a-=1048576;if(1==i)while(o>8191)o-=16384;return{r:a,c:o,cRel:i,rRel:s}}function rs(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==a&&n>=128&&(n-=256),{r:t,c:n,cRel:a,rRel:r}}function as(e,t,n){var r=(96&e[e.l++])>>5,a=Qi(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function os(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12;break}var i=Qi(e,o,n);return[r,a,i]}function is(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function ss(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12;break}return e.l+=o,[r,a]}function ls(e,t,n){var r=(96&e[e.l++])>>5,a=Ji(e,t-1,n);return[r,a]}function us(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}function cs(e){var t=1&e[e.l+1],n=1;return e.l+=4,[t,n]}function ds(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),a=[],o=0;o<=r;++o)a.push(e.read_shift(n&&2==n.biff?1:2));return a}function hs(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}function fs(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}function ps(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}function vs(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}function ms(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function gs(e){return e.read_shift(2),ms(e,2)}function ys(e){return e.read_shift(2),ms(e,2)}function bs(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=Zi(e,0,n);return[r,a]}function ws(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=ns(e,0,n);return[r,a]}function _s(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);n&&5==n.biff&&(e.l+=12);var o=Zi(e,0,n);return[r,a,o]}function Es(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[Nl[a],Ol[a],r]}function Ts(e,t,n){var r=e[e.l++],a=e.read_shift(1),o=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:Ss(e);return[a,(0===o[0]?Ol:xl)[o[1]]]}function Ss(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}function ks(e,t,n){e.l+=n&&2==n.biff?3:4}function Cs(e,t,n){if(e.l++,n&&12==n.biff)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&2==n.biff?1:2);return[r,a]}function Rs(e){return e.l++,Jr[e.read_shift(1)]}function Is(e){return e.l++,e.read_shift(2)}function As(e){return e.l++,0!==e.read_shift(1)}function xs(e){return e.l++,Or(e,8)}function Os(e,t,n){return e.l++,La(e,t-1,n)}function Ns(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Aa(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=Jr[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Or(e,8);break;case 2:n[1]=Fa(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Ds(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),a=[],o=0;o!=r;++o)a.push((12==n.biff?Ar:Ga)(e,8));return a}function Ls(e,t,n){var r=0,a=0;12==n.biff?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--a&&(a=256));for(var o=0,i=[];o!=r&&(i[o]=[]);++o)for(var s=0;s!=a;++s)i[o][s]=Ns(e,n.biff);return i}function Ps(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,o=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,o]}function Ms(e,t,n){if(5==n.biff)return Vs(e,t,n);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),o=e.read_shift(4);return[r,a,o]}function Vs(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function Fs(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&2==n.biff?3:4;var a=e.read_shift(n&&2==n.biff?1:2);return[r,a]}function $s(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&2==n.biff?1:2);return[r,a]}function Bs(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}function Ws(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return e.l+=o,[r,a]}var Us=On,js=On,Gs=On;function zs(e,t,n){return e.l+=2,[ts(e,4,n)]}function Hs(e){return e.l+=6,[]}var Ks=zs,Xs=Hs,qs=Hs,Qs=zs;function Ys(e){return e.l+=2,[Oa(e),1&e.read_shift(2)]}var Js=zs,Zs=Ys,el=Hs,tl=zs,nl=zs,rl=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function al(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),o=e.read_shift(2),i=rl[n>>2&31];return{ixti:t,coltype:3&n,rt:i,idx:r,c:a,C:o}}function ol(e){return e.l+=2,[e.read_shift(4)]}function il(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}function sl(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}function ll(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function ul(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function cl(e){return e.l+=4,[0,0]}var dl={1:{n:"PtgExp",f:Cs},2:{n:"PtgTbl",f:Gs},3:{n:"PtgAdd",f:Xi},4:{n:"PtgSub",f:Xi},5:{n:"PtgMul",f:Xi},6:{n:"PtgDiv",f:Xi},7:{n:"PtgPower",f:Xi},8:{n:"PtgConcat",f:Xi},9:{n:"PtgLt",f:Xi},10:{n:"PtgLe",f:Xi},11:{n:"PtgEq",f:Xi},12:{n:"PtgGe",f:Xi},13:{n:"PtgGt",f:Xi},14:{n:"PtgNe",f:Xi},15:{n:"PtgIsect",f:Xi},16:{n:"PtgUnion",f:Xi},17:{n:"PtgRange",f:Xi},18:{n:"PtgUplus",f:Xi},19:{n:"PtgUminus",f:Xi},20:{n:"PtgPercent",f:Xi},21:{n:"PtgParen",f:Xi},22:{n:"PtgMissArg",f:Xi},23:{n:"PtgStr",f:Os},26:{n:"PtgSheet",f:il},27:{n:"PtgEndSheet",f:sl},28:{n:"PtgErr",f:Rs},29:{n:"PtgBool",f:As},30:{n:"PtgInt",f:Is},31:{n:"PtgNum",f:xs},32:{n:"PtgArray",f:us},33:{n:"PtgFunc",f:Es},34:{n:"PtgFuncVar",f:Ts},35:{n:"PtgName",f:Ps},36:{n:"PtgRef",f:bs},37:{n:"PtgArea",f:as},38:{n:"PtgMemArea",f:Fs},39:{n:"PtgMemErr",f:Us},40:{n:"PtgMemNoMem",f:js},41:{n:"PtgMemFunc",f:$s},42:{n:"PtgRefErr",f:Bs},43:{n:"PtgAreaErr",f:is},44:{n:"PtgRefN",f:ws},45:{n:"PtgAreaN",f:ls},46:{n:"PtgMemAreaN",f:ll},47:{n:"PtgMemNoMemN",f:ul},57:{n:"PtgNameX",f:Ms},58:{n:"PtgRef3d",f:_s},59:{n:"PtgArea3d",f:os},60:{n:"PtgRefErr3d",f:Ws},61:{n:"PtgAreaErr3d",f:ss},255:{}},hl={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},fl={1:{n:"PtgElfLel",f:Ys},2:{n:"PtgElfRw",f:tl},3:{n:"PtgElfCol",f:Ks},6:{n:"PtgElfRwV",f:nl},7:{n:"PtgElfColV",f:Qs},10:{n:"PtgElfRadical",f:Js},11:{n:"PtgElfRadicalS",f:el},13:{n:"PtgElfColS",f:Xs},15:{n:"PtgElfColSV",f:qs},16:{n:"PtgElfRadicalLel",f:Zs},25:{n:"PtgList",f:al},29:{n:"PtgSxName",f:ol},255:{}},pl={0:{n:"PtgAttrNoop",f:cl},1:{n:"PtgAttrSemi",f:vs},2:{n:"PtgAttrIf",f:fs},4:{n:"PtgAttrChoose",f:ds},8:{n:"PtgAttrGoto",f:hs},16:{n:"PtgAttrSum",f:ks},32:{n:"PtgAttrBaxcel",f:cs},33:{n:"PtgAttrBaxcel",f:cs},64:{n:"PtgAttrSpace",f:gs},65:{n:"PtgAttrSpaceSemi",f:ys},128:{n:"PtgAttrIfError",f:ps},255:{}};function vl(e,t,n,r){if(r.biff<8)return On(e,t);for(var a=e.l+t,o=[],i=0;i!==n.length;++i)switch(n[i][0]){case"PtgArray":n[i][1]=Ls(e,0,r),o.push(n[i][1]);break;case"PtgMemArea":n[i][2]=Ds(e,n[i][1],r),o.push(n[i][2]);break;case"PtgExp":r&&12==r.biff&&(n[i][1][1]=e.read_shift(4),o.push(n[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[i][0];default:break}return t=a-e.l,0!==t&&o.push(On(e,t)),o}function ml(e,t,n){var r,a,o=e.l+t,i=[];while(o!=e.l)t=o-e.l,a=e[e.l],r=dl[a]||dl[hl[a]],24!==a&&25!==a||(r=(24===a?fl:pl)[e[e.l+1]]),r&&r.f?i.push([r.n,r.f(e,t,n)]):On(e,t);return i}function gl(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],o=0;o<r.length;++o){var i=r[o];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var yl={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function bl(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function wl(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[r[0]][0][3]?(a=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function _l(e,t,n){var r=wl(e,t,n);return"#REF"==r?r:bl(r,n)}function El(e,t,n,r,a){var o,i,s,l,u=a&&a.biff||8,c={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var v=-1,m="",g=0,y=e[0].length;g<y;++g){var b=e[0][g];switch(b[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(o=d.pop(),i=d.pop(),v>=0){switch(e[0][v][1][0]){case 0:m=ft(" ",e[0][v][1][1]);break;case 1:m=ft("\r",e[0][v][1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}i+=m,v=-1}d.push(i+yl[b[0]]+o);break;case"PtgIsect":o=d.pop(),i=d.pop(),d.push(i+" "+o);break;case"PtgUnion":o=d.pop(),i=d.pop(),d.push(i+","+o);break;case"PtgRange":o=d.pop(),i=d.pop(),d.push(i+":"+o);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":s=Pn(b[1][1],c,a),d.push(Vn(s,u));break;case"PtgRefN":s=n?Pn(b[1][1],n,a):b[1][1],d.push(Vn(s,u));break;case"PtgRef3d":h=b[1][1],s=Pn(b[1][2],c,a),p=_l(r,h,a);d.push(p+"!"+Vn(s,u));break;case"PtgFunc":case"PtgFuncVar":var w=b[1][0],_=b[1][1];w||(w=0),w&=127;var E=0==w?[]:d.slice(-w);d.length-=w,"User"===_&&(_=E.shift()),d.push(_+"("+E.join(",")+")");break;case"PtgBool":d.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(b[1]);break;case"PtgNum":d.push(String(b[1]));break;case"PtgStr":d.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(b[1]);break;case"PtgAreaN":l=Mn(b[1][1],n?{s:n}:c,a),d.push(Fn(l,a));break;case"PtgArea":l=Mn(b[1][1],c,a),d.push(Fn(l,a));break;case"PtgArea3d":h=b[1][1],l=b[1][2],p=_l(r,h,a),d.push(p+"!"+Fn(l,a));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=b[1][2];var T=(r.names||[])[f-1]||(r[0]||[])[f],S=T?T.Name:"SH33TJSNAME"+String(f);S&&"_xlfn."==S.slice(0,6)&&!a.xlfn&&(S=S.slice(6)),d.push(S);break;case"PtgNameX":var k,C=b[1][1];if(f=b[1][2],!(a.biff<=5)){var R="";if(14849==((r[C]||[])[0]||[])[0]||(1025==((r[C]||[])[0]||[])[0]?r[C][f]&&r[C][f].itab>0&&(R=r.SheetNames[r[C][f].itab-1]+"!"):R=r.SheetNames[f-1]+"!"),r[C]&&r[C][f])R+=r[C][f].Name;else if(r[0]&&r[0][f])R+=r[0][f].Name;else{var I=(wl(r,C,a)||"").split(";;");I[f-1]?R=I[f-1]:R+="SH33TJSERRX"}d.push(R);break}C<0&&(C=-C),r[C]&&(k=r[C][f]),k||(k={Name:"SH33TJSERRY"}),d.push(k.Name);break;case"PtgParen":var A="(",x=")";if(v>=0){switch(m="",e[0][v][1][0]){case 2:A=ft(" ",e[0][v][1][1])+A;break;case 3:A=ft("\r",e[0][v][1][1])+A;break;case 4:x=ft(" ",e[0][v][1][1])+x;break;case 5:x=ft("\r",e[0][v][1][1])+x;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}d.push(A+d.pop()+x);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":s={c:b[1][1],r:b[1][0]};var O={c:n.c,r:n.r};if(r.sharedf[qn(s)]){var N=r.sharedf[qn(s)];d.push(El(N,c,O,r,a))}else{var D=!1;for(o=0;o!=r.arrayf.length;++o)if(i=r.arrayf[o],!(s.c<i[0].s.c||s.c>i[0].e.c)&&!(s.r<i[0].s.r||s.r>i[0].e.r)){d.push(El(i[1],c,O,r,a)),D=!0;break}D||d.push(b[1])}break;case"PtgArray":d.push("{"+gl(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var L=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(3!=a.biff&&v>=0&&-1==L.indexOf(e[0][g][0])){b=e[0][v];var P=!0;switch(b[1][0]){case 4:P=!1;case 0:m=ft(" ",b[1][1]);break;case 5:P=!1;case 1:m=ft("\r",b[1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}d.push((P?m:"")+d.pop()+(P?"":m)),v=-1}}if(d.length>1&&a.WTF)throw new Error("bad formula stack");return d[0]}function Tl(e){if(null==e){var t=Nn(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Nr("number"==typeof e?e:0)}function Sl(e,t,n,r,a){var o=Ua(t,n,a),i=Tl(e.v),s=Nn(6),l=33;s.write_shift(2,l),s.write_shift(4,0);for(var u=Nn(e.bf.length),c=0;c<e.bf.length;++c)u[c]=e.bf[c];var d=A([o,i,s,u]);return d}function kl(e,t,n){var r=e.read_shift(4),a=ml(e,r,n),o=e.read_shift(4),i=o>0?vl(e,o,a,n):null;return[a,i]}var Cl=kl,Rl=kl,Il=kl,Al=kl,xl={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ol={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Nl={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Dl(e){var t="of:="+e.replace(Gi,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Ll(e){return e.replace(/\./,"!")}var Pl="undefined"!==typeof Map;function Ml(e,t,n){var r=0,a=e.length;if(n){if(Pl?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var o=Pl?n.get(t):n[t];r<o.length;++r)if(e[o[r]].t===t)return e.Count++,o[r]}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t},e.Count++,e.Unique++,n&&(Pl?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function Vl(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Mo=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=Fo(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=$o(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function Fl(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function $l(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],a=60,o=e.length;if(null==r&&n.ssf)for(;a<392;++a)if(null==n.ssf[a]){$e(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}for(a=0;a!=o;++a)if(e[a].numFmtId===r)return a;return e[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function Bl(e,t,n){if(e&&e["!ref"]){var r=Jn(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function Wl(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Yn(e[n])+'"/>';return t+"</mergeCells>"}function Ul(e,t,n,r,a){var o=!1,i={},s=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(c){}o=!0,i.codeName=Mt(St(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),s=(s||"")+Wt("outlinePr",null,u)}(o||s)&&(a[a.length]=Wt("sheetPr",s,i))}var jl=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Gl=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function zl(e){var t={sheet:1};return jl.forEach(function(n){null!=e[n]&&e[n]&&(t[n]="1")}),Gl.forEach(function(n){null==e[n]||e[n]||(t[n]="0")}),e.password&&(t.password=No(e.password).toString(16).toUpperCase()),Wt("sheetProtection",null,t)}function Hl(e){return Fl(e),Wt("pageMargins",null,e)}function Kl(e,t){for(var n,r=["<cols>"],a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Wt("col",null,Vl(a,n)));return r[r.length]="</cols>",r.join("")}function Xl(e,t,n,r){var a="string"==typeof e.ref?e.ref:Yn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,i=Qn(a);i.s.r==i.e.r&&(i.e.r=Qn(t["!ref"]).e.r,a=Yn(i));for(var s=0;s<o.length;++s){var l=o[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return s==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Wt("autoFilter",null,{ref:a})}function ql(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Wt("sheetViews",Wt("sheetView",null,a),{})}function Ql(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var a="",o=e.t,i=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Jr[e.v];break;case"d":r&&r.cellDates?a=ct(e.v,-1).toISOString():(e=ht(e),e.t="n",a=""+(e.v=nt(ct(e.v)))),"undefined"===typeof e.z&&(e.z=H[14]);break;default:a=e.v;break}var s=$t("v",St(a)),l={r:t},u=$l(r.cellXfs,e,r);switch(0!==u&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=$t("v",""+Ml(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=o&&(e.t=o,e.v=i),"string"==typeof e.f&&e.f){var c=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=Wt("f",St(e.f),c)+(null!=e.v?s:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),Wt("c",s,l)}function Yl(e,t,n,r){var a,o,i=[],s=[],l=Jn(e["!ref"]),u="",c="",d=[],h=0,f=0,p=e["!rows"],v=Array.isArray(e),m={r:c},g=-1;for(f=l.s.c;f<=l.e.c;++f)d[f]=Gn(f);for(h=l.s.r;h<=l.e.r;++h){for(s=[],c=Bn(h),f=l.s.c;f<=l.e.c;++f){a=d[f]+c;var y=v?(e[h]||[])[f]:e[a];void 0!==y&&(null!=(u=Ql(y,a,e,t,n,r))&&s.push(u))}(s.length>0||p&&p[h])&&(m={r:c},p&&p[h]&&(o=p[h],o.hidden&&(m.hidden=1),g=-1,o.hpx?g=jo(o.hpx):o.hpt&&(g=o.hpt),g>-1&&(m.ht=g,m.customHeight=1),o.level&&(m.outlineLevel=o.level)),i[i.length]=Wt("row",s.join(""),m))}if(p)for(;h<p.length;++h)p&&p[h]&&(m={r:h+1},o=p[h],o.hidden&&(m.hidden=1),g=-1,o.hpx?g=jo(o.hpx):o.hpt&&(g=o.hpt),g>-1&&(m.ht=g,m.customHeight=1),o.level&&(m.outlineLevel=o.level),i[i.length]=Wt("row","",m));return i.join("")}function Jl(e,t,n,r){var a=[bt,Wt("worksheet",null,{xmlns:zt[0],"xmlns:r":Gt.r})],o=n.SheetNames[e],i=0,s="",l=n.Sheets[o];null==l&&(l={});var u=l["!ref"]||"A1",c=Jn(u);if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=Yn(c)}r||(r={}),l["!comments"]=[];var d=[];Ul(l,n,e,t,a),a[a.length]=Wt("dimension",null,{ref:u}),a[a.length]=ql(l,t,e,n),t.sheetFormat&&(a[a.length]=Wt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(a[a.length]=Kl(l,l["!cols"])),a[i=a.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=Yl(l,t,e,n,r),s.length>0&&(a[a.length]=s)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),l["!protect"]&&(a[a.length]=zl(l["!protect"])),null!=l["!autofilter"]&&(a[a.length]=Xl(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(a[a.length]=Wl(l["!merges"]));var h,f=-1,p=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(p=ia(r,-1,St(e[1].Target).replace(/#.*$/,""),ra.HLINK),h["r:id"]="rId"+p),(f=e[1].Target.indexOf("#"))>-1&&(h.location=St(e[1].Target.slice(f+1))),e[1].Tooltip&&(h.tooltip=St(e[1].Tooltip)),a[a.length]=Wt("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(a[a.length]=Hl(l["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(a[a.length]=$t("ignoredErrors",Wt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(p=ia(r,-1,"../drawings/drawing"+(e+1)+".xml",ra.DRAW),a[a.length]=Wt("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=d),l["!comments"].length>0&&(p=ia(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ra.VML),a[a.length]=Wt("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Zl(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=r,7&o&&(n.level=7&o),16&o&&(n.hidden=!0),32&o&&(n.hpt=a/20),n}function eu(e,t,n){var r=Nn(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var o=320;a.hpx?o=20*jo(a.hpx):a.hpt&&(o=20*a.hpt),r.write_shift(2,o),r.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),r.write_shift(1,i),r.write_shift(1,0);var s=0,l=r.l;r.l+=4;for(var u={r:e,c:0},c=0;c<16;++c)if(!(t.s.c>c+1<<10||t.e.c<c<<10)){for(var d=-1,h=-1,f=c<<10;f<c+1<<10;++f){u.c=f;var p=Array.isArray(n)?(n[u.r]||[])[u.c]:n[qn(u)];p&&(d<0&&(d=f),h=f)}d<0||(++s,r.write_shift(4,d),r.write_shift(4,h))}var v=r.l;return r.l=l,r.write_shift(4,s),r.l=v,r.length>r.l?r.slice(0,r.l):r}function tu(e,t,n,r){var a=eu(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&Ln(e,0,a)}var nu=Ar,ru=xr;function au(){}function ou(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=yr(e,t-19),n}function iu(e,t,n){null==n&&(n=Nn(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return Lr({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),br(e,n),n.slice(0,n.l)}function su(e){var t=pr(e);return[t]}function lu(e,t,n){return null==n&&(n=Nn(8)),vr(t,n)}function uu(e){var t=mr(e);return[t]}function cu(e,t,n){return null==n&&(n=Nn(4)),gr(t,n)}function du(e){var t=pr(e),n=e.read_shift(1);return[t,n,"b"]}function hu(e,t,n){return null==n&&(n=Nn(9)),vr(t,n),n.write_shift(1,e.v?1:0),n}function fu(e){var t=mr(e),n=e.read_shift(1);return[t,n,"b"]}function pu(e,t,n){return null==n&&(n=Nn(5)),gr(t,n),n.write_shift(1,e.v?1:0),n}function vu(e){var t=pr(e),n=e.read_shift(1);return[t,n,"e"]}function mu(e,t,n){return null==n&&(n=Nn(9)),vr(t,n),n.write_shift(1,e.v),n}function gu(e){var t=mr(e),n=e.read_shift(1);return[t,n,"e"]}function yu(e,t,n){return null==n&&(n=Nn(8)),gr(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function bu(e){var t=pr(e),n=e.read_shift(4);return[t,n,"s"]}function wu(e,t,n){return null==n&&(n=Nn(12)),vr(t,n),n.write_shift(4,t.v),n}function _u(e){var t=mr(e),n=e.read_shift(4);return[t,n,"s"]}function Eu(e,t,n){return null==n&&(n=Nn(8)),gr(t,n),n.write_shift(4,t.v),n}function Tu(e){var t=pr(e),n=Or(e);return[t,n,"n"]}function Su(e,t,n){return null==n&&(n=Nn(16)),vr(t,n),Nr(e.v,n),n}function ku(e){var t=mr(e),n=Or(e);return[t,n,"n"]}function Cu(e,t,n){return null==n&&(n=Nn(12)),gr(t,n),Nr(e.v,n),n}function Ru(e){var t=pr(e),n=kr(e);return[t,n,"n"]}function Iu(e,t,n){return null==n&&(n=Nn(12)),vr(t,n),Cr(e.v,n),n}function Au(e){var t=mr(e),n=kr(e);return[t,n,"n"]}function xu(e,t,n){return null==n&&(n=Nn(8)),gr(t,n),Cr(e.v,n),n}function Ou(e){var t=pr(e),n=cr(e);return[t,n,"is"]}function Nu(e){var t=pr(e),n=ir(e);return[t,n,"str"]}function Du(e,t,n){return null==n&&(n=Nn(12+4*e.v.length)),vr(t,n),sr(e.v,n),n.length>n.l?n.slice(0,n.l):n}function Lu(e){var t=mr(e),n=ir(e);return[t,n,"str"]}function Pu(e,t,n){return null==n&&(n=Nn(8+4*e.v.length)),gr(t,n),sr(e.v,n),n.length>n.l?n.slice(0,n.l):n}function Mu(e,t,n){var r=e.l+t,a=pr(e);a.r=n["!row"];var o=e.read_shift(1),i=[a,o,"b"];if(n.cellFormula){e.l+=2;var s=Rl(e,r-e.l,n);i[3]=El(s,null,a,n.supbooks,n)}else e.l=r;return i}function Vu(e,t,n){var r=e.l+t,a=pr(e);a.r=n["!row"];var o=e.read_shift(1),i=[a,o,"e"];if(n.cellFormula){e.l+=2;var s=Rl(e,r-e.l,n);i[3]=El(s,null,a,n.supbooks,n)}else e.l=r;return i}function Fu(e,t,n){var r=e.l+t,a=pr(e);a.r=n["!row"];var o=Or(e),i=[a,o,"n"];if(n.cellFormula){e.l+=2;var s=Rl(e,r-e.l,n);i[3]=El(s,null,a,n.supbooks,n)}else e.l=r;return i}function $u(e,t,n){var r=e.l+t,a=pr(e);a.r=n["!row"];var o=ir(e),i=[a,o,"str"];if(n.cellFormula){e.l+=2;var s=Rl(e,r-e.l,n);i[3]=El(s,null,a,n.supbooks,n)}else e.l=r;return i}var Bu=Ar,Wu=xr;function Uu(e,t){return null==t&&(t=Nn(4)),t.write_shift(4,e),t}function ju(e,t){var n=e.l+t,r=Ar(e,16),a=wr(e),o=ir(e),i=ir(e),s=ir(e);e.l=n;var l={rfx:r,relId:a,loc:o,display:s};return i&&(l.Tooltip=i),l}function Gu(e,t){var n=Nn(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));xr({s:Xn(e[0]),e:Xn(e[0])},n),Sr("rId"+t,n);var r=e[1].Target.indexOf("#"),a=-1==r?"":e[1].Target.slice(r+1);return sr(a||"",n),sr(e[1].Tooltip||"",n),sr("",n),n.slice(0,n.l)}function zu(){}function Hu(e,t,n){var r=e.l+t,a=Rr(e,16),o=e.read_shift(1),i=[a];if(i[2]=o,n.cellFormula){var s=Cl(e,r-e.l,n);i[1]=s}else e.l=r;return i}function Ku(e,t,n){var r=e.l+t,a=Ar(e,16),o=[a];if(n.cellFormula){var i=Al(e,r-e.l,n);o[1]=i,e.l=r}else e.l=r;return o}function Xu(e,t,n){null==n&&(n=Nn(18));var r=Vl(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof r.width&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}var qu=["left","right","top","bottom","header","footer"];function Qu(e){var t={};return qu.forEach(function(n){t[n]=Or(e,8)}),t}function Yu(e,t){return null==t&&(t=Nn(48)),Fl(e),qu.forEach(function(n){Nr(e[n],t)}),t}function Ju(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}function Zu(e,t,n){null==n&&(n=Nn(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function ec(e){var t=Nn(24);return t.write_shift(4,4),t.write_shift(4,1),xr(e,t),t}function tc(e,t){return null==t&&(t=Nn(66)),t.write_shift(2,e.password?No(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,null==e[n[0]]||e[n[0]]?0:1):t.write_shift(4,null!=e[n[0]]&&e[n[0]]?0:1)}),t}function nc(){}function rc(){}function ac(e,t,n,r,a,o,i){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=ht(t),t.z=t.z||H[14],t.v=nt(ct(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var l={r:n,c:r};switch(l.s=$l(a.cellXfs,t,a),t.l&&o["!links"].push([qn(l),t.l]),t.c&&o["!comments"].push([qn(l),t.c]),t.t){case"s":case"str":return a.bookSST?(s=Ml(a.Strings,t.v,a.revStrings),l.t="s",l.v=s,i?Ln(e,18,Eu(t,l)):Ln(e,7,wu(t,l))):(l.t="str",i?Ln(e,17,Pu(t,l)):Ln(e,6,Du(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?i?Ln(e,13,xu(t,l)):Ln(e,2,Iu(t,l)):i?Ln(e,16,Cu(t,l)):Ln(e,5,Su(t,l)),!0;case"b":return l.t="b",i?Ln(e,15,pu(t,l)):Ln(e,4,hu(t,l)),!0;case"e":return l.t="e",i?Ln(e,14,yu(t,l)):Ln(e,3,mu(t,l)),!0}return i?Ln(e,12,cu(t,l)):Ln(e,1,lu(t,l)),!0}function oc(e,t,n,r){var a,o=Jn(t["!ref"]||"A1"),i="",s=[];Ln(e,145);var l=Array.isArray(t),u=o.e.r;t["!rows"]&&(u=Math.max(o.e.r,t["!rows"].length-1));for(var c=o.s.r;c<=u;++c){i=Bn(c),tu(e,t,o,c);var d=!1;if(c<=o.e.r)for(var h=o.s.c;h<=o.e.c;++h){c===o.s.r&&(s[h]=Gn(h)),a=s[h]+i;var f=l?(t[c]||[])[h]:t[a];f?d=ac(e,f,c,h,r,t,d):d=!1}}Ln(e,146)}function ic(e,t){t&&t["!merges"]&&(Ln(e,177,Uu(t["!merges"].length)),t["!merges"].forEach(function(t){Ln(e,176,Wu(t))}),Ln(e,178))}function sc(e,t){t&&t["!cols"]&&(Ln(e,390),t["!cols"].forEach(function(t,n){t&&Ln(e,60,Xu(n,t))}),Ln(e,391))}function lc(e,t){t&&t["!ref"]&&(Ln(e,648),Ln(e,649,ec(Jn(t["!ref"]))),Ln(e,650))}function uc(e,t,n){t["!links"].forEach(function(t){if(t[1].Target){var r=ia(n,-1,t[1].Target.replace(/#.*$/,""),ra.HLINK);Ln(e,494,Gu(t,r))}}),delete t["!links"]}function cc(e,t,n,r){if(t["!comments"].length>0){var a=ia(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",ra.VML);Ln(e,551,Sr("rId"+a)),t["!legacy"]=a}}function dc(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],o="string"===typeof a.ref?a.ref:Yn(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,s=Qn(o);s.s.r==s.e.r&&(s.e.r=Qn(t["!ref"]).e.r,o=Yn(s));for(var l=0;l<i.length;++l){var u=i[l];if("_xlnm._FilterDatabase"==u.Name&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+o;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),Ln(e,161,xr(Jn(o))),Ln(e,162)}}function hc(e,t,n){Ln(e,133),Ln(e,137,Zu(t,n)),Ln(e,138),Ln(e,134)}function fc(){}function pc(e,t){t["!protect"]&&Ln(e,535,tc(t["!protect"]))}function vc(e,t,n,r){var a=Dn(),o=n.SheetNames[e],i=n.Sheets[o]||{},s=o;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch(u){}var l=Jn(i["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Ln(a,129),(n.vbaraw||i["!outline"])&&Ln(a,147,iu(s,i["!outline"])),Ln(a,148,ru(l)),hc(a,i,n.Workbook),fc(a,i),sc(a,i,e,t,n),oc(a,i,e,t,n),pc(a,i),dc(a,i,n,e),ic(a,i),uc(a,i,r),i["!margins"]&&Ln(a,476,Yu(i["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||lc(a,i),cc(a,i,e,r),Ln(a,130),a.end()}function mc(e,t){e.l+=10;var n=ir(e,t-10);return{name:n}}var gc=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function yc(e){return e.Workbook&&e.Workbook.WBProps&&xt(e.Workbook.WBProps.date1904)?"true":"false"}var bc="][*?/\\".split("");function wc(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return bc.forEach(function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function _c(e,t,n){e.forEach(function(r,a){wc(r);for(var o=0;o<a;++o)if(r==e[o])throw new Error("Duplicate Sheet Name: "+r);if(n){var i=t&&t[a]&&t[a].CodeName||r;if(95==i.charCodeAt(0)&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function Ec(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];_c(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)Bl(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function Tc(e){var t=[bt];t[t.length]=Wt("workbook",null,{xmlns:zt[0],"xmlns:r":Gt.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(gc.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Wt("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],o=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=e.SheetNames.length;++o){if(!a[o])break;if(!a[o].Hidden)break}o==e.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var i={name:St(e.SheetNames[o].slice(0,31))};if(i.sheetId=""+(o+1),i["r:id"]="rId"+(o+1),a[o])switch(a[o].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=Wt("sheet",null,i)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=Wt("definedName",St(e.Ref),n))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Sc(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Tr(e,t-8),n.name=ir(e),n}function kc(e,t){return t||(t=Nn(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Sr(e.strRelID,t),sr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Cc(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?ir(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Rc(e,t){t||(t=Nn(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),br(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Ic(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),o=Er(e),i=Il(e,0,n),s=wr(e);e.l=r;var l={Name:o,Ptg:i};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function Ac(e,t){Ln(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,a={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Ln(e,156,kc(a))}Ln(e,144)}function xc(e,t){t||(t=Nn(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return sr("SheetJS",t),sr(r.version,t),sr(r.version,t),sr("7262",t),t.length>t.l?t.slice(0,t.l):t}function Oc(e,t){t||(t=Nn(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function Nc(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n=t.Workbook.Sheets,r=0,a=-1,o=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&-1==a?a=r:1==n[r].Hidden&&-1==o&&(o=r);o>a||(Ln(e,135),Ln(e,158,Oc(a)),Ln(e,136))}}function Dc(e,t){var n=Dn();return Ln(n,131),Ln(n,128,xc()),Ln(n,153,Rc(e.Workbook&&e.Workbook.WBProps||null)),Nc(n,e,t),Ac(n,e,t),Ln(n,132),n.end()}function Lc(e,t,n){return(".bin"===t.slice(-4)?Dc:Tc)(e,n)}function Pc(e,t,n,r,a){return(".bin"===t.slice(-4)?vc:Jl)(e,n,r,a)}function Mc(e,t,n){return(".bin"===t.slice(-4)?bi:Ko)(e,n)}function Vc(e,t,n){return(".bin"===t.slice(-4)?xo:Co)(e,n)}function Fc(e,t,n){return(".bin"===t.slice(-4)?Bi:Di)(e,n)}function $c(e){return(".bin"===e.slice(-4)?Ii:Ai)()}function Bc(e,t){var n=[];return e.Props&&n.push(wa(e.Props,t)),e.Custprops&&n.push(_a(e.Props,e.Custprops,t)),n.join("")}function Wc(){return""}function Uc(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var r=[];r.push(Wt("NumberFormat",null,{"ss:Format":St(H[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};n.push(Wt("Style",r.join(""),a))}),Wt("Styles",n.join(""))}function jc(e){return Wt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+zi(e.Ref,{r:0,c:0})})}function Gc(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||n.push(jc(a)))}return Wt("Names",n.join(""))}function zc(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,o=[],i=0;i<a.length;++i){var s=a[i];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||o.push(jc(s)))}return o.join("")}function Hc(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Wt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Wt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Wt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(Wt("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n;++o)if(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden)break;o==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push($t("ProtectContents","True")),e["!protect"].objects&&a.push($t("ProtectObjects","True")),e["!protect"].scenarios&&a.push($t("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push($t("EnableSelection","UnlockedCells")):a.push($t("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")})),0==a.length?"":Wt("WorksheetOptions",a.join(""),{xmlns:Ht.x})}function Kc(e){return e.map(function(e){var t=At(e.t||""),n=Wt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Wt("Comment",n,{"ss:Author":e.a})}).join("")}function Xc(e,t,n,r,a,o,i){if(!e||void 0==e.v&&void 0==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+St(zi(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=Xn(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=St(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=St(e.l.Tooltip))),n["!merges"])for(var u=n["!merges"],c=0;c!=u.length;++c)u[c].s.c==i.c&&u[c].s.r==i.r&&(u[c].e.c>u[c].s.c&&(s["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(s["ss:MergeDown"]=u[c].e.r-u[c].s.r));var d="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=Jr[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||H[14]);break;case"s":d="String",h=It(e.v||"");break}var f=$l(r.cellXfs,e,r);s["ss:StyleID"]="s"+(21+f),s["ss:Index"]=i.c+1;var p=null!=e.v?h:"",v="z"==e.t?"":'<Data ss:Type="'+d+'">'+p+"</Data>";return(e.c||[]).length>0&&(v+=Kc(e.c)),Wt("Cell",v,s)}function qc(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Go(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Qc(e,t,n,r){if(!e["!ref"])return"";var a=Jn(e["!ref"]),o=e["!merges"]||[],i=0,s=[];e["!cols"]&&e["!cols"].forEach(function(e,t){Bo(e);var n=!!e.width,r=Vl(t,e),a={"ss:Index":t+1};n&&(a["ss:Width"]=Vo(r.width)),e.hidden&&(a["ss:Hidden"]="1"),s.push(Wt("Column",null,a))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var c=[qc(u,(e["!rows"]||[])[u])],d=a.s.c;d<=a.e.c;++d){var h=!1;for(i=0;i!=o.length;++i)if(!(o[i].s.c>d)&&!(o[i].s.r>u)&&!(o[i].e.c<d)&&!(o[i].e.r<u)){o[i].s.c==d&&o[i].s.r==u||(h=!0);break}if(!h){var f={r:u,c:d},p=qn(f),v=l?(e[u]||[])[d]:e[p];c.push(Xc(v,p,e,t,n,r,f))}}c.push("</Row>"),c.length>2&&s.push(c.join(""))}return s.join("")}function Yc(e,t,n){var r=[],a=n.SheetNames[e],o=n.Sheets[a],i=o?zc(o,t,e,n):"";return i.length>0&&r.push("<Names>"+i+"</Names>"),i=o?Qc(o,t,e,n):"",i.length>0&&r.push("<Table>"+i+"</Table>"),r.push(Hc(o,t,e,n)),r.join("")}function Jc(e,t){t||(t={}),e.SSF||(e.SSF=ht(H)),e.SSF&&(We(),Be(e.SSF),t.revssf=Ze(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],$l(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Bc(e,t)),n.push(Wc(e,t)),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Wt("Worksheet",Yc(r,t,e),{"ss:Name":St(e.SheetNames[r])}));return n[2]=Uc(e,t),n[3]=Gc(e,t),bt+Wt("Workbook",n.join(""),{xmlns:Ht.ss,"xmlns:o":Ht.o,"xmlns:x":Ht.x,"xmlns:ss":Ht.ss,"xmlns:dt":Ht.dt,"xmlns:html":Ht.html})}var Zc={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ed(e,t){var n,r=[],a=[],o=[],i=0,s=Ye(Kr,"n"),l=Ye(Xr,"n");if(e.Props)for(n=Qe(e.Props),i=0;i<n.length;++i)(Object.prototype.hasOwnProperty.call(s,n[i])?r:Object.prototype.hasOwnProperty.call(l,n[i])?a:o).push([n[i],e.Props[n[i]]]);if(e.Custprops)for(n=Qe(e.Custprops),i=0;i<n.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},n[i])||(Object.prototype.hasOwnProperty.call(s,n[i])?r:Object.prototype.hasOwnProperty.call(l,n[i])?a:o).push([n[i],e.Custprops[n[i]]]);var u=[];for(i=0;i<o.length;++i)Sa.indexOf(o[i][0])>-1||ma.indexOf(o[i][0])>-1||null!=o[i][1]&&u.push(o[i]);a.length&&He.utils.cfb_add(t,"/SummaryInformation",Ra(a,Zc.SI,l,Xr)),(r.length||u.length)&&He.utils.cfb_add(t,"/DocumentSummaryInformation",Ra(r,Zc.DSI,s,Kr,u.length?u:null,Zc.UDI))}function td(e,t){var n=t||{},r=He.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return He.utils.cfb_add(r,a,_d(e,n)),8==n.biff&&(e.Props||e.Custprops)&&ed(e,r),8==n.biff&&e.vbaraw&&Wi(r,He.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var nd={0:{f:Zl},1:{f:su},2:{f:Ru},3:{f:vu},4:{f:du},5:{f:Tu},6:{f:Nu},7:{f:bu},8:{f:$u},9:{f:Fu},10:{f:Mu},11:{f:Vu},12:{f:uu},13:{f:Au},14:{f:gu},15:{f:fu},16:{f:ku},17:{f:Lu},18:{f:_u},19:{f:cr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Ic},40:{},42:{},43:{f:Qo},44:{f:Xo},45:{f:ei},46:{f:oi},47:{f:ni},48:{},49:{f:ar},50:{},51:{f:Ti},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:po},62:{f:Ou},63:{f:xi},64:{f:nc},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:On,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Ju},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ou},148:{f:nu,p:16},151:{f:zu},152:{},153:{f:Cc},154:{},155:{},156:{f:Sc},157:{},158:{},159:{T:1,f:Ro},160:{T:-1},161:{T:1,f:Ar},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Bu},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_i},336:{T:-1},337:{f:Ci,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Tr},357:{},358:{},359:{},360:{T:1},361:{},362:{f:so},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Hu},427:{f:Ku},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Qu},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:au},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ju},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Tr},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Fi},633:{T:1},634:{T:-1},635:{T:1,f:Mi},636:{T:-1},637:{f:hr},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mc},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:rc},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rd(e,t,n,r){var a=t;if(!isNaN(a)){var o=r||(n||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,o),o>0&&mn(n)&&e.push(n)}}function ad(e,t,n,r){var a=r||(n||[]).length||0;if(a<=8224)return rd(e,t,n,a);var o=t;if(!isNaN(o)){var i=n.parts||[],s=0,l=0,u=0;while(u+(i[s]||8224)<=8224)u+=i[s]||8224,s++;var c=e.next(4);c.write_shift(2,o),c.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u;while(l<a){c=e.next(4),c.write_shift(2,60),u=0;while(u+(i[s]||8224)<=8224)u+=i[s]||8224,s++;c.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u}}}function od(e,t,n){return e||(e=Nn(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function id(e,t,n,r){var a=Nn(9);return od(a,e,t),Da(n,r||"b",a),a}function sd(e,t,n){var r=Nn(8+2*n.length);return od(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function ld(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?nt(ct(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?rd(e,2,yo(n,r,a)):rd(e,3,go(n,r,a)));case"b":case"e":return void rd(e,5,id(n,r,t.v,t.t));case"s":case"str":return void rd(e,4,sd(n,r,(t.v||"").slice(0,255)))}rd(e,1,od(null,n,r))}function ud(e,t,n,r){var a,o=Array.isArray(t),i=Jn(t["!ref"]||"A1"),s="",l=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),a=Yn(i)}for(var u=i.s.r;u<=i.e.r;++u){s=Bn(u);for(var c=i.s.c;c<=i.e.c;++c){u===i.s.r&&(l[c]=Gn(c)),a=l[c]+s;var d=o?(t[u]||[])[c]:t[a];d&&ld(e,d,u,c,r)}}}function cd(e,t){var n=t||{};null!=m&&null==n.dense&&(n.dense=m);for(var r=Dn(),a=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==n.sheet&&(a=o);if(0==a&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return rd(r,4==n.biff?1033:3==n.biff?521:9,Ha(e,16,n)),ud(r,e.Sheets[e.SheetNames[a]],a,n,e),rd(r,10),r.end()}function dd(e,t,n){rd(e,49,Ja({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function hd(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)null!=t[a]&&rd(e,1054,to(a,t[a],n))})}function fd(e,t){var n=Nn(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),rd(e,2151,n),n=Nn(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),za(Jn(t["!ref"]||"A1"),n),n.write_shift(4,4),rd(e,2152,n)}function pd(e,t){for(var n=0;n<16;++n)rd(e,224,ro({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){rd(e,224,ro(n,0,t))})}function vd(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];rd(e,440,co(r)),r[1].Tooltip&&rd(e,2048,ho(r))}delete t["!links"]}function md(e,t){if(t){var n=0;t.forEach(function(t,r){++n<=256&&t&&rd(e,125,vo(Vl(r,t),r))})}}function gd(e,t,n,r,a){var o=16+$l(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)rd(e,6,Sl(t,n,r,a,o));else switch(t.t){case"d":case"n":var i="d"==t.t?nt(ct(t.v)):t.v;rd(e,515,io(n,r,i,o,a));break;case"b":case"e":rd(e,517,oo(n,r,t.v,o,a,t.t));break;case"s":case"str":if(a.bookSST){var s=Ml(a.Strings,t.v,a.revStrings);rd(e,253,Za(n,r,s,o,a))}else rd(e,516,eo(n,r,(t.v||"").slice(0,255),o,a));break;default:rd(e,513,Ua(n,r,o))}else rd(e,513,Ua(n,r,o))}function yd(e,t,n){var r,a=Dn(),o=n.SheetNames[e],i=n.Sheets[o]||{},s=(n||{}).Workbook||{},l=(s.Sheets||[])[e]||{},u=Array.isArray(i),c=8==t.biff,d="",h=[],f=Jn(i["!ref"]||"A1"),p=c?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}rd(a,2057,Ha(n,16,t)),rd(a,13,Na(1)),rd(a,12,Na(100)),rd(a,15,xa(!0)),rd(a,17,xa(!1)),rd(a,16,Nr(.001)),rd(a,95,xa(!0)),rd(a,42,xa(!1)),rd(a,43,xa(!1)),rd(a,130,Na(1)),rd(a,128,ao([0,0])),rd(a,131,xa(!1)),rd(a,132,xa(!1)),c&&md(a,i["!cols"]),rd(a,512,no(f,t)),c&&(i["!links"]=[]);for(var v=f.s.r;v<=f.e.r;++v){d=Bn(v);for(var m=f.s.c;m<=f.e.c;++m){v===f.s.r&&(h[m]=Gn(m)),r=h[m]+d;var g=u?(i[v]||[])[m]:i[r];g&&(gd(a,g,v,m,t),c&&g.l&&i["!links"].push([r,g.l]))}}var y=l.CodeName||l.name||o;return c&&rd(a,574,Ya((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&rd(a,229,uo(i["!merges"])),c&&vd(a,i),rd(a,442,$a(y,t)),c&&fd(a,i),rd(a,10),a.end()}function bd(e,t,n){var r=Dn(),a=(e||{}).Workbook||{},o=a.Sheets||[],i=a.WBProps||{},s=8==n.biff,l=5==n.biff;if(rd(r,2057,Ha(e,5,n)),"xla"==n.bookType&&rd(r,135),rd(r,225,s?Na(1200):null),rd(r,193,Ia(2)),l&&rd(r,191),l&&rd(r,192),rd(r,226),rd(r,92,Ka("SheetJS",n)),rd(r,66,Na(s?1200:1252)),s&&rd(r,353,Na(0)),s&&rd(r,448),rd(r,317,mo(e.SheetNames.length)),s&&e.vbaraw&&rd(r,211),s&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";rd(r,442,$a(u,n))}rd(r,156,Na(17)),rd(r,25,xa(!1)),rd(r,18,xa(!1)),rd(r,19,Na(0)),s&&rd(r,431,xa(!1)),s&&rd(r,444,Na(0)),rd(r,61,Qa(n)),rd(r,64,xa(!1)),rd(r,141,Na(0)),rd(r,34,xa("true"==yc(e))),rd(r,14,xa(!0)),s&&rd(r,439,xa(!1)),rd(r,218,Na(0)),dd(r,e,n),hd(r,e.SSF,n),pd(r,n),s&&rd(r,352,xa(!1));var c=r.end(),d=Dn();s&&rd(d,140,fo()),s&&n.Strings&&ad(d,252,qa(n.Strings,n)),rd(d,10);var h=d.end(),f=Dn(),p=0,v=0;for(v=0;v<e.SheetNames.length;++v)p+=(s?12:11)+(s?2:1)*e.SheetNames[v].length;var m=c.length+p+h.length;for(v=0;v<e.SheetNames.length;++v){var g=o[v]||{};rd(f,133,Xa({pos:m,hs:g.Hidden||0,dt:0,name:e.SheetNames[v]},n)),m+=t[v].length}var y=f.end();if(p!=y.length)throw new Error("BS8 "+p+" != "+y.length);var b=[];return c.length&&b.push(c),y.length&&b.push(y),h.length&&b.push(h),A(b)}function wd(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=ht(H)),e&&e.SSF&&(We(),Be(e.SSF),n.revssf=Ze(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,nh(n),n.cellXfs=[],$l(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=yd(a,n,e);return r.unshift(bd(e,r,n)),A(r)}function _d(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"]){var a=Qn(r["!ref"]);a.e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=t||{};switch(o.biff||2){case 8:case 5:return wd(e,t);case 4:case 3:case 2:return cd(e,t)}throw new Error("invalid type "+o.bookType+" for BIFF")}function Ed(e,t,n,r){for(var a=e["!merges"]||[],o=[],i=t.s.c;i<=t.e.c;++i){for(var s=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>n||a[u].s.c>i)&&!(a[u].e.r<n||a[u].e.c<i)){if(a[u].s.r<n||a[u].s.c<i){s=-1;break}s=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(s<0)){var c=qn({r:n,c:i}),d=r.dense?(e[n]||[])[i]:e[c],h=d&&null!=d.v&&(d.h||Rt(d.w||(er(d),d.w)||""))||"",f={};s>1&&(f.rowspan=s),l>1&&(f.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",null!=d.v&&(f["data-v"]=d.v),null!=d.z&&(f["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(r.id||"sjs")+"-"+c,o.push(Wt("td",h,f))}}var p="<tr>";return p+o.join("")+"</tr>"}var Td='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Sd="</body></html>";function kd(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function Cd(e,t){var n=t||{},r=null!=n.header?n.header:Td,a=null!=n.footer?n.footer:Sd,o=[r],i=Qn(e["!ref"]);n.dense=Array.isArray(e),o.push(kd(e,i,n));for(var s=i.s.r;s<=i.e.r;++s)o.push(Ed(e,i,s,n));return o.push("</table>"+a),o.join("")}function Rd(e,t,n){var r=n||{};null!=m&&(r.dense=m);var a=0,o=0;if(null!=r.origin)if("number"==typeof r.origin)a=r.origin;else{var i="string"==typeof r.origin?Xn(r.origin):r.origin;a=i.r,o=i.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:a,c:o}};if(e["!ref"]){var c=Qn(e["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),-1==a&&(u.e.r=a=c.e.r+1)}var d=[],h=0,f=e["!rows"]||(e["!rows"]=[]),p=0,v=0,g=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&v<l;++p){var _=s[p];if(xd(_)){if(r.display)continue;f[v]={hidden:!0}}var E=_.children;for(g=y=0;g<E.length;++g){var T=E[g];if(!r.display||!xd(T)){var S=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):Vt(T.innerHTML),k=T.getAttribute("data-z")||T.getAttribute("z");for(h=0;h<d.length;++h){var C=d[h];C.s.c==y+o&&C.s.r<v+a&&v+a<=C.e.r&&(y=C.e.c+1-o,h=-1)}w=+T.getAttribute("colspan")||1,((b=+T.getAttribute("rowspan")||1)>1||w>1)&&d.push({s:{r:v+a,c:y+o},e:{r:v+a+(b||1)-1,c:y+o+(w||1)-1}});var R={t:"s",v:S},I=T.getAttribute("data-t")||T.getAttribute("t")||"";null!=S&&(0==S.length?R.t=I||"z":r.raw||0==S.trim().length||"s"==I||("TRUE"===S?R={t:"b",v:!0}:"FALSE"===S?R={t:"b",v:!1}:isNaN(pt(S))?isNaN(mt(S).getDate())||(R={t:"d",v:ct(S)},r.cellDates||(R={t:"n",v:nt(R.v)}),R.z=r.dateNF||H[14]):R={t:"n",v:pt(S)})),void 0===R.z&&null!=k&&(R.z=k);var A="",x=T.getElementsByTagName("A");if(x&&x.length)for(var O=0;O<x.length;++O)if(x[O].hasAttribute("href")&&(A=x[O].getAttribute("href"),"#"!=A.charAt(0)))break;A&&"#"!=A.charAt(0)&&(R.l={Target:A}),r.dense?(e[v+a]||(e[v+a]=[]),e[v+a][y+o]=R):e[qn({c:y+o,r:v+a})]=R,u.e.c<y+o&&(u.e.c=y+o),y+=w}}++v}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,v-1+a),e["!ref"]=Yn(u),v>=l&&(e["!fullref"]=Yn((u.e.r=s.length-p+v-1+a,u))),e}function Id(e,t){var n=t||{},r=n.dense?[]:{};return Rd(r,e,t)}function Ad(e,t){return tr(Id(e,t),t)}function xd(e){var t="",n=Od(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function Od(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}var Nd=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Bt({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return bt+t}}(),Dd=function(){var e=function(e){return St(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",n="          <table:covered-table-cell/>\n",r=function(r,a,o){var i=[];i.push('      <table:table table:name="'+St(a.SheetNames[o])+'" table:style-name="ta1">\n');var s=0,l=0,u=Qn(r["!ref"]||"A1"),c=r["!merges"]||[],d=0,h=Array.isArray(r);if(r["!cols"])for(l=0;l<=u.e.c;++l)i.push("        <table:table-column"+(r["!cols"][l]?' table:style-name="co'+r["!cols"][l].ods+'"':"")+"></table:table-column>\n");var f="",p=r["!rows"]||[];for(s=0;s<u.s.r;++s)f=p[s]?' table:style-name="ro'+p[s].ods+'"':"",i.push("        <table:table-row"+f+"></table:table-row>\n");for(;s<=u.e.r;++s){for(f=p[s]?' table:style-name="ro'+p[s].ods+'"':"",i.push("        <table:table-row"+f+">\n"),l=0;l<u.s.c;++l)i.push(t);for(;l<=u.e.c;++l){var v=!1,m={},g="";for(d=0;d!=c.length;++d)if(!(c[d].s.c>l)&&!(c[d].s.r>s)&&!(c[d].e.c<l)&&!(c[d].e.r<s)){c[d].s.c==l&&c[d].s.r==s||(v=!0),m["table:number-columns-spanned"]=c[d].e.c-c[d].s.c+1,m["table:number-rows-spanned"]=c[d].e.r-c[d].s.r+1;break}if(v)i.push(n);else{var y=qn({r:s,c:l}),b=h?(r[s]||[])[l]:r[y];if(b&&b.f&&(m["table:formula"]=St(Dl(b.f)),b.F&&b.F.slice(0,y.length)==y)){var w=Qn(b.F);m["table:number-matrix-columns-spanned"]=w.e.c-w.s.c+1,m["table:number-matrix-rows-spanned"]=w.e.r-w.s.r+1}if(b){switch(b.t){case"b":g=b.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=b.v?"true":"false";break;case"n":g=b.w||String(b.v||0),m["office:value-type"]="float",m["office:value"]=b.v||0;break;case"s":case"str":g=null==b.v?"":b.v,m["office:value-type"]="string";break;case"d":g=b.w||ct(b.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=ct(b.v).toISOString(),m["table:style-name"]="ce1";break;default:i.push(t);continue}var _=e(g);if(b.l&&b.l.Target){var E=b.l.Target;E="#"==E.charAt(0)?"#"+Ll(E.slice(1)):E,"#"==E.charAt(0)||E.match(/^\w+:/)||(E="../"+E),_=Wt("text:a",_,{"xlink:href":E.replace(/&/g,"&amp;")})}i.push("          "+Wt("table:table-cell",Wt("text:p",_,{}),m)+"\n")}else i.push(t)}}i.push("        </table:table-row>\n")}return i.push("      </table:table>\n"),i.join("")},a=function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var a=t["!cols"][r];if(null==a.width&&null==a.wpx&&null==a.wch)continue;Bo(a),a.ods=n;var o=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+o+'"/>\n'),e.push("  </style:style>\n"),++n}});var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var a=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++r}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")};return function(e,t){var n=[bt],o=Bt({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),i=Bt({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(n.push("<office:document"+o+i+">\n"),n.push(da().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+o+">\n"),a(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var s=0;s!=e.SheetNames.length;++s)n.push(r(e.Sheets[e.SheetNames[s]],e,s,t));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==t.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function Ld(e,t){if("fods"==t.bookType)return Dd(e,t);var n=yt(),r="",a=[],o=[];return r="mimetype",gt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",gt(n,r,Dd(e,t)),a.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",gt(n,r,Nd(e,t)),a.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",gt(n,r,bt+da()),a.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",gt(n,r,ca(o)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",gt(n,r,sa(a)),n}
/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Pd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Md(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):k(Mt(e))}function Vd(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function Fd(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}function $d(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var o=0;a>=1;++o,a/=256)e[t+o]=255&a;e[t+15]|=n>=0?0:128}function Bd(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function Wd(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Ud(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function jd(e){var t=[],n=[0];while(n[0]<e.length){var r=n[0],a=Bd(e,n),o=7&a;a=Math.floor(a/8);var i,s=0;if(0==a)break;switch(o){case 0:var l=n[0];while(e[n[0]++]>=128);i=e.slice(l,n[0]);break;case 5:s=4,i=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,i=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=Bd(e,n),i=e.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(a," at offset ").concat(r))}var u={data:i,type:o};null==t[a]?t[a]=[u]:t[a].push(u)}return t}function Gd(e){var t=[];return e.forEach(function(e,n){e.forEach(function(e){e.data&&(t.push(Wd(8*n+e.type)),2==e.type&&t.push(Wd(e.data.length)),t.push(e.data))})}),Fd(t)}function zd(e){var t,n=[],r=[0];while(r[0]<e.length){var a=Bd(e,r),o=jd(e.slice(r[0],r[0]+a));r[0]+=a;var i={id:Ud(o[1][0].data),messages:[]};o[2].forEach(function(t){var n=jd(t.data),a=Ud(n[3][0].data);i.messages.push({meta:n,data:e.slice(r[0],r[0]+a)}),r[0]+=a}),(null==(t=o[3])?void 0:t[0])&&(i.merge=Ud(o[3][0].data)>>>0>0),n.push(i)}return n}function Hd(e){var t=[];return e.forEach(function(e){var n=[];n[1]=[{data:Wd(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:Wd(+!!e.merge),type:0}]);var r=[];e.messages.forEach(function(e){r.push(e.data),e.meta[3]=[{type:0,data:Wd(e.data.length)}],n[2].push({data:Gd(e.meta),type:2})});var a=Gd(n);t.push(Wd(a.length)),t.push(a),r.forEach(function(e){return t.push(e)})}),Fd(t)}function Kd(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));var n=[0],r=Bd(t,n),a=[];while(n[0]<t.length){var o=3&t[n[0]];if(0!=o){var i=0,s=0;if(1==o?(s=4+(t[n[0]]>>2&7),i=(224&t[n[0]++])<<3,i|=t[n[0]++]):(s=1+(t[n[0]++]>>2),2==o?(i=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(i=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[Fd(a)],0==i)throw new Error("Invalid offset 0");if(i>a[0].length)throw new Error("Invalid offset beyond length");if(s>=i){a.push(a[0].slice(-i)),s-=i;while(s>=a[a.length-1].length)a.push(a[a.length-1]),s-=a[a.length-1].length}a.push(a[0].slice(-i,-i+s))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var u=l-59;l=t[n[0]],u>1&&(l|=t[n[0]+1]<<8),u>2&&(l|=t[n[0]+2]<<16),u>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=u}a.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var c=Fd(a);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function Xd(e){var t=[],n=0;while(n<e.length){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(Kd(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Fd(t)}function qd(e){var t=[],n=0;while(n<e.length){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var o=Wd(r),i=o.length;t.push(o),r<=60?(i++,t.push(new Uint8Array([r-1<<2]))):r<=256?(i+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(i+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(i+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(i+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),i+=r,a[0]=0,a[1]=255&i,a[2]=i>>8&255,a[3]=i>>16&255,n+=r}return Fd(t)}function Qd(e,t){var n=new Uint8Array(32),r=Pd(n),a=12,o=0;switch(n[0]=5,e.t){case"n":n[1]=2,$d(n,a,e.v),o|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),o|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),o|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,o,!0),n.slice(0,a)}function Yd(e,t){var n=new Uint8Array(32),r=Pd(n),a=12,o=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),o|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),o|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),o|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,o,!0),n.slice(0,a)}function Jd(e){var t=jd(e);return Bd(t[1][0].data)}function Zd(e,t,n){var r,a,o,i;if(!(null==(r=e[6])?void 0:r[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";var s=(null==(i=null==(o=e[8])?void 0:o[0])?void 0:i.data)&&Ud(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var l=0,u=Pd(e[7][0].data),c=0,d=[],h=Pd(e[4][0].data),f=0,p=[],v=0;v<t.length;++v)if(null!=t[v]){var m,g;switch(u.setUint16(2*v,c,!0),h.setUint16(2*v,f,!0),typeof t[v]){case"string":m=Qd({t:"s",v:t[v]},n),g=Yd({t:"s",v:t[v]},n);break;case"number":m=Qd({t:"n",v:t[v]},n),g=Yd({t:"n",v:t[v]},n);break;case"boolean":m=Qd({t:"b",v:t[v]},n),g=Yd({t:"b",v:t[v]},n);break;default:throw new Error("Unsupported value "+t[v])}d.push(m),c+=m.length,p.push(g),f+=g.length,++l}else u.setUint16(2*v,65535,!0),h.setUint16(2*v,65535);for(e[2][0].data=Wd(l);v<e[7][0].data.length/2;++v)u.setUint16(2*v,65535,!0),h.setUint16(2*v,65535,!0);return e[6][0].data=Fd(d),e[3][0].data=Fd(p),l}function eh(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Qn(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Yn(r)));var o=yh(n,{range:r,header:1}),i=["~Sh33tJ5~"];o.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&i.push(e)})});var s={},l=[],u=He.read(t.numbers,{type:"base64"});u.FileIndex.map(function(e,t){return[e,u.FullPaths[t]]}).forEach(function(e){var t=e[0],n=e[1];if(2==t.type&&t.name.match(/\.iwa/)){var r=t.content,a=Xd(r),o=zd(a);o.forEach(function(e){l.push(e.id),s[e.id]={deps:[],location:n,type:Ud(e.messages[0].meta[1][0].data)}})}}),l.sort(function(e,t){return e-t});var c=l.filter(function(e){return e>1}).map(function(e){return[e,Wd(e)]});u.FileIndex.map(function(e,t){return[e,u.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1];if(t.name.match(/\.iwa/)){var n=zd(Xd(t.content));n.forEach(function(e){e.messages.forEach(function(t){c.forEach(function(t){e.messages.some(function(e){return 11006!=Ud(e.meta[1][0].data)&&Vd(e.data,t[1])})&&s[t[0]].deps.push(e.id)})})})}});for(var d,h=He.find(u,s[1].location),f=zd(Xd(h.content)),p=0;p<f.length;++p){var v=f[p];1==v.id&&(d=v)}var m=Jd(jd(d.messages[0].data)[1][0].data);for(h=He.find(u,s[m].location),f=zd(Xd(h.content)),p=0;p<f.length;++p)v=f[p],v.id==m&&(d=v);for(m=Jd(jd(d.messages[0].data)[2][0].data),h=He.find(u,s[m].location),f=zd(Xd(h.content)),p=0;p<f.length;++p)v=f[p],v.id==m&&(d=v);for(m=Jd(jd(d.messages[0].data)[2][0].data),h=He.find(u,s[m].location),f=zd(Xd(h.content)),p=0;p<f.length;++p)v=f[p],v.id==m&&(d=v);var g=jd(d.messages[0].data);g[6][0].data=Wd(r.e.r+1),g[7][0].data=Wd(r.e.c+1);for(var y=Jd(g[46][0].data),b=He.find(u,s[y].location),w=zd(Xd(b.content)),_=0;_<w.length;++_)if(w[_].id==y)break;if(w[_].id!=y)throw"Bad ColumnRowUIDMapArchive";var E=jd(w[_].messages[0].data);E[1]=[],E[2]=[],E[3]=[];for(var T=0;T<=r.e.c;++T){var S=[];S[1]=S[2]=[{type:0,data:Wd(T+420690)}],E[1].push({type:2,data:Gd(S)}),E[2].push({type:0,data:Wd(T)}),E[3].push({type:0,data:Wd(T)})}E[4]=[],E[5]=[],E[6]=[];for(var k=0;k<=r.e.r;++k)S=[],S[1]=S[2]=[{type:0,data:Wd(k+726270)}],E[4].push({type:2,data:Gd(S)}),E[5].push({type:0,data:Wd(k)}),E[6].push({type:0,data:Wd(k)});w[_].messages[0].data=Gd(E),b.content=qd(Hd(w)),b.size=b.content.length,delete g[46];var C=jd(g[4][0].data);C[7][0].data=Wd(r.e.r+1);var R=jd(C[1][0].data),I=Jd(R[2][0].data);if(b=He.find(u,s[I].location),w=zd(Xd(b.content)),w[0].id!=I)throw"Bad HeaderStorageBucket";var A=jd(w[0].messages[0].data);for(k=0;k<o.length;++k){var x=jd(A[2][0].data);x[1][0].data=Wd(k),x[4][0].data=Wd(o[k].length),A[2][k]={type:A[2][0].type,data:Gd(x)}}w[0].messages[0].data=Gd(A),b.content=qd(Hd(w)),b.size=b.content.length;var O=Jd(C[2][0].data);if(b=He.find(u,s[O].location),w=zd(Xd(b.content)),w[0].id!=O)throw"Bad HeaderStorageBucket";for(A=jd(w[0].messages[0].data),T=0;T<=r.e.c;++T)x=jd(A[2][0].data),x[1][0].data=Wd(T),x[4][0].data=Wd(r.e.r+1),A[2][T]={type:A[2][0].type,data:Gd(x)};w[0].messages[0].data=Gd(A),b.content=qd(Hd(w)),b.size=b.content.length;var N=Jd(C[4][0].data);(function(){for(var e,t=He.find(u,s[N].location),n=zd(Xd(t.content)),r=0;r<n.length;++r){var a=n[r];a.id==N&&(e=a)}var o=jd(e.messages[0].data);o[3]=[];var l=[];i.forEach(function(e,t){l[1]=[{type:0,data:Wd(t)}],l[2]=[{type:0,data:Wd(1)}],l[3]=[{type:2,data:Md(e)}],o[3].push({type:2,data:Gd(l)})}),e.messages[0].data=Gd(o);var c=Hd(n),d=qd(c);t.content=d,t.size=t.content.length})();var D=jd(C[3][0].data),L=D[1][0];delete D[2];var P=jd(L.data),M=Jd(P[2][0].data);(function(){for(var e,t=He.find(u,s[M].location),n=zd(Xd(t.content)),a=0;a<n.length;++a){var l=n[a];l.id==M&&(e=l)}var c=jd(e.messages[0].data);delete c[6],delete D[7];var d=new Uint8Array(c[5][0].data);c[5]=[];for(var h=0,f=0;f<=r.e.r;++f){var p=jd(d);h+=Zd(p,o[f],i),p[1][0].data=Wd(f),c[5].push({data:Gd(p),type:2})}c[1]=[{type:0,data:Wd(r.e.c+1)}],c[2]=[{type:0,data:Wd(r.e.r+1)}],c[3]=[{type:0,data:Wd(h)}],c[4]=[{type:0,data:Wd(r.e.r+1)}],e.messages[0].data=Gd(c);var v=Hd(n),m=qd(v);t.content=m,t.size=t.content.length})(),L.data=Gd(P),C[3][0].data=Gd(D),g[4][0].data=Gd(C),d.messages[0].data=Gd(g);var V=Hd(f),F=qd(V);return h.content=F,h.size=h.content.length,u}function th(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function nh(e){th([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function rh(e,t){return"ods"==t.bookType?Ld(e,t):"numbers"==t.bookType?eh(e,t):"xlsb"==t.bookType?ah(e,t):oh(e,t)}function ah(e,t){Oi=1024,e&&!e.SSF&&(e.SSF=ht(H)),e&&e.SSF&&(We(),Be(e.SSF),t.revssf=Ze(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Pl?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=Ui.indexOf(t.bookType)>-1,a=ta();nh(t=t||{});var o=yt(),i="",s=0;if(t.cellXfs=[],$l(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",gt(o,i,pa(e.Props,t)),a.coreprops.push(i),ia(t.rels,2,i,ra.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],u=0;u<e.SheetNames.length;++u)2!=(e.Workbook.Sheets[u]||{}).Hidden&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,gt(o,i,ga(e.Props,t)),a.extprops.push(i),ia(t.rels,3,i,ra.EXT_PROPS),e.Custprops!==e.Props&&Qe(e.Custprops||{}).length>0&&(i="docProps/custom.xml",gt(o,i,ya(e.Custprops,t)),a.custprops.push(i),ia(t.rels,4,i,ra.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var c={"!id":{}},d=e.Sheets[e.SheetNames[s-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:i="xl/worksheets/sheet"+s+"."+n,gt(o,i,Pc(s-1,i,t,e,c)),a.sheets.push(i),ia(t.wbrels,-1,"worksheets/sheet"+s+"."+n,ra.WS[0])}if(d){var f=d["!comments"],p=!1,v="";f&&f.length>0&&(v="xl/comments"+s+"."+n,gt(o,v,Fc(f,v,t)),a.comments.push(v),ia(c,-1,"../comments"+s+"."+n,ra.CMNT),p=!0),d["!legacy"]&&p&&gt(o,"xl/drawings/vmlDrawing"+s+".vml",Ni(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}c["!id"].rId1&&gt(o,aa(i),oa(c))}return null!=t.Strings&&t.Strings.length>0&&(i="xl/sharedStrings."+n,gt(o,i,Vc(t.Strings,i,t)),a.strs.push(i),ia(t.wbrels,-1,"sharedStrings."+n,ra.SST)),i="xl/workbook."+n,gt(o,i,Lc(e,i,t)),a.workbooks.push(i),ia(t.rels,1,i,ra.WB),i="xl/theme/theme1.xml",gt(o,i,wi(e.Themes,t)),a.themes.push(i),ia(t.wbrels,-1,"theme/theme1.xml",ra.THEME),i="xl/styles."+n,gt(o,i,Mc(e,i,t)),a.styles.push(i),ia(t.wbrels,-1,"styles."+n,ra.STY),e.vbaraw&&r&&(i="xl/vbaProject.bin",gt(o,i,e.vbaraw),a.vba.push(i),ia(t.wbrels,-1,"vbaProject.bin",ra.VBA)),i="xl/metadata."+n,gt(o,i,$c(i)),a.metadata.push(i),ia(t.wbrels,-1,"metadata."+n,ra.XLMETA),gt(o,"[Content_Types].xml",na(a,t)),gt(o,"_rels/.rels",oa(t.rels)),gt(o,"xl/_rels/workbook."+n+".rels",oa(t.wbrels)),delete t.revssf,delete t.ssf,o}function oh(e,t){Oi=1024,e&&!e.SSF&&(e.SSF=ht(H)),e&&e.SSF&&(We(),Be(e.SSF),t.revssf=Ze(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Pl?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=Ui.indexOf(t.bookType)>-1,a=ta();nh(t=t||{});var o=yt(),i="",s=0;if(t.cellXfs=[],$l(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",gt(o,i,pa(e.Props,t)),a.coreprops.push(i),ia(t.rels,2,i,ra.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],u=0;u<e.SheetNames.length;++u)2!=(e.Workbook.Sheets[u]||{}).Hidden&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,gt(o,i,ga(e.Props,t)),a.extprops.push(i),ia(t.rels,3,i,ra.EXT_PROPS),e.Custprops!==e.Props&&Qe(e.Custprops||{}).length>0&&(i="docProps/custom.xml",gt(o,i,ya(e.Custprops,t)),a.custprops.push(i),ia(t.rels,4,i,ra.CUST_PROPS));var c=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},h=e.Sheets[e.SheetNames[s-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:i="xl/worksheets/sheet"+s+"."+n,gt(o,i,Jl(s-1,t,e,d)),a.sheets.push(i),ia(t.wbrels,-1,"worksheets/sheet"+s+"."+n,ra.WS[0])}if(h){var p=h["!comments"],v=!1,m="";if(p&&p.length>0){var g=!1;p.forEach(function(e){e[1].forEach(function(e){1==e.T&&(g=!0)})}),g&&(m="xl/threadedComments/threadedComment"+s+"."+n,gt(o,m,Li(p,c,t)),a.threadedcomments.push(m),ia(d,-1,"../threadedComments/threadedComment"+s+"."+n,ra.TCMNT)),m="xl/comments"+s+"."+n,gt(o,m,Di(p,t)),a.comments.push(m),ia(d,-1,"../comments"+s+"."+n,ra.CMNT),v=!0}h["!legacy"]&&v&&gt(o,"xl/drawings/vmlDrawing"+s+".vml",Ni(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&gt(o,aa(i),oa(d))}return null!=t.Strings&&t.Strings.length>0&&(i="xl/sharedStrings."+n,gt(o,i,Co(t.Strings,t)),a.strs.push(i),ia(t.wbrels,-1,"sharedStrings."+n,ra.SST)),i="xl/workbook."+n,gt(o,i,Tc(e,t)),a.workbooks.push(i),ia(t.rels,1,i,ra.WB),i="xl/theme/theme1.xml",gt(o,i,wi(e.Themes,t)),a.themes.push(i),ia(t.wbrels,-1,"theme/theme1.xml",ra.THEME),i="xl/styles."+n,gt(o,i,Ko(e,t)),a.styles.push(i),ia(t.wbrels,-1,"styles."+n,ra.STY),e.vbaraw&&r&&(i="xl/vbaProject.bin",gt(o,i,e.vbaraw),a.vba.push(i),ia(t.wbrels,-1,"vbaProject.bin",ra.VBA)),i="xl/metadata."+n,gt(o,i,Ai()),a.metadata.push(i),ia(t.wbrels,-1,"metadata."+n,ra.XLMETA),c.length>1&&(i="xl/persons/person.xml",gt(o,i,Pi(c,t)),a.people.push(i),ia(t.wbrels,-1,"persons/person.xml",ra.PEOPLE)),gt(o,"[Content_Types].xml",na(a,t)),gt(o,"_rels/.rels",oa(t.rels)),gt(o,"xl/_rels/workbook."+n+".rels",oa(t.wbrels)),delete t.revssf,delete t.ssf,o}function ih(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=w(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function sh(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return qe(t.file,He.write(e,{type:_?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return He.write(e,t)}function lh(e,t){var n=ht(t||{}),r=rh(e,n);return uh(r,n)}function uh(e,t){var n={},r=_?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?He.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!==typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array(C(a))}return t.password&&"undefined"!==typeof encrypt_agile?sh(encrypt_agile(a,t.password),t):"file"===t.type?qe(t.file,a):"string"==t.type?Pt(a):a}function ch(e,t){var n=t||{},r=td(e,n);return sh(r,n)}function dh(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return b(Mt(r));case"binary":return Mt(r);case"string":return e;case"file":return qe(t.file,r,"utf8");case"buffer":return _?E(r,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(r):dh(r,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function hh(e,t){switch(t.type){case"base64":return b(e);case"binary":return e;case"string":return e;case"file":return qe(t.file,e,"binary");case"buffer":return _?E(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function fh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?b(n):"string"==t.type?Pt(n):n;case"file":return qe(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function ph(e,t){d(),Ec(e);var n=ht(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=ph(e,n);return n.type="array",C(r)}var a=0;if(n.sheet&&(a="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return dh(Jc(e,n),n);case"slk":case"sylk":return dh(wo.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return dh(Cd(e.Sheets[e.SheetNames[a]],n),n);case"txt":return hh(Eh(e.Sheets[e.SheetNames[a]],n),n);case"csv":return dh(_h(e.Sheets[e.SheetNames[a]],n),n,"\ufeff");case"dif":return dh(_o.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return fh(bo.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return dh(To.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return dh(Do.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return dh(Eo.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return dh(Ld(e,n),n);case"wk1":return fh(So.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return fh(So.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),fh(_d(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),ch(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return lh(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function vh(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function mh(e,t,n){var r=n||{};return r.type="file",r.file=t,vh(r),ph(e,r)}function gh(e,t,n,r,a,o,i,s){var l=Bn(n),u=s.defval,c=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,h=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch(m){h.__rowNum__=n}else h.__rowNum__=n;if(!i||e[n])for(var f=t.s.c;f<=t.e.c;++f){var p=i?e[n][f]:e[r[f]+l];if(void 0!==p&&void 0!==p.t){var v=p.v;switch(p.t){case"z":if(null==v)break;continue;case"e":v=0==v?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=o[f]){if(null==v)if("e"==p.t&&null===v)h[o[f]]=null;else if(void 0!==u)h[o[f]]=u;else{if(!c||null!==v)continue;h[o[f]]=null}else h[o[f]]=c&&("n"!==p.t||"n"===p.t&&!1!==s.rawNumbers)?v:er(p,v,s);null!=v&&(d=!1)}}else{if(void 0===u)continue;null!=o[f]&&(h[o[f]]=u)}}return{row:h,isempty:d}}function yh(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,a=1,o=[],i=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=null!=u.range?u.range:e["!ref"];switch(1===u.header?r=1:"A"===u.header?r=2:Array.isArray(u.header)?r=3:null==u.header&&(r=0),typeof c){case"string":l=Jn(c);break;case"number":l=Jn(e["!ref"]),l.s.r=c;break;default:l=c}r>0&&(a=0);var d=Bn(l.s.r),h=[],f=[],p=0,v=0,m=Array.isArray(e),g=l.s.r,y=0,b={};m&&!e[g]&&(e[g]=[]);var w=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(w[y]||{}).hidden)switch(h[y]=Gn(y),n=m?e[g][y]:e[h[y]+d],r){case 1:o[y]=y-l.s.c;break;case 2:o[y]=h[y];break;case 3:o[y]=u.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),s=i=er(n,null,u),v=b[i]||0,v){do{s=i+"_"+v++}while(b[s]);b[i]=v,b[s]=1}else b[i]=1;o[y]=s}for(g=l.s.r+a;g<=l.e.r;++g)if(!(_[g]||{}).hidden){var E=gh(e,l,g,h,r,o,m,u);(!1===E.isempty||(1===r?!1!==u.blankrows:u.blankrows))&&(f[p++]=E.row)}return f.length=p,f}var bh=/"/g;function wh(e,t,n,r,a,o,i,s){for(var l=!0,u=[],c="",d=Bn(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var f=s.dense?(e[n]||[])[h]:e[r[h]+d];if(null==f)c="";else if(null!=f.v){l=!1,c=""+(s.rawNumbers&&"n"==f.t?f.v:er(f,null,s));for(var p=0,v=0;p!==c.length;++p)if((v=c.charCodeAt(p))===a||v===o||34===v||s.forceQuotes){c='"'+c.replace(bh,'""')+'"';break}"ID"==c&&(c='"ID"')}else null==f.f||f.F?c="":(l=!1,c="="+f.f,c.indexOf(",")>=0&&(c='"'+c.replace(bh,'""')+'"'));u.push(c)}return!1===s.blankrows&&l?null:u.join(i)}function _h(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=Jn(e["!ref"]),o=void 0!==r.FS?r.FS:",",i=o.charCodeAt(0),s=void 0!==r.RS?r.RS:"\n",l=s.charCodeAt(0),u=new RegExp(("|"==o?"\\|":o)+"+$"),c="",d=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(d[p]=Gn(p));for(var v=0,m=a.s.r;m<=a.e.r;++m)(f[m]||{}).hidden||(c=wh(e,a,m,d,i,l,o,r),null!=c&&(r.strip&&(c=c.replace(u,"")),(c||!1!==r.blankrows)&&n.push((v++?s:"")+c)));return delete r.dense,n.join("")}function Eh(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=_h(e,t);if("undefined"==typeof f||"string"==t.type)return n;var r=f.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function Th(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var a,o=Jn(e["!ref"]),i="",s=[],l=[],u=Array.isArray(e);for(a=o.s.c;a<=o.e.c;++a)s[a]=Gn(a);for(var c=o.s.r;c<=o.e.r;++c)for(i=Bn(c),a=o.s.c;a<=o.e.c;++a)if(n=s[a]+i,t=u?(e[c]||[])[a]:e[n],r="",void 0!==t){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l}function Sh(e,t,n){var r,a=n||{},o=+!a.skipHeader,i=e||{},s=0,l=0;if(i&&null!=a.origin)if("number"==typeof a.origin)s=a.origin;else{var u="string"==typeof a.origin?Xn(a.origin):a.origin;s=u.r,l=u.c}var c={s:{c:0,r:0},e:{c:l,r:s+t.length-1+o}};if(i["!ref"]){var d=Jn(i["!ref"]);c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==s&&(s=d.e.r+1,c.e.r=s+t.length-1+o)}else-1==s&&(s=0,c.e.r=t.length-1+o);var h=a.header||[],f=0;t.forEach(function(e,t){Qe(e).forEach(function(n){-1==(f=h.indexOf(n))&&(h[f=h.length]=n);var u=e[n],c="z",d="",p=qn({c:l+f,r:s+t+o});r=Ch(i,p),!u||"object"!==typeof u||u instanceof Date?("number"==typeof u?c="n":"boolean"==typeof u?c="b":"string"==typeof u?c="s":u instanceof Date?(c="d",a.cellDates||(c="n",u=nt(u)),d=a.dateNF||H[14]):null===u&&a.nullError&&(c="e",u=0),r?(r.t=c,r.v=u,delete r.w,delete r.R,d&&(r.z=d)):i[p]=r={t:c,v:u},d&&(r.z=d)):i[p]=u})}),c.e.c=Math.max(c.e.c,l+h.length-1);var p=Bn(s);if(o)for(f=0;f<h.length;++f)i[Gn(f+l)+p]={t:"s",v:h[f]};return i["!ref"]=Yn(c),i}function kh(e,t){return Sh(null,e,t)}function Ch(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=Xn(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return Ch(e,qn("number"!=typeof t?t:{r:t,c:n||0}))}function Rh(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}function Ih(){return{SheetNames:[],Sheets:{}}}function Ah(e,t,n,r){var a=1;if(!n)for(;a<=65535;++a,n=void 0)if(-1==e.SheetNames.indexOf(n="Sheet"+a))break;if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);a=o&&+o[2]||0;var i=o&&o[1]||n;for(++a;a<=65535;++a)if(-1==e.SheetNames.indexOf(n=i+a))break}if(wc(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function xh(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=Rh(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function Oh(e,t){return e.z=t,e}function Nh(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function Dh(e,t,n){return Nh(e,"#"+t,n)}function Lh(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function Ph(e,t,n,r){for(var a="string"!=typeof t?t:Jn(t),o="string"==typeof t?t:Yn(t),i=a.s.r;i<=a.e.r;++i)for(var s=a.s.c;s<=a.e.c;++s){var l=Ch(e,i,s);l.t="n",l.F=o,delete l.v,i==a.s.r&&s==a.s.c&&(l.f=n,r&&(l.D=!0))}return e}var Mh={encode_col:Gn,encode_row:Bn,encode_cell:qn,encode_range:Yn,decode_col:jn,decode_row:$n,split_cell:Kn,decode_cell:Xn,decode_range:Qn,format_cell:er,sheet_add_aoa:nr,sheet_add_json:Sh,sheet_add_dom:Rd,aoa_to_sheet:rr,json_to_sheet:kh,table_to_sheet:Id,table_to_book:Ad,sheet_to_csv:_h,sheet_to_txt:Eh,sheet_to_json:yh,sheet_to_html:Cd,sheet_to_formulae:Th,sheet_to_row_object_array:yh,sheet_get_cell:Ch,book_new:Ih,book_append_sheet:Ah,book_set_sheet_visibility:xh,cell_set_number_format:Oh,cell_set_hyperlink:Nh,cell_set_internal_link:Dh,cell_add_comment:Lh,sheet_set_array_formula:Ph,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};r.version}}]);