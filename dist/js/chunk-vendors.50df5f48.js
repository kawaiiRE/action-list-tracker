"use strict";(self["webpackChunkaction_tracker"]=self["webpackChunkaction_tracker"]||[]).push([[504],{33:(e,t,n)=>{
/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function r(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}n.d(t,{$3:()=>p,$H:()=>B,BH:()=>K,BX:()=>re,Bm:()=>w,C4:()=>Y,CE:()=>v,CP:()=>u,DY:()=>P,Gv:()=>E,J$:()=>ee,Kg:()=>_,MZ:()=>a,Mp:()=>l,NO:()=>s,Oj:()=>o,PT:()=>$,Qd:()=>T,Ro:()=>F,SU:()=>x,TF:()=>d,Tg:()=>L,Tn:()=>b,Tr:()=>G,We:()=>j,X$:()=>c,Y2:()=>te,ZH:()=>O,Zf:()=>R,_B:()=>J,bB:()=>W,cy:()=>f,gd:()=>y,pD:()=>r,rU:()=>D,tE:()=>i,u3:()=>ae,vM:()=>m,v_:()=>ie,yI:()=>I,yL:()=>k,yQ:()=>M});const a={},o=[],i=()=>{},s=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u=e=>e.startsWith("onUpdate:"),c=Object.assign,d=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,p=(e,t)=>h.call(e,t),f=Array.isArray,v=e=>"[object Map]"===S(e),m=e=>"[object Set]"===S(e),g=e=>"[object Date]"===S(e),y=e=>"[object RegExp]"===S(e),b=e=>"function"===typeof e,_=e=>"string"===typeof e,w=e=>"symbol"===typeof e,E=e=>null!==e&&"object"===typeof e,k=e=>(E(e)||b(e))&&b(e.then)&&b(e.catch),C=Object.prototype.toString,S=e=>C.call(e),R=e=>S(e).slice(8,-1),T=e=>"[object Object]"===S(e),I=e=>_(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,x=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},V=/-(\w)/g,$=A(e=>e.replace(V,(e,t)=>t?t.toUpperCase():"")),N=/\B([A-Z])/g,L=A(e=>e.replace(N,"-$1").toLowerCase()),O=A(e=>e.charAt(0).toUpperCase()+e.slice(1)),D=A(e=>{const t=e?`on${O(e)}`:"";return t}),B=(e,t)=>!Object.is(e,t),P=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},M=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},W=e=>{const t=parseFloat(e);return isNaN(t)?e:t},F=e=>{const t=_(e)?Number(e):NaN;return isNaN(t)?e:t};let U;const j=()=>U||(U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const z="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",K=r(z);function G(e){if(f(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=_(r)?Q(r):G(r);if(a)for(const e in a)t[e]=a[e]}return t}if(_(e)||E(e))return e}const X=/;(?![^(]*\))/g,H=/:([^]+)/,q=/\/\*[^]*?\*\//g;function Q(e){const t={};return e.replace(q,"").split(X).forEach(e=>{if(e){const n=e.split(H);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Y(e){let t="";if(_(e))t=e;else if(f(e))for(let n=0;n<e.length;n++){const r=Y(e[n]);r&&(t+=r+" ")}else if(E(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function J(e){if(!e)return null;let{class:t,style:n}=e;return t&&!_(t)&&(e.class=Y(t)),n&&(e.style=G(n)),e}const Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ee=r(Z);function te(e){return!!e||""===e}function ne(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=re(e[r],t[r]);return n}function re(e,t){if(e===t)return!0;let n=g(e),r=g(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=w(e),r=w(t),n||r)return e===t;if(n=f(e),r=f(t),n||r)return!(!n||!r)&&ne(e,t);if(n=E(e),r=E(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,o=Object.keys(t).length;if(a!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),a=t.hasOwnProperty(n);if(r&&!a||!r&&a||!re(e[n],t[n]))return!1}}return String(e)===String(t)}function ae(e,t){return e.findIndex(e=>re(e,t))}const oe=e=>!(!e||!0!==e["__v_isRef"]),ie=e=>_(e)?e:null==e?"":f(e)||E(e)&&(e.toString===C||!b(e.toString))?oe(e)?ie(e.value):JSON.stringify(e,se,2):String(e),se=(e,t)=>oe(t)?se(e,t.value):v(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[le(t,r)+" =>"]=n,e),{})}:m(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>le(e))}:w(t)?le(t):!E(t)||f(t)||T(t)?t:String(t),le=(e,t="")=>{var n;return w(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},72:(e,t,n)=>{n.d(t,{cY:()=>_,FA:()=>U,g:()=>F,u:()=>c,Uj:()=>u,Fy:()=>k,tD:()=>Y,bD:()=>G,hp:()=>Q,T9:()=>y,Tj:()=>m,yU:()=>g,XA:()=>b,mS:()=>d,Ku:()=>te,ZQ:()=>x,sr:()=>N,zJ:()=>w,c1:()=>$,Im:()=>K,lT:()=>O,zW:()=>P,jZ:()=>A,lV:()=>L,nr:()=>D,Ov:()=>B,gE:()=>E,Am:()=>H,I9:()=>q,P1:()=>I,eX:()=>M});const r=()=>{},a=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},o=function(e){const t=[];let n=0,r=0;while(n<e.length){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&o)}else if(a>239&&a<365){const o=e[n++],i=e[n++],s=e[n++],l=((7&a)<<18|(63&o)<<12|(63&i)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&i)}}return t.join("")},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],o=a+1<e.length,i=o?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,u=t>>2,c=(3&t)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):o(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],o=a<e.length,i=o?n[e.charAt(a)]:0;++a;const l=a<e.length,u=l?n[e.charAt(a)]:64;++a;const c=a<e.length,d=c?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==u||null==d)throw new s;const h=t<<2|i>>4;if(r.push(h),64!==u){const e=i<<4&240|u>>2;if(r.push(e),64!==d){const e=u<<6&192|d;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(e){const t=a(e);return i.encodeByteArray(t,!0)},u=function(e){return l(e).replace(/\./g,"")},c=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h=()=>d().__FIREBASE_DEFAULTS__,p=()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",VUE_APP_DEFAULT_ADMIN_EMAIL:"admin@admin.com",VUE_APP_DEFAULT_ADMIN_PASSWORD:"admin1234",VUE_APP_FIREBASE_API_KEY:"AIzaSyAraOkRAPZ6RZTgeaX3QcMFRNe9qM2FsEQ",VUE_APP_FIREBASE_APP_ID:"1:275411023313:web:9cfaaa62b577fc1ccfdcf0",VUE_APP_FIREBASE_AUTH_DOMAIN:"aazad-properties.firebaseapp.com",VUE_APP_FIREBASE_MEASUREMENT_ID:"G-Y1G9PLEG3N",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"275411023313",VUE_APP_FIREBASE_PROJECT_ID:"aazad-properties",VUE_APP_FIREBASE_STORAGE_BUCKET:"aazad-properties.appspot.com",VUE_APP_SESSION_DURATION_DAYS:"7",VUE_APP_SUPERADMIN_EMAIL:"elhadyrachida71@gmail.com",BASE_URL:"/action-list-tracker/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},f=()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&c(e[1]);return t&&JSON.parse(t)},v=()=>{try{return r()||h()||p()||f()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},m=e=>{var t,n;return null===(n=null===(t=v())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},g=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},y=()=>{var e;return null===(e=v())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=v())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(e){try{const t=e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e;return t.endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function E(e){const t=await fetch(e,{credentials:"include"});return t.ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[u(JSON.stringify(n)),u(JSON.stringify(i)),s].join(".")}const C={};function S(){const e={prod:[],emulator:[]};for(const t of Object.keys(C))C[t]?e.emulator.push(t):e.prod.push(t);return e}function R(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let T=!1;function I(e,t){if("undefined"===typeof window||"undefined"===typeof document||!w(window.location.host)||C[e]===t||C[e]||T)return;function n(e){return`__firebase__banner__${e}`}C[e]=t;const r="__firebase__banner",a=S(),o=a.prod.length>0;function i(){const e=document.getElementById(r);e&&e.remove()}function s(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}function l(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}function u(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{T=!0,i()},e}function c(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}function d(){const e=R(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),i=n("learnmore"),d=document.getElementById(i)||document.createElement("a"),h=n("preprendIcon"),p=document.getElementById(h)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;s(t),c(d,i);const n=u();l(p,h),t.append(p,a,d,n),document.body.appendChild(t)}o?(a.innerText="Preview backend disconnected.",p.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(p.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",d):d()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function A(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function V(){var e;const t=null===(e=v())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function $(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function N(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function L(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function O(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function D(){return!V()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B(){return!V()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function P(){try{return"object"===typeof indexedDB}catch(e){return!1}}function M(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const W="FirebaseError";class F extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=W,Object.setPrototypeOf(this,F.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?j(a,n):"Error",i=`${this.serviceName}: ${o} (${r}).`,s=new F(r,i,n);return s}}function j(e,t){return e.replace(z,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}const z=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function G(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],o=t[a];if(X(n)&&X(o)){if(!G(n,o))return!1}else if(n!==o)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function X(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function q(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Q(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t){const n=new J(e,t);return n.subscribe.bind(n)}class J{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=Z(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ee),void 0===r.error&&(r.error=ee),void 0===r.complete&&(r.complete=ee);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function ee(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function te(e){return e&&e._delegate?e._delegate:e}},125:(e,t,n)=>{n.d(t,{h1:()=>u,uA:()=>a});var r=n(72);class a{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(l(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,o]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(a);n===e&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:s(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function s(e){return e===o?void 0:e}function l(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},223:(e,t,n)=>{n.d(t,{Wp:()=>r.Wp});var r=n(928),a="firebase",o="11.10.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,r.KO)(a,o,"app")},262:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n}},415:(e,t,n)=>{n.d(t,{eJ:()=>Pt,xI:()=>ta,hg:()=>Ut,x9:()=>Mt,CI:()=>jt});var r=n(928),a=n(72),o=n(424);function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(125);function l(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u=l,c=new a.FA("auth","Firebase",l()),d=new o.Vy("@firebase/auth");function h(e,...t){d.logLevel<=o.$b.WARN&&d.warn(`Auth (${r.MF}): ${e}`,...t)}function p(e,...t){d.logLevel<=o.$b.ERROR&&d.error(`Auth (${r.MF}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e,...t){throw y(e,...t)}function v(e,...t){return y(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},u()),{[t]:n}),o=new a.FA("auth","Firebase",r);return o.create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c.create(e,...t)}function b(e,t,...n){if(!e)throw y(t,...n)}function _(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function w(e,t){e||_(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function k(){return"http:"===C()||"https:"===C()}function C(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(k()||(0,a.sr)()||"connection"in navigator))||navigator.onLine}function R(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return S()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["INVALID_LOGIN_CREDENTIALS"]:"invalid-credential",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["PASSWORD_DOES_NOT_MEET_REQUIREMENTS"]:"password-does-not-meet-requirements",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},V=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$=new T(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function L(e,t,n,r,o={}){return O(e,o,async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=(0,a.Am)(Object.assign({key:e.config.apiKey},i)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return(0,a.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),x.fetch()(await B(e,e.config.apiHost,n,s),u)})}async function O(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},A),t);try{const t=new M(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw W(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const t=a.ok?o.errorMessage:o.error.message,[n,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw W(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw W(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw W(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw m(e,s,i);f(e,s)}}catch(o){if(o instanceof a.g)throw o;f(e,"network-request-failed",{message:String(o)})}}async function D(e,t,n,r,a={}){const o=await L(e,t,n,r,a);return"mfaPendingCredential"in o&&f(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function B(e,t,n,r){const a=`${t}${n}?${r}`,o=e,i=o.config.emulator?I(e.config,a):`${e.config.apiScheme}://${a}`;if(V.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){const e=o._getPersistence();return e._getFinalTarget(i).toString()}return i}function P(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(v(this.auth,"network-request-failed")),$.get())})}}function W(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=v(e,t,r);return a.customData._tokenResponse=n,a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){return void 0!==e&&void 0!==e.enterprise}class U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return P(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j(e,t){return L(e,"GET","/v2/recaptchaConfig",N(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z(e,t){return L(e,"POST","/v1/accounts:delete",t)}async function K(e,t){return L(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X(e,t=!1){const n=(0,a.Ku)(e),r=await n.getIdToken(t),o=q(r);b(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i["sign_in_provider"];return{claims:o,token:r,authTime:G(H(o.auth_time)),issuedAtTime:G(H(o.iat)),expirationTime:G(H(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i["sign_in_second_factor"])||null}}function H(e){return 1e3*Number(e)}function q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(o){return p("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Q(e){const t=q(e);return b(t,"internal-error"),b("undefined"!==typeof t.exp,"internal-error"),b("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof a.g&&J(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function J({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function te(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Y(e,K(n,{idToken:r}));b(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const o=a.users[0];e._notifyReloadListener(o);const i=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?ae(o.providerUserInfo):[],s=re(e.providerData,i),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),c=!!l&&u,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ee(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function ne(e){const t=(0,a.Ku)(e);await te(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function re(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}function ae(e){return e.map(e=>{var{providerId:t}=e,n=i(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oe(e,t){const n=await O(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await B(e,r,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),x.fetch()(i,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ie(e,t){return L(e,"POST","/v2/accounts:revokeToken",N(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b("undefined"!==typeof e.idToken,"internal-error"),b("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){b(0!==e.length,"internal-error");const t=Q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(b(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await oe(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,o=new se;return n&&(b("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(b("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),a&&(b("number"===typeof a,"internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new se,this.toJSON())}_performRefresh(){return _("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e,t){b("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=i(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ee(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Y(this,this.stsTokenManager.getToken(this.auth,e));return b(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return X(this,e)}reload(){return ne(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await te(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await Y(this,z(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,o,i,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(i=t.tenantId)&&void 0!==i?i:void 0,v=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:E,stsTokenManager:k}=t;b(y&&k,e,"internal-error");const C=se.fromJSON(this.name,k);b("string"===typeof y,e,"internal-error"),le(c,e.name),le(d,e.name),b("boolean"===typeof _,e,"internal-error"),b("boolean"===typeof w,e,"internal-error"),le(h,e.name),le(p,e.name),le(f,e.name),le(v,e.name),le(m,e.name),le(g,e.name);const S=new ue({uid:y,auth:e,email:d,emailVerified:_,displayName:c,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:C,createdAt:m,lastLoginAt:g});return E&&Array.isArray(E)&&(S.providerData=E.map(e=>Object.assign({},e))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new se;r.updateFromServerResponse(t);const a=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await te(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];b(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?ae(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),i=new se;i.updateFromIdToken(n);const s=new ue({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ee(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(s,l),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=new Map;function de(e){w(e instanceof Function,"Expected a class definition");let t=ce.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ce.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}he.type="NONE";const pe=he;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e,t,n){return`firebase:${e}:${t}:${n}`}class ve{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=fe(this.userKey,r.apiKey,a),this.fullPersistenceKey=fe("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await K(this.auth,{idToken:e}).catch(()=>{});return t?ue._fromGetAccountInfoResponse(this.auth,t,e):null}return ue._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ve(de(pe),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||de(pe);const o=fe(n,e.config.apiKey,e.name);let i=null;for(const u of t)try{const t=await u._get(o);if(t){let n;if("string"===typeof t){const r=await K(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ue._fromGetAccountInfoResponse(e,r,t)}else n=ue._fromJSON(e,t);u!==a&&(i=n),a=u;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&s.length?(a=s[0],i&&await a._set(o,i.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(o)}catch(l){}})),new ve(a,e,n)):new ve(a,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ee(t))return"Blackberry";if(ke(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||be(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ge(e=(0,a.ZQ)()){return/firefox\//i.test(e)}function ye(e=(0,a.ZQ)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function be(e=(0,a.ZQ)()){return/crios\//i.test(e)}function _e(e=(0,a.ZQ)()){return/iemobile/i.test(e)}function we(e=(0,a.ZQ)()){return/android/i.test(e)}function Ee(e=(0,a.ZQ)()){return/blackberry/i.test(e)}function ke(e=(0,a.ZQ)()){return/webos/i.test(e)}function Ce(e=(0,a.ZQ)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Se(e=(0,a.ZQ)()){var t;return Ce(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Re(){return(0,a.lT)()&&10===document.documentMode}function Te(e=(0,a.ZQ)()){return Ce(e)||we(e)||ke(e)||Ee(e)||/windows phone/i.test(e)||_e(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e,t=[]){let n;switch(e){case"Browser":n=me((0,a.ZQ)());break;case"Worker":n=`${me((0,a.ZQ)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.MF}/${o}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{const r=e(t);n(r)}catch(a){r(a)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ae(e,t={}){return L(e,"GET","/v2/passwordPolicy",N(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=6;class $e{constructor(e){var t,n,r,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:Ve,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,o,i;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(a=s.containsUppercaseLetter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(i=s.containsNonAlphanumericCharacter)||void 0===i||i),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oe(this),this.idTokenSubscription=new Oe(this),this.beforeStateQueue=new xe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=de(t)),this._initializationPromise=this.queue(async()=>{var n,r,a;if(!this._deleted&&(this.persistenceManager=await ve.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(a=this.currentUser)||void 0===a?void 0:a.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await K(this,{idToken:e}),n=await ue._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===a||void 0===a?void 0:a._redirectEventId,i=await this.tryRedirectSignIn(e);n&&n!==r||!(null===i||void 0===i?void 0:i.user)||(a=i.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(i){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return b(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await te(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,a.Ku)(e):null;return t&&b(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&b(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(de(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ae(this),t=new $e(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};null!=this.tenantId&&(n.tenantId=this.tenantId),await ie(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&de(e)||this._popupRedirectResolver;b(t,this,"argument-error"),this.redirectPersistenceManager=await ve.create(this,[de(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let o=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(b(i,this,"internal-error"),i.then(()=>{o||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{o=!0,a()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&h(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Le(e){return(0,a.Ku)(e)}class Oe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let De={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Be(e){De=e}function Pe(e){return De.loadJS(e)}function Me(){return De.recaptchaEnterpriseScript}function We(){return De.gapiScript}function Fe(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(){this.enterprise=new je}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class je{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ze="recaptcha-enterprise",Ke="NO_RECAPTCHA";class Ge{constructor(e){this.type=ze,this.auth=Le(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{j(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new U(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const a=window.grecaptcha;F(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ke)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){const e=new Ue;return e.execute("siteKey",{action:"verify"})}return new Promise((e,a)=>{n(this.auth).then(n=>{if(!t&&F(window.grecaptcha))r(n,e,a);else{if("undefined"===typeof window)return void a(new Error("RecaptchaVerifier is only supported in browser"));let t=Me();0!==t.length&&(t+=n),Pe(t).then(()=>{r(n,e,a)}).catch(e=>{a(e)})}}).catch(e=>{a(e)})})}}async function Xe(e,t,n,r=!1,a=!1){const o=new Ge(e);let i;if(a)i=Ke;else try{i=await o.verify(n)}catch(l){i=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function He(e,t,n,r,a){var o,i;if("EMAIL_PASSWORD_PROVIDER"===a){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Xe(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if("auth/missing-recaptcha-token"===a.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Xe(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}if("PHONE_PROVIDER"===a){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("PHONE_PROVIDER")){const a=await Xe(e,t,n);return r(e,a).catch(async a=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===a.code||"auth/invalid-app-credential"===a.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const a=await Xe(e,t,n,!1,!0);return r(e,a)}return Promise.reject(a)})}{const a=await Xe(e,t,n,!1,!0);return r(e,a)}}return Promise.reject(a+" provider is not supported.")}async function qe(e){const t=Le(e),n=await j(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new U(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){const e=new Ge(t);e.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}const o=n.initialize({options:t});return o}function Ye(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(de);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}function Je(e,t,n){const r=Le(e);b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Ze(t),{host:s,port:l}=et(t),u=null===l?"":`:${l}`,c={url:`${i}//${s}${u}/`},d=Object.freeze({host:s,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return b(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void b((0,a.bD)(c,r.config.emulator)&&(0,a.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(s)?((0,a.gE)(`${i}//${s}${u}`),(0,a.P1)("Auth",!0)):o||nt()}function Ze(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function et(e){const t=Ze(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:tt(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:tt(t)}}}function tt(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function nt(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _("not implemented")}_getIdTokenResponse(e){return _("not implemented")}_linkToIdToken(e,t){return _("not implemented")}_getReauthenticationResolver(e){return _("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function at(e,t){return L(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ot(e,t){return D(e,"POST","/v1/accounts:signInWithPassword",N(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function it(e,t){return D(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}async function st(e,t){return D(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends rt{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new lt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return He(e,t,"signInWithPassword",ot,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return it(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return He(e,n,"signUpPassword",at,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return st(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ut(e,t){return D(e,"POST","/v1/accounts:signInWithIdp",N(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="http://localhost";class dt extends rt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new dt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=i(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new dt(n,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return ut(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ut(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ut(e,t)}buildRequest(){const e={requestUri:ct,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,a.Am)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ht(e,t){return L(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))}async function pt(e,t){return D(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))}async function ft(e,t){const n=await D(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw W(e,"account-exists-with-different-credential",n);return n}const vt={["USER_NOT_FOUND"]:"user-not-found"};async function mt(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return D(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,n),vt)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends rt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new gt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new gt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return pt(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return ft(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return mt(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new gt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bt(e){const t=(0,a.I9)((0,a.hp)(e))["link"],n=t?(0,a.I9)((0,a.hp)(t))["deep_link_id"]:null,r=(0,a.I9)((0,a.hp)(e))["deep_link_id"],o=r?(0,a.I9)((0,a.hp)(r))["link"]:null;return o||r||n||t||e}class _t{constructor(e){var t,n,r,o,i,s;const l=(0,a.I9)((0,a.hp)(e)),u=null!==(t=l["apiKey"])&&void 0!==t?t:null,c=null!==(n=l["oobCode"])&&void 0!==n?n:null,d=yt(null!==(r=l["mode"])&&void 0!==r?r:null);b(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(o=l["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(i=l["lang"])&&void 0!==i?i:null,this.tenantId=null!==(s=l["tenantId"])&&void 0!==s?s:null}static parseLink(e){const t=bt(e);try{return new _t(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wt{constructor(){this.providerId=wt.PROVIDER_ID}static credential(e,t){return lt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=_t.parseLink(t);return b(n,"argument-error"),lt._fromEmailAndCode(e,n.code,n.tenantId)}}wt.PROVIDER_ID="password",wt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Et{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends Et{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ct extends kt{constructor(){super("facebook.com")}static credential(e){return dt._fromParams({providerId:Ct.PROVIDER_ID,signInMethod:Ct.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ct.credentialFromTaggedObject(e)}static credentialFromError(e){return Ct.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ct.credential(e.oauthAccessToken)}catch(t){return null}}}Ct.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ct.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class St extends kt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return dt._fromParams({providerId:St.PROVIDER_ID,signInMethod:St.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return St.credentialFromTaggedObject(e)}static credentialFromError(e){return St.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return St.credential(t,n)}catch(r){return null}}}St.GOOGLE_SIGN_IN_METHOD="google.com",St.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rt extends kt{constructor(){super("github.com")}static credential(e){return dt._fromParams({providerId:Rt.PROVIDER_ID,signInMethod:Rt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rt.credentialFromTaggedObject(e)}static credentialFromError(e){return Rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Rt.credential(e.oauthAccessToken)}catch(t){return null}}}Rt.GITHUB_SIGN_IN_METHOD="github.com",Rt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tt extends kt{constructor(){super("twitter.com")}static credential(e,t){return dt._fromParams({providerId:Tt.PROVIDER_ID,signInMethod:Tt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tt.credentialFromTaggedObject(e)}static credentialFromError(e){return Tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Tt.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function It(e,t){return D(e,"POST","/v1/accounts:signUp",N(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tt.TWITTER_SIGN_IN_METHOD="twitter.com",Tt.PROVIDER_ID="twitter.com";class xt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const a=await ue._fromIdTokenResponse(e,n,r),o=At(n),i=new xt({user:a,providerId:o,_tokenResponse:n,operationType:t});return i}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=At(n);return new xt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function At(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vt extends a.g{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Vt.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Vt(e,t,n,r)}}function $t(e,t,n,r){const a="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return a.catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Vt._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nt(e,t,n=!1){const r=await Y(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xt._forOperation(e,"link",r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Lt(e,t,n=!1){const{auth:a}=e;if((0,r.xZ)(a.app))return Promise.reject(g(a));const o="reauthenticate";try{const r=await Y(e,$t(a,o,t,e),n);b(r.idToken,a,"internal-error");const i=q(r.idToken);b(i,a,"internal-error");const{sub:s}=i;return b(e.uid===s,a,"user-mismatch"),xt._forOperation(e,o,r)}catch(i){throw"auth/user-not-found"===(null===i||void 0===i?void 0:i.code)&&f(a,"user-mismatch"),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ot(e,t,n=!1){if((0,r.xZ)(e.app))return Promise.reject(g(e));const a="signIn",o=await $t(e,a,t),i=await xt._fromIdTokenResponse(e,a,o);return n||await e._updateCurrentUser(i.user),i}async function Dt(e,t){return Ot(Le(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Bt(e){const t=Le(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Pt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));const a=Le(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},i=He(a,o,"signUpPassword",It,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Bt(e),t}),l=await xt._fromIdTokenResponse(a,"signIn",s);return await a._updateCurrentUser(l.user),l}function Mt(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):Dt((0,a.Ku)(e),wt.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Bt(e),t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(e,t,n,r){return(0,a.Ku)(e).onIdTokenChanged(t,n,r)}function Ft(e,t,n){return(0,a.Ku)(e).beforeAuthStateChanged(t,n)}function Ut(e,t,n,r){return(0,a.Ku)(e).onAuthStateChanged(t,n,r)}function jt(e){return(0,a.Ku)(e).signOut()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}function Kt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}function Gt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}function Xt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}new WeakMap;const Ht="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ht,"1"),this.storage.removeItem(Ht),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=1e3,Yt=10;class Jt extends qt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);Re()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Yt):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Qt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jt.type="LOCAL";const Zt=Jt,en=1e3;
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(a))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function nn(e){const t="http:"===window.location.protocol;return`${t?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class rn{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=nn(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return tn(t)}async _remove(e){if(!this._isAvailable())return;const t=await this._get(e);if(!t)return;const n=nn(e);document.cookie=`${n}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=nn(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);const a=e.deleted.find(e=>e.name===n);a&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=tn(n);const a=setInterval(()=>{const e=tn(n);e!==r&&(t(e),r=e)},en),o=()=>clearInterval(a);this.listenerUnsubscribes.set(t,o)}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}rn.type="COOKIE";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class an extends qt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}an.type="SESSION";const on=an;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(e){return Promise.all(e.map(async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ln(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const i=Array.from(o).map(async e=>e(t.origin,a)),s=await sn(i);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function un(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.receivers=[];class cn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((i,s)=>{const l=un("",20);r.port1.start();const u=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),i(t.data.response);break;default:clearTimeout(u),clearTimeout(a),s(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function hn(e){dn().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return"undefined"!==typeof dn()["WorkerGlobalScope"]&&"function"===typeof dn()["importScripts"]}async function fn(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function vn(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function mn(){return pn()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="firebaseLocalStorageDb",yn=1,bn="firebaseLocalStorage",_n="fbase_key";class wn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function En(e,t){return e.transaction([bn],t?"readwrite":"readonly").objectStore(bn)}function kn(){const e=indexedDB.deleteDatabase(gn);return new wn(e).toPromise()}function Cn(){const e=indexedDB.open(gn,yn);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(bn,{keyPath:_n})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(bn)?t(n):(n.close(),await kn(),t(await Cn()))})})}async function Sn(e,t,n){const r=En(e,!0).put({[_n]:t,value:n});return new wn(r).toPromise()}async function Rn(e,t){const n=En(e,!1).get(t),r=await new wn(n).toPromise();return void 0===r?null:r.value}function Tn(e,t){const n=En(e,!0).delete(t);return new wn(n).toPromise()}const In=800,xn=3;class An{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Cn()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>xn)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ln._getInstance(mn()),this.receiver._subscribe("keyChanged",async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fn(),!this.activeServiceWorker)return;this.sender=new cn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&vn()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cn();return await Sn(e,Ht,"1"),await Tn(e,Ht),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sn(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>Rn(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tn(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=En(e,!1).getAll();return new wn(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),In)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}An.type="LOCAL";const Vn=An;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}function Nn(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}function Ln(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fe("rcb"),new T(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const On="recaptcha";async function Dn(e,t,n){var r;if(!e._getRecaptchaConfig())try{await qe(e)}catch(a){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){b("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ke){b((null===n||void 0===n?void 0:n.type)===On,e,"argument-error");const r=await Bn(e,t,n);return zt(e,r)}return zt(e,t)},i=He(e,r,"mfaSmsEnrollment",o,"PHONE_PROVIDER"),s=await i.catch(e=>Promise.reject(e));return s.phoneSessionInfo.sessionInfo}{b("signin"===t.type,e,"internal-error");const o=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;b(o,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ke){b((null===n||void 0===n?void 0:n.type)===On,e,"argument-error");const r=await Bn(e,t,n);return $n(e,r)}return $n(e,t)},l=He(e,i,"mfaSmsSignIn",s,"PHONE_PROVIDER"),u=await l.catch(e=>Promise.reject(e));return u.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===Ke){b((null===n||void 0===n?void 0:n.type)===On,e,"argument-error");const r=await Bn(e,t,n);return ht(e,r)}return ht(e,t)},o=He(e,t,"sendVerificationCode",r,"PHONE_PROVIDER"),i=await o.catch(e=>Promise.reject(e));return i.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Bn(e,t,n){b(n.type===On,e,"argument-error");const r=await n.verify();b("string"===typeof r,e,"argument-error");const a=Object.assign({},t);if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,o=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.providerId=Pn.PROVIDER_ID,this.auth=Le(e)}verifyPhoneNumber(e,t){return Dn(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return gt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pn.credentialFromTaggedObject(t)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?gt._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mn(e,t){return t?de(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.PROVIDER_ID="phone",Pn.PHONE_SIGN_IN_METHOD="phone";class Wn extends rt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ut(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ut(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ut(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Fn(e){return Ot(e.auth,new Wn(e),e.bypassAuthState)}function Un(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Lt(n,new Wn(e),e.bypassAuthState)}async function jn(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Nt(n,new Wn(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t,n,r,a=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:o,type:i}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fn;case"linkViaPopup":case"linkViaRedirect":return jn;case"reauthViaPopup":case"reauthViaRedirect":return Un;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new T(2e3,1e4);class Gn extends zn{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,Gn.currentPopupAction&&Gn.currentPopupAction.cancel(),Gn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return b(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=un();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(v(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(v(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(v(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Kn.get())};e()}}Gn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Xn="pendingRedirect",Hn=new Map;class qn extends zn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Hn.get(this.auth._key());if(!e){try{const t=await Qn(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Hn.set(this.auth._key(),e)}return this.bypassAuthState||Hn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Qn(e,t){const n=Zn(t),r=Jn(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}function Yn(e,t){Hn.set(e._key(),t)}function Jn(e){return de(e._redirectPersistence)}function Zn(e){return fe(Xn,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function er(e,t,n=!1){if((0,r.xZ)(e.app))return Promise.reject(g(e));const a=Le(e),o=Mn(a,t),i=new qn(a,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await a._persistUserIfCurrent(s.user),await a._setRedirectUser(null,t)),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const tr=6e5;class nr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!or(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ar(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(v(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tr&&this.cachedEventUids.clear(),this.cachedEventUids.has(rr(e))}saveEventToCache(e){this.cachedEventUids.add(rr(e)),this.lastProcessedEventTime=Date.now()}}function rr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ar({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function or(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ar(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ir(e,t={}){return L(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lr=/^https?/;async function ur(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ir(e);for(const r of t)try{if(cr(r))return}catch(n){}f(e,"unauthorized-domain")}function cr(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!lr.test(n))return!1;if(sr.test(e))return r===e;const a=e.replace(/\./g,"\\."),o=new RegExp("^(.+\\."+a+"|"+a+")$","i");return o.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new T(3e4,6e4);function hr(){const e=dn().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function pr(e){return new Promise((t,n)=>{var r,a,o;function i(){hr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hr(),n(v(e,"network-request-failed"))},timeout:dr.get()})}if(null===(a=null===(r=dn().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=dn().gapi)||void 0===o?void 0:o.load)){const t=Fe("iframefcb");return dn()[t]=()=>{gapi.load?i():n(v(e,"network-request-failed"))},Pe(`${We()}?onload=${t}`).catch(e=>n(e))}i()}}).catch(e=>{throw fr=null,e})}let fr=null;function vr(e){return fr=fr||pr(e),fr}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new T(5e3,15e3),gr="__/auth/iframe",yr="emulator/auth/iframe",br={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_r=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wr(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?I(t,yr):`https://${e.config.authDomain}/${gr}`,o={apiKey:t.apiKey,appName:e.name,v:r.MF},i=_r.get(e.config.apiHost);i&&(o.eid=i);const s=e._getFrameworks();return s.length&&(o.fw=s.join(",")),`${n}?${(0,a.Am)(o).slice(1)}`}async function Er(e){const t=await vr(e),n=dn().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:wr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:br,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=v(e,"network-request-failed"),o=dn().setTimeout(()=>{r(a)},mr.get());function i(){dn().clearTimeout(o),n(t)}t.ping(i).then(i,()=>{r(a)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cr=500,Sr=600,Rr="_blank",Tr="http://localhost";class Ir{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function xr(e,t,n,r=Cr,o=Sr){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},kr),{width:r.toString(),height:o.toString(),top:i,left:s}),c=(0,a.ZQ)().toLowerCase();n&&(l=be(c)?Rr:n),ge(c)&&(t=t||Tr,u.scrollbars="yes");const d=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(Se(c)&&"_self"!==l)return Ar(t||"",l),new Ir(null);const h=window.open(t||"",l,d);b(h,e,"popup-blocked");try{h.focus()}catch(p){}return new Ir(h)}function Ar(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="__/auth/handler",$r="emulator/auth/handler",Nr=encodeURIComponent("fac");async function Lr(e,t,n,o,i,s){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:r.MF,eventId:i};if(t instanceof Et){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))l[e]=t}if(t instanceof kt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];const c=await e._getAppCheckToken(),d=c?`#${Nr}=${encodeURIComponent(c)}`:"";return`${Or(e)}?${(0,a.Am)(u).slice(1)}${d}`}function Or({config:e}){return e.emulator?I(e,$r):`https://${e.authDomain}/${Vr}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="webStorageSupport";class Br{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=on,this._completeRedirectFn=er,this._overrideRedirectResult=Yn}async _openPopup(e,t,n,r){var a;w(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Lr(e,t,n,E(),r);return xr(e,o,un())}async _openRedirect(e,t,n,r){await this._originValidation(e);const a=await Lr(e,t,n,E(),r);return hn(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Er(e),n=new nr(e);return t.register("authEvent",t=>{b(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(Dr,{type:Dr},n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Dr];void 0!==a&&t(!!a),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ur(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Te()||ye()||Ce()}}const Pr=Br;class Mr{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _("unexpected MultiFactorSessionType")}}}class Wr extends Mr{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Wr(e)}_finalizeEnroll(e,t,n){return Kt(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Nn(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Fr{constructor(){}static assertion(e){return Wr._fromCredential(e)}}Fr.FACTOR_ID="phone";class Ur{static assertionForEnrollment(e,t){return jr._fromSecret(e,t)}static assertionForSignIn(e,t){return jr._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const n=e;b("undefined"!==typeof(null===(t=n.user)||void 0===t?void 0:t.auth),"internal-error");const r=await Gt(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return zr._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}}Ur.FACTOR_ID="totp";class jr extends Mr{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new jr(t,void 0,e)}static _fromEnrollmentId(e,t){return new jr(t,e)}async _finalizeEnroll(e,t,n){return b("undefined"!==typeof this.secret,e,"argument-error"),Xt(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){b(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return Ln(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class zr{constructor(e,t,n,r,a,o,i){this.sessionInfo=o,this.auth=i,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new zr(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(Kr(e)||Kr(t))&&(r=!0),r&&(Kr(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Kr(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Kr(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Gr="@firebase/auth",Xr="1.10.8";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qr(e){(0,r.om)(new s.uA("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:i,authDomain:s}=r.options;b(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(e)},u=new Ne(r,a,o,l);return Ye(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()})),(0,r.om)(new s.uA("auth-internal",e=>{const t=Le(e.getProvider("auth").getImmediate());return(e=>new Hr(e))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Gr,Xr,qr(e)),(0,r.KO)(Gr,Xr,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=300,Jr=(0,a.XA)("authIdTokenMaxAge")||Yr;let Zr=null;const ea=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jr)return;const a=null===n||void 0===n?void 0:n.token;Zr!==a&&(Zr=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ta(e=(0,r.Sx)()){const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Qe(e,{popupRedirectResolver:Pr,persistence:[Vn,Zt,on]}),o=(0,a.XA)("authTokenSyncURL");if(o&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(o,location.origin);if(location.origin===e.origin){const t=ea(e.toString());Ft(n,t,()=>t(n.currentUser)),Wt(n,e=>t(e))}}const i=(0,a.Tj)("auth");return i&&Je(n,`http://${i}`),n}function na(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}Be({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=v("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",na().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Qr("Browser")},424:(e,t,n)=>{n.d(t,{$b:()=>a,Vy:()=>u});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var a;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(a||(a={}));const o={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},i=a.INFO,s={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),a=s[t];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[a](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=i,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in a))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...e),this._logHandler(this,a.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...e),this._logHandler(this,a.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,a.INFO,...e),this._logHandler(this,a.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,a.WARN,...e),this._logHandler(this,a.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,a.ERROR,...e),this._logHandler(this,a.ERROR,...e)}}},641:(e,t,n)=>{n.d(t,{$u:()=>Ee,$y:()=>$e,CE:()=>On,Df:()=>ae,EW:()=>wr,EY:()=>Sn,FK:()=>Cn,Gt:()=>ft,Gy:()=>G,HF:()=>He,Ht:()=>ze,Ic:()=>we,Im:()=>F,K9:()=>Dt,KC:()=>be,Lk:()=>Fn,MZ:()=>re,Mw:()=>Rn,Ng:()=>zn,OA:()=>Ke,OW:()=>ee,Q3:()=>Xn,QP:()=>H,RG:()=>Be,Tb:()=>Me,WQ:()=>vt,Wv:()=>Dn,bF:()=>Un,bo:()=>x,dY:()=>m,eW:()=>Gn,eX:()=>De,g2:()=>Ae,h:()=>Er,k6:()=>I,nI:()=>rr,nT:()=>Xt,pI:()=>Oe,pM:()=>oe,pR:()=>J,qL:()=>i,sV:()=>_e,tY:()=>pn,uX:()=>An,v6:()=>Yn,vv:()=>Bn,wB:()=>Ht,xo:()=>ke});var r=n(953),a=n(33);function o(e,t,n,r){try{return r?e(...r):e()}catch(a){s(a,t,n)}}function i(e,t,n,r){if((0,a.Tn)(e)){const i=o(e,t,n,r);return i&&(0,a.yL)(i)&&i.catch(e=>{s(e,t,n)}),i}if((0,a.cy)(e)){const a=[];for(let o=0;o<e.length;o++)a.push(i(e[o],t,n,r));return a}}function s(e,t,n,i=!0){const s=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||a.MZ;if(t){let a=t.parent;const i=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;while(a){const t=a.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,s))return;a=a.parent}if(u)return(0,r.C4)(),o(u,null,10,[e,i,s]),void(0,r.bl)()}l(e,n,s,i,c)}function l(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const u=[];let c=-1;const d=[];let h=null,p=0;const f=Promise.resolve();let v=null;function m(e){const t=v||f;return e?t.then(this?e.bind(this):e):t}function g(e){let t=c+1,n=u.length;while(t<n){const r=t+n>>>1,a=u[r],o=k(a);o<e||o===e&&2&a.flags?t=r+1:n=r}return t}function y(e){if(!(1&e.flags)){const t=k(e),n=u[u.length-1];!n||!(2&e.flags)&&t>=k(n)?u.push(e):u.splice(g(t),0,e),e.flags|=1,b()}}function b(){v||(v=f.then(C))}function _(e){(0,a.cy)(e)?d.push(...e):h&&-1===e.id?h.splice(p+1,0,e):1&e.flags||(d.push(e),e.flags|=1),b()}function w(e,t,n=c+1){for(0;n<u.length;n++){const t=u[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;0,u.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function E(e){if(d.length){const e=[...new Set(d)].sort((e,t)=>k(e)-k(t));if(d.length=0,h)return void h.push(...e);for(h=e,p=0;p<h.length;p++){const e=h[p];0,4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}h=null,p=0}}const k=e=>null==e.id?2&e.flags?-1:1/0:e.id;function C(e){a.tE;try{for(c=0;c<u.length;c++){const e=u[c];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),o(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;c<u.length;c++){const e=u[c];e&&(e.flags&=-2)}c=-1,u.length=0,E(e),v=null,(u.length||d.length)&&C(e)}}let S=null,R=null;function T(e){const t=S;return S=e,R=e&&e.type.__scopeId||null,t}function I(e,t=S,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Nn(-1);const a=T(t);let o;try{o=e(...n)}finally{T(a),r._d&&Nn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function x(e,t){if(null===S)return e;const n=yr(S),o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,s,l,u=a.MZ]=t[i];e&&((0,a.Tn)(e)&&(e={mounted:e,updated:e}),e.deep&&(0,r.hV)(s),o.push({dir:e,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u}))}return e}function A(e,t,n,a){const o=e.dirs,s=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];s&&(u.oldValue=s[l].value);let c=u.dir[a];c&&((0,r.C4)(),i(c,n,8,[e.el,u,e,t]),(0,r.bl)())}}const V=Symbol("_vte"),$=e=>e.__isTeleport,N=e=>e&&(e.disabled||""===e.disabled),L=e=>e&&(e.defer||""===e.defer),O=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,D=e=>"function"===typeof MathMLElement&&e instanceof MathMLElement,B=(e,t)=>{const n=e&&e.to;if((0,a.Kg)(n)){if(t){const e=t(n);return e}return null}return n},P={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,o,i,s,l,u){const{mc:c,pc:d,pbc:h,o:{insert:p,querySelector:f,createText:v,createComment:m}}=u,g=N(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=v(""),u=t.anchor=v("");p(e,n,r),p(u,n,r);const d=(e,t)=>{16&y&&(a&&a.isCE&&(a.ce._teleportTarget=e),c(b,e,t,a,o,i,s,l))},h=()=>{const e=t.target=B(t.props,f),n=j(e,t,v,p);e&&("svg"!==i&&O(e)?i="svg":"mathml"!==i&&D(e)&&(i="mathml"),g||(d(e,n),U(t,!1)))};g&&(d(n,u),U(t,!0)),L(t.props)?(t.el.__isMounted=!1,Ot(()=>{h(),delete t.el.__isMounted},o)):h()}else{if(L(t.props)&&!1===e.el.__isMounted)return void Ot(()=>{P.process(e,t,n,r,a,o,i,s,l,u)},o);t.el=e.el,t.targetStart=e.targetStart;const c=t.anchor=e.anchor,p=t.target=e.target,v=t.targetAnchor=e.targetAnchor,m=N(e.props),y=m?n:p,b=m?c:v;if("svg"===i||O(p)?i="svg":("mathml"===i||D(p))&&(i="mathml"),_?(h(e.dynamicChildren,_,y,a,o,i,s),Ft(e,t,!0)):l||d(e,t,y,b,a,o,i,s,!1),g)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):M(t,n,c,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=B(t.props,f);e&&M(t,e,null,u,0)}else m&&M(t,p,v,u,1);U(t,g)}},remove(e,t,n,{um:r,o:{remove:a}},o){const{shapeFlag:i,children:s,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=e;if(d&&(a(u),a(c)),o&&a(l),16&i){const e=o||!N(h);for(let a=0;a<s.length;a++){const o=s[a];r(o,t,n,e,!!o.dynamicChildren)}}},move:M,hydrate:W};function M(e,t,n,{o:{insert:r},m:a},o=2){0===o&&r(e.targetAnchor,t,n);const{el:i,anchor:s,shapeFlag:l,children:u,props:c}=e,d=2===o;if(d&&r(i,t,n),(!d||N(c))&&16&l)for(let h=0;h<u.length;h++)a(u[h],t,n,2);d&&r(s,t,n)}function W(e,t,n,r,a,o,{o:{nextSibling:i,parentNode:s,querySelector:l,insert:u,createText:c}},d){const h=t.target=B(t.props,l);if(h){const l=N(t.props),p=h._lpa||h.firstChild;if(16&t.shapeFlag)if(l)t.anchor=d(i(e),t,s(e),n,r,a,o),t.targetStart=p,t.targetAnchor=p&&i(p);else{t.anchor=i(e);let s=p;while(s){if(s&&8===s.nodeType)if("teleport start anchor"===s.data)t.targetStart=s;else if("teleport anchor"===s.data){t.targetAnchor=s,h._lpa=t.targetAnchor&&i(t.targetAnchor);break}s=i(s)}t.targetAnchor||j(h,t,c,u),d(p&&i(p),t,h,n,r,a,o)}U(t,l)}return t.anchor&&i(t.anchor)}const F=P;function U(e,t){const n=e.ctx;if(n&&n.ut){let r,a;t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);while(r&&r!==a)1===r.nodeType&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function j(e,t,n,r){const a=t.targetStart=n(""),o=t.targetAnchor=n("");return a[V]=o,e&&(r(a,e),r(o,e)),o}const z=Symbol("_leaveCb"),K=Symbol("_enterCb");function G(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _e(()=>{e.isMounted=!0}),ke(()=>{e.isUnmounting=!0}),e}const X=[Function,Array],H={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:X,onEnter:X,onAfterEnter:X,onEnterCancelled:X,onBeforeLeave:X,onLeave:X,onAfterLeave:X,onLeaveCancelled:X,onBeforeAppear:X,onAppear:X,onAfterAppear:X,onAppearCancelled:X},q=e=>{const t=e.subTree;return t.component?q(t.component):t},Q={name:"BaseTransition",props:H,setup(e,{slots:t}){const n=rr(),a=G();return()=>{const o=t.default&&ae(t.default(),!0);if(!o||!o.length)return;const i=Y(o),s=(0,r.ux)(e),{mode:l}=s;if(a.isLeaving)return te(i);const u=ne(i);if(!u)return te(i);let c=ee(u,s,a,n,e=>c=e);u.type!==Rn&&re(u,c);let d=n.subTree&&ne(n.subTree);if(d&&d.type!==Rn&&!Pn(u,d)&&q(n).type!==Rn){let e=ee(d,s,a,n);if(re(d,e),"out-in"===l&&u.type!==Rn)return a.isLeaving=!0,e.afterLeave=()=>{a.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,d=void 0},te(i);"in-out"===l&&u.type!==Rn?e.delayLeave=(e,t,n)=>{const r=Z(a,d);r[String(d.key)]=d,e[z]=()=>{t(),e[z]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function Y(e){let t=e[0];if(e.length>1){let n=!1;for(const r of e)if(r.type!==Rn){0,t=r,n=!0;break}}return t}const J=Q;function Z(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ee(e,t,n,r,o){const{appear:s,mode:l,persisted:u=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:f,onLeave:v,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:b,onAfterAppear:_,onAppearCancelled:w}=t,E=String(e.key),k=Z(n,e),C=(e,t)=>{e&&i(e,r,9,t)},S=(e,t)=>{const n=t[1];C(e,t),(0,a.cy)(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},R={mode:l,persisted:u,beforeEnter(t){let r=c;if(!n.isMounted){if(!s)return;r=y||c}t[z]&&t[z](!0);const a=k[E];a&&Pn(e,a)&&a.el[z]&&a.el[z](),C(r,[t])},enter(e){let t=d,r=h,a=p;if(!n.isMounted){if(!s)return;t=b||d,r=_||h,a=w||p}let o=!1;const i=e[K]=t=>{o||(o=!0,C(t?a:r,[e]),R.delayedLeave&&R.delayedLeave(),e[K]=void 0)};t?S(t,[e,i]):i()},leave(t,r){const a=String(e.key);if(t[K]&&t[K](!0),n.isUnmounting)return r();C(f,[t]);let o=!1;const i=t[z]=n=>{o||(o=!0,r(),C(n?g:m,[t]),t[z]=void 0,k[a]===e&&delete k[a])};k[a]=e,v?S(v,[t,i]):i()},clone(e){const a=ee(e,t,n,r,o);return o&&o(a),a}};return R}function te(e){if(ue(e))return e=Kn(e),e.children=null,e}function ne(e){if(!ue(e))return $(e.type)&&e.children?Y(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&(0,a.Tn)(n.default))return n.default()}}function re(e,t){6&e.shapeFlag&&e.component?(e.transition=t,re(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ae(e,t=!1,n){let r=[],a=0;for(let o=0;o<e.length;o++){let i=e[o];const s=null==n?i.key:String(n)+String(null!=i.key?i.key:o);i.type===Cn?(128&i.patchFlag&&a++,r=r.concat(ae(i.children,t,s))):(t||i.type!==Rn)&&r.push(null!=s?Kn(i,{key:s}):i)}if(a>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function oe(e,t){return(0,a.Tn)(e)?(()=>(0,a.X$)({name:e.name},t,{setup:e}))():e}function ie(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function se(e,t,n,i,s=!1){if((0,a.cy)(e))return void e.forEach((e,r)=>se(e,t&&((0,a.cy)(t)?t[r]:t),n,i,s));if(le(i)&&!s)return void(512&i.shapeFlag&&i.type.__asyncResolved&&i.component.subTree.component&&se(e,t,n,i.component.subTree));const l=4&i.shapeFlag?yr(i.component):i.el,u=s?null:l,{i:c,r:d}=e;const h=t&&t.r,p=c.refs===a.MZ?c.refs={}:c.refs,f=c.setupState,v=(0,r.ux)(f),m=f===a.MZ?()=>!1:e=>(0,a.$3)(v,e);if(null!=h&&h!==d&&((0,a.Kg)(h)?(p[h]=null,m(h)&&(f[h]=null)):(0,r.i9)(h)&&(h.value=null)),(0,a.Tn)(d))o(d,c,12,[u,p]);else{const t=(0,a.Kg)(d),o=(0,r.i9)(d);if(t||o){const r=()=>{if(e.f){const n=t?m(d)?f[d]:p[d]:d.value;s?(0,a.cy)(n)&&(0,a.TF)(n,l):(0,a.cy)(n)?n.includes(l)||n.push(l):t?(p[d]=[l],m(d)&&(f[d]=p[d])):(d.value=[l],e.k&&(p[e.k]=d.value))}else t?(p[d]=u,m(d)&&(f[d]=u)):o&&(d.value=u,e.k&&(p[e.k]=u))};u?(r.id=-1,Ot(r,n)):r()}else 0}}(0,a.We)().requestIdleCallback,(0,a.We)().cancelIdleCallback;const le=e=>!!e.type.__asyncLoader;
/*! #__NO_SIDE_EFFECTS__ */const ue=e=>e.type.__isKeepAlive;RegExp,RegExp;function ce(e,t){return(0,a.cy)(e)?e.some(e=>ce(e,t)):(0,a.Kg)(e)?e.split(",").includes(t):!!(0,a.gd)(e)&&(e.lastIndex=0,e.test(t))}function de(e,t){pe(e,"a",t)}function he(e,t){pe(e,"da",t)}function pe(e,t,n=nr){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(ge(t,r,n),n){let e=n.parent;while(e&&e.parent)ue(e.parent.vnode)&&fe(r,t,n,e),e=e.parent}}function fe(e,t,n,r){const o=ge(t,e,r,!0);Ce(()=>{(0,a.TF)(r[t],o)},n)}function ve(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function me(e){return 128&e.shapeFlag?e.ssContent:e}function ge(e,t,n=nr,a=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{(0,r.C4)();const o=ir(n),s=i(t,n,e,a);return o(),(0,r.bl)(),s});return a?o.unshift(s):o.push(s),s}}const ye=e=>(t,n=nr)=>{dr&&"sp"!==e||ge(e,(...e)=>t(...e),n)},be=ye("bm"),_e=ye("m"),we=ye("bu"),Ee=ye("u"),ke=ye("bum"),Ce=ye("um"),Se=ye("sp"),Re=ye("rtg"),Te=ye("rtc");function Ie(e,t=nr){ge("ec",e,t)}const xe="components";function Ae(e,t){return Ne(xe,e,!0,t)||e}const Ve=Symbol.for("v-ndc");function $e(e){return(0,a.Kg)(e)?Ne(xe,e,!1)||e:e||Ve}function Ne(e,t,n=!0,r=!1){const o=S||nr;if(o){const n=o.type;if(e===xe){const e=br(n,!1);if(e&&(e===t||e===(0,a.PT)(t)||e===(0,a.ZH)((0,a.PT)(t))))return n}const i=Le(o[e]||n[e],t)||Le(o.appContext[e],t);return!i&&r?n:i}}function Le(e,t){return e&&(e[t]||e[(0,a.PT)(t)]||e[(0,a.ZH)((0,a.PT)(t))])}function Oe(e,t,n,o){let i;const s=n&&n[o],l=(0,a.cy)(e);if(l||(0,a.Kg)(e)){const n=l&&(0,r.g8)(e);let a=!1,o=!1;n&&(a=!(0,r.fE)(e),o=(0,r.Tm)(e),e=(0,r.qA)(e)),i=new Array(e.length);for(let l=0,u=e.length;l<u;l++)i[l]=t(a?o?(0,r.a1)((0,r.lJ)(e[l])):(0,r.lJ)(e[l]):e[l],l,void 0,s&&s[l])}else if("number"===typeof e){0,i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,s&&s[n])}else if((0,a.Gv)(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,s&&s[n]));else{const n=Object.keys(e);i=new Array(n.length);for(let r=0,a=n.length;r<a;r++){const a=n[r];i[r]=t(e[a],a,r,s&&s[r])}}else i=[];return n&&(n[o]=i),i}function De(e,t){for(let n=0;n<t.length;n++){const r=t[n];if((0,a.cy)(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function Be(e,t,n={},r,o){if(S.ce||S.parent&&le(S.parent)&&S.parent.ce)return"default"!==t&&(n.name=t),An(),Dn(Cn,null,[Un("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),An();const s=i&&Pe(i(n)),l=n.key||s&&s.key,u=Dn(Cn,{key:(l&&!(0,a.Bm)(l)?l:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&1===e._?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function Pe(e){return e.some(e=>!Bn(e)||e.type!==Rn&&!(e.type===Cn&&!Pe(e.children)))?e:null}function Me(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:(0,a.rU)(r)]=e[r];return n}const We=e=>e?lr(e)?yr(e):We(e.parent):null,Fe=(0,a.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>We(e.parent),$root:e=>We(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>et(e),$forceUpdate:e=>e.f||(e.f=()=>{y(e.update)}),$nextTick:e=>e.n||(e.n=m.bind(e.proxy)),$watch:e=>Qt.bind(e)}),Ue=(e,t)=>e!==a.MZ&&!e.__isScriptSetup&&(0,a.$3)(e,t),je={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:o,data:i,props:s,accessCache:l,type:u,appContext:c}=e;let d;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Ue(o,t))return l[t]=1,o[t];if(i!==a.MZ&&(0,a.$3)(i,t))return l[t]=2,i[t];if((d=e.propsOptions[0])&&(0,a.$3)(d,t))return l[t]=3,s[t];if(n!==a.MZ&&(0,a.$3)(n,t))return l[t]=4,n[t];qe&&(l[t]=0)}}const h=Fe[t];let p,f;return h?("$attrs"===t&&(0,r.u4)(e.attrs,"get",""),h(e)):(p=u.__cssModules)&&(p=p[t])?p:n!==a.MZ&&(0,a.$3)(n,t)?(l[t]=4,n[t]):(f=c.config.globalProperties,(0,a.$3)(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return Ue(o,t)?(o[t]=n,!0):r!==a.MZ&&(0,a.$3)(r,t)?(r[t]=n,!0):!(0,a.$3)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let l;return!!n[s]||e!==a.MZ&&(0,a.$3)(e,s)||Ue(t,s)||(l=i[0])&&(0,a.$3)(l,s)||(0,a.$3)(r,s)||(0,a.$3)(Fe,s)||(0,a.$3)(o.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,a.$3)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ze(){return Ge().slots}function Ke(){return Ge().attrs}function Ge(){const e=rr();return e.setupContext||(e.setupContext=gr(e))}function Xe(e){return(0,a.cy)(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}function He(e,t){const n=Xe(e);for(const r in t){if(r.startsWith("__skip"))continue;let e=n[r];e?(0,a.cy)(e)||(0,a.Tn)(e)?e=n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(e=n[r]={default:t[r]}),e&&t[`__skip_${r}`]&&(e.skipFactory=!0)}return n}let qe=!0;function Qe(e){const t=et(e),n=e.proxy,o=e.ctx;qe=!1,t.beforeCreate&&Je(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:l,watch:u,provide:c,inject:d,created:h,beforeMount:p,mounted:f,beforeUpdate:v,updated:m,activated:g,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:E,render:k,renderTracked:C,renderTriggered:S,errorCaptured:R,serverPrefetch:T,expose:I,inheritAttrs:x,components:A,directives:V,filters:$}=t,N=null;if(d&&Ye(d,o,N),l)for(const r in l){const e=l[r];(0,a.Tn)(e)&&(o[r]=e.bind(n))}if(i){0;const t=i.call(n,n);0,(0,a.Gv)(t)&&(e.data=(0,r.Kh)(t))}if(qe=!0,s)for(const r in s){const e=s[r],t=(0,a.Tn)(e)?e.bind(n,n):(0,a.Tn)(e.get)?e.get.bind(n,n):a.tE;0;const i=!(0,a.Tn)(e)&&(0,a.Tn)(e.set)?e.set.bind(n):a.tE,l=wr({get:t,set:i});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const r in u)Ze(u[r],o,n,r);if(c){const e=(0,a.Tn)(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{ft(t,e[t])})}function L(e,t){(0,a.cy)(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(h&&Je(h,e,"c"),L(be,p),L(_e,f),L(we,v),L(Ee,m),L(de,g),L(he,y),L(Ie,R),L(Te,C),L(Re,S),L(ke,_),L(Ce,E),L(Se,T),(0,a.cy)(I))if(I.length){const t=e.exposed||(e.exposed={});I.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});k&&e.render===a.tE&&(e.render=k),null!=x&&(e.inheritAttrs=x),A&&(e.components=A),V&&(e.directives=V),T&&ie(e)}function Ye(e,t,n=a.tE){(0,a.cy)(e)&&(e=ot(e));for(const o in e){const n=e[o];let i;i=(0,a.Gv)(n)?"default"in n?vt(n.from||o,n.default,!0):vt(n.from||o):vt(n),(0,r.i9)(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[o]=i}}function Je(e,t,n){i((0,a.cy)(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ze(e,t,n,r){let o=r.includes(".")?Yt(n,r):()=>n[r];if((0,a.Kg)(e)){const n=t[e];(0,a.Tn)(n)&&Ht(o,n)}else if((0,a.Tn)(e))Ht(o,e.bind(n));else if((0,a.Gv)(e))if((0,a.cy)(e))e.forEach(e=>Ze(e,t,n,r));else{const r=(0,a.Tn)(e.handler)?e.handler.bind(n):t[e.handler];(0,a.Tn)(r)&&Ht(o,r,e)}else 0}function et(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,l=i.get(t);let u;return l?u=l:o.length||n||r?(u={},o.length&&o.forEach(e=>tt(u,e,s,!0)),tt(u,t,s)):u=t,(0,a.Gv)(t)&&i.set(t,u),u}function tt(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&tt(e,o,n,!0),a&&a.forEach(t=>tt(e,t,n,!0));for(const i in t)if(r&&"expose"===i);else{const r=nt[i]||n&&n[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const nt={data:rt,props:lt,emits:lt,methods:st,computed:st,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:st,directives:st,watch:ut,provide:rt,inject:at};function rt(e,t){return t?e?function(){return(0,a.X$)((0,a.Tn)(e)?e.call(this,this):e,(0,a.Tn)(t)?t.call(this,this):t)}:t:e}function at(e,t){return st(ot(e),ot(t))}function ot(e){if((0,a.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function st(e,t){return e?(0,a.X$)(Object.create(null),e,t):t}function lt(e,t){return e?(0,a.cy)(e)&&(0,a.cy)(t)?[...new Set([...e,...t])]:(0,a.X$)(Object.create(null),Xe(e),Xe(null!=t?t:{})):t}function ut(e,t){if(!e)return t;if(!t)return e;const n=(0,a.X$)(Object.create(null),e);for(const r in t)n[r]=it(e[r],t[r]);return n}function ct(){return{app:null,config:{isNativeTag:a.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dt=0;function ht(e,t){return function(n,r=null){(0,a.Tn)(n)||(n=(0,a.X$)({},n)),null==r||(0,a.Gv)(r)||(r=null);const o=ct(),s=new WeakSet,l=[];let u=!1;const c=o.app={_uid:dt++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:kr,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,a.Tn)(e.install)?(s.add(e),e.install(c,...t)):(0,a.Tn)(e)&&(s.add(e),e(c,...t))),c},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),c},component(e,t){return t?(o.components[e]=t,c):o.components[e]},directive(e,t){return t?(o.directives[e]=t,c):o.directives[e]},mount(a,i,s){if(!u){0;const l=c._ceVNode||Un(n,r);return l.appContext=o,!0===s?s="svg":!1===s&&(s=void 0),i&&t?t(l,a):e(l,a,s),u=!0,c._container=a,a.__vue_app__=c,yr(l.component)}},onUnmount(e){l.push(e)},unmount(){u&&(i(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return o.provides[e]=t,c},runWithContext(e){const t=pt;pt=c;try{return e()}finally{pt=t}}};return c}}let pt=null;function ft(e,t){if(nr){let n=nr.provides;const r=nr.parent&&nr.parent.provides;r===n&&(n=nr.provides=Object.create(r)),n[e]=t}else 0}function vt(e,t,n=!1){const r=nr||S;if(r||pt){let o=pt?pt._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,a.Tn)(t)?t.call(r&&r.proxy):t}else 0}const mt={},gt=()=>Object.create(mt),yt=e=>Object.getPrototypeOf(e)===mt;function bt(e,t,n,a=!1){const o={},i=gt();e.propsDefaults=Object.create(null),wt(e,t,o,i);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=a?o:(0,r.Gc)(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function _t(e,t,n,o){const{props:i,attrs:s,vnode:{patchFlag:l}}=e,u=(0,r.ux)(i),[c]=e.propsOptions;let d=!1;if(!(o||l>0)||16&l){let r;wt(e,t,i,s)&&(d=!0);for(const o in u)t&&((0,a.$3)(t,o)||(r=(0,a.Tg)(o))!==o&&(0,a.$3)(t,r))||(c?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Et(c,u,o,void 0,e,!0)):delete i[o]);if(s!==u)for(const e in s)t&&(0,a.$3)(t,e)||(delete s[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(tn(e.emitsOptions,o))continue;const l=t[o];if(c)if((0,a.$3)(s,o))l!==s[o]&&(s[o]=l,d=!0);else{const t=(0,a.PT)(o);i[t]=Et(c,u,t,l,e,!1)}else l!==s[o]&&(s[o]=l,d=!0)}}d&&(0,r.hZ)(e.attrs,"set","")}function wt(e,t,n,o){const[i,s]=e.propsOptions;let l,u=!1;if(t)for(let r in t){if((0,a.SU)(r))continue;const c=t[r];let d;i&&(0,a.$3)(i,d=(0,a.PT)(r))?s&&s.includes(d)?(l||(l={}))[d]=c:n[d]=c:tn(e.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,u=!0)}if(s){const t=(0,r.ux)(n),o=l||a.MZ;for(let r=0;r<s.length;r++){const l=s[r];n[l]=Et(i,t,l,o[l],e,!(0,a.$3)(o,l))}}return u}function Et(e,t,n,r,o,i){const s=e[n];if(null!=s){const e=(0,a.$3)(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&!s.skipFactory&&(0,a.Tn)(e)){const{propsDefaults:a}=o;if(n in a)r=a[n];else{const i=ir(o);r=a[n]=e.call(null,t),i()}}else r=e;o.ce&&o.ce._setProp(n,r)}s[0]&&(i&&!e?r=!1:!s[1]||""!==r&&r!==(0,a.Tg)(n)||(r=!0))}return r}const kt=new WeakMap;function Ct(e,t,n=!1){const r=n?kt:t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},l=[];let u=!1;if(!(0,a.Tn)(e)){const r=e=>{u=!0;const[n,r]=Ct(e,t,!0);(0,a.X$)(s,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!i&&!u)return(0,a.Gv)(e)&&r.set(e,a.Oj),a.Oj;if((0,a.cy)(i))for(let d=0;d<i.length;d++){0;const e=(0,a.PT)(i[d]);St(e)&&(s[e]=a.MZ)}else if(i){0;for(const e in i){const t=(0,a.PT)(e);if(St(t)){const n=i[e],r=s[t]=(0,a.cy)(n)||(0,a.Tn)(n)?{type:n}:(0,a.X$)({},n),o=r.type;let u=!1,c=!0;if((0,a.cy)(o))for(let e=0;e<o.length;++e){const t=o[e],n=(0,a.Tn)(t)&&t.name;if("Boolean"===n){u=!0;break}"String"===n&&(c=!1)}else u=(0,a.Tn)(o)&&"Boolean"===o.name;r[0]=u,r[1]=c,(u||(0,a.$3)(r,"default"))&&l.push(t)}}}const c=[s,l];return(0,a.Gv)(e)&&r.set(e,c),c}function St(e){return"$"!==e[0]&&!(0,a.SU)(e)}const Rt=e=>"_"===e[0]||"$stable"===e,Tt=e=>(0,a.cy)(e)?e.map(Hn):[Hn(e)],It=(e,t,n)=>{if(t._n)return t;const r=I((...e)=>Tt(t(...e)),n);return r._c=!1,r},xt=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Rt(o))continue;const n=e[o];if((0,a.Tn)(n))t[o]=It(o,n,r);else if(null!=n){0;const e=Tt(n);t[o]=()=>e}}},At=(e,t)=>{const n=Tt(t);e.slots.default=()=>n},Vt=(e,t,n)=>{for(const r in t)!n&&Rt(r)||(e[r]=t[r])},$t=(e,t,n)=>{const r=e.slots=gt();if(32&e.vnode.shapeFlag){const e=t.__;e&&(0,a.yQ)(r,"__",e,!0);const o=t._;o?(Vt(r,t,n),n&&(0,a.yQ)(r,"_",o,!0)):xt(t,r)}else t&&At(e,t)},Nt=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=a.MZ;if(32&r.shapeFlag){const e=t._;e?n&&1===e?i=!1:Vt(o,t,n):(i=!t.$stable,xt(t,o)),s=t}else t&&(At(e,t),s={default:1});if(i)for(const a in o)Rt(a)||null!=s[a]||delete o[a]};function Lt(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,a.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Ot=wn;function Dt(e){return Bt(e)}function Bt(e,t){Lt();const n=(0,a.We)();n.__VUE__=!0;const{insert:o,remove:i,patchProp:s,createElement:l,createText:u,createComment:c,setText:d,setElementText:h,parentNode:p,nextSibling:f,setScopeId:v=a.tE,insertStaticContent:m}=e,g=(e,t,n,r=null,a=null,o=null,i=void 0,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Pn(e,t)&&(r=Q(e),K(e,a,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case Sn:b(e,t,n,r);break;case Rn:_(e,t,n,r);break;case Tn:null==e&&k(t,n,r,i);break;case Cn:O(e,t,n,r,a,o,i,s,l);break;default:1&d?R(e,t,n,r,a,o,i,s,l):6&d?D(e,t,n,r,a,o,i,s,l):(64&d||128&d)&&u.process(e,t,n,r,a,o,i,s,l,Z)}null!=c&&a?se(c,e&&e.ref,o,t||e,!t):null==c&&e&&null!=e.ref&&se(e.ref,null,o,e,!0)},b=(e,t,n,r)=>{if(null==e)o(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},_=(e,t,n,r)=>{null==e?o(t.el=c(t.children||""),n,r):t.el=e.el},k=(e,t,n,r)=>{[e.el,e.anchor]=m(e.children,t,n,r,e.el,e.anchor)},C=({el:e,anchor:t},n,r)=>{let a;while(e&&e!==t)a=f(e),o(e,n,r),e=a;o(t,n,r)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=f(e),i(e),e=n;i(t)},R=(e,t,n,r,a,o,i,s,l)=>{"svg"===t.type?i="svg":"math"===t.type&&(i="mathml"),null==e?T(t,n,r,a,o,i,s,l):$(e,t,a,o,i,s,l)},T=(e,t,n,r,i,u,c,d)=>{let p,f;const{props:v,shapeFlag:m,transition:g,dirs:y}=e;if(p=e.el=l(e.type,u,v&&v.is,v),8&m?h(p,e.children):16&m&&x(e.children,p,null,r,i,Pt(e,u),c,d),y&&A(e,null,r,"created"),I(p,e,e.scopeId,c,r),v){for(const e in v)"value"===e||(0,a.SU)(e)||s(p,e,null,v[e],u,r);"value"in v&&s(p,"value",null,v.value,u),(f=v.onVnodeBeforeMount)&&Jn(f,r,e)}y&&A(e,null,r,"beforeMount");const b=Wt(i,g);b&&g.beforeEnter(p),o(p,t,n),((f=v&&v.onVnodeMounted)||b||y)&&Ot(()=>{f&&Jn(f,r,e),b&&g.enter(p),y&&A(e,null,r,"mounted")},i)},I=(e,t,n,r,a)=>{if(n&&v(e,n),r)for(let o=0;o<r.length;o++)v(e,r[o]);if(a){let n=a.subTree;if(t===n||cn(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=a.vnode;I(e,t,t.scopeId,t.slotScopeIds,a.parent)}}},x=(e,t,n,r,a,o,i,s,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=s?qn(e[u]):Hn(e[u]);g(null,l,t,n,r,a,o,i,s)}},$=(e,t,n,r,o,i,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:p}=t;c|=16&e.patchFlag;const f=e.props||a.MZ,v=t.props||a.MZ;let m;if(n&&Mt(n,!1),(m=v.onVnodeBeforeUpdate)&&Jn(m,n,t,e),p&&A(t,e,n,"beforeUpdate"),n&&Mt(n,!0),(f.innerHTML&&null==v.innerHTML||f.textContent&&null==v.textContent)&&h(u,""),d?N(e.dynamicChildren,d,u,n,r,Pt(t,o),i):l||F(e,t,u,null,n,r,Pt(t,o),i,!1),c>0){if(16&c)L(u,f,v,n,o);else if(2&c&&f.class!==v.class&&s(u,"class",null,v.class,o),4&c&&s(u,"style",f.style,v.style,o),8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t],a=f[r],i=v[r];i===a&&"value"!==r||s(u,r,a,i,o,n)}}1&c&&e.children!==t.children&&h(u,t.children)}else l||null!=d||L(u,f,v,n,o);((m=v.onVnodeUpdated)||p)&&Ot(()=>{m&&Jn(m,n,t,e),p&&A(t,e,n,"updated")},r)},N=(e,t,n,r,a,o,i)=>{for(let s=0;s<t.length;s++){const l=e[s],u=t[s],c=l.el&&(l.type===Cn||!Pn(l,u)||198&l.shapeFlag)?p(l.el):n;g(l,u,c,null,r,a,o,i,!0)}},L=(e,t,n,r,o)=>{if(t!==n){if(t!==a.MZ)for(const i in t)(0,a.SU)(i)||i in n||s(e,i,t[i],null,o,r);for(const i in n){if((0,a.SU)(i))continue;const l=n[i],u=t[i];l!==u&&"value"!==i&&s(e,i,u,l,o,r)}"value"in n&&s(e,"value",t.value,n.value,o)}},O=(e,t,n,r,a,i,s,l,c)=>{const d=t.el=e?e.el:u(""),h=t.anchor=e?e.anchor:u("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:v}=t;v&&(l=l?l.concat(v):v),null==e?(o(d,n,r),o(h,n,r),x(t.children||[],n,h,a,i,s,l,c)):p>0&&64&p&&f&&e.dynamicChildren?(N(e.dynamicChildren,f,n,a,i,s,l),(null!=t.key||a&&t===a.subTree)&&Ft(e,t,!0)):F(e,t,n,h,a,i,s,l,c)},D=(e,t,n,r,a,o,i,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?a.ctx.activate(t,n,r,i,l):B(t,n,r,a,o,i,l):P(e,t,l)},B=(e,t,n,r,a,o,i)=>{const s=e.component=tr(e,r,a);if(ue(e)&&(s.ctx.renderer=Z),hr(s,!1,i),s.asyncDep){if(a&&a.registerDep(s,M,i),!e.el){const e=s.subTree=Un(Rn);_(null,e,t,n)}}else M(s,e,t,n,a,o,i)},P=(e,t,n)=>{const r=t.component=e.component;if(sn(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void W(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},M=(e,t,n,o,i,s,l)=>{const u=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:o,vnode:c}=e;{const n=jt(e);if(n)return t&&(t.el=c.el,W(e,t,l)),void n.asyncDep.then(()=>{e.isUnmounted||u()})}let d,h=t;0,Mt(e,!1),t?(t.el=c.el,W(e,t,l)):t=c,n&&(0,a.DY)(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&Jn(d,o,t,c),Mt(e,!0);const f=nn(e);0;const v=e.subTree;e.subTree=f,g(v,f,p(v.el),Q(v),e,i,s),t.el=f.el,null===h&&un(e,f.el),r&&Ot(r,i),(d=t.props&&t.props.onVnodeUpdated)&&Ot(()=>Jn(d,o,t,c),i)}else{let r;const{el:l,props:u}=t,{bm:c,m:d,parent:h,root:p,type:f}=e,v=le(t);if(Mt(e,!1),c&&(0,a.DY)(c),!v&&(r=u&&u.onVnodeBeforeMount)&&Jn(r,h,t),Mt(e,!0),l&&te){const t=()=>{e.subTree=nn(e),te(l,e.subTree,e,i,null)};v&&f.__asyncHydrate?f.__asyncHydrate(l,e,t):t()}else{p.ce&&!1!==p.ce._def.shadowRoot&&p.ce._injectChildStyle(f);const r=e.subTree=nn(e);0,g(null,r,n,o,e,i,s),t.el=r.el}if(d&&Ot(d,i),!v&&(r=u&&u.onVnodeMounted)){const e=t;Ot(()=>Jn(r,h,e),i)}(256&t.shapeFlag||h&&le(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&Ot(e.a,i),e.isMounted=!0,t=n=o=null}};e.scope.on();const c=e.effect=new r.X2(u);e.scope.off();const d=e.update=c.run.bind(c),h=e.job=c.runIfDirty.bind(c);h.i=e,h.id=e.uid,c.scheduler=()=>y(h),Mt(e,!0),d()},W=(e,t,n)=>{t.component=e;const a=e.vnode.props;e.vnode=t,e.next=null,_t(e,t.props,a,n),Nt(e,t.children,n),(0,r.C4)(),w(e),(0,r.bl)()},F=(e,t,n,r,a,o,i,s,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void j(u,d,n,r,a,o,i,s,l);if(256&p)return void U(u,d,n,r,a,o,i,s,l)}8&f?(16&c&&q(u,a,o),d!==u&&h(n,d)):16&c?16&f?j(u,d,n,r,a,o,i,s,l):q(u,a,o,!0):(8&c&&h(n,""),16&f&&x(d,n,r,a,o,i,s,l))},U=(e,t,n,r,o,i,s,l,u)=>{e=e||a.Oj,t=t||a.Oj;const c=e.length,d=t.length,h=Math.min(c,d);let p;for(p=0;p<h;p++){const r=t[p]=u?qn(t[p]):Hn(t[p]);g(e[p],r,n,null,o,i,s,l,u)}c>d?q(e,o,i,!0,!1,h):x(t,n,r,o,i,s,l,u,h)},j=(e,t,n,r,o,i,s,l,u)=>{let c=0;const d=t.length;let h=e.length-1,p=d-1;while(c<=h&&c<=p){const r=e[c],a=t[c]=u?qn(t[c]):Hn(t[c]);if(!Pn(r,a))break;g(r,a,n,null,o,i,s,l,u),c++}while(c<=h&&c<=p){const r=e[h],a=t[p]=u?qn(t[p]):Hn(t[p]);if(!Pn(r,a))break;g(r,a,n,null,o,i,s,l,u),h--,p--}if(c>h){if(c<=p){const e=p+1,a=e<d?t[e].el:r;while(c<=p)g(null,t[c]=u?qn(t[c]):Hn(t[c]),n,a,o,i,s,l,u),c++}}else if(c>p)while(c<=h)K(e[c],o,i,!0),c++;else{const f=c,v=c,m=new Map;for(c=v;c<=p;c++){const e=t[c]=u?qn(t[c]):Hn(t[c]);null!=e.key&&m.set(e.key,c)}let y,b=0;const _=p-v+1;let w=!1,E=0;const k=new Array(_);for(c=0;c<_;c++)k[c]=0;for(c=f;c<=h;c++){const r=e[c];if(b>=_){K(r,o,i,!0);continue}let a;if(null!=r.key)a=m.get(r.key);else for(y=v;y<=p;y++)if(0===k[y-v]&&Pn(r,t[y])){a=y;break}void 0===a?K(r,o,i,!0):(k[a-v]=c+1,a>=E?E=a:w=!0,g(r,t[a],n,null,o,i,s,l,u),b++)}const C=w?Ut(k):a.Oj;for(y=C.length-1,c=_-1;c>=0;c--){const e=v+c,a=t[e],h=e+1<d?t[e+1].el:r;0===k[c]?g(null,a,n,h,o,i,s,l,u):w&&(y<0||c!==C[y]?z(a,n,h,2):y--)}}},z=(e,t,n,r,a=null)=>{const{el:s,type:l,transition:u,children:c,shapeFlag:d}=e;if(6&d)return void z(e.component.subTree,t,n,r);if(128&d)return void e.suspense.move(t,n,r);if(64&d)return void l.move(e,t,n,Z);if(l===Cn){o(s,t,n);for(let e=0;e<c.length;e++)z(c[e],t,n,r);return void o(e.anchor,t,n)}if(l===Tn)return void C(e,t,n);const h=2!==r&&1&d&&u;if(h)if(0===r)u.beforeEnter(s),o(s,t,n),Ot(()=>u.enter(s),a);else{const{leave:r,delayLeave:a,afterLeave:l}=u,c=()=>{e.ctx.isUnmounted?i(s):o(s,t,n)},d=()=>{r(s,()=>{c(),l&&l()})};a?a(s,c,d):d()}else o(s,t,n)},K=(e,t,n,a=!1,o=!1)=>{const{type:i,props:s,ref:l,children:u,dynamicChildren:c,shapeFlag:d,patchFlag:h,dirs:p,cacheIndex:f}=e;if(-2===h&&(o=!1),null!=l&&((0,r.C4)(),se(l,null,n,e,!0),(0,r.bl)()),null!=f&&(t.renderCache[f]=void 0),256&d)return void t.ctx.deactivate(e);const v=1&d&&p,m=!le(e);let g;if(m&&(g=s&&s.onVnodeBeforeUnmount)&&Jn(g,t,e),6&d)H(e.component,n,a);else{if(128&d)return void e.suspense.unmount(n,a);v&&A(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,n,Z,a):c&&!c.hasOnce&&(i!==Cn||h>0&&64&h)?q(c,t,n,!1,!0):(i===Cn&&384&h||!o&&16&d)&&q(u,t,n),a&&G(e)}(m&&(g=s&&s.onVnodeUnmounted)||v)&&Ot(()=>{g&&Jn(g,t,e),v&&A(e,null,t,"unmounted")},n)},G=e=>{const{type:t,el:n,anchor:r,transition:a}=e;if(t===Cn)return void X(n,r);if(t===Tn)return void S(e);const o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){const{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},X=(e,t)=>{let n;while(e!==t)n=f(e),i(e),e=n;i(t)},H=(e,t,n)=>{const{bum:r,scope:o,job:i,subTree:s,um:l,m:u,a:c,parent:d,slots:{__:h}}=e;zt(u),zt(c),r&&(0,a.DY)(r),d&&(0,a.cy)(h)&&h.forEach(e=>{d.renderCache[e]=void 0}),o.stop(),i&&(i.flags|=8,K(s,e,t,n)),l&&Ot(l,t),Ot(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},q=(e,t,n,r=!1,a=!1,o=0)=>{for(let i=o;i<e.length;i++)K(e[i],t,n,r,a)},Q=e=>{if(6&e.shapeFlag)return Q(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=f(e.anchor||e.el),n=t&&t[V];return n?f(n):t};let Y=!1;const J=(e,t,n)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,n),t._vnode=e,Y||(Y=!0,w(),E(),Y=!1)},Z={p:g,um:K,m:z,r:G,mt:B,mc:x,pc:F,pbc:N,n:Q,o:e};let ee,te;return t&&([ee,te]=t(Z)),{render:J,hydrate:ee,createApp:ht(J,ee)}}function Pt({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Mt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Wt(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ft(e,t,n=!1){const r=e.children,o=t.children;if((0,a.cy)(r)&&(0,a.cy)(o))for(let a=0;a<r.length;a++){const e=r[a];let t=o[a];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[a]=qn(o[a]),t.el=e.el),n||-2===t.patchFlag||Ft(e,t)),t.type===Sn&&(t.el=e.el),t.type!==Rn||t.el||(t.el=e.el)}}function Ut(e){const t=e.slice(),n=[0];let r,a,o,i,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(a=n[n.length-1],e[a]<l){t[r]=a,n.push(r);continue}o=0,i=n.length-1;while(o<i)s=o+i>>1,e[n[s]]<l?o=s+1:i=s;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,i=n[o-1];while(o-- >0)n[o]=i,i=t[i];return n}function jt(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:jt(t)}function zt(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Kt=Symbol.for("v-scx"),Gt=()=>{{const e=vt(Kt);return e}};function Xt(e,t){return qt(e,null,t)}function Ht(e,t,n){return qt(e,t,n)}function qt(e,t,n=a.MZ){const{immediate:o,deep:s,flush:l,once:u}=n;const c=(0,a.X$)({},n);const d=t&&o||!t&&"post"!==l;let h;if(dr)if("sync"===l){const e=Gt();h=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=a.tE,e.resume=a.tE,e.pause=a.tE,e}const p=nr;c.call=(e,t,n)=>i(e,p,t,n);let f=!1;"post"===l?c.scheduler=e=>{Ot(e,p&&p.suspense)}:"sync"!==l&&(f=!0,c.scheduler=(e,t)=>{t?e():y(e)}),c.augmentJob=e=>{t&&(e.flags|=4),f&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const v=(0,r.wB)(e,t,c);return dr&&(h?h.push(v):d&&v()),v}function Qt(e,t,n){const r=this.proxy,o=(0,a.Kg)(e)?e.includes(".")?Yt(r,e):()=>r[e]:e.bind(r,r);let i;(0,a.Tn)(t)?i=t:(i=t.handler,n=t);const s=ir(this),l=qt(o,i.bind(r),n);return s(),l}function Yt(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const Jt=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${(0,a.PT)(t)}Modifiers`]||e[`${(0,a.Tg)(t)}Modifiers`];function Zt(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||a.MZ;let o=n;const s=t.startsWith("update:"),l=s&&Jt(r,t.slice(7));let u;l&&(l.trim&&(o=n.map(e=>(0,a.Kg)(e)?e.trim():e)),l.number&&(o=n.map(a.bB)));let c=r[u=(0,a.rU)(t)]||r[u=(0,a.rU)((0,a.PT)(t))];!c&&s&&(c=r[u=(0,a.rU)((0,a.Tg)(t))]),c&&i(c,e,6,o);const d=r[u+"Once"];if(d){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,i(d,e,6,o)}}function en(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const i=e.emits;let s={},l=!1;if(!(0,a.Tn)(e)){const r=e=>{const n=en(e,t,!0);n&&(l=!0,(0,a.X$)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||l?((0,a.cy)(i)?i.forEach(e=>s[e]=null):(0,a.X$)(s,i),(0,a.Gv)(e)&&r.set(e,s),s):((0,a.Gv)(e)&&r.set(e,null),null)}function tn(e,t){return!(!e||!(0,a.Mp)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,a.$3)(e,t[0].toLowerCase()+t.slice(1))||(0,a.$3)(e,(0,a.Tg)(t))||(0,a.$3)(e,t))}function nn(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:l,attrs:u,emit:c,render:d,renderCache:h,props:p,data:f,setupState:v,ctx:m,inheritAttrs:g}=e,y=T(e);let b,_;try{if(4&n.shapeFlag){const e=o||r,t=e;b=Hn(d.call(t,e,h,p,v,f,m)),_=u}else{const e=t;0,b=Hn(e.length>1?e(p,{attrs:u,slots:l,emit:c}):e(p,null)),_=t.props?u:an(u)}}catch(E){In.length=0,s(E,e,1),b=Un(Rn)}let w=b;if(_&&!1!==g){const e=Object.keys(_),{shapeFlag:t}=w;e.length&&7&t&&(i&&e.some(a.CP)&&(_=on(_,i)),w=Kn(w,_,!1,!0))}return n.dirs&&(w=Kn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&re(w,n.transition),b=w,T(y),b}function rn(e,t=!0){let n;for(let r=0;r<e.length;r++){const t=e[r];if(!Bn(t))return;if(t.type!==Rn||"v-if"===t.children){if(n)return;n=t}}return n}const an=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,a.Mp)(n))&&((t||(t={}))[n]=e[n]);return t},on=(e,t)=>{const n={};for(const r in e)(0,a.CP)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function sn(e,t,n){const{props:r,children:a,component:o}=e,{props:i,children:s,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!a&&!s||s&&s.$stable)||r!==i&&(r?!i||ln(r,i,u):!!i);if(1024&l)return!0;if(16&l)return r?ln(r,i,u):!!i;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(i[n]!==r[n]&&!tn(u,n))return!0}}return!1}function ln(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!tn(n,o))return!0}return!1}function un({vnode:e,parent:t},n){while(t){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const cn=e=>e.__isSuspense;let dn=0;const hn={name:"Suspense",__isSuspense:!0,process(e,t,n,r,a,o,i,s,l,u){if(null==e)vn(t,n,r,a,o,i,s,l,u);else{if(o&&o.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);mn(e,t,n,r,a,i,s,l,u)}},hydrate:yn,normalize:bn},pn=hn;function fn(e,t){const n=e.props&&e.props[t];(0,a.Tn)(n)&&n()}function vn(e,t,n,r,a,o,i,s,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=e.suspense=gn(e,a,r,t,d,n,o,i,s,l);u(null,h.pendingBranch=e.ssContent,d,null,r,h,o,i),h.deps>0?(fn(e,"onPending"),fn(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,o,i),En(h,e.ssFallback)):h.resolve(!1,!0)}function mn(e,t,n,r,a,o,i,s,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const h=t.ssContent,p=t.ssFallback,{activeBranch:f,pendingBranch:v,isInFallback:m,isHydrating:g}=d;if(v)d.pendingBranch=h,Pn(h,v)?(l(v,h,d.hiddenContainer,null,a,d,o,i,s),d.deps<=0?d.resolve():m&&(g||(l(f,p,n,r,a,null,o,i,s),En(d,p)))):(d.pendingId=dn++,g?(d.isHydrating=!1,d.activeBranch=v):u(v,a,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),m?(l(null,h,d.hiddenContainer,null,a,d,o,i,s),d.deps<=0?d.resolve():(l(f,p,n,r,a,null,o,i,s),En(d,p))):f&&Pn(h,f)?(l(f,h,n,r,a,d,o,i,s),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,a,d,o,i,s),d.deps<=0&&d.resolve()));else if(f&&Pn(h,f))l(f,h,n,r,a,d,o,i,s),En(d,h);else if(fn(t,"onPending"),d.pendingBranch=h,512&h.shapeFlag?d.pendingId=h.component.suspenseId:d.pendingId=dn++,l(null,h,d.hiddenContainer,null,a,d,o,i,s),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout(()=>{d.pendingId===t&&d.fallback(p)},e):0===e&&d.fallback(p)}}function gn(e,t,n,r,o,i,l,u,c,d,h=!1){const{p,m:f,um:v,n:m,o:{parentNode:g,remove:y}}=d;let b;const w=kn(e);w&&t&&t.pendingBranch&&(b=t.pendingId,t.deps++);const E=e.props?(0,a.Ro)(e.props.timeout):void 0;const k=i,C={vnode:e,parent:t,parentComponent:n,namespace:l,container:r,hiddenContainer:o,deps:0,pendingId:dn++,timeout:"number"===typeof E?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:a,pendingBranch:o,pendingId:s,effects:l,parentComponent:u,container:c}=C;let d=!1;C.isHydrating?C.isHydrating=!1:e||(d=a&&o.transition&&"out-in"===o.transition.mode,d&&(a.transition.afterLeave=()=>{s===C.pendingId&&(f(o,c,i===k?m(a):i,0),_(l))}),a&&(g(a.el)===c&&(i=m(a)),v(a,u,C,!0)),d||f(o,c,i,0)),En(C,o),C.pendingBranch=null,C.isInFallback=!1;let h=C.parent,p=!1;while(h){if(h.pendingBranch){h.effects.push(...l),p=!0;break}h=h.parent}p||d||_(l),C.effects=[],w&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),fn(r,"onResolve")},fallback(e){if(!C.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:a,namespace:o}=C;fn(t,"onFallback");const i=m(n),s=()=>{C.isInFallback&&(p(null,e,a,i,r,null,o,u,c),En(C,e))},l=e.transition&&"out-in"===e.transition.mode;l&&(n.transition.afterLeave=s),C.isInFallback=!0,v(n,r,null,!0),l||s()},move(e,t,n){C.activeBranch&&f(C.activeBranch,e,t,n),C.container=e},next(){return C.activeBranch&&m(C.activeBranch)},registerDep(e,t,n){const r=!!C.pendingBranch;r&&C.deps++;const a=e.vnode.el;e.asyncDep.catch(t=>{s(t,e,0)}).then(o=>{if(e.isUnmounted||C.isUnmounted||C.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:i}=e;fr(e,o,!1),a&&(i.el=a);const s=!a&&e.subTree.el;t(e,i,g(a||e.subTree.el),a?null:m(e.subTree),C,l,n),s&&y(s),un(e,i.el),r&&0===--C.deps&&C.resolve()})},unmount(e,t){C.isUnmounted=!0,C.activeBranch&&v(C.activeBranch,n,e,t),C.pendingBranch&&v(C.pendingBranch,n,e,t)}};return C}function yn(e,t,n,r,a,o,i,s,l){const u=t.suspense=gn(t,r,n,e.parentNode,document.createElement("div"),null,a,o,i,s,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,o,i);return 0===u.deps&&u.resolve(!1,!0),c}function bn(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=_n(r?n.default:n),e.ssFallback=r?_n(n.fallback):Un(Rn)}function _n(e){let t;if((0,a.Tn)(e)){const n=$n&&e._c;n&&(e._d=!1,An()),e=e(),n&&(e._d=!0,t=xn,Vn())}if((0,a.cy)(e)){const t=rn(e);0,e=t}return e=Hn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function wn(e,t){t&&t.pendingBranch?(0,a.cy)(e)?t.effects.push(...e):t.effects.push(e):_(e)}function En(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let a=t.el;while(!a&&t.component)t=t.component.subTree,a=t.el;n.el=a,r&&r.subTree===n&&(r.vnode.el=a,un(r,a))}function kn(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}const Cn=Symbol.for("v-fgt"),Sn=Symbol.for("v-txt"),Rn=Symbol.for("v-cmt"),Tn=Symbol.for("v-stc"),In=[];let xn=null;function An(e=!1){In.push(xn=e?null:[])}function Vn(){In.pop(),xn=In[In.length-1]||null}let $n=1;function Nn(e,t=!1){$n+=e,e<0&&xn&&t&&(xn.hasOnce=!0)}function Ln(e){return e.dynamicChildren=$n>0?xn||a.Oj:null,Vn(),$n>0&&xn&&xn.push(e),e}function On(e,t,n,r,a,o){return Ln(Fn(e,t,n,r,a,o,!0))}function Dn(e,t,n,r,a){return Ln(Un(e,t,n,r,a,!0))}function Bn(e){return!!e&&!0===e.__v_isVNode}function Pn(e,t){return e.type===t.type&&e.key===t.key}const Mn=({key:e})=>null!=e?e:null,Wn=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,a.Kg)(e)||(0,r.i9)(e)||(0,a.Tn)(e)?{i:S,r:e,k:t,f:!!n}:e:null);function Fn(e,t=null,n=null,r=0,o=null,i=(e===Cn?0:1),s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mn(t),ref:t&&Wn(t),scopeId:R,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:S};return l?(Qn(u,n),128&i&&e.normalize(u)):n&&(u.shapeFlag|=(0,a.Kg)(n)?8:16),$n>0&&!s&&xn&&(u.patchFlag>0||6&i)&&32!==u.patchFlag&&xn.push(u),u}const Un=jn;function jn(e,t=null,n=null,o=0,i=null,s=!1){if(e&&e!==Ve||(e=Rn),Bn(e)){const r=Kn(e,t,!0);return n&&Qn(r,n),$n>0&&!s&&xn&&(6&r.shapeFlag?xn[xn.indexOf(e)]=r:xn.push(r)),r.patchFlag=-2,r}if(_r(e)&&(e=e.__vccOpts),t){t=zn(t);let{class:e,style:n}=t;e&&!(0,a.Kg)(e)&&(t.class=(0,a.C4)(e)),(0,a.Gv)(n)&&((0,r.ju)(n)&&!(0,a.cy)(n)&&(n=(0,a.X$)({},n)),t.style=(0,a.Tr)(n))}const l=(0,a.Kg)(e)?1:cn(e)?128:$(e)?64:(0,a.Gv)(e)?4:(0,a.Tn)(e)?2:0;return Fn(e,t,n,o,i,l,s,!0)}function zn(e){return e?(0,r.ju)(e)||yt(e)?(0,a.X$)({},e):e:null}function Kn(e,t,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:l,transition:u}=e,c=t?Yn(o||{},t):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Mn(c),ref:t&&t.ref?n&&i?(0,a.cy)(i)?i.concat(Wn(t)):[i,Wn(t)]:Wn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Cn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kn(e.ssContent),ssFallback:e.ssFallback&&Kn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&re(d,u.clone(d)),d}function Gn(e=" ",t=0){return Un(Sn,null,e,t)}function Xn(e="",t=!1){return t?(An(),Dn(Rn,null,e)):Un(Rn,null,e)}function Hn(e){return null==e||"boolean"===typeof e?Un(Rn):(0,a.cy)(e)?Un(Cn,null,e.slice()):Bn(e)?qn(e):Un(Sn,null,String(e))}function qn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Kn(e)}function Qn(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,a.cy)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Qn(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||yt(t)?3===r&&S&&(1===S.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=S}}else(0,a.Tn)(t)?(t={default:t,_ctx:S},n=32):(t=String(t),64&r?(n=16,t=[Gn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,a.C4)([t.class,r.class]));else if("style"===e)t.style=(0,a.Tr)([t.style,r.style]);else if((0,a.Mp)(e)){const n=t[e],o=r[e];!o||n===o||(0,a.cy)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function Jn(e,t,n,r=null){i(e,t,7,[n,r])}const Zn=ct();let er=0;function tr(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||Zn,s={uid:er++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new r.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ct(o,i),emitsOptions:en(o,i),emit:null,emitted:null,propsDefaults:a.MZ,inheritAttrs:o.inheritAttrs,ctx:a.MZ,data:a.MZ,props:a.MZ,attrs:a.MZ,slots:a.MZ,refs:a.MZ,setupState:a.MZ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Zt.bind(null,s),e.ce&&e.ce(s),s}let nr=null;const rr=()=>nr||S;let ar,or;{const e=(0,a.We)(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};ar=t("__VUE_INSTANCE_SETTERS__",e=>nr=e),or=t("__VUE_SSR_SETTERS__",e=>dr=e)}const ir=e=>{const t=nr;return ar(e),e.scope.on(),()=>{e.scope.off(),ar(t)}},sr=()=>{nr&&nr.scope.off(),ar(null)};function lr(e){return 4&e.vnode.shapeFlag}let ur,cr,dr=!1;function hr(e,t=!1,n=!1){t&&or(t);const{props:r,children:a}=e.vnode,o=lr(e);bt(e,r,o,t),$t(e,a,n||t);const i=o?pr(e,t):void 0;return t&&or(!1),i}function pr(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,je);const{setup:i}=n;if(i){(0,r.C4)();const n=e.setupContext=i.length>1?gr(e):null,l=ir(e),u=o(i,e,0,[e.props,n]),c=(0,a.yL)(u);if((0,r.bl)(),l(),!c&&!e.sp||le(e)||ie(e),c){if(u.then(sr,sr),t)return u.then(n=>{fr(e,n,t)}).catch(t=>{s(t,e,0)});e.asyncDep=u}else fr(e,u,t)}else vr(e,t)}function fr(e,t,n){(0,a.Tn)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,a.Gv)(t)&&(e.setupState=(0,r.Pr)(t)),vr(e,n)}function vr(e,t,n){const o=e.type;if(!e.render){if(!t&&ur&&!o.render){const t=o.template||et(e).template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:i,compilerOptions:s}=o,l=(0,a.X$)((0,a.X$)({isCustomElement:n,delimiters:i},r),s);o.render=ur(t,l)}}e.render=o.render||a.tE,cr&&cr(e)}{const t=ir(e);(0,r.C4)();try{Qe(e)}finally{(0,r.bl)(),t()}}}const mr={get(e,t){return(0,r.u4)(e,"get",""),e[t]}};function gr(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,mr),slots:e.slots,emit:e.emit,expose:t}}function yr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy((0,r.Pr)((0,r.IG)(e.exposed)),{get(t,n){return n in t?t[n]:n in Fe?Fe[n](e):void 0},has(e,t){return t in e||t in Fe}})):e.proxy}function br(e,t=!0){return(0,a.Tn)(e)?e.displayName||e.name:e.name||t&&e.__name}function _r(e){return(0,a.Tn)(e)&&"__vccOpts"in e}const wr=(e,t)=>{const n=(0,r.EW)(e,t,dr);return n};function Er(e,t,n){const r=arguments.length;return 2===r?(0,a.Gv)(t)&&!(0,a.cy)(t)?Bn(t)?Un(e,null,[t]):Un(e,t):Un(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Bn(n)&&(n=[n]),Un(e,t,n))}const kr="3.5.17"},751:(e,t,n)=>{n.d(t,{D$:()=>Me,Ef:()=>Ge,F:()=>ge,Jo:()=>Re,XX:()=>Ke,aG:()=>P,eB:()=>_,hp:()=>Le,jR:()=>Fe});var r=n(641),a=n(33),o=n(953);
/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let i;const s="undefined"!==typeof window&&window.trustedTypes;if(s)try{i=s.createPolicy("vue",{createHTML:e=>e})}catch(qe){}const l=i?e=>i.createHTML(e):e=>e,u="http://www.w3.org/2000/svg",c="http://www.w3.org/1998/Math/MathML",d="undefined"!==typeof document?document:null,h=d&&d.createElement("template"),p={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a="svg"===t?d.createElementNS(u,e):"mathml"===t?d.createElementNS(c,e):n?d.createElement(e,{is:n}):d.createElement(e);return"select"===e&&r&&null!=r.multiple&&a.setAttribute("multiple",r.multiple),a},createText:e=>d.createTextNode(e),createComment:e=>d.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>d.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const i=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling)){while(1)if(t.insertBefore(a.cloneNode(!0),n),a===o||!(a=a.nextSibling))break}else{h.innerHTML=l("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);const a=h.content;if("svg"===r||"mathml"===r){const e=a.firstChild;while(e.firstChild)a.appendChild(e.firstChild);a.removeChild(e)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},f="transition",v="animation",m=Symbol("_vtc"),g={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},y=(0,a.X$)({},r.QP,g),b=e=>(e.displayName="Transition",e.props=y,e),_=b((e,{slots:t})=>(0,r.h)(r.pR,k(e),t)),w=(e,t=[])=>{(0,a.cy)(e)?e.forEach(e=>e(...t)):e&&e(...t)},E=e=>!!e&&((0,a.cy)(e)?e.some(e=>e.length>1):e.length>1);function k(e){const t={};for(const a in e)a in g||(t[a]=e[a]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:c=s,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,v=C(o),m=v&&v[0],y=v&&v[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:k,onLeave:S,onLeaveCancelled:x,onBeforeAppear:V=b,onAppear:$=_,onAppearCancelled:N=k}=t,O=(e,t,n,r)=>{e._enterCancelled=r,T(e,t?d:l),T(e,t?c:s),n&&n()},D=(e,t)=>{e._isLeaving=!1,T(e,h),T(e,f),T(e,p),t&&t()},B=e=>(t,n)=>{const a=e?$:_,o=()=>O(t,e,n);w(a,[t,o]),I(()=>{T(t,e?u:i),R(t,e?d:l),E(a)||A(t,r,m,o)})};return(0,a.X$)(t,{onBeforeEnter(e){w(b,[e]),R(e,i),R(e,s)},onBeforeAppear(e){w(V,[e]),R(e,u),R(e,c)},onEnter:B(!1),onAppear:B(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>D(e,t);R(e,h),e._enterCancelled?(R(e,p),L()):(L(),R(e,p)),I(()=>{e._isLeaving&&(T(e,h),R(e,f),E(S)||A(e,r,y,n))}),w(S,[e,n])},onEnterCancelled(e){O(e,!1,void 0,!0),w(k,[e])},onAppearCancelled(e){O(e,!0,void 0,!0),w(N,[e])},onLeaveCancelled(e){D(e),w(x,[e])}})}function C(e){if(null==e)return null;if((0,a.Gv)(e))return[S(e.enter),S(e.leave)];{const t=S(e);return[t,t]}}function S(e){const t=(0,a.Ro)(e);return t}function R(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[m]||(e[m]=new Set)).add(t)}function T(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const n=e[m];n&&(n.delete(t),n.size||(e[m]=void 0))}function I(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let x=0;function A(e,t,n,r){const a=e._endId=++x,o=()=>{a===e._endId&&r()};if(null!=n)return setTimeout(o,n);const{type:i,timeout:s,propCount:l}=V(e,t);if(!i)return r();const u=i+"end";let c=0;const d=()=>{e.removeEventListener(u,h),o()},h=t=>{t.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},s+1),e.addEventListener(u,h)}function V(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),a=r(`${f}Delay`),o=r(`${f}Duration`),i=$(a,o),s=r(`${v}Delay`),l=r(`${v}Duration`),u=$(s,l);let c=null,d=0,h=0;t===f?i>0&&(c=f,d=i,h=o.length):t===v?u>0&&(c=v,d=u,h=l.length):(d=Math.max(i,u),c=d>0?i>u?f:v:null,h=c?c===f?o.length:l.length:0);const p=c===f&&/\b(transform|all)(,|$)/.test(r(`${f}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:p}}function $(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>N(t)+N(e[n])))}function N(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function L(){return document.body.offsetHeight}function O(e,t,n){const r=e[m];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const D=Symbol("_vod"),B=Symbol("_vsh"),P={beforeMount(e,{value:t},{transition:n}){e[D]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):M(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),M(e,!0),r.enter(e)):r.leave(e,()=>{M(e,!1)}):M(e,t))},beforeUnmount(e,{value:t}){M(e,t)}};function M(e,t){e.style.display=t?e[D]:"none",e[B]=!t}const W=Symbol("");const F=/(^|;)\s*display\s*:/;function U(e,t,n){const r=e.style,o=(0,a.Kg)(n);let i=!1;if(n&&!o){if(t)if((0,a.Kg)(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&z(r,t,"")}else for(const e in t)null==n[e]&&z(r,e,"");for(const e in n)"display"===e&&(i=!0),z(r,e,n[e])}else if(o){if(t!==n){const e=r[W];e&&(n+=";"+e),r.cssText=n,i=F.test(n)}}else t&&e.removeAttribute("style");D in e&&(e[D]=i?r.display:"",e[B]&&(r.display="none"))}const j=/\s*!important$/;function z(e,t,n){if((0,a.cy)(n))n.forEach(n=>z(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=X(e,t);j.test(n)?e.setProperty((0,a.Tg)(r),n.replace(j,""),"important"):e[r]=n}}const K=["Webkit","Moz","ms"],G={};function X(e,t){const n=G[t];if(n)return n;let r=(0,a.PT)(t);if("filter"!==r&&r in e)return G[t]=r;r=(0,a.ZH)(r);for(let a=0;a<K.length;a++){const n=K[a]+r;if(n in e)return G[t]=n}return t}const H="http://www.w3.org/1999/xlink";function q(e,t,n,r,o,i=(0,a.J$)(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(H,t.slice(6,t.length)):e.setAttributeNS(H,t,n):null==n||i&&!(0,a.Y2)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":(0,a.Bm)(n)?String(n):n)}function Q(e,t,n,r,o){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?l(n):n));const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){const r="OPTION"===i?e.getAttribute("value")||"":e.value,a=null==n?"checkbox"===e.type?"on":"":String(n);return r===a&&"_value"in e||(e.value=a),null==n&&e.removeAttribute(t),void(e._value=n)}let s=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,a.Y2)(n):null==n&&"string"===r?(n="",s=!0):"number"===r&&(n=0,s=!0)}try{e[t]=n}catch(qe){0}s&&e.removeAttribute(o||t)}function Y(e,t,n,r){e.addEventListener(t,n,r)}function J(e,t,n,r){e.removeEventListener(t,n,r)}const Z=Symbol("_vei");function ee(e,t,n,r,a=null){const o=e[Z]||(e[Z]={}),i=o[t];if(r&&i)i.value=r;else{const[n,s]=ne(t);if(r){const i=o[t]=ie(r,a);Y(e,n,i,s)}else i&&(J(e,n,i,s),o[t]=void 0)}}const te=/(?:Once|Passive|Capture)$/;function ne(e){let t;if(te.test(e)){let n;t={};while(n=e.match(te))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,a.Tg)(e.slice(2));return[n,t]}let re=0;const ae=Promise.resolve(),oe=()=>re||(ae.then(()=>re=0),re=Date.now());function ie(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,r.qL)(se(e,n.value),t,5,[e])};return n.value=e,n.attached=oe(),n}function se(e,t){if((0,a.cy)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}const le=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ue=(e,t,n,r,o,i)=>{const s="svg"===o;"class"===t?O(e,r,s):"style"===t?U(e,n,r):(0,a.Mp)(t)?(0,a.CP)(t)||ee(e,t,n,r,i):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):ce(e,t,r,s))?(Q(e,t,r),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||q(e,t,r,s,i,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&(0,a.Kg)(r)?("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),q(e,t,r,s)):Q(e,(0,a.PT)(t),r,i,t)};function ce(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&le(t)&&(0,a.Tn)(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!le(t)||!(0,a.Kg)(n))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const de=new WeakMap,he=new WeakMap,pe=Symbol("_moveCb"),fe=Symbol("_enterCb"),ve=e=>(delete e.props.mode,e),me=ve({name:"TransitionGroup",props:(0,a.X$)({},y,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.nI)(),a=(0,r.Gy)();let i,s;return(0,r.$u)(()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!we(i[0].el,n.vnode.el,t))return void(i=[]);i.forEach(ye),i.forEach(be);const r=i.filter(_e);L(),r.forEach(e=>{const n=e.el,r=n.style;R(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const a=n[pe]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",a),n[pe]=null,T(n,t))};n.addEventListener("transitionend",a)}),i=[]}),()=>{const l=(0,o.ux)(e),u=k(l);let c=l.tag||r.FK;if(i=[],s)for(let e=0;e<s.length;e++){const t=s[e];t.el&&t.el instanceof Element&&(i.push(t),(0,r.MZ)(t,(0,r.OW)(t,u,a,n)),de.set(t,t.el.getBoundingClientRect()))}s=t.default?(0,r.Df)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,r.MZ)(t,(0,r.OW)(t,u,a,n))}return(0,r.bF)(c,null,s)}}}),ge=me;function ye(e){const t=e.el;t[pe]&&t[pe](),t[fe]&&t[fe]()}function be(e){he.set(e,e.el.getBoundingClientRect())}function _e(e){const t=de.get(e),n=he.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${a}px)`,t.transitionDuration="0s",e}}function we(e,t,n){const r=e.cloneNode(),a=e[m];a&&a.forEach(e=>{e.split(/\s+/).forEach(e=>e&&r.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&r.classList.add(e)),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=V(r);return o.removeChild(r),i}const Ee=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,a.cy)(t)?e=>(0,a.DY)(t,e):t};function ke(e){e.target.composing=!0}function Ce(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Se=Symbol("_assign"),Re={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[Se]=Ee(o);const i=r||o.props&&"number"===o.props.type;Y(e,t?"change":"input",t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),i&&(r=(0,a.bB)(r)),e[Se](r)}),n&&Y(e,"change",()=>{e.value=e.value.trim()}),t||(Y(e,"compositionstart",ke),Y(e,"compositionend",Ce),Y(e,"change",Ce))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:i}},s){if(e[Se]=Ee(s),e.composing)return;const l=!i&&"number"!==e.type||/^0\d/.test(e.value)?e.value:(0,a.bB)(e.value),u=null==t?"":t;if(l!==u){if(document.activeElement===e&&"range"!==e.type){if(r&&t===n)return;if(o&&e.value.trim()===u)return}e.value=u}}},Te={deep:!0,created(e,t,n){e[Se]=Ee(n),Y(e,"change",()=>{const t=e._modelValue,n=$e(e),r=e.checked,o=e[Se];if((0,a.cy)(t)){const e=(0,a.u3)(t,n),i=-1!==e;if(r&&!i)o(t.concat(n));else if(!r&&i){const n=[...t];n.splice(e,1),o(n)}}else if((0,a.vM)(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(Ne(e,r))})},mounted:Ie,beforeUpdate(e,t,n){e[Se]=Ee(n),Ie(e,t,n)}};function Ie(e,{value:t,oldValue:n},r){let o;if(e._modelValue=t,(0,a.cy)(t))o=(0,a.u3)(t,r.props.value)>-1;else if((0,a.vM)(t))o=t.has(r.props.value);else{if(t===n)return;o=(0,a.BX)(t,Ne(e,!0))}e.checked!==o&&(e.checked=o)}const xe={created(e,{value:t},n){e.checked=(0,a.BX)(t,n.props.value),e[Se]=Ee(n),Y(e,"change",()=>{e[Se]($e(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Se]=Ee(r),t!==n&&(e.checked=(0,a.BX)(t,r.props.value))}},Ae={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=(0,a.vM)(t);Y(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?(0,a.bB)($e(e)):$e(e));e[Se](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,(0,r.dY)(()=>{e._assigning=!1})}),e[Se]=Ee(o)},mounted(e,{value:t}){Ve(e,t)},beforeUpdate(e,t,n){e[Se]=Ee(n)},updated(e,{value:t}){e._assigning||Ve(e,t)}};function Ve(e,t){const n=e.multiple,r=(0,a.cy)(t);if(!n||r||(0,a.vM)(t)){for(let o=0,i=e.options.length;o<i;o++){const i=e.options[o],s=$e(i);if(n)if(r){const e=typeof s;i.selected="string"===e||"number"===e?t.some(e=>String(e)===String(s)):(0,a.u3)(t,s)>-1}else i.selected=t.has(s);else if((0,a.BX)($e(i),t))return void(e.selectedIndex!==o&&(e.selectedIndex=o))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function $e(e){return"_value"in e?e._value:e.value}function Ne(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Le={created(e,t,n){De(e,t,n,null,"created")},mounted(e,t,n){De(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){De(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){De(e,t,n,r,"updated")}};function Oe(e,t){switch(e){case"SELECT":return Ae;case"TEXTAREA":return Re;default:switch(t){case"checkbox":return Te;case"radio":return xe;default:return Re}}}function De(e,t,n,r,a){const o=Oe(e.tagName,n.props&&n.props.type),i=o[a];i&&i(e,t,n,r)}const Be=["ctrl","shift","alt","meta"],Pe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Be.some(n=>e[`${n}Key`]&&!t.includes(n))},Me=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=Pe[t[e]];if(r&&r(n,t))return}return e(n,...r)})},We={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fe=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=(0,a.Tg)(n.key);return t.some(e=>e===r||We[e]===r)?e(n):void 0})},Ue=(0,a.X$)({patchProp:ue},p);let je;function ze(){return je||(je=(0,r.K9)(Ue))}const Ke=(...e)=>{ze().render(...e)},Ge=(...e)=>{const t=ze().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=He(e);if(!r)return;const o=t._component;(0,a.Tn)(o)||o.render||o.template||(o.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const i=n(r,!1,Xe(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Xe(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function He(e){if((0,a.Kg)(e)){const t=document.querySelector(e);return t}return e}},857:(e,t,n)=>{n.d(t,{c:()=>aw});var r=n(641);const a=(e,t=null)=>(0,r.k6)(()=>[e],t),o=e=>"string"===typeof e?(0,r.h)(r.EY,e):(0,r.vv)(e)?e:(0,r.Wv)(e),i=(e,t=null)=>Object.keys(e).reduce((n,r)=>{const o=e[r];return n[r]="function"===typeof o?o:a(o,t),n},{}),s=e=>{const t=e.render||e.ssrRender;if(!t)return;const n="_sfc_render"===t.name||"_sfc_ssrRender"===t.name;return function(...e){const r=e[0],a=r.$.slots,o=new Proxy(r,{get(e,t){return"$slots"===t?i(a):e[t]}}),s=n?void 0:o;return t.call(s,o,...e.slice(1))}};var l=n(953);const u=(e,t)=>Object.keys(e).filter(e=>!t.includes(e)).reduce((t,n)=>(t[n]=e[n],t),{}),c="child:",d="$va:childComponents",h=e=>Object.keys(e).reduce((e,t)=>{const n=`${c}${t}`;return e[n]={type:Object,required:!1,default:void 0},e},{}),p=e=>{const t=(0,r.EW)(()=>{const t=Object.keys(e);return t.reduce((t,n)=>{if(n.startsWith(c)){const r=n.slice(c.length);t[r]=e[n]}return t},{})});(0,r.Gt)(d,t)},f=()=>{var e;const t=null==(e=(0,r.nI)())?void 0:e.attrs["va-child"];if(!t)return null;const n=(0,r.WQ)(d);return(null==n?void 0:n.value)?(0,r.EW)(()=>n.value[t]):null},v=/([a-z0-9])([A-Z])/g,m=e=>e.replace(v,"$1-$2").toLowerCase(),g=(e,t)=>t in e?e[t]:e[m(t)],y=(e,t)=>{const n=e.props,r=f();return new Proxy(n,{get:(n,a)=>{var o,i;if("string"!==typeof a)return n[a];const s=null==(o=null==r?void 0:r.value)?void 0:o[a];if(void 0!==s)return s;const l=e.vnode.props||{},u=n[a],c=g(l,a);if(void 0!==c)return u;const d=null==(i=t.value)?void 0:i[a];return void 0!==d?d:u}})};var b=n(33);const _=(e,t)=>{const n=e.attrs;return new Proxy(n,{get:(e,r)=>{var a;if("string"!==typeof r)return e[r];if("class"===r)return(0,b.C4)([t.value.class,n.class]);if("style"===r)return(0,b.Tr)([t.value.style,n.style]);const o=null==(a=t.value)?void 0:a[r];return void 0!==o?o:e[r]},ownKeys(e){return[...new Set([...Object.keys(n),...Object.keys(t.value)])]},getOwnPropertyDescriptor(e,r){return Reflect.getOwnPropertyDescriptor(t.value,r)??Reflect.getOwnPropertyDescriptor(n,r)}})},w="slot:",E=(e,t)=>{const n=e.slots,i=f(),s=(0,r.EW)(()=>Object.keys(t.value).reduce((e,n)=>(n.startsWith(w)&&(e[n.slice(w.length)]=t.value[n]),e),{}));return new Proxy(n,{get:(e,t)=>{var n,r;if("string"!==typeof t)return e[t];const l=`${w}${t}`,u=null==(n=null==i?void 0:i.value)?void 0:n[l];if(void 0!==u)return a(o(u));const c=e[t];if(void 0!==c)return c;const d=null==(r=s.value)?void 0:r[t];return void 0!==d?a(o(d)):c},ownKeys(e){return[...new Set([...Object.keys(n),...Object.keys(s.value)])]},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(s.value,t)??Reflect.getOwnPropertyDescriptor(n,t)}})},k="VaLocalConfig",C=(0,r.EW)(()=>[]);function S(){return(0,r.WQ)(k,C)}function R(e){(0,r.Gt)(k,e)}function T(e){const t=S(),n=(0,r.EW)(()=>[...t.value,e.value]);R(n)}const I=[null,void 0,""],x=[null,void 0],A=e=>I.includes(e),V=e=>!A(e),$=e=>x.includes(e),N="undefined"!==typeof process?process:{},L=N.env||{},O=L.NODE_ENV||"",D="undefined"!==typeof __DEV__?__DEV__:!["prod","production"].includes(O),B=(...e)=>(D&&console.warn(...e),!1),P=e=>{throw new Error(`[Vuestic] ${e}`)};let M=null,W=null;const F=e=>{null===(null==W?void 0:W._instance)&&(W=null),null===e&&null===W||(W=M,M=e)},U=()=>M,j=(e,t=void 0)=>{var n;const a=null==(n=U())?void 0:n._context.provides[e],o=(0,r.nI)();return o?(0,r.WQ)(e,t):a??P("You're using Vuestic composable outside Vue app. Since you registered Vuestic in multiple apps, composables can not be used outside setup function anymore.")},z=e=>null!==e&&"object"===typeof e,K=e=>null===e||"object"!==typeof e?e:Array.isArray(e)?e.map(K):e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Map?new Map(Array.from(e.entries()).map(([e,t])=>[e,K(t)])):e instanceof Set?new Set(Array.from(e.values()).map(K)):z(e)?Object.keys(e).reduce((t,n)=>(t[n]=K(e[n]),t),{}):e,G=Symbol("vaBreakpoint"),X={xs:0,sm:640,md:1024,lg:1440,xl:1920},H=()=>({enabled:!0,bodyClass:!0,thresholds:X}),q=e=>e&&"object"===typeof e&&!Array.isArray(e),Q=(e,t)=>(q(e)||(e={}),Object.keys(t).forEach(n=>{const r=e[n],a=t[n];a instanceof RegExp||a instanceof Date?e[n]=a:q(r)&&q(a)?e[n]=Q(Object.create(Object.getPrototypeOf(r),Object.getOwnPropertyDescriptors(r)),a):e[n]=a}),e),Y=(...e)=>e.reduce((e,t)=>Q(e,t),{}),J=[{prefix:"bg",property:"background-color"},{prefix:"text",property:["color","fill"]}],Z=()=>J,ee={light:{primary:"#154EC1",secondary:"#767C88",success:"#3D9209",info:"#158DE3",danger:"#E42222",warning:"#FFD43A",backgroundPrimary:"#f6f6f6",backgroundSecondary:"#FFFFFF",backgroundElement:"#ECF0F1",backgroundBorder:"#DEE5F2",textPrimary:"#262824",textInverted:"#FFFFFF",shadow:"rgba(0, 0, 0, 0.12)",focus:"#49A8FF",transparent:"rgba(0, 0, 0, 0)"},dark:{primary:"#3472F0",secondary:"#767C88",success:"#66BE33",info:"#3EAAF8",danger:"#F34030",warning:"#FFD952",backgroundPrimary:"#050A10",backgroundSecondary:"#1F262F",backgroundElement:"#131A22",backgroundBorder:"#3D4C58",textPrimary:"#F1F1F1",textInverted:"#0B121A",shadow:"rgba(255, 255, 255, 0.12)",focus:"#49A8FF",transparent:"rgba(0, 0, 0, 0)"}},te=e=>({...e,get variables(){return this.presets[this.currentPresetName]},set variables(e){this.presets[this.currentPresetName]=e}}),ne=()=>te({threshold:150,presets:{light:ee.light,dark:ee.dark},currentPresetName:"light"}),re=e=>e,ae=re([{name:"va-unsorted",to:"swap_vert"},{name:"va-sort-asc",to:"va-arrow-up"},{name:"va-sort-desc",to:"va-arrow-down"},{name:"va-arrow-first",to:"mi-first_page"},{name:"va-arrow-last",to:"mi-last_page"},{name:"va-arrow-right",to:"mi-chevron_right"},{name:"va-arrow-left",to:"mi-chevron_left"},{name:"va-arrow-down",to:"mi-expand_more"},{name:"va-arrow-up",to:"mi-expand_less"},{name:"va-calendar",to:"mi-calendar_today"},{name:"va-delete",to:"mi-delete_outline"},{name:"va-check",to:"mi-check"},{name:"va-check-circle",to:"mi-check_circle"},{name:"va-warning",to:"mi-warning"},{name:"va-clear",to:"mi-highlight_off"},{name:"va-close",to:"mi-close"},{name:"va-loading",to:"mi-loop"},{name:"va-plus",to:"mi-add"},{name:"va-minus",to:"mi-remove"}]),oe=[{name:"mi-{icon}",class:"material-icons",resolve:({icon:e})=>({content:e})},{name:"{icon}",class:"material-icons",resolve:({icon:e})=>({content:e})}],ie=e=>(e.aliases=e.aliases||[],e.fonts=e.fonts||[],[...e.aliases,...ae,...e.fonts,...oe]),se=()=>ie({}),le=()=>({VaIcon:{sizesConfig:{defaultSize:18,sizes:{small:14,medium:18,large:24}}},VaRating:{sizesConfig:{defaultSize:18,sizes:{small:14,medium:18,large:24}}},all:{},presets:{VaButton:{default:{backgroundOpacity:1,hoverBehavior:"mask",hoverOpacity:.15,pressedBehavior:"mask",pressedOpacity:.13},primary:{backgroundOpacity:.1,hoverBehavior:"opacity",hoverOpacity:.07,pressedBehavior:"opacity",pressedOpacity:.13},secondary:{backgroundOpacity:0,hoverBehavior:"opacity",hoverOpacity:.07,pressedBehavior:"opacity",pressedOpacity:.13},plain:{plain:!0,hoverBehavior:"mask",hoverOpacity:.15,pressedBehavior:"mask",pressedOpacity:.13},plainOpacity:{plain:!0,textOpacity:.6,hoverBehavior:"opacity",hoverOpacity:1,pressedBehavior:"opacity",pressedOpacity:.9}},VaInputWrapper:{solid:{background:"backgroundElement"},bordered:{class:"va-input-wrapper--bordered",background:"backgroundElement"}},VaCheckbox:{solid:{style:"--va-checkbox-background: var(--va-background-element)"}},VaRadio:{solid:{style:"--va-radio-background: var(--va-background-element)"}},VaMenu:{context:{cursor:!0,placement:"right-start",trigger:"right-click"}}}}),ue=()=>({search:"Search",noOptions:"Items not found",ok:"OK",cancel:"Cancel",uploadFile:"Upload file",undo:"Undo",dropzone:"Drop files here to upload",fileDeleted:"File deleted",closeAlert:"close alert",backToTop:"back to top",toggleDropdown:"toggle dropdown",carousel:"carousel",goPreviousSlide:"go previous slide",goNextSlide:"go next slide",goSlide:"go slide {index}",slideOf:"slide {index} of {length}",close:"close",openColorPicker:"open color picker",colorSelection:"color selection",colorName:"color {color}",decreaseCounter:"decrease counter",increaseCounter:"increase counter",selectAllRows:"select all rows",sortColumnBy:"sort column by {name}",selectRowByIndex:"select row {index}",resetDate:"reset date",nextPeriod:"next period",switchView:"switch view",previousPeriod:"previous period",removeFile:"remove file",reset:"reset",pagination:"pagination",goToTheFirstPage:"go to the first page",goToPreviousPage:"go to the previous page",goToSpecificPage:"go to the {page} page",goToSpecificPageInput:"enter the page number to go",goNextPage:"go next page",goLastPage:"go last page",currentRating:"current rating {value} of {max}",voteRating:"vote rating {value} of {max}",optionsFilter:"options filter",splitPanels:"split panels",movePaginationLeft:"move pagination left",movePaginationRight:"move pagination right",resetTime:"reset time",closeToast:"close toast",selectedOption:"Selected option",noSelectedOption:"Option is not selected",breadcrumbs:"breadcrumbs",counterValue:"counter value",selectedDate:"selected date",selectedTime:"selected time",progressState:"progress state",color:"color",next:"Next",back:"Previous",finish:"Finish",step:"step",progress:"progress",loading:"Loading",sliderValue:"Current slider value is {value}",switch:"Switch",inputField:"Input field",fileTypeIncorrect:"File type is incorrect",select:"Select an option"}),ce=Symbol("GLOBAL_CONFIG"),de=()=>({colors:ne(),icons:se(),components:le(),breakpoint:H(),i18n:ue(),colorsClasses:Z(),routerComponent:void 0}),he=(e={})=>{const t=(0,l.KR)(Q(de(),e)),n=()=>t.value,r=e=>{const n="function"===typeof e?e(t.value):e;t.value=K(n)},a=e=>{const n="function"===typeof e?e(t.value):e;t.value=Q(K(t.value),n)};return{getGlobalConfig:n,setGlobalConfig:r,mergeGlobalConfig:a,globalConfig:t}},pe=e=>{var t,n;const a=(null==(t=(0,r.nI)())?void 0:t.appContext.provides)||(null==(n=U())?void 0:n._context.provides);if(!a)throw new Error("Vue app not found for provide");return a[ce]=e,e};function fe(){let e=j(ce);return e||(e=he(),pe(e)),e}const ve=e=>"preset"in e,me=e=>ve(e)?e.preset:void 0,ge=(e,t)=>{const n=S(),{globalConfig:a}=fe(),o=e.name,i=e=>(e instanceof Array?e:[e]).reduce((e,t)=>{var n,r,s;const l=null==(s=null==(r=null==(n=a.value.components)?void 0:n.presets)?void 0:r[o])?void 0:s[t];if(!l)return e;const u=me(l);return{...e,...u?i(u):void 0,...l}},{}),s=f();return(0,r.EW)(()=>{var e,r;const l={...null==(e=a.value.components)?void 0:e.all,...null==(r=a.value.components)?void 0:r[o]},u=n.value.reduce((e,t)=>{const n=t[o];return n?{...e,...n}:e},{}),c=[t,null==s?void 0:s.value,u,l].filter(V).map(me).filter(V).at(0),d=c?i(c):void 0;return{...l,...u,...d}})},ye=e=>(t,n)=>{var a;const o=(0,r.nI)(),i=ge(e,t),s=(0,r.EW)(()=>u(i.value,Object.keys(t))),c=y(o,i),d=_(o,s),h=E(o,i);o.props=c,o.attrs=d,o.slots=h;const p=null==(a=e.setup)?void 0:a.call(e,(0,l.nD)(c),{...n,attrs:d,slots:h});return"object"!==typeof p||o.exposed||n.expose(p),p},be=e=>{const t=ye(e),n=s(e);return new Proxy(e,{get(r,a){return a in e?"setup"===a?t:"render"===a||"ssrRender"===a?n:Reflect.get(r,a):Reflect.get(r,a)}})},_e="__c",we=e=>(e[_e]=be(e[_e]),e),Ee=e=>"setup"in e?be(e):_e in e?we(e):(e.setup=()=>({}),be(e)),ke=Ee,Ce=Symbol("AccordionService"),Se=(e,t)=>{const n=(0,l.KR)([]),a=()=>{const e=Math.max(n.value.length,t.value.length);return Array.from({length:e},(e,n)=>t.value[n]??!1)},o=e=>t.value[n.value.indexOf(e)]??!1,i=()=>{t.value=a()},s=e=>{n.value.push(e),i()},u=e=>{n.value=n.value.filter(t=>t!==e),(0,r.dY)(i)},c=(r,o)=>{const i=n.value.indexOf(r);-1!==i?e.multiple?t.value[i]=o:t.value=a().map((e,t)=>t===i&&o):B("Accordion item is not registered yet")};return(0,r.Gt)(Ce,{registerItem:s,unregisterItem:u,getItemValue:o,setItemValue:c,props:(0,r.EW)(()=>e)}),{items:n}},Re=()=>{const e=(0,r.WQ)(Ce,void 0);if(!e)return{accordionProps:(0,l.KR)({})};const t={};e.registerItem(t),(0,r.xo)(()=>e.unregisterItem(t));const n=(0,r.EW)({get:()=>e.getItemValue(t),set:n=>e.setItemValue(t,n)});return{accordionItemValue:n,accordionProps:e.props}},Te=Symbol("NOT_PROVIDED"),Ie=(e,t)=>{const n=(0,r.nI)();return(0,r.EW)(()=>{if(!(null==n?void 0:n.vnode.props))return Te;const r=t[e];return e in n.vnode.props?r:Te})},xe={stateful:{type:Boolean,default:!1},modelValue:{type:void 0}},Ae=(e=!1)=>({stateful:{type:Boolean,default:e}}),Ve=["update:modelValue"],$e=(e,t,n="modelValue",a={})=>{const{eventName:o,defaultValue:i}=a,s=o||`update:${n.toString()}`,u=Ie(n,e),c="defaultValue"in a,d=(0,l.KR)(u.value===Te?c?i:e[n]:u.value);let h;const p=()=>{h=(0,r.wB)(()=>e[n],e=>{d.value=e})};(0,r.wB)(()=>e.stateful,e=>{e?p():null==h||h()},{immediate:!0});const f=(0,r.EW)({get:()=>e.stateful?d.value:e[n],set:n=>{e.stateful&&(d.value=n),t(s,n)}});return Object.defineProperty(f,"stateful",{get:()=>e.stateful}),Object.defineProperty(f,"userProvided",{get:()=>u.value!==Te}),{valueComputed:f}},Ne={preset:{type:[String,Array],default:void 0}},Le={class:"va-accordion"},Oe=(0,r.pM)({name:"VaAccordion",__name:"VaAccordion",props:{...xe,...Ne,modelValue:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},inset:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0},popout:{type:Boolean,default:!1}},emits:[...Ve],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=$e(a,o,"modelValue"),{items:s}=Se(a,i),l=s,u=i;return t({collapses:l,value:u}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",Le,[(0,r.RG)(e.$slots,"default")]))}}),De=ke(Oe),Be=()=>{},Pe=()=>"undefined"===typeof window,Me=()=>!Pe(),We=()=>"undefined"===typeof window?void 0:window,Fe={},Ue=()=>Pe()?"undefined"===typeof globalThis?Fe:globalThis:window,je=e=>{const t=(0,r.nI)().props,n=(0,r.EW)(()=>{const n=null==t?void 0:t[e];return void 0===n?n:Number(n)});return n},ze=(e,t)=>{let n=0;return function(...r){const a=Date.now();a-n<t||(e.apply(this,r),n=a)}};function Ke(){return document.documentElement.clientHeight||window.innerHeight||document.body.clientHeight}function Ge({coordinates:e,offsetTop:t,offsetBottom:n,target:r}){let a=!1,o=!1;const i=Ke();if(null!=t&&i)if(r===window)a=e.top<=t;else{const{top:n}=r.getBoundingClientRect();a=e.top-n<=t}if(null!=n&&i)if(r===window)o=e.bottom>=i-n;else{const{bottom:t}=r.getBoundingClientRect();o=t-e.bottom<=n}return{isTopAffixed:a,isBottomAffixed:o}}function Xe(e,t){return e.isTopAffixed!==t.isTopAffixed||e.isBottomAffixed!==t.isBottomAffixed}function He(e,t){const{target:n,element:r,offsetTop:a,offsetBottom:o,setState:i,getState:s,initialPosition:l}=t;if(!r)return;const u=!e,c=r.getBoundingClientRect(),d={offsetBottom:o,offsetTop:a,target:n},h=Ge(u&&l?{coordinates:l,...d}:{coordinates:c,...d}),p=s();Xe(p,h)?i({...h,width:c.width}):p.width!==c.width&&i({...p,width:c.width})}function qe(e){return"scroll"===e}function Qe(e,{handler:t,useCapture:n=qe,wait:r=50}){const a=e.map(e=>{const a=ze(n=>t(e,n),r);return window.addEventListener(e,a,n(e)),()=>window.removeEventListener(e,a,n(e))});return()=>a.forEach(e=>e())}const Ye=(0,r.pM)({name:"VaAffix",__name:"VaAffix",props:{...Ne,offsetTop:{type:[Number,String],default:void 0},offsetBottom:{type:[Number,String],default:void 0},target:{type:[Object,Function],default:We}},emits:["change"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),i=()=>"function"===typeof n.target?n.target():n.target,s=(0,r.EW)(()=>u.value.isTopAffixed||u.value.isBottomAffixed),u=(0,l.KR)({isTopAffixed:!1,isBottomAffixed:!1}),c=()=>u.value,d=e=>{u.value=e,a("change",s)},h=je("offsetTop"),p=je("offsetBottom"),f=()=>{const e=i();if(!e)return 0;if(void 0!==h.value){if(!(e instanceof Window)){const{top:t}=e.getBoundingClientRect();return t+h.value}return h.value}},v=()=>{const e=i();if(!e)return 0;if(void 0!==p.value){if(!(e instanceof Window)){const{bottom:t}=e.getBoundingClientRect(),{borderTopWidth:n,borderBottomWidth:r}=getComputedStyle(e),{offsetHeight:a,clientHeight:o}=e,i=a-o-parseInt(n)-parseInt(r);return Ke()-(t-p.value)+i}return p.value}},m=e=>{const t=e();return void 0===t?void 0:`${t}px`},g=(0,r.EW)(()=>[{"va-affix--affixed":s}]),y=(0,r.EW)(()=>({top:u.value.isTopAffixed?m(f):void 0,bottom:u.value.isBottomAffixed?m(v):void 0,width:`${u.value.width}px`})),_=(0,l.KR)(),w=(e,t)=>{const r={...n,offsetTop:h.value,offsetBottom:p.value,initialPosition:_.value,element:o.value,target:i(),setState:d,getState:c};if(e&&"resize"!==e){if(t&&t.target){const n=i();n===t.target||n instanceof Window?He(e,r):d({isBottomAffixed:!1,isTopAffixed:!1})}}else He(e,r)};let E=Be;return(0,r.sV)(()=>{var e;_.value=null==(e=o.value)?void 0:e.getBoundingClientRect();const t=["scroll","resize"];E=Qe(t,{handler:w}),(0,r.dY)(()=>{w(null)})}),(0,r.xo)(E),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"element",ref:o,class:"va-affix"},[(0,r.Lk)("div",{style:(0,b.Tr)({visibility:s.value?"hidden":"inherit"})},[(0,r.RG)(e.$slots,"default")],4),s.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,b.C4)(g.value),style:(0,b.Tr)(y.value)},[(0,r.RG)(e.$slots,"default")],6)):(0,r.Q3)("",!0)],512))}}),Je=ke(Ye);var Ze=n(751);const et=e=>e,tt=Symbol("VaAppCachePlugin"),nt=et(()=>({install(e){const t={colorContrast:{}};e.provide(tt,t)}})),rt=()=>{const e=j(tt);return e||{colorContrast:{}}},at=e=>{const t=(0,r.EW)(e),n=new Proxy(t,{get(e,n,r){if("object"===typeof t.value)return(0,l.R1)(Reflect.get(t.value,n,r))},set(e,n,r){return(0,l.i9)(t.value[n])&&!(0,l.i9)(r)?t.value[n].value=r:t.value[n]=r,!0},deleteProperty(e,n){return Reflect.deleteProperty(t.value,n)},has(e,n){return"object"===typeof t.value&&Reflect.has(t.value,n)},ownKeys(){return"object"!==typeof t.value?[]:Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return(0,l.Kh)(n)},ot=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),it=/[A-Z0-9]*(?:[^\-_|A-Z|\s.])*/gm,st=e=>{var t;return(null==(t=e.match(it))?void 0:t.map(e=>e.trim().split(/([0-9]+)|([a-zA-Z]+)/g)).flat().filter(Boolean))||[]},lt=e=>st(e).map(e=>e.toLowerCase()).join("-"),ut=e=>st(e).map((e,t)=>0===t?e.toLowerCase():ot(e)).join(""),ct=e=>st(e).map(ot).join(" "),dt=/^#([A-Fa-f0-9]{3,4}|[A-Fa-f0-9]{6,8})$/,ht=/^rgba?\(([\d.]+, ?){2}[\d.]+(, ?[\d.]+)?\)$/,pt=/hsla?\([\d.]+(deg|rad|turn|grad)?(,?\s?[\d.]+%?){2}(,?\s?(\/\s?)?[\d.]+%?)?\)/,ft=e=>dt.test(e)||ht.test(e)||pt.test(e),vt=e=>"object"===typeof e&&null!==e&&("h"in e&&"s"in e&&"l"in e),mt=e=>"object"===typeof e&&null!==e&&("r"in e&&"g"in e&&"b"in e),gt=e=>{if(!dt.test(e))return null;const t=e.replace("#",""),n=t.length<6,[r,a,o,i]=n?t.split("").map(e=>parseInt(e+e,16)):t.match(/.{2}/g).map(e=>parseInt(e,16));return{r,g:a,b:o,a:i??1}},yt=e=>{if(!ht.test(e))return null;const[t,n,r,a=1]=e.match(/[\d.]+/g).map(Number);return{r:t,g:n,b:r,a}},bt=e=>{if(!pt.test(e))return null;const[t,n,r,a="1"]=e.match(/[\d.]+%?/g);return{h:Number(t),s:Number(n.replace("%","")),l:Number(r.replace("%","")),a:a.endsWith("%")?Number(a.replace("%",""))/100:Number(a)}},_t=e=>{const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),o=Math.min(t,n,r);let i=0,s=0;const l=(a+o)/2;if(a!==o){const e=a-o;switch(s=l>.5?e/(2-a-o):e/(a+o),a){case t:i=(n-r)/e+(n<r?6:0);break;case n:i=(r-t)/e+2;break;case r:i=(t-n)/e+4;break}i*=60}return{h:Math.round(i),s:Math.round(100*s),l:Math.round(100*l),a:e.a}},wt=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),Et=e=>{const t=e.h/360,n=e.s/100,r=e.l/100,a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,i=wt(o,a,t+1/3),s=wt(o,a,t),l=wt(o,a,t-1/3);return{r:Math.round(255*i),g:Math.round(255*s),b:Math.round(255*l),a:e.a}},kt=e=>{if(vt(e))return{...e};if(mt(e))return _t(e);const t=gt(e)??yt(e);if(t)return _t(t);const n=bt(e);if(n)return n;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},Ct=({h:e,s:t,l:n,a:r})=>`hsla(${e},${t}%,${n}%,${r??1})`,St=e=>{if(mt(e))return{...e};if(vt(e))return Et(e);const t=bt(e);if(t)return Et(t);const n=gt(e)??yt(e);if(n)return n;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},Rt=({r:e,g:t,b:n,a:r})=>1===r?`rgb(${e},${t},${n})`:`rgba(${e},${t},${n},${r??1})`,Tt=e=>{if(vt(e))return Ct(e);if(mt(e))return Rt(e);if("string"===typeof e)return e;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},It=(e,{h:t,s:n,l:r,a})=>{const o=kt(e);return o.a=o.a??1,o.h=t??o.h,o.s=n??o.s,o.l=r??o.l,o.a=a??o.a,o.h<0&&(o.h=360+o.h),o.h>360&&(o.h=o.h-360),o.s=Math.max(0,Math.min(100,o.s)),o.l=Math.max(0,Math.min(100,o.l)),o.a=Math.max(0,Math.min(1,o.a)),o},xt=(e,{h:t,s:n,l:r,a})=>{const o=kt(e);return o.a=o.a??1,o.h+=t??0,o.s+=n??0,o.l+=r??0,o.a+=a??0,o.h<0&&(o.h=360+o.h),o.h>360&&(o.h=o.h-360),o.s=Math.max(0,Math.min(100,o.s)),o.l=Math.max(0,Math.min(100,o.l)),o.a=Math.max(0,Math.min(1,o.a)),o},At=e=>/var\(--.+\)/.test(e),Vt=e=>`--va-${lt(e)}`,$t=e=>ut(e),Nt=(e,t)=>{const{r:n,g:r,b:a}=St(e);return Rt({r:n,g:r,b:a,a:t})},Lt=e=>{const{r:t,g:n,b:r}=St(e);return Math.sqrt(t*t*.241+n*n*.691+r*r*.068)},Ot=(e,t=.4)=>Nt(e,t),Dt=(e,t=.4)=>Nt(e,t),Bt=(e,t=.2)=>Nt(e,t),Pt=(e,t=.3)=>Nt(e,t),Mt=(e,t)=>Ct(xt(kt(e),t)),Wt=(e,t)=>Ct(It(kt(e),t)),Ft=e=>{const t=kt(e);if(t.s<10)return Mt(t,{h:2,s:5,l:10});if(t.s<30)return Mt(t,{s:-14,l:11});if(t.h>=0&&t.h<44||t.h>=285)return Mt(t,{h:11,s:27,l:8});if(t.h>=44&&t.h<85)return Mt(t,{h:3,l:9});if(t.h>=85&&t.h<165)return Mt(t,{h:16,l:14});if(t.h>=165&&t.h<285)return Mt(t,{h:-15,s:3,l:2});throw new Error("This method should handle all colors. But it didn't for some reason.")},Ut=e=>{const t=Ft(e);return`linear-gradient(to right, ${t}, ${Tt(e)})`},jt=(e,t,n)=>{const r=Nt(t,n);return`linear-gradient(0deg, ${r}, ${r}), ${e}`},zt=(e,t)=>{const n=St(e),r=St(t),a=r.a;return Rt(1===a?r:0===a?n:{r:Math.round(n.r*(1-a)+r.r*a),g:Math.round(n.g*(1-a)+r.g*a),b:Math.round(n.b*(1-a)+r.b*a),a:n.a})},Kt=e=>!!e&&("transparent"===e||St(e).a<=.1),Gt={color:{type:String,default:""}},Xt=()=>{const e=fe();if(!e)throw new Error("useColors must be used in setup function or Vuestic GlobalConfigPlugin is not registered!");const{globalConfig:t}=e,n=at({get:()=>t.value.colors.presets[t.value.colors.currentPresetName],set:e=>{a(e)}}),a=e=>{t.value.colors.presets[t.value.colors.currentPresetName]={...t.value.colors.variables,...e}},o=()=>n,i=(e,t,r)=>{if(t||(t=n.primary),"transparent"===e)return"#ffffff00";if("currentColor"===e)return e;if(null==e?void 0:e.startsWith("on")){const t=e.slice(2);if(n[$t(t)])return i(p(i(t)),void 0,r)}e||(e=i(t));const a=n[e]||n[$t(e)];return a?r?`var(${Vt(e)})`:a:ft(e)||r&&At(e)?e:(B(`'${e}' is not a proper color! Use HEX or default color themes\n      names (https://vuestic.dev/en/styles/colors#default-color-themes)`),i(t))},s=e=>(0,r.EW)({get(){return i(e)},set(t){a({[e]:t})}}),l=(e,t="va")=>Object.keys(e).filter(t=>void 0!==e[t]).reduce((n,r)=>(n[`--${t}-${lt(r)}`]=i(e[r],void 0,!0),n[`--${t}-on-${lt(r)}`]=i(p(i(e[r])),void 0,!0),n),{}),u=rt(),c=e=>"string"!==typeof e?Lt(e):(u.colorContrast[e]||(u.colorContrast[e]=Lt(e)),u.colorContrast[e]),d=(0,r.EW)(()=>c(i("textPrimary"))>127.5?"textInverted":"textPrimary"),h=(0,r.EW)(()=>c(i("textPrimary"))>127.5?"textPrimary":"textInverted"),p=(e,r,a)=>{const o=`on${(0,b.ZH)(String(e))}`;return n[o]?n[o]:(r=r||d.value,a=a||h.value,c(e)>t.value.colors.threshold?r:a)},f=(0,r.EW)({get:()=>t.value.colors.currentPresetName,set:e=>{m(e)}}),v=(0,r.EW)(()=>t.value.colors.presets),m=e=>{if(t.value.colors.currentPresetName=e,!t.value.colors.presets[e])return B(`Preset ${e} does not exist`)};return{colors:n,currentPresetName:f,presets:v,applyPreset:m,setColors:a,getColors:o,getColor:i,getComputedColor:s,getBoxShadowColor:Ot,getBoxShadowColorFromBg:Dt,getHoverColor:Bt,getFocusColor:Pt,getGradientBackground:Ut,getTextColor:p,shiftHSLAColor:Mt,setHSLAColor:Wt,colorsToCSSVariable:l,colorToRgba:Nt,getStateMaskGradientBackground:jt}},Ht=(e,t=!1)=>{const{props:n}=(0,r.nI)(),{getColor:a,getTextColor:o}=Xt(),i=(0,r.EW)(()=>{if(n.textColor)return a(n.textColor);const r=e?(0,l.R1)(e):n.color;if(!r)return"currentColor";const i=a(r);return Kt(i)?"currentColor":(0,l.R1)(t)?i:a(o(i))});return{textColorComputed:i}},qt=e=>{const{textColorComputed:t}=Ht(e);return t},Qt=e=>{let t;return t=e.startsWith("rgba")?e.substring(5,e.length-1).split(","):e.substring(4,e.length-1).split(","),t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),void 0===t[3]?t[3]=1:t[3]=Number(t[3]),t},Yt=e=>"#"+(256|e[0]).toString(16).slice(1)+(256|e[1]).toString(16).slice(1)+(256|e[2]).toString(16).slice(1)+(255*e[3]|256).toString(16).slice(1),Jt=e=>{const t=[];let n=e;while(n){if(!(n instanceof HTMLElement)||!n)return t;const{backgroundColor:e,willChange:r}=window.getComputedStyle(n),a=r.includes("background"),o=Qt(e);if(1===o[3]&&!a)return t.push(n),t;(0!==o[3]||a)&&t.push(n),n=n.parentElement}return t},Zt="va-background-watcher",en=(e,t)=>(e.className=Zt+" "+e.className,e.addEventListener("transitionend",n=>{n.target===e&&t()}),()=>{e.className=e.className.replace(Zt,""),e.removeEventListener("transitionend",t)}),tn=(e,t)=>{const n=e.map(e=>en(e,t));return()=>{n.forEach(e=>e())}},nn=(e,t)=>{const n=t[3];if(1===n)return t;if(0===n)return e;const r=Math.round(e[0]*(1-n)+t[0]*n),a=Math.round(e[1]*(1-n)+t[1]*n),o=Math.round(e[2]*(1-n)+t[2]*n);return[r,a,o,1]},rn=e=>{let t=[0,0,0,0];for(let n=e.length-1;n>=0;n--)t=nn(t,Qt(window.getComputedStyle(e[n]).backgroundColor));return t},an=e=>{const t=(0,l.KR)("#000000");let n=()=>{};return(0,r.nT)(()=>{if(n(),e.value){const r=Jt(e.value);n=tn(r,()=>{t.value=Yt(rn(r))}),t.value=Yt(rn(r))}}),t},on=e=>{if(e)return e;const t=(0,r.nI)(),n=(0,l.IJ)();return(0,r.sV)(()=>{n.value=t.proxy.$el??void 0}),(0,r.$u)(()=>{n.value=t.proxy.$el??void 0}),(0,r.xo)(()=>{n.value=t.proxy.$el??void 0}),n},sn=e=>{const{getColor:t}=Xt(),n=(0,r.EW)(()=>Boolean(e.outline||e.border)),{textColorComputed:a}=Ht((0,l.lW)(e,"color"),n),o=(0,r.EW)(()=>t(e.color)),i=(0,r.EW)(()=>{let t=o.value,n="none";return e.outline&&(t="transparent"),e.border&&(t="var(--va-background-primary)",n="var(--va-alert-box-shadow)"),{border:e.outline?`1px solid ${o.value}`:"",padding:e.dense?"var(--va-alert-padding-y-dense) var(--va-alert-padding-x)":"",backgroundColor:t,boxShadow:n}}),s=qt(an(on())),u=(0,r.EW)(()=>({alignItems:e.center?"center":"",color:e.border||e.outline?s.value:a.value})),c=(0,r.EW)(()=>({color:a.value})),d=(0,r.EW)(()=>({backgroundColor:e.borderColor?t(e.borderColor):o.value}));return{alertStyle:i,contentStyle:u,titleStyle:c,borderStyle:d}},ln={defaultSize:48,sizes:{small:32,medium:48,large:64}},un={defaultSize:1,sizes:{small:.75,medium:1,large:1.25}},cn={size:{type:[String,Number],default:"",validator:e=>"string"===typeof e||"number"===typeof e},sizesConfig:{type:Object,default:()=>ln},fontSizesConfig:{type:Object,default:()=>un}},dn=/(?<fontSize>\d+)(?<extension>px|rem)/i,hn=e=>e/16-.5,pn=e=>"number"===typeof e?`${e}px`:String(e),fn=e=>"sizesConfig"in e,vn=e=>{const t="size";return(0,r.EW)(()=>{let n=e[t];if(fn(e)){const{defaultSize:t,sizes:r}=e.sizesConfig;if(A(n)&&(n=t),r){const e=r[n];if(e)return pn(e)}}return pn(n)})},mn=(e,t=(e=>null==(e=(0,r.nI)())?void 0:e.type.name)())=>{const{getGlobalConfig:n}=fe(),a=(0,r.EW)(()=>{var e,r;return t?null==(r=null==(e=n().components)?void 0:e[t])?void 0:r.sizesConfig:void 0}),o=(0,r.EW)(()=>{var t,n,r;const{defaultSize:o,sizes:i}=e.sizesConfig,s=null==(t=a.value)?void 0:t.defaultSize;if(!e.size)return`${o||s}px`;if("string"===typeof e.size){const t=null==(r=null==(n=a.value)?void 0:n.sizes)?void 0:r[e.size],o=i[e.size];return o?`${o}px`:t?`${t}px`:e.size}return`${e.size}px`}),i=(0,r.EW)(()=>{const{defaultSize:t,sizes:n}=e.fontSizesConfig;if(!e.size)return t;if("string"===typeof e.size){if(e.size in n)return n[e.size];const t=e.size.match(dn);if(!t||!t.groups)throw new Error("Size prop should be either valid string or number");const{extension:r,fontSize:a}=t.groups;return"rem"===r?+a:hn(+a)}return hn(e.size)}),s=(0,r.EW)(()=>`${i.value}rem`);return{sizeComputed:o,fontSizeComputed:s,fontSizeInRem:i}},gn=(e,t)=>t.test(e),yn=(e,t)=>{if("string"!==typeof t&&t.global)return[...e.matchAll(t)].map(e=>e.slice(1));const n=e.match(t)||[];return n?n.length>1?n.slice(1):n:[]},bn=/{[^}]*}/g,_n=e=>e.replace(bn,"(.*)"),wn=e=>(e.match(bn)||[]).map(e=>e.replace(/{|}/g,"")),En=(e,t)=>yn(e,_n(t)),kn=(e,t)=>{const n=wn(t),r=En(e,t);return n.reduce((e,t,n)=>({...e,[t]:r[n]}),{})},Cn=(e,t)=>(e.match(t)||[])[0]===e,Sn=(e,t)=>{const n=_n(t);return Cn(e,new RegExp(n))},Rn=e=>"string"===typeof e.name,Tn=e=>e.name instanceof RegExp,In=(e,t)=>Rn(t)?Sn(e,t.name):!!Tn(t)&&gn(e,t.name),xn=(e,t)=>{const n=kn(e,t.name);return t.resolve&&t.resolve(n)},An=(e,t)=>{if(t.name.global)throw new Error(`Bad icon config with name ${t.name}. Please, don't use global regex as name.`);const n=yn(e,t.name);return t.resolveFromRegex&&t.resolveFromRegex(...n)},Vn=(e,t)=>{if(Rn(t))return xn(e,t);if(Tn(t))return An(e,t);throw Error("Unknown icon config")},$n=(e,t,n=[])=>{const r=t.find(t=>!n.includes(t.name.toString())&&In(e,t));if(!r)throw new Error(`Can not find icon config from ${e}. Please provide default config.`);return r},Nn=(e,t,n=[])=>{if(!e)return;const r=$n(e,t,n),a=Q(Vn(e,r),r);return n=[...n,r.name.toString()],Q(Nn(a.to,t,n),a)},Ln=e=>{const t=["name","to","resolve","resolveFromRegex"],n=e;return t.forEach(e=>{delete n[e]}),n},On=(e,t)=>{const n=Nn(e,t);return void 0===n?{}:Ln(n)},Dn=()=>{const{globalConfig:e}=fe();return{getIcon:t=>On(t,e.value.icons)}},Bn=(0,r.pM)({name:"VaIcon",__name:"VaIcon",props:{...cn,...Ne,name:{type:String,default:""},tag:{type:String},component:{type:Object},color:{type:String},rotation:{type:[String,Number]},spin:{type:[String,Boolean]},flip:{type:String,default:"off",validator:e=>["off","horizontal","vertical","both"].includes(e)}},setup(e){const t=e,{getColor:n}=Xt(),{sizeComputed:a}=mn(t),{getIcon:o}=Dn(),i=(0,r.EW)(()=>o(t.name)),s=(0,r.EW)(()=>t.component||t.tag||i.value.component||i.value.tag||"i"),l=(0,r.OA)(),c=(0,r.EW)(()=>({...i.value.attrs,...u(l,["class"])})),d=e=>{if(void 0!==e&&!1!==e)return"counter-clockwise"===e?"va-icon--spin-reverse":"va-icon--spin"},h=(0,r.EW)(()=>[i.value.class,d(t.spin??i.value.spin)]),p=(0,r.EW)(()=>{const e=t.rotation?`rotate(${t.rotation}deg)`:"",n="vertical"===t.flip||"both"===t.flip?-1:1,r="horizontal"===t.flip||"both"===t.flip?-1:1,a="off"===t.flip?"":`scale(${n}, ${r})`;return`${a} ${e}`.trim()}),f=(0,r.EW)(()=>({transform:p.value,cursor:l.onClick?"pointer":null,color:t.color?n(t.color,void 0,!0):i.value.color,fontSize:a.value,height:a.value,lineHeight:a.value})),v=(0,r.EW)(()=>l.tabindex??-1),m=(0,r.EW)(()=>"button"!==l.role||v.value<0);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(s.value),(0,r.v6)({class:["va-icon",h.value],style:f.value,"aria-hidden":m.value,notranslate:""},c.value),{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default",{},()=>[i.value.content?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.eW)((0,b.v_)(i.value.content),1)],64)):(0,r.Q3)("",!0)])]),_:3},16,["class","style","aria-hidden"]))}}),Pn=ke(Bn),Mn=e=>e.startsWith("$t:"),Wn=e=>({type:String,default:e}),Fn=(e,t)=>t?(Object.keys(t).forEach(n=>{e=e.replace(`{${n}}`,String(t[n]))}),e):e,Un=()=>{const{globalConfig:e}=fe(),t=(0,r.EW)(()=>e.value.i18n);function n(e,n){var a;const o=null==(a=(0,r.nI)())?void 0:a.appContext.config.globalProperties.$t;if("function"===typeof o){const t=o(`vuestic.${e}`,n);if(t)return t}const i=t.value[e];return i?Fn(i,n)||e:(B(`${e} not found in VuesticUI i18n config`),e)}function a(e,t){return e?Mn(e)?n(e.slice(3),t):Fn(e,t)||e:""}return{tp:a,t:n}},jn={key:1,class:"va-alert__close"},zn=["aria-label"],Kn=(0,r.pM)({name:"VaAlert",__name:"VaAlert",props:{...xe,...Ne,modelValue:{type:Boolean,default:!0},stateful:{type:Boolean,default:!0},color:{type:String,default:"primary"},textColor:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},icon:{type:String,default:""},closeText:{type:String,default:""},closeIcon:{type:String,default:"close"},closeable:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},center:{type:Boolean,default:!1},borderColor:{type:String,default:""},border:{type:String,default:"",validator:e=>["top","right","bottom","left",""].includes(e)}},emits:[...Ve],setup(e,{expose:t,emit:n}){const a=e,o=n,{contentStyle:i,titleStyle:s,alertStyle:u,borderStyle:c}=sn(a),{valueComputed:d}=$e(a,o),h=()=>{d.value=!1},p=()=>{d.value=!0},f=(0,r.Ht)(),v=(0,r.EW)(()=>a.icon||f.icon),m=(0,r.EW)(()=>a.title||f.title),g=(0,r.EW)(()=>`va-alert__border--${a.border}`),{tp:y,t:_}=Un();return t({hide:h,show:p}),(t,n)=>((0,r.uX)(),(0,r.Wv)(Ze.eB,{name:"fade"},{default:(0,r.k6)(()=>[(0,l.R1)(d)?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-alert",style:(0,b.Tr)((0,l.R1)(u)),role:"alert"},[(0,r.Lk)("div",{style:(0,b.Tr)((0,l.R1)(c)),class:(0,b.C4)([g.value,"va-alert__border"])},null,6),v.value?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)((0,l.R1)(i)),class:"va-alert__icon","aria-hidden":"true"},[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.bF)((0,l.R1)(Pn),{name:e.icon},null,8,["name"])])],4)):(0,r.Q3)("",!0),(0,r.Lk)("div",{style:(0,b.Tr)((0,l.R1)(i)),class:"va-alert__content"},[m.value?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)((0,l.R1)(s)),class:"va-alert__title"},[(0,r.RG)(t.$slots,"title",{},()=>[(0,r.eW)((0,b.v_)(e.title),1)])],4)):(0,r.Q3)("",!0),(0,r.Lk)("span",null,[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.eW)((0,b.v_)(t.$props.description),1)])])],4),e.closeable?((0,r.uX)(),(0,r.CE)("div",jn,[(0,r.Lk)("div",{role:"button",class:"va-alert__close--closeable",tabindex:"0","aria-label":e.closeText||(0,l.R1)(_)("closeAlert"),style:(0,b.Tr)((0,l.R1)(i)),onClick:h,onKeydown:[(0,Ze.jR)(h,["space"]),(0,Ze.jR)(h,["enter"])]},[(0,r.RG)(t.$slots,"close",{},()=>[e.closeText?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,name:e.closeIcon},null,8,["name"])),(0,r.eW)(" "+(0,b.v_)(e.closeText),1)])],44,zn)])):(0,r.Q3)("",!0)],4)):(0,r.Q3)("",!0)]),_:3}))}}),Gn=ke(Kn),Xn={hideOnScroll:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1}};function Hn(e,t){const n=(0,r.EW)(()=>!!t.value&&!!e.hideOnScroll),a=(0,r.EW)(()=>{if(e.bottom||n.value)return e.bottom&&n.value?"translateY(100%)":e.bottom?e.fixed?"translateY(-100%)":"translateY(0)":"translateY(-100%)"}),o=(0,r.EW)(()=>e.fixed?"fixed":n.value?"absolute":void 0),i=(0,r.EW)(()=>{const t={top:e.bottom&&(n.value||e.fixed)?"100%":void 0,transform:e.hideOnScroll||e.fixed?a.value:void 0};return o.value&&Object.assign(t,{position:o.value}),t});return{fixedBarStyleComputed:i}}function qn(e){if(!e)throw new Error("No target was provided for `useScroll` hook!");return"string"===typeof e?document.querySelector(e):e}function Qn(e,t){const n=(0,l.IJ)();let a;const o=(0,l.KR)(!1),i=(0,l.KR)(0),s=e=>{const t=e.target,n=e.target instanceof Window?t.scrollY:t.scrollTop;o.value=i.value<n,i.value=n};return(0,r.sV)(()=>{a=e?window:qn(t||n.value),null==a||a.addEventListener("scroll",s,e)}),(0,r.xo)(()=>{null==a||a.removeEventListener("scroll",s)}),{scrollRoot:n,isScrolledDown:o}}const Yn=(0,r.pM)({name:"VaAppBar",__name:"VaAppBar",props:{...Xn,...Ne,gradient:{type:Boolean,default:!1},target:{type:[Object,String],default:""},shadowOnScroll:{type:Boolean,default:!1},shadowColor:{type:String,default:""},color:{type:String,default:"primary"}},setup(e){const t=e,{scrollRoot:n,isScrolledDown:a}=Qn(t.fixed,t.target),{fixedBarStyleComputed:o}=Hn(t,a),{getColor:i,getGradientBackground:s,getBoxShadowColor:u}=Xt(),c=(0,r.EW)(()=>i(t.color)),{textColorComputed:d}=Ht((0,l.lW)(t,"color")),h=(0,r.EW)(()=>!!a.value&&!!t.shadowOnScroll),p=(0,r.EW)(()=>i(t.shadowColor,c.value)),f=(0,r.EW)(()=>{const e=u(t.shadowColor?p.value:c.value);return h.value?`var(--va-app-bar-shadow) ${e}`:""}),v=(0,r.EW)(()=>({...o.value,background:t.gradient?s(c.value):c.value,boxShadow:f.value,color:d.value}));return(e,t)=>((0,r.uX)(),(0,r.CE)("header",{ref_key:"scrollRoot",ref:n,role:"toolbar",class:"va-app-bar",style:(0,b.Tr)(v.value)},[(0,r.RG)(e.$slots,"default")],4))}}),Jn=ke(Yn),Zn=(0,r.pM)({name:"VaAspectRatio",__name:"VaAspectRatio",props:{...Ne,ratio:{type:[Number,String],default:"auto"},contentHeight:{type:[Number,String],default:1},contentWidth:{type:[Number,String],default:1},maxWidth:{type:[Number,String],default:0,validator:e=>Number(e)>=0}},setup(e){const t=e,n=je("contentHeight"),a=je("contentWidth"),o=(0,r.EW)(()=>"auto"===t.ratio&&1===t.contentHeight&&1===t.contentWidth?0:isNaN(+t.ratio)?a.value/n.value:t.ratio),i=(0,r.EW)(()=>{if(o.value)return{paddingBottom:1/o.value*100+"%"}}),s=(0,r.EW)(()=>t.maxWidth?`${t.maxWidth}px`:void 0);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-aspect-ratio",style:(0,b.Tr)(`--va-max-width-computed: ${String(s.value)}`)},[i.value?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)(i.value)},null,4)):(0,r.Q3)("",!0),(0,r.RG)(e.$slots,"default")],4))}}),er=ke(Zn),tr=(e,t)=>Object.keys(e).filter(e=>t.includes(e)).reduce((t,n)=>(t[n]=e[n],t),{}),nr=(e,t,n)=>Math.min(Math.max(e,t),n),rr={class:"va-progress-circle__wrapper",viewBox:"0 0 40 40"},ar=["r","stroke","stroke-width","stroke-dasharray","stroke-dashoffset"],or=(0,r.pM)({name:"VaProgressCircle",__name:"VaProgressCircle",props:{...cn,...Ne,modelValue:{type:[Number,String],default:0},indeterminate:{type:Boolean,default:!1},thickness:{type:[Number,String],default:.06},color:{type:String,default:"primary"},ariaLabel:Wn("$t:progressState")},setup(e){const t=e,{getColor:n}=Xt(),{sizeComputed:a}=mn(t),o=(0,r.EW)(()=>nr(Number(t.thickness),0,1)/2*100),i=(0,r.EW)(()=>20-20*o.value/100),s=(0,r.EW)(()=>2*Math.PI*i.value),l=(0,r.EW)(()=>s.value*(1-nr(Number(t.modelValue),0,100)/100)),u=(0,r.EW)(()=>n(t.color,void 0,!0)),{tp:c}=Un(),d=(0,r.EW)(()=>({color:u.value})),h=(0,r.EW)(()=>({width:a.value,height:a.value})),p=(0,r.EW)(()=>({"va-progress-circle--indeterminate":t.indeterminate})),f=(0,r.EW)(()=>({role:"progressbar","aria-label":c(t.ariaLabel),"aria-valuenow":t.indeterminate?void 0:t.modelValue}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-progress-circle",p.value],style:h.value},f.value),[((0,r.uX)(),(0,r.CE)("svg",rr,[(0,r.Lk)("circle",{class:"va-progress-circle__overlay",cx:"50%",cy:"50%",r:i.value,fill:"none",stroke:u.value,"stroke-width":o.value+"%","stroke-dasharray":s.value,"stroke-dashoffset":l.value},null,8,ar)])),e.$slots.default?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)(d.value),class:"va-progress-circle__info"},[(0,r.RG)(e.$slots,"default")],4)):(0,r.Q3)("",!0)],16))}}),ir=ke(or),sr=(0,r.pM)({name:"VaFallback",props:{fallbackSrc:{type:String},fallbackText:{type:String},fallbackIcon:{type:String},fallbackRender:{type:Function}},components:{VaIcon:Pn},emits:["fallback"],setup(e,{emit:t}){return(0,r.sV)(()=>{t("fallback")}),e.fallbackIcon?()=>(0,r.h)(Pn,{name:e.fallbackIcon}):e.fallbackSrc?()=>(0,r.h)("img",{src:e.fallbackSrc}):e.fallbackRender?()=>{var t;return(0,r.h)(null==(t=e.fallbackRender)?void 0:t.call(e))}:()=>(0,r.h)("span",e.fallbackText)}}),lr=ke(sr);function ur(e){switch(!0){case Array.isArray(e):return e.reduce((e,t)=>({...e,[t]:null}),{});case"object"===typeof e&&null!==e:return e;default:return{}}}function cr(e,t,n="props"){const{mixins:r,extends:a}=t;a&&cr(e,a,n),r&&r.forEach(t=>cr(e,t,n));const o=ur(t[n]);for(const i in o)e[i]=o[i]}function dr(e){return e.options?e.options:e.__vccOpts||e.__b?{...e.__vccOpts,...e.__b}:e}function hr(e,t="props"){const n=e.mixins??[],r=e.extends??[],a={};cr(a,r,t);for(let o=0;o<n.length;o++)cr(a,n[o],t);return Object.assign(a,ur(e[t])),a}const pr=e=>hr(dr(e));function fr(e,t){const n=pr(e);return t?Object.keys(n).reduce((e,r)=>(t.includes(r)||void 0===n[r]||(e[r]="string"===typeof n[r]?{}:n[r]),e),{}):n}function vr(e){return[...new Set(e.emits)]}const mr={loading:{type:Boolean,default:!1}},gr=(e,t)=>{D&&!e&&console.warn('You must pass the @param "prefix" to the useBem hook!');const n=(0,r.EW)(()=>"function"===typeof t?t():(0,l.R1)(t)),a=(0,r.EW)(()=>Object.entries((0,l.R1)(n)).reduce((t,[n,r])=>(r&&(t[`${e}--${lt(n)}`]=!0),t),{})),o=(0,r.EW)(()=>Object.keys(a.value)),i=(0,r.EW)(()=>o.value.join(" "));return new Proxy({},{ownKeys(){return Reflect.ownKeys(a.value)},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(a.value,t)},get(e,t,n){switch(t){case"asArray":return o;case"asString":return i;case"asObject":return a;default:return Reflect.get(a.value,t,n)}}})},yr=e=>{const{props:t}=(0,r.nI)();return(0,r.EW)(()=>Object.keys(e).reduce((e,n)=>(e[n]=t[n],e),{}))},br=["src","alt"],_r=fr(lr),wr=(0,r.pM)({name:"VaAvatar",__name:"VaAvatar",props:{...mr,...cn,...Ne,..._r,color:{type:String,default:"primary"},textColor:{type:String},square:{type:Boolean,default:!1},fontSize:{type:String,default:""},src:{type:String,default:null},icon:{type:String,default:""},alt:{type:String,default:""}},emits:["error","fallback"],setup(e,{expose:t,emit:n}){const a=e,o=n,{getColor:i}=Xt(),s=(0,r.EW)(()=>i(a.color)),u=(0,r.EW)(()=>{if(!(a.loading||a.src&&!v.value))return s.value}),{sizeComputed:c,fontSizeComputed:d}=mn(a,"VaAvatar"),{textColorComputed:h}=Ht(u),p=(0,r.EW)(()=>({fontSize:a.fontSize||d.value})),f=gr("va-avatar",()=>({...tr(a,["square"])})),v=(0,l.KR)(!1),m=e=>{v.value=!0,o("error",e)};(0,r.wB)(()=>a.src,()=>{v.value=!1});const g=(0,r.EW)(()=>({hasError:v.value,onError:m})),y=yr(_r);return t({hasLoadError:v}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-avatar",(0,l.R1)(f)]),style:(0,b.Tr)([p.value,`--va-background-color-computed: ${String(u.value)};--va-text-color-computed: ${String((0,l.R1)(h))};--va-size-computed: ${String((0,l.R1)(c))}`])},[e.$props.loading?((0,r.uX)(),(0,r.Wv)((0,l.R1)(ir),{key:0,size:(0,l.R1)(c),color:s.value,indeterminate:""},null,8,["size","color"])):(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.v6)({key:1},g.value)),()=>[e.$props.src&&!v.value?((0,r.uX)(),(0,r.CE)("img",{key:0,src:e.$props.src,alt:e.$props.alt,onError:m},null,40,br)):v.value&&e.$props.src?(0,r.RG)(e.$slots,"fallback",{key:1},()=>[(0,r.bF)((0,l.R1)(lr),(0,r.v6)((0,l.R1)(y),{onFallback:t[0]||(t[0]=t=>e.$emit("fallback"))}),null,16)]):e.$props.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:2,name:e.$props.icon},null,8,["name"])):(0,r.RG)(e.$slots,"fallback",{key:3},()=>[(0,r.bF)((0,l.R1)(lr),(0,r.v6)((0,l.R1)(y),{onFallback:t[1]||(t[1]=t=>e.$emit("fallback"))}),null,16)])])],6))}}),Er=ke(wr),kr=fr(Er),Cr=(0,r.pM)({name:"VaAvatarGroup",__name:"VaAvatarGroup",props:{...cn,...Ne,...kr,max:{type:[Number,String],default:0},vertical:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},restColor:{type:String,default:"secondary"}},setup(e){const t=e,n=je("max"),a=gr("va-avatar-group",()=>({...tr(t,["vertical"])})),o=(0,r.EW)(()=>n.value&&n.value<=t.options.length?t.options.slice(0,n.value):t.options),i=(0,r.EW)(()=>{const e=t.options.length>0,r=o.value.length<t.options.length,a=t.options.length-(n.value||0);return e&&r?a:0}),{sizeComputed:s,fontSizeComputed:u}=mn(t,"VaAvatarGroup"),c=yr(kr),d=(0,r.EW)(()=>({...c.value,fontSize:u.value,size:s.value}));return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-avatar-group",(0,l.R1)(a)]),role:"list"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.value,(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Er),(0,r.v6)({key:t},{...d.value,...e},{role:"listitem"}),null,16))),128)),i.value>0?(0,r.RG)(t.$slots,"rest",(0,b._B)((0,r.v6)({key:0},d.value)),()=>[(0,r.bF)((0,l.R1)(Er),(0,r.v6)(d.value,{color:e.restColor,class:"va-avatar-group__rest",role:"listitem"}),{default:(0,r.k6)(()=>[(0,r.eW)(" +"+(0,b.v_)(i.value),1)]),_:1},16,["color"])]):(0,r.Q3)("",!0)],2))}}),Sr=ke(Cr),Rr=(e,t,n)=>{const a=(0,r.nI)();if(!a)throw new Error("`useButtonBackground` hook must be used only inside of setup function!");const o=a.props,{getColor:i,getGradientBackground:s}=Xt(),l=(0,r.EW)(()=>o.plain?"transparent":o.gradient?s(e.value):e.value),u=(0,r.EW)(()=>!o.plain&&n.value),c=(0,r.EW)(()=>!o.plain&&t.value),d=(0,r.EW)(()=>c.value&&"opacity"===o.pressedBehavior?o.pressedOpacity:u.value&&"opacity"===o.hoverBehavior?Number(o.hoverOpacity):Number(o.backgroundOpacity)),h=(0,r.EW)(()=>u.value&&"mask"===o.hoverBehavior),p=(0,r.EW)(()=>c.value&&"mask"===o.pressedBehavior),f=(0,r.EW)(()=>p.value?o.pressedOpacity:h.value?Number(o.hoverOpacity):0),v=(0,r.EW)(()=>p.value?i(o.pressedMaskColor):h.value?i(o.hoverMaskColor):"transparent");return{backgroundColor:l,backgroundColorOpacity:d,backgroundMaskOpacity:f,backgroundMaskColor:v}},Tr={tag:{type:String,default:"span"},to:{type:[String,Object],default:void 0},replace:{type:Boolean,default:void 0},append:{type:Boolean,default:void 0},exact:{type:Boolean,default:void 0},activeClass:{type:String,default:void 0},exactActiveClass:{type:String,default:void 0},href:{type:String,default:void 0},target:{type:String,default:void 0},disabled:{type:Boolean,default:!1}},Ir=e=>{const t=(0,r.nI)(),n=(0,r.EW)(()=>null==t?void 0:t.appContext.config.globalProperties),a=(0,r.EW)(()=>{var e;return null==(e=n.value)?void 0:e.$router}),o=(0,r.EW)(()=>{var e;return null==(e=n.value)?void 0:e.$route}),{getGlobalConfig:i}=fe(),s=(0,r.EW)(()=>{if(e.disabled)return e.tag;if(e.href&&!e.to)return"a";const t=i();return t.routerComponent&&e.to?t.routerComponent:e.to&&void 0!==a.value?"router-link":e.to&&void 0===a.value?"a":e.tag||"div"}),l=(0,r.EW)(()=>!e.disabled&&Boolean(e.href||e.to)),u=(0,r.EW)(()=>l.value?"a"===s.value?{target:e.target,href:d.value}:{target:e.target,to:e.to,replace:e.replace,append:e.append,activeClass:e.activeClass,exact:e.exact,exactActiveClass:e.exactActiveClass}:{}),c=(0,r.EW)(()=>{if(!a.value||!e.to)return!1;const t=a.value.resolve(e.to).href,n=a.value.currentRoute.value.path;return t.replace("#","")===n.replace("#","")}),d=(0,r.EW)(()=>{var t;return e.href?e.href:void 0===o.value&&e.to?e.to:e.to?null==(t=a.value)?void 0:t.resolve(e.to,o.value).href:void 0});return{isLinkTag:l,tagComputed:s,hrefComputed:d,isActiveRouterLink:c,linkAttributesComputed:u}},xr=e=>{const{linkAttributesComputed:t,isLinkTag:n}=Ir(e),a=(0,r.EW)(()=>n.value?void 0:e.type),o=(0,r.EW)(()=>{const t={"aria-disabled":!!e.disabled,disabled:!!e.disabled};return n.value?t:{type:a.value,tabindex:e.loading||e.disabled?-1:0,...t}});return(0,r.EW)(()=>({...t.value,...o.value}))},Ar=e=>{var t,n,r;if(Pe())return e;if(e>0){const a=null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent,o=a&&/^((?!chrome|android).)*safari/i.test(null==(n=null==window?void 0:window.navigator)?void 0:n.userAgent),i=a&&/(version.)15|16/i.test(null==(r=null==window?void 0:window.navigator)?void 0:r.userAgent);if(o&&!i)return e<1?1-e:e}return e},Vr=(e,t,n,a)=>{const o=(0,r.nI)();if(!o)throw new Error("`useButtonTextColor` hook must be used only inside of setup function!");const i=o.props,{getColor:s,colorToRgba:l,getStateMaskGradientBackground:u}=Xt(),c=(0,r.EW)(()=>({background:"transparent",color:e.value,"-webkit-background-clip":"text","background-clip":"text",opacity:f.value})),d=(n,r,a)=>{const o=s(n);let i;return i="opacity"===a?{color:l(e.value,r)}:{background:u(t.value,o,r),color:r<1?l(e.value,Ar(r)):o},{...c.value,...i}},h=(0,r.EW)(()=>d(i.hoverMaskColor,Number(i.hoverOpacity),i.hoverBehavior)),p=(0,r.EW)(()=>d(i.pressedMaskColor,i.pressedOpacity,i.pressedBehavior)),f=(0,r.EW)(()=>{if(!i.disabled)return 1===i.textOpacity||a.value&&!n.value?1:n.value?.9:i.textOpacity});return(0,r.EW)(()=>{const t={color:e.value,background:"transparent"};return i.plain&&Object.assign(t,c.value,{background:e.value}),i.plain?n.value?p.value:a.value?h.value:t:t})},$r={hoverBehavior:{type:String,default:"mask",validator:e=>["opacity","mask"].includes(e)},hoverOpacity:{type:[Number,String],default:.15},hoverMaskColor:{type:String,default:"textInverted"}},Nr={pressedBehavior:{type:String,default:"mask",validator:e=>["opacity","mask"].includes(e)},pressedOpacity:{type:Number,default:.13},pressedMaskColor:{type:String,default:"textPrimary"}},Lr=e=>{if(e&&"object"===typeof e&&(e=(0,l.R1)(e),e))return"undefined"!==typeof e.$el?e.$el:e},Or=e=>e instanceof HTMLElement,Dr=e=>{e&&Or(e)&&(e.focus(),e.dispatchEvent(new FocusEvent("focus",{bubbles:!0})))},Br=e=>{e&&Or(e)&&(e.blur(),e.dispatchEvent(new Event("blur",{bubbles:!0})))},Pr=e=>{if(-1!==e.tabIndex)return void Dr(e);const t=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&Dr(t)},Mr=e=>{const t=(0,r.EW)(Me),n=(0,l.KR)(null);return(0,r.wB)(t,()=>{t.value&&(n.value=e())},{immediate:!0}),n},Wr=()=>Mr(()=>window),Fr=(e,...t)=>{e&&"object"===typeof e&&("addEventListener"in e&&"function"===typeof e.addEventListener?e.addEventListener(...t):"parentElement"in e&&Fr(e.parentElement,...t))},Ur=(e,...t)=>{e&&"object"===typeof e&&("removeEventListener"in e&&"function"===typeof e.removeEventListener?e.removeEventListener(...t):"parentElement"in e&&Ur(e.parentElement,...t))},jr=(e,t,n)=>{const a=n&&"boolean"!==typeof n?n:Wr(),o="boolean"===typeof n&&n;(0,r.wB)(a,(n,r)=>{Array.isArray(e)?e.forEach(e=>{Fr(Lr((0,l.R1)(n)),e,t,o),Ur(Lr((0,l.R1)(r)),e,t,o)}):(Fr(Lr((0,l.R1)(n)),e,t,o),Ur(Lr((0,l.R1)(r)),e,t,o))},{immediate:!0})},zr=(e,t,n={})=>{(0,r.sV)(()=>window.addEventListener(e,t,{capture:!0,...n})),(0,r.xo)(()=>window.removeEventListener(e,t,{capture:!0,...n}))},Kr=()=>{const e=(0,l.IJ)(),t=()=>{e.value=document.activeElement};return(0,r.sV)(t),zr("focus",t),zr("blur",t),e},Gr=["focus","blur"];function Xr(e,t){const n=Kr(),a=(0,r.EW)({get:()=>!A(n.value)&&(!A(null==e?void 0:e.value)&&n.value===(null==e?void 0:e.value)),set:e=>{e?s():l()}}),o=e=>{null==t||t("focus",e)},i=e=>{null==t||t("blur",e)},s=()=>{(null==e?void 0:e.value)&&Dr(Lr(null==e?void 0:e.value))},l=()=>{(null==e?void 0:e.value)&&Br(Lr(null==e?void 0:e.value))};return jr("focus",o,e),jr("blur",i,e),{isFocused:a,onFocus:o,onBlur:i,focus:s,blur:l}}const Hr=e=>{const t=(0,r.nI)();let n=()=>{};const a=(0,l.rY)((r,a)=>(n=a,{get(){var n;return r(),null==(n=t.proxy)?void 0:n.$refs[e]},set(e){}}));return(0,r.sV)(n),(0,r.$u)(n),a},qr=e=>{if((0,l.i9)(e))return(0,r.EW)({get(){return Lr(e.value)},set(t){e.value=t}});if(e){const t=Hr(e);return(0,r.EW)({get(){return Lr(t.value)},set(e){t.value=e}})}const t=(0,l.IJ)();return(0,r.EW)({set(e){t.value=Lr(e)},get(){return t.value}})};function Qr(e,t){const n=(0,l.KR)(!1),a=()=>{(null==t?void 0:t.value)||(n.value=!0)},o=()=>{n.value=!1};t&&(0,r.wB)(t,e=>{e&&(n.value=!1)});const i=qr(e);return jr("mouseenter",a,i),jr("mouseleave",o,i),{isHovered:n,onMouseEnter:a,onMouseLeave:o}}function Yr(e){const t=(0,l.KR)(!1),n=()=>{t.value=!0},r=()=>{t.value=!1},a=qr(e);return jr(["mousedown","touchstart","dragstart"],n,a),jr(["mouseup","mouseleave","touchend","touchcancel","drop","dragend"],r,!0),{isPressed:t,onMouseDown:n,onMouseUp:r}}const Jr=e=>"function"===typeof e,Zr=(e,t=!0)=>{var n;if((0,r.vv)(e))return!0;if(!e||t&&(!Jr(e)||!(null==(n=e())?void 0:n.length)))return!1;const a=t?e():e;return Array.isArray(a)?a.some(e=>Array.isArray(e.children)?Zr(e.children,!1):e.children||e.props):!!a.children},ea=(e="default")=>{const{slots:t}=(0,r.nI)();return(0,r.EW)(()=>Zr(t[e]))},ta=(0,r.pM)({name:"VaButton",__name:"VaButton",props:{...Ne,...cn,...$r,...Nr,...mr,...Tr,tag:{type:String,default:"button"},type:{type:String,default:"button"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},textColor:{type:String,default:""},textOpacity:{type:[Number,String],default:1},backgroundOpacity:{type:[Number,String],default:1},borderColor:{type:String,default:""},gradient:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},icon:{type:String,default:""},iconRight:{type:String,default:""},iconColor:{type:String,default:""}},setup(e,{expose:t}){const n=e,{getColor:a}=Xt(),o=(0,r.EW)(()=>a(n.color)),{sizeComputed:i}=mn(n),s=(0,r.EW)(()=>{const e=/([0-9]*)(px)/.exec(i.value);return e?`${+e[1]/2}${e[2]}`:i.value}),{tagComputed:u}=Ir(n),c=xr(n),{disabled:d}=(0,l.QW)(n),h=(0,l.IJ)(),{focus:p,blur:f}=Xr(h),{isHovered:v}=Qr(h,d),{isPressed:m}=Yr(h),g=(0,r.EW)(()=>n.iconColor?a(n.iconColor):I.value),y=(0,r.EW)(()=>({color:g.value,size:n.size})),_=(0,r.EW)(()=>({"va-button__content--loading":n.loading})),w=ea(),E=(0,r.EW)(()=>!!(n.iconRight&&!n.icon||!n.iconRight&&n.icon)),k=(0,r.EW)(()=>!w.value&&E.value),C=je("textOpacity"),S=je("backgroundOpacity"),R=gr("va-button",()=>({...tr(n,["disabled","block","loading","round","plain"]),small:"small"===n.size,normal:!n.size||"medium"===n.size,large:"large"===n.size,opacity:C.value<1,bordered:!!n.borderColor,iconOnly:k.value,leftIcon:!k.value&&!!n.icon&&!n.iconRight,rightIcon:!k.value&&!n.icon&&!!n.iconRight})),T=(0,r.EW)(()=>n.plain||S.value<.5),{textColorComputed:I}=Ht(o,T),{backgroundColor:x,backgroundColorOpacity:A,backgroundMaskOpacity:V,backgroundMaskColor:$}=Rr(o,m,v),N=Vr(I,o,m,v),L=(0,r.EW)(()=>({borderColor:n.borderColor?a(n.borderColor):"transparent",...N.value}));return t({focus:p,blur:f}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(u)),(0,r.v6)({ref_key:"button",ref:h,class:["va-button",(0,l.R1)(R)],style:[L.value,`--va-background-color: ${String((0,l.R1)(x))};--va-background-color-opacity: ${String((0,l.R1)(A))};--va-background-mask-color: ${String((0,l.R1)($))};--va-background-mask-opacity: ${String((0,l.R1)(V))}`]},(0,l.R1)(c)),{default:(0,r.k6)(()=>[(0,r.Lk)("span",{class:(0,b.C4)(["va-button__content",_.value])},[(0,r.RG)(t.$slots,"prepend",(0,b._B)((0,r.Ng)({icon:e.icon,iconAttributes:y.value})),()=>[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:0,class:"va-button__left-icon",name:e.icon},y.value),null,16,["name"])):(0,r.Q3)("",!0)]),(0,r.RG)(t.$slots,"default"),(0,r.RG)(t.$slots,"append",(0,b._B)((0,r.Ng)({icon:e.iconRight,iconAttributes:y.value})),()=>[e.iconRight?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:0,class:"va-button__right-icon",name:e.iconRight},y.value),null,16,["name"])):(0,r.Q3)("",!0)])],2),t.loading?(0,r.RG)(t.$slots,"loading",(0,b._B)((0,r.v6)({key:0},{size:s.value,color:(0,l.R1)(I)})),()=>[(0,r.bF)((0,l.R1)(ir),{class:"va-button__loader",size:s.value,color:(0,l.R1)(I),thickness:.15,indeterminate:""},null,8,["size","color"])]):(0,r.Q3)("",!0)]),_:3},16,["class","style"]))}}),na=ke(ta),ra=["aria-label","onKeydown"],aa=(0,r.pM)({name:"VaBacktop",__name:"VaBacktop",props:{...Ne,target:{type:[Object,String],default:void 0},visibilityHeight:{type:[Number,String],default:300},speed:{type:[Number,String],default:50},verticalOffset:{type:String,default:"1rem"},horizontalOffset:{type:String,default:"1rem"},color:{type:String,default:""},horizontalPosition:{type:String,default:"right",validator:e=>["right","left"].includes(e)},verticalPosition:{type:String,default:"bottom",validator:e=>["bottom","top"].includes(e)},ariaLabel:Wn("$t:backToTop")},setup(e){const t=e,n=(0,l.KR)(0),a=(0,r.EW)(()=>({[t.verticalPosition]:t.verticalOffset,[t.horizontalPosition]:t.horizontalOffset}));let o;const i=je("visibilityHeight"),s=je("speed"),u=()=>{if(!t.target)return window;if("string"===typeof t.target){const e=document.querySelector(t.target);return e||(B(`Target element [${t.target}] is not found, falling back to window.`),window)}return t.target},c=(0,l.KR)(!1),d=(0,l.KR)(0),h=()=>{c.value||(c.value=!0,o instanceof Window?window.scrollTo({top:0,behavior:"smooth"}):d.value=window.setInterval(()=>{if(o instanceof Element)if(0===o.scrollTop)clearInterval(d.value),c.value=!1;else{const e=Math.floor(o.scrollTop-s.value);o.scrollTo(0,e)}},15))},p=()=>{n.value=o instanceof Window?o.scrollY:o.scrollTop},f=Pe(),v=(0,r.EW)(()=>!f&&n.value>i.value);f||((0,r.sV)(()=>{o=u(),o.addEventListener("scroll",p,!0)}),(0,r.xo)(()=>null==o?void 0:o.removeEventListener("scroll",p)));const{tp:m}=Un();return(t,n)=>v.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-backtop",role:"button","aria-label":(0,l.R1)(m)(t.$props.ariaLabel),tabindex:"1",style:(0,b.Tr)(a.value),onClick:h,onKeydown:(0,Ze.jR)((0,Ze.D$)(h,["stop"]),["enter"])},[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.bF)((0,l.R1)(na),{"aria-hidden":"true",icon:"va-arrow-up",color:e.color},null,8,["color"])])],44,ra)):(0,r.Q3)("",!0)}}),oa=ke(aa),ia=["top","bottom"],sa=["left","right"],la=[...ia,...sa],ua=["start","end","center"],ca=la.reduce((e,t)=>(e.push(t),ua.forEach(n=>e.push(`${t}-${n}`)),e),["auto"]),da=ia.reduce((e,t)=>(sa.forEach(n=>{e.push(`${t}-${n}`),e.push(`${n}-${t}`)}),e),[]),ha=[...ca,...da],pa={"top-left":"top-start","left-top":"top-start","top-right":"top-end","right-top":"top-end","bottom-left":"bottom-start","left-bottom":"bottom-start","bottom-right":"bottom-end","right-bottom":"bottom-end"},fa={placement:{type:String,default:"auto",validator:e=>ha.includes(e)}},va=e=>{const t=(0,r.EW)(()=>{const t=pa[e.placement]||e.placement;return t.split("-")}),n=(0,r.EW)(()=>{const e=t.value[0];return"auto"===e?"bottom":e}),a=(0,r.EW)(()=>t.value[1]||"center");return{position:n,align:a}},ma=()=>{const e=e=>"string"===typeof e&&(!isNaN(+e)||e.endsWith("px")||e.endsWith("rem")),t=t=>"number"===typeof t?t>=0:e(t)&&parseInt(t)>=0,n=(e,t=16)=>{const n=(0,l.R1)(e);if("string"===typeof n){const e=parseInt(n);return isNaN(e)?0:n.endsWith("rem")?e*(0,l.R1)(t):e}return n};return{isParsableMeasure:e,isParsablePositiveMeasure:t,parseSizeValue:n}},{isParsableMeasure:ga,parseSizeValue:ya}=ma(),ba={overlap:{type:Boolean,default:!1},placement:{type:String,default:"top-end",validator:e=>ha.includes(e)},offset:{type:[Number,String,Array],default:0,validator:e=>Array.isArray(e)?e.every(ga):"string"===typeof e?ga(e):!isNaN(e)}},_a=(e,t)=>{if(!t.value)return{};const{position:n,align:a}=va(e),o=(0,r.EW)(()=>{const t={start:e.overlap?"-50%":"-100%",center:"-50%",end:e.overlap?"-50%":"0%"};return t[a.value]}),i=(0,r.EW)(()=>{if(!e.offset)return{};const t=["left","right"].includes(n.value)?"top":"left",r="top"===t?"left":"top";if(Array.isArray(e.offset)){const[n,a]=e.offset.map(ya);return{[`margin-${t}`]:`${n}px`,[`margin-${r}`]:`${a}px`}}const a=ya(e.offset);return{[`margin-${r}`]:`${a}px`}}),s=(0,r.EW)(()=>{const e=["left","right"].includes(n.value)?"top":"left",t="top"===e?"left":"top";let r="0%";"top"===t&&"bottom"===n.value&&(r="100%"),"left"===t&&"right"===n.value&&(r="100%");const o={start:{[e]:"0%",[t]:r},center:{[e]:"50%",[t]:r},end:{[e]:"100%",[t]:r}};return o[a.value]}),l=(0,r.EW)(()=>{const t={top:{x:o.value,y:e.overlap?"-50%":"-100%"},bottom:{x:o.value,y:e.overlap?"-50%":"0%"},left:{x:e.overlap?"-50%":"-100%",y:o.value},right:{x:e.overlap?"-50%":"0%",y:o.value}},{x:r,y:a}=t[n.value];return{transform:`translate(${r}, ${a})`}});return(0,r.EW)(()=>({...s.value,...l.value,...i.value}))},wa={props:"prop",attrs:"prop",slots:"slot"},Ea=(e,t=["props","attrs"])=>{if(!D)return;const n=(0,r.nI)();if(!n)throw new Error("`useDeprecated` hook must be used only inside of setup function!");const a=n.type.name,o=(0,l.R1)(e);t.every(e=>{var t;const r=wa[e],i=e=>console.warn(`The '${e}' ${r} (${a} component) is deprecated! Please, check the documentation.`);if("props"===e){const e=(null==(t=n.propsOptions)?void 0:t[0])||{},r=n.props||{};return o.forEach(t=>{e[t]&&r[t]!==e[t].default&&i(t)}),!0}return Object.keys({...n[e]}).forEach(e=>{o.includes(e)&&i(e)}),!0})},ka=["aria-labelledby"],Ca={class:"va-badge__text"},Sa=(0,r.pM)({name:"VaBadge",__name:"VaBadge",props:{...Ne,...ba,color:{type:String,default:"danger"},textColor:{type:String},text:{type:[String,Number],default:""},multiLine:{type:Boolean,default:!1},visibleEmpty:{type:Boolean,default:!1},dot:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1}},setup(e){const t=e;Ea(["transparent"]);const n=(0,r.Ht)(),a=(0,r.EW)(()=>!(t.text||t.visibleEmpty||t.dot||n.text)),o=(0,r.EW)(()=>!(!n.default&&!t.dot)),i=gr("va-badge",()=>({...tr(t,["visibleEmpty","dot","multiLine"]),empty:a.value,floating:o.value})),{getColor:s}=Xt(),u=(0,r.EW)(()=>s(t.color)),{textColorComputed:c}=Ht(u),d=_a(t,o),h=(0,r.EW)(()=>({color:c.value,borderColor:u.value,backgroundColor:u.value,opacity:t.transparent?.5:1,...(0,l.R1)(d)})),p=(0,r.EW)(()=>t.text?String(t.text):void 0);return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-badge",(0,l.R1)(i)]),role:"status","aria-labelledby":p.value},[(0,r.Lk)("span",{class:"va-badge__text-wrapper",style:(0,b.Tr)(h.value)},[(0,r.Lk)("span",Ca,[(0,r.RG)(t.$slots,"text",{},()=>[(0,r.eW)((0,b.v_)(e.text),1)])])],4),(0,r.RG)(t.$slots,"default")],10,ka))}}),Ra=ke(Sa),Ta=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Ia=e=>e&&"function"===typeof e?e():e,xa={align:{type:String,default:"left"},vertical:{type:Boolean,default:!1}},Aa={left:"flex-start",center:"center",right:"flex-end",between:"space-between",around:"space-around"},Va={left:"flex-start",center:"center",right:"flex-end",stretch:"stretch"},$a=(e,t)=>t?"center":e?Aa[e]:"flex-start",Na=(e,t)=>t?Va[e]:"center";function La(e){const t=(0,r.EW)(()=>({display:"flex",flexDirection:e.vertical?"column":"row",justifyContent:$a(e.align,e.vertical),alignItems:Na(e.align,e.vertical)}));return{alignComputed:t}}const Oa=(0,r.pM)({name:"VaBreadcrumbs",props:{...xa,...Ne,separator:{type:String,default:"/"},color:{type:String,default:null},disabledColor:{type:String,default:"secondary"},activeColor:{type:String,default:null},separatorColor:{type:String,default:null},ariaLabel:Wn("$t:breadcrumbs")},setup(e,{slots:t}){const{alignComputed:n}=La(e),{getColor:a}=Xt(),o=(0,r.EW)(()=>e.separatorColor?a(e.separatorColor):null),i=(0,r.EW)(()=>e.color?a(e.color):null),s=(0,r.EW)(()=>e.activeColor?a(e.activeColor):null),u=(e,t)=>{const n=t&&t.type===r.FK&&t.children?t.children:[t];return[...e,...n.filter(e=>{var t,n;return!!(null==(n=null==(t=null==e?void 0:e.type)?void 0:t.name)?void 0:n.match(/VaBreadcrumbsItem$/))})]},c=()=>{const n=Ia(t.separator)||[e.separator];return(0,r.h)("span",{"aria-hidden":!0,class:["va-breadcrumbs__separator"],style:[{color:o.value}]},n)},d=e=>{const t=null==e?void 0:e.props;return!(!t||!Ta(t,"disabled"))&&(""===t.disabled||Boolean(t.disabled))},h=(0,l.KR)(!0),p=()=>{const n=Ia(t.default);if(!n)return;const o=n.reduce(u,[])||[],l=o.length,p=e=>e===l-1,f=e=>{const t=null==e?void 0:e.props;return!(!t||!Ta(t,"to"))&&!(!t.to||t.disabled)},v=(t,n)=>(0,r.h)("span",{class:["va-breadcrumbs__item",{"va-breadcrumbs__item--disabled":d(t)}],"aria-current":!(!p(n)||!f(t))&&"location",style:{color:d(t)?a(e.disabledColor):p(n)?s.value:i.value}},[t]),m=[];return l&&o.forEach((e,t)=>{h.value&&!f(e)&&(h.value=!1),m.push(v(e,t)),p(t)||m.push(c())}),m},{tp:f}=Un();return()=>(0,r.h)("div",{class:"va-breadcrumbs",style:n.value,role:h.value?"navigation":void 0,"aria-label":h.value?f(e.ariaLabel):void 0},p())}}),Da=(0,r.pM)({name:"VaBreadcrumbsItem",__name:"VaBreadcrumbsItem",props:{...Tr,disabled:{type:Boolean,default:!1},label:{type:String,default:""}},setup(e){const t=e,{tagComputed:n,hrefComputed:a,isLinkTag:o}=Ir(t),i=(0,r.EW)(()=>({"va-breadcrumb-item--link":o.value}));return(t,o)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(n)),{class:(0,b.C4)(["va-breadcrumb-item",i.value]),"active-class":t.$props.activeClass,href:(0,l.R1)(a),to:t.$props.to,target:t.$props.target,replace:t.$props.replace,append:t.$props.append,exact:t.$props.exact,"exact-active-class":t.$props.exactActiveClass},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])]),_:3},8,["class","active-class","href","to","target","replace","append","exact","exact-active-class"]))}}),Ba=ke(Da),Pa=ke(Oa),Ma=e=>{const{globalConfig:t,mergeGlobalConfig:n,setGlobalConfig:a,getGlobalConfig:o}=fe(),i=(0,r.EW)(()=>{var n;const r=K(t.value),a={...r,colors:te(r.colors)},o=Q(a,e.value);return(null==(n=e.value.colors)?void 0:n.variables)&&Object.keys(e.value.colors.variables).forEach(t=>{o.colors.variables[t]=e.value.colors.variables[t]}),o});return(0,r.Gt)(ce,{mergeGlobalConfig:n,setGlobalConfig:a,getGlobalConfig:o,globalConfig:i}),i},Wa=(e,t)=>{if(!e)return null;if(!("type"in e)||e.type===r.EY||"string"===typeof e)return(0,r.h)("div",t,e);if(e.type===r.Mw)return e;if("$el"in e)return Wa(e.$el,t);if(e.type===r.tY)return(0,r.h)(e.ssContent,t);if(e.type===r.Im){if(null===e.children)return e;const n=Wa(e.children[0],t);return n&&(e.children[0]=(0,r.h)(n,t)),e}if(e.type===r.FK)return null===e.children?e:1===e.children.length?(0,r.h)(r.FK,e.props,[Wa(e.children[0],t)]):(0,r.h)("div",t,e);if("function"===typeof e.type.render){const n=(0,r.h)(e,t);if(Array.isArray(n.children)&&n.children.length>1)return(0,r.h)("div",t,n.children)}return(0,r.h)(e,t)},Fa=(e,t={},n={})=>{const a=null==e?void 0:e(t);if(!a)return null;const o=a.filter(e=>e.type!==r.Mw);return 0===o.length?null:1===o.length?Wa(o[0],n):(0,r.h)("div",{...n,class:(0,b.C4)([n.class,"va-headless-wrapper"])},a)},Ua=(e,t={},n={})=>{const r=null==e?void 0:e(t);return r?r.map(e=>Wa(e,n)):null},ja=(0,r.pM)({name:"VaCssVarsRenderer",inheritAttrs:!1,setup(e,{slots:t,attrs:n}){const{colorsToCSSVariable:a,colors:o}=Xt(),i=(0,r.EW)(()=>a(o));return()=>(0,r.h)(r.FK,n,Ua(t.default,{},{style:i.value})||void 0)}}),za=(0,r.pM)({name:"VaConfig",inheritAttrs:!1,__name:"VaConfig",props:{...Ne,components:{type:Object,default:()=>({})},colors:{type:Object},i18n:{type:Object}},setup(e){const t=e,n=S(),a=(0,r.EW)(()=>[...n.value,t.components]);R(a),Ma((0,r.EW)(()=>{const e={};return t.colors&&(e.colors=t.colors),t.i18n&&(e.i18n=t.i18n),e}));const o=(0,r.EW)(()=>Boolean(t.colors));return(e,t)=>o.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(ja),(0,b._B)((0,r.v6)({key:0},e.$attrs)),{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},16)):(0,r.RG)(e.$slots,"default",{key:1})}}),Ka=u(fr(na),["block","gradient"]),Ga=(0,r.pM)({name:"VaButtonGroup",__name:"VaButtonGroup",props:{...Ka,...Ne,grow:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1}},setup(e){const t=e,{getColor:n,getGradientBackground:a}=Xt(),o=(0,r.EW)(()=>n(t.color)),{textColorComputed:i}=Ht(o),s=yr(Ka),u=(0,r.EW)(()=>({VaButton:{...s.value,...t.gradient&&{color:"#00000000",textColor:i.value}}})),c=gr("va-button-group",()=>({square:!t.round,grow:t.grow,small:"small"===t.size,large:"large"===t.size})),d=(0,r.EW)(()=>t.gradient?a(o.value):"transparent");return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-button-group",(0,l.R1)(c)]),style:(0,b.Tr)(`--va-background-color: ${String(d.value)}`)},[(0,r.bF)((0,l.R1)(za),{components:u.value},{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},8,["components"])],6))}}),Xa=ke(Ga),Ha=(e,t)=>{let n=null;const r=function(...r){n&&clearTimeout(n),n=setTimeout(()=>{n=null,e.apply(this,r)},t)};return r.cancel=()=>{n&&clearTimeout(n),n=null},r},qa=e=>{let t=null;const n=()=>Ha(()=>{null==t||t(),t=null},(0,l.R1)(e));let a=n();return(0,l.i9)(e)&&(0,r.wB)(e,()=>{a=n()}),{debounced:e=>{t=e,a()},cancel:()=>a.cancel()}},Qa=e=>{const t=e.target;return("INPUT"===t.tagName||"TEXTAREA"===t.tagName)&&!t.attributes.getNamedItem("readonly")},Ya=e=>Array.isArray(e),Ja=(e,t,n,a)=>{const o=e=>(e=e.replace(/-/g,"").toLowerCase(),"space"===e?" ":"rightclick"===e?"contextmenu":e),i=(0,r.EW)(()=>Ya(a.trigger)?a.trigger.map(e=>o(e)):[o(a.trigger)]);jr("keydown",t=>{a.disabled||("Escape"===t.key&&e.value&&(e.value=!1,t.preventDefault()),Qa(t)||i.value.includes(o(t.key))&&(e.value=!e.value,t.preventDefault()))},t),jr("keydown",t=>{a.disabled||"Escape"===t.key&&e.value&&(e.value=!1,t.preventDefault())},n),jr(["click","contextmenu","dblclick"],t=>{a.disabled||Qa(t)||i.value.includes(o(t.type))&&(t.preventDefault(),e.value&&a.closeOnAnchorClick?(e.value=!1,a.cursor&&setTimeout(()=>{e.value=!0},16)):e.value=!0)},t),jr(["click","contextmenu","dblclick"],t=>{a.closeOnContentClick&&(e.value=!1)},n);const{debounced:s,cancel:l}=qa(je("hoverOverTimeout")),{debounced:u,cancel:c}=qa(je("hoverOutTimeout")),d=t=>{if(!a.disabled&&i.value.includes("hover"))if("mouseleave"===t.type){if(l(),!a.isContentHoverable)return void(e.value=!1);u(()=>{e.value=!1})}else c(),s(()=>{e.value=!0})};jr(["mouseleave","mouseenter"],d,t),jr(["mouseleave","mouseenter"],d,n)},Za=()=>Mr(()=>document),eo=()=>{const e=(0,l.KR)(!1);return(0,r.sV)(()=>{e.value=!0}),(0,r.xo)(()=>{e.value=!1}),e},to=e=>{const t=(0,l.KR)(),n=Za(),a=eo(),o=(0,r.EW)({set(e){t.value=Lr(e)},get(){var r,o,i;return a.value,"string"===typeof e.anchor?(null==(r=n.value)?void 0:r.querySelector(e.anchor))??t.value:"object"===typeof e.anchor?e.anchor:e.anchorSelector?(null==(o=n.value)?void 0:o.querySelector(e.anchorSelector))??t.value:e.innerAnchorSelector&&t.value?(null==(i=t.value)?void 0:i.querySelector(e.innerAnchorSelector))??t.value:t.value}});return{anchorRef:o}},no=(e,t)=>{const n=(0,l.Kh)({x:0,y:0});return jr(["mousemove","mousedown","mouseup"],r=>{var a;if(!t.value)return;const{x:o,y:i}=(null==(a=e.value)?void 0:a.getBoundingClientRect())??{x:0,y:0};n.x=r.clientX-o,n.y=r.clientY-i},e),(0,r.EW)(()=>({getBoundingClientRect(){var t;const{x:r,y:a}=(null==(t=e.value)?void 0:t.getBoundingClientRect())??{x:0,y:0},o=n.x+r,i=n.y+a;return{width:0,height:0,x:o,y:i,top:i,right:o,bottom:i,left:o}},contextElement:e.value}))},ro=Math.min,ao=Math.max,oo=Math.round,io=Math.floor,so=e=>({x:e,y:e}),lo={left:"right",right:"left",bottom:"top",top:"bottom"},uo={start:"end",end:"start"};function co(e,t,n){return ao(e,ro(t,n))}function ho(e,t){return"function"===typeof e?e(t):e}function po(e){return e.split("-")[0]}function fo(e){return e.split("-")[1]}function vo(e){return"x"===e?"y":"x"}function mo(e){return"y"===e?"height":"width"}const go=new Set(["top","bottom"]);function yo(e){return go.has(po(e))?"y":"x"}function bo(e){return vo(yo(e))}function _o(e,t,n){void 0===n&&(n=!1);const r=fo(e),a=bo(e),o=mo(a);let i="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=xo(i)),[i,xo(i)]}function wo(e){const t=xo(e);return[Eo(e),t,Eo(t)]}function Eo(e){return e.replace(/start|end/g,e=>uo[e])}const ko=["left","right"],Co=["right","left"],So=["top","bottom"],Ro=["bottom","top"];function To(e,t,n){switch(e){case"top":case"bottom":return n?t?Co:ko:t?ko:Co;case"left":case"right":return t?So:Ro;default:return[]}}function Io(e,t,n,r){const a=fo(e);let o=To(po(e),"start"===n,r);return a&&(o=o.map(e=>e+"-"+a),t&&(o=o.concat(o.map(Eo)))),o}function xo(e){return e.replace(/left|right|bottom|top/g,e=>lo[e])}function Ao(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vo(e){return"number"!==typeof e?Ao(e):{top:e,right:e,bottom:e,left:e}}function $o(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function No(e,t,n){let{reference:r,floating:a}=e;const o=yo(t),i=bo(t),s=mo(i),l=po(t),u="y"===o,c=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,h=r[s]/2-a[s]/2;let p;switch(l){case"top":p={x:c,y:r.y-a.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-a.width,y:d};break;default:p={x:r.x,y:r.y}}switch(fo(t)){case"start":p[i]-=h*(n&&u?-1:1);break;case"end":p[i]+=h*(n&&u?-1:1);break}return p}const Lo=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,s=o.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:d}=No(u,r,l),h=r,p={},f=0;for(let v=0;v<s.length;v++){const{name:n,fn:o}=s[v],{x:m,y:g,data:y,reset:b}=await o({x:c,y:d,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});c=null!=m?m:c,d=null!=g?g:d,p={...p,[n]:{...p[n],...y}},b&&f<=50&&(f++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(u=!0===b.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):b.rects),({x:c,y:d}=No(u,h,l))),v=-1)}return{x:c,y:d,placement:h,strategy:a,middlewareData:p}};async function Oo(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:o,rects:i,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=ho(t,e),f=Vo(p),v="floating"===d?"reference":"floating",m=s[h?v:d],g=$o(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y="floating"===d?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),_=await(null==o.isElement?void 0:o.isElement(b))&&await(null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},w=$o(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(g.top-w.top+f.top)/_.y,bottom:(w.bottom-g.bottom+f.bottom)/_.y,left:(g.left-w.left+f.left)/_.x,right:(w.right-g.right+f.right)/_.x}}const Do=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:v=!0,...m}=ho(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const g=po(a),y=yo(s),b=po(s)===s,_=await(null==l.isRTL?void 0:l.isRTL(u.floating)),w=h||(b||!v?[xo(s)]:wo(s)),E="none"!==f;!h&&E&&w.push(...Io(s,v,f,_));const k=[s,...w],C=await Oo(t,m),S=[];let R=(null==(r=o.flip)?void 0:r.overflows)||[];if(c&&S.push(C[g]),d){const e=_o(a,i,_);S.push(C[e[0]],C[e[1]])}if(R=[...R,{placement:a,overflows:S}],!S.every(e=>e<=0)){var T,I;const e=((null==(T=o.flip)?void 0:T.index)||0)+1,t=k[e];if(t){const n="alignment"===d&&y!==yo(t);if(!n||R.every(e=>e.overflows[0]>0&&yo(e.placement)===y))return{data:{index:e,overflows:R},reset:{placement:t}}}let n=null==(I=R.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:I.placement;if(!n)switch(p){case"bestFit":{var x;const e=null==(x=R.filter(e=>{if(E){const t=yo(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:x[0];e&&(n=e);break}case"initialPlacement":n=s;break}if(a!==n)return{reset:{placement:n}}}return{}}}};const Bo=new Set(["left","top"]);async function Po(e,t){const{placement:n,platform:r,elements:a}=e,o=await(null==r.isRTL?void 0:r.isRTL(a.floating)),i=po(n),s=fo(n),l="y"===yo(n),u=Bo.has(i)?-1:1,c=o&&l?-1:1,d=ho(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof f&&(p="end"===s?-1*f:f),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const Mo=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:i,middlewareData:s}=t,l=await Po(t,e);return i===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:o+l.y,data:{...l,placement:i}}}}},Wo=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=ho(e,t),u={x:n,y:r},c=await Oo(t,l),d=yo(po(a)),h=vo(d);let p=u[h],f=u[d];if(o){const e="y"===h?"top":"left",t="y"===h?"bottom":"right",n=p+c[e],r=p-c[t];p=co(n,p,r)}if(i){const e="y"===d?"top":"left",t="y"===d?"bottom":"right",n=f+c[e],r=f-c[t];f=co(n,f,r)}const v=s.fn({...t,[h]:p,[d]:f});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[d]:i}}}}}},Fo=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:i,elements:s}=t,{apply:l=()=>{},...u}=ho(e,t),c=await Oo(t,u),d=po(a),h=fo(a),p="y"===yo(a),{width:f,height:v}=o.floating;let m,g;"top"===d||"bottom"===d?(m=d,g=h===(await(null==i.isRTL?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,m="end"===h?"top":"bottom");const y=v-c.top-c.bottom,b=f-c.left-c.right,_=ro(v-c[m],y),w=ro(f-c[g],b),E=!t.middlewareData.shift;let k=_,C=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(k=y),E&&!h){const e=ao(c.left,0),t=ao(c.right,0),n=ao(c.top,0),r=ao(c.bottom,0);p?C=f-2*(0!==e||0!==t?e+t:ao(c.left,c.right)):k=v-2*(0!==n||0!==r?n+r:ao(c.top,c.bottom))}await l({...t,availableWidth:C,availableHeight:k});const S=await i.getDimensions(s.floating);return f!==S.width||v!==S.height?{reset:{rects:!0}}:{}}}};function Uo(){return"undefined"!==typeof window}function jo(e){return Go(e)?(e.nodeName||"").toLowerCase():"#document"}function zo(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ko(e){var t;return null==(t=(Go(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Go(e){return!!Uo()&&(e instanceof Node||e instanceof zo(e).Node)}function Xo(e){return!!Uo()&&(e instanceof Element||e instanceof zo(e).Element)}function Ho(e){return!!Uo()&&(e instanceof HTMLElement||e instanceof zo(e).HTMLElement)}function qo(e){return!(!Uo()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof zo(e).ShadowRoot)}const Qo=new Set(["inline","contents"]);function Yo(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ci(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Qo.has(a)}const Jo=new Set(["table","td","th"]);function Zo(e){return Jo.has(jo(e))}const ei=[":popover-open",":modal"];function ti(e){return ei.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const ni=["transform","translate","scale","rotate","perspective"],ri=["transform","translate","scale","rotate","perspective","filter"],ai=["paint","layout","strict","content"];function oi(e){const t=si(),n=Xo(e)?ci(e):e;return ni.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||ri.some(e=>(n.willChange||"").includes(e))||ai.some(e=>(n.contain||"").includes(e))}function ii(e){let t=hi(e);while(Ho(t)&&!ui(t)){if(oi(t))return t;if(ti(t))return null;t=hi(t)}return null}function si(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const li=new Set(["html","body","#document"]);function ui(e){return li.has(jo(e))}function ci(e){return zo(e).getComputedStyle(e)}function di(e){return Xo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hi(e){if("html"===jo(e))return e;const t=e.assignedSlot||e.parentNode||qo(e)&&e.host||Ko(e);return qo(t)?t.host:t}function pi(e){const t=hi(e);return ui(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ho(t)&&Yo(t)?t:pi(t)}function fi(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=pi(e),o=a===(null==(r=e.ownerDocument)?void 0:r.body),i=zo(a);if(o){const e=vi(i);return t.concat(i,i.visualViewport||[],Yo(a)?a:[],e&&n?fi(e):[])}return t.concat(a,fi(a,[],n))}function vi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mi(e){const t=ci(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ho(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:r,s=oo(n)!==o||oo(r)!==i;return s&&(n=o,r=i),{width:n,height:r,$:s}}function gi(e){return Xo(e)?e:e.contextElement}function yi(e){const t=gi(e);if(!Ho(t))return so(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=mi(t);let i=(o?oo(n.width):n.width)/r,s=(o?oo(n.height):n.height)/a;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}const bi=so(0);function _i(e){const t=zo(e);return si()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:bi}function wi(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==zo(e))&&t}function Ei(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),o=gi(e);let i=so(1);t&&(r?Xo(r)&&(i=yi(r)):i=yi(e));const s=wi(o,n,r)?_i(o):so(0);let l=(a.left+s.x)/i.x,u=(a.top+s.y)/i.y,c=a.width/i.x,d=a.height/i.y;if(o){const e=zo(o),t=r&&Xo(r)?zo(r):r;let n=e,a=vi(n);while(a&&r&&t!==n){const e=yi(a),t=a.getBoundingClientRect(),r=ci(a),o=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=i,n=zo(a),a=vi(n)}}return $o({width:c,height:d,x:l,y:u})}function ki(e,t){const n=di(e).scrollLeft;return t?t.left+n:Ei(Ko(e)).left+n}function Ci(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:ki(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function Si(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o="fixed"===a,i=Ko(r),s=!!t&&ti(t.floating);if(r===i||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=so(1);const c=so(0),d=Ho(r);if((d||!d&&!o)&&(("body"!==jo(r)||Yo(i))&&(l=di(r)),Ho(r))){const e=Ei(r);u=yi(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}const h=!i||d||o?so(0):Ci(i,l,!0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}}function Ri(e){return Array.from(e.getClientRects())}function Ti(e){const t=Ko(e),n=di(e),r=e.ownerDocument.body,a=ao(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ao(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+ki(e);const s=-n.scrollTop;return"rtl"===ci(r).direction&&(i+=ao(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:s}}function Ii(e,t){const n=zo(e),r=Ko(e),a=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,s=0,l=0;if(a){o=a.width,i=a.height;const e=si();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:o,height:i,x:s,y:l}}const xi=new Set(["absolute","fixed"]);function Ai(e,t){const n=Ei(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Ho(e)?yi(e):so(1),i=e.clientWidth*o.x,s=e.clientHeight*o.y,l=a*o.x,u=r*o.y;return{width:i,height:s,x:l,y:u}}function Vi(e,t,n){let r;if("viewport"===t)r=Ii(e,n);else if("document"===t)r=Ti(Ko(e));else if(Xo(t))r=Ai(t,n);else{const n=_i(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return $o(r)}function $i(e,t){const n=hi(e);return!(n===t||!Xo(n)||ui(n))&&("fixed"===ci(n).position||$i(n,t))}function Ni(e,t){const n=t.get(e);if(n)return n;let r=fi(e,[],!1).filter(e=>Xo(e)&&"body"!==jo(e)),a=null;const o="fixed"===ci(e).position;let i=o?hi(e):e;while(Xo(i)&&!ui(i)){const t=ci(i),n=oi(i);n||"fixed"!==t.position||(a=null);const s=o?!n&&!a:!n&&"static"===t.position&&!!a&&xi.has(a.position)||Yo(i)&&!n&&$i(e,i);s?r=r.filter(e=>e!==i):a=t,i=hi(i)}return t.set(e,r),r}function Li(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o="clippingAncestors"===n?ti(t)?[]:Ni(t,this._c):[].concat(n),i=[...o,r],s=i[0],l=i.reduce((e,n)=>{const r=Vi(t,n,a);return e.top=ao(r.top,e.top),e.right=ro(r.right,e.right),e.bottom=ro(r.bottom,e.bottom),e.left=ao(r.left,e.left),e},Vi(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Oi(e){const{width:t,height:n}=mi(e);return{width:t,height:n}}function Di(e,t,n){const r=Ho(t),a=Ko(t),o="fixed"===n,i=Ei(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=so(0);function u(){l.x=ki(a)}if(r||!r&&!o)if(("body"!==jo(t)||Yo(a))&&(s=di(t)),r){const e=Ei(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&u();o&&!r&&a&&u();const c=!a||r||o?so(0):Ci(a,s),d=i.left+s.scrollLeft-l.x-c.x,h=i.top+s.scrollTop-l.y-c.y;return{x:d,y:h,width:i.width,height:i.height}}function Bi(e){return"static"===ci(e).position}function Pi(e,t){if(!Ho(e)||"fixed"===ci(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Ko(e)===n&&(n=n.ownerDocument.body),n}function Mi(e,t){const n=zo(e);if(ti(e))return n;if(!Ho(e)){let t=hi(e);while(t&&!ui(t)){if(Xo(t)&&!Bi(t))return t;t=hi(t)}return n}let r=Pi(e,t);while(r&&Zo(r)&&Bi(r))r=Pi(r,t);return r&&ui(r)&&Bi(r)&&!oi(r)?n:r||ii(e)||n}const Wi=async function(e){const t=this.getOffsetParent||Mi,n=this.getDimensions,r=await n(e.floating);return{reference:Di(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Fi(e){return"rtl"===ci(e).direction}const Ui={convertOffsetParentRelativeRectToViewportRelativeRect:Si,getDocumentElement:Ko,getClippingRect:Li,getOffsetParent:Mi,getElementRects:Wi,getClientRects:Ri,getDimensions:Oi,getScale:yi,isElement:Xo,isRTL:Fi};function ji(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zi(e,t){let n,r=null;const a=Ko(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}function i(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:h,height:p}=u;if(s||t(),!h||!p)return;const f=io(d),v=io(a.clientWidth-(c+h)),m=io(a.clientHeight-(d+p)),g=io(c),y=-f+"px "+-v+"px "+-m+"px "+-g+"px",b={rootMargin:y,threshold:ao(0,ro(1,l))||1};let _=!0;function w(t){const r=t[0].intersectionRatio;if(r!==l){if(!_)return i();r?i(!1,r):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||ji(u,e.getBoundingClientRect())||i(),_=!1}try{r=new IntersectionObserver(w,{...b,root:a.ownerDocument})}catch(E){r=new IntersectionObserver(w,b)}r.observe(e)}return i(!0),o}function Ki(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,u=gi(e),c=a||o?[...u?fi(u):[],...fi(t)]:[];c.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=u&&s?zi(u,n):null;let h,p=-1,f=null;i&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),u&&!l&&f.observe(u),f.observe(t));let v=l?Ei(e):null;function m(){const t=Ei(e);v&&!ji(v,t)&&n(),v=t,h=requestAnimationFrame(m)}return l&&m(),n(),()=>{var e;c.forEach(e=>{a&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const Gi=Mo,Xi=Wo,Hi=Do,qi=Fo,Qi=(e,t,n)=>{const r=new Map,a={platform:Ui,...n},o={...a.platform,_c:r};return Lo(e,t,{...a,platform:o})};function Yi(e){return null!=e&&"object"===typeof e&&"$el"in e}function Ji(e){if(Yi(e)){const t=e.$el;return Go(t)&&"#comment"===jo(t)?null:t}return e}function Zi(e){return"function"===typeof e?e():(0,l.R1)(e)}function es(e){if("undefined"===typeof window)return 1;const t=e.ownerDocument.defaultView||window;return t.devicePixelRatio||1}function ts(e,t){const n=es(e);return Math.round(t*n)/n}function ns(e,t,n){void 0===n&&(n={});const a=n.whileElementsMounted,o=(0,r.EW)(()=>{var e;return null==(e=Zi(n.open))||e}),i=(0,r.EW)(()=>Zi(n.middleware)),s=(0,r.EW)(()=>{var e;return null!=(e=Zi(n.placement))?e:"bottom"}),u=(0,r.EW)(()=>{var e;return null!=(e=Zi(n.strategy))?e:"absolute"}),c=(0,r.EW)(()=>{var e;return null==(e=Zi(n.transform))||e}),d=(0,r.EW)(()=>Ji(e.value)),h=(0,r.EW)(()=>Ji(t.value)),p=(0,l.KR)(0),f=(0,l.KR)(0),v=(0,l.KR)(u.value),m=(0,l.KR)(s.value),g=(0,l.IJ)({}),y=(0,l.KR)(!1),b=(0,r.EW)(()=>{const e={position:v.value,left:"0",top:"0"};if(!h.value)return e;const t=ts(h.value,p.value),n=ts(h.value,f.value);return c.value?{...e,transform:"translate("+t+"px, "+n+"px)",...es(h.value)>=1.5&&{willChange:"transform"}}:{position:v.value,left:t+"px",top:n+"px"}});let _;function w(){if(null==d.value||null==h.value)return;const e=o.value;Qi(d.value,h.value,{middleware:i.value,placement:s.value,strategy:u.value}).then(t=>{p.value=t.x,f.value=t.y,v.value=t.strategy,m.value=t.placement,g.value=t.middlewareData,y.value=!1!==e})}function E(){"function"===typeof _&&(_(),_=void 0)}function k(){E(),void 0!==a?null==d.value||null==h.value||(_=a(d.value,h.value,w)):w()}function C(){o.value||(y.value=!1)}return(0,r.wB)([i,s,u,o],w,{flush:"sync"}),(0,r.wB)([d,h],k,{flush:"sync"}),(0,r.wB)(o,C,{flush:"sync"}),(0,l.o5)()&&(0,l.jr)(E),{x:(0,l.nD)(p),y:(0,l.nD)(f),strategy:(0,l.nD)(v),placement:(0,l.nD)(m),middlewareData:(0,l.nD)(g),isPositioned:(0,l.nD)(y),floatingStyles:b,update:w}}const rs=(e,t,n,a)=>{const o=(0,r.EW)(()=>{const{position:e,align:t}=va({placement:a.value.placement});return`${e.value}-${t.value}`}),i=(0,r.EW)(()=>{const e=a.value.offset,t={mainAxis:0,crossAxis:0};return Array.isArray(e)&&(t.mainAxis=e[0],t.crossAxis=e[1]),"number"===typeof e&&(t.mainAxis=e),t}),s=(0,r.EW)(()=>{const{autoPlacement:e,stickToEdges:t,keepAnchorWidth:r,verticalScrollOnOverflow:o}=a.value,s=[Gi(i.value)];return e&&s.push(Hi({boundary:n.value})),t&&s.push(Xi()),(r||o)&&s.push(qi({apply({elements:e,availableHeight:t}){if(r){const t=e.reference,n=t.getBoundingClientRect().width;Object.assign(e.floating.style,{maxWidth:`${n}px`,minWidth:`${n}px`})}o&&Object.assign(e.floating.style,{maxHeight:`${t}px`})}})),s}),{floatingStyles:u,isPositioned:c}="undefined"===typeof document?{floatingStyles:{},isPositioned:(0,l.KR)(!1)}:ns(e,t,{placement:o,whileElementsMounted:Ki,middleware:s,transform:!0});return{floatingStyles:(0,r.EW)(()=>c.value?u.value:{position:"fixed"}),isPositioned:c}},as=(e,t)=>!!t&&(!(t instanceof Window)&&(t.parentElement===e||e.contains(t))),os=e=>Array.isArray(e)?e:[e],is=(e,t,n={})=>{let r=!1;n.onlyKeyboard&&jr("mousedown",e=>{r=!0,setTimeout(()=>{r=!1},200)},!0),jr("focus",a=>{if(n.onlyKeyboard&&r)return;const o=a.target;if(a.target.shadowRoot)return;const i=os(e).some(e=>{const t=Lr((0,l.R1)(e));return t&&as(t,o)});i||t(o)},!0)},ss=()=>{const e=(0,r.nI)();return e.appContext.app?`${e.appContext.app._uid}_${e.uid}`:String(e.uid)},ls="data-va-teleported-from",us="data-va-teleported",cs=e=>{if(!e)return null;const t=e.getAttribute(us);return null===t?cs(e.parentElement):document.querySelector(`[${ls}="${t}"]`)},ds=()=>{var e,t;const n=ss(),a=(0,r.nI)(),o=null==a?void 0:a.vnode.scopeId;return{teleportFromAttrs:{[ls]:n},teleportedAttrs:{[us]:n,...o?{[o]:""}:void 0,...null==(t=null==(e=null==a?void 0:a.appContext.config)?void 0:e.globalProperties)?void 0:t.$vaColorConfig.getAppStylesRootAttribute()},findTeleportedFrom:cs}};let hs=0;const ps=(e=4)=>Math.random().toString(36).substring(2,e+2),fs=()=>`${ps(8)}-${ps(4)}-${ps(4)}-${++hs}`,vs=()=>fs(),ms=(0,l.Gc)([]),gs=e=>{const t=vs(),n=()=>{ms.includes(t)||ms.push(t)},a=()=>{const e=ms.findIndex(e=>e===t);-1!==e&&ms.splice(e,1)},o=(0,r.EW)(()=>{const e=ms.findIndex(e=>e===t);return-1===e?-1:e+1}),i=(0,r.EW)(()=>o.value===ms.length-1),s=(0,r.EW)(()=>0===o.value);return(0,r.sV)(()=>{e.value&&n()}),(0,r.xo)(()=>{a()}),(0,r.wB)(e,e=>{e?n():a()}),{zIndex:o,isTop:i,isLowest:s,register:n,unregister:a}},ys=e=>(0,r.EW)(()=>"string"===typeof(null==e?void 0:e.value)?null==document?void 0:document.querySelector(e.value):Lr(null==e?void 0:e.value)),bs=(e,t)=>!!t&&(t.parentElement===e||e.contains(t)),_s=e=>Array.isArray(e)?e:[e],ws=(e,t)=>{zr("mousedown",n=>{const r=n.target;if(n.target.shadowRoot)return;const a=cs(r),o=_s(e).some(e=>{const t=Lr((0,l.R1)(e));return!!t&&(a?bs(t,r)||bs(t,a):bs(t,r))});o||t(r)})},Es=(0,r.pM)({name:"VaDropdown",props:{...fa,...Ae(!0),modelValue:{type:Boolean,default:!1},anchor:{type:[String,Object],default:void 0},anchorSelector:{type:String,default:""},innerAnchorSelector:{type:String,default:""},trigger:{type:[String,Array],default:()=>["click","space","enter","arrow-down","arrow-up"]},disabled:{type:Boolean},readonly:{type:Boolean},closeOnClickOutside:{type:Boolean,default:!0},closeOnFocusOutside:{type:Boolean,default:!0},closeOnAnchorClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},hoverOverTimeout:{type:[Number,String],default:30},hoverOutTimeout:{type:[Number,String],default:200},isContentHoverable:{type:Boolean,default:!0},offset:{type:[Array,Number],default:0},keepAnchorWidth:{type:Boolean,default:!1},verticalScrollOnOverflow:{type:Boolean,default:!0},cursor:{type:[Boolean,Object],default:!1},autoPlacement:{type:Boolean,default:!0},stickToEdges:{type:Boolean,default:!1},target:{type:[String,Object],default:void 0},teleport:{type:[String,Object],default:void 0},keyboardNavigation:{type:Boolean,default:!0},ariaLabel:Wn("$t:toggleDropdown"),role:{type:String,default:"button"},contentClass:{type:String,default:""}},emits:[...Ve,"anchor-click","anchor-right-click","content-click","click-outside","focus-outside","close","open","anchor-dblclick"],setup(e,{emit:t}){const{valueComputed:n}=$e(e,t,"modelValue");(0,r.wB)(n,e=>{t(e?"open":"close")});const a=eo(),{anchorRef:o}=to(e),i=no(o,(0,r.EW)(()=>Boolean(e.cursor))),s=qr("floating"),u=ys((0,l.KR)("body")),c=ys((0,r.EW)(()=>e.target)),d=ys((0,r.EW)(()=>e.teleport)),h=gr("va-dropdown",()=>tr(e,["disabled"])),p=(0,r.EW)(()=>{if(d.value)return d.value;if(c.value)return c.value;if(o.value){const e=o.value.getRootNode();if(e instanceof ShadowRoot){const t=[...e.children].find(e=>"STYLE"!==e.tagName);if(t)return t}}return u.value}),f=(0,r.EW)(()=>a.value&&n.value);Ja(n,o,s,e);const v=(e,r,a)=>{t(e,a),r&&(n.value=!1)};ws([o,s],()=>{e.closeOnClickOutside&&n.value&&v("click-outside",e.closeOnClickOutside)}),is([s],()=>{e.closeOnFocusOutside&&n.value&&v("focus-outside",e.closeOnFocusOutside)},{onlyKeyboard:!0});const m=(0,r.EW)(()=>"object"===typeof e.cursor?e.cursor:e.cursor?i.value:o.value),{floatingStyles:g}=rs(m,s,c,(0,r.EW)(()=>({placement:e.placement,offset:e.offset,autoPlacement:e.autoPlacement,stickToEdges:e.stickToEdges,keepAnchorWidth:e.keepAnchorWidth,verticalScrollOnOverflow:e.verticalScrollOnOverflow}))),y=()=>{n.value=!1},b=()=>{n.value=!0},{zIndex:_}=gs(n);return(0,r.wB)(n,t=>{if(e.keyboardNavigation)if(t)(0,r.dY)(()=>{const e=Lr(s.value);e&&Pr(e)});else{if(!o.value)return;Pr(o.value)}}),{...Un(),...ds(),anchorRef:o,anchorClass:h,floating:s,floatingStyles:g,showFloating:f,teleportTarget:p,isMounted:a,valueComputed:n,hide:y,show:b,zIndex:_}},render(){const e={isOpened:this.valueComputed,hide:this.hide,show:this.show,toggle:()=>this.valueComputed?this.hide():this.show(),getAnchorWidth:()=>{var e;return(null==(e=this.anchorRef)?void 0:e.offsetWidth)+"px"},getAnchorHeight:()=>{var e;return(null==(e=this.anchorRef)?void 0:e.offsetHeight)+"px"}},t=this.showFloating&&Fa(this.$slots.default,e,{ref:"floating",class:["va-dropdown__content-wrapper",this.$props.contentClass],style:[this.floatingStyles,{zIndex:this.zIndex}],...this.teleportedAttrs}),n=Fa(this.$slots.anchor,e,{ref:"anchorRef",role:this.$props.role,class:["va-dropdown",...this.anchorClass.asArray.value],style:{position:"relative"},"aria-label":this.tp(this.$props.ariaLabel),"aria-disabled":this.$props.disabled,"aria-expanded":this.$props.role&&"none"!==this.$props.role?!!this.showFloating:void 0,...this.teleportFromAttrs,...this.$attrs});if("object"===typeof this.$props.cursor&&t)return(0,r.h)(r.Im,{to:this.teleportTarget,disabled:this.$props.disabled},[t]);if(this.$props.anchorSelector||n){if(!this.showFloating||t)return(0,r.h)(r.FK,{},[n,t&&(0,r.h)(r.Im,{to:this.teleportTarget,disabled:this.$props.disabled},[t])]);B("VaDropdown: default slot is missing")}else B("VaDropdown: #anchor slot is missing")}}),ks=ke(Es),Cs=(0,r.pM)({name:"VaDropdownContent",__name:"VaDropdownContent",props:{noPadding:{type:Boolean,default:!1},background:{type:String,default:"background-secondary"},textColor:{type:String}},setup(e){const t=e,{getColor:n}=Xt(),{textColorComputed:a}=Ht((0,l.lW)(t,"background")),o=(0,r.EW)(()=>({background:n(t.background,void 0,!0),color:a.value,padding:t.noPadding?0:void 0}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-dropdown__content",style:(0,b.Tr)(o.value),role:"listbox"},[(0,r.RG)(e.$slots,"default")],4))}}),Ss=ke(Cs),Rs=e=>"object"===typeof e?e.listen:e,Ts=e=>"object"===typeof e?e.emit:e,Is=e=>{const t=()=>e.map(Ts),n=e=>{const t=e.charAt(0).toUpperCase()+e.slice(1);return`on${t}`},r=t=>e.reduce((e,r)=>({...e,[n(Rs(r))]:(...e)=>t(Ts(r),...e)}),{}),a=t=>e.reduce((e,n)=>({...e,[Rs(n)]:(...e)=>t(Ts(n),...e)}),{});return{createListeners:r,createVOnListeners:a,createEmits:t}},{createEmits:xs,createVOnListeners:As}=Is(["click"]),{createEmits:Vs,createVOnListeners:$s}=Is([{listen:"click",emit:"main-button-click"}]),Ns=u(fr(na),["iconRight","block"]),Ls=fr(ks),Os=(0,r.pM)({name:"VaButtonDropdown",__name:"VaButtonDropdown",props:{...Ne,...Ns,...Ls,...xe,...fa,modelValue:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0},icon:{type:String,default:"va-arrow-down"},openedIcon:{type:String,default:"va-arrow-up"},hideIcon:{type:Boolean,default:!1},leftIcon:{type:Boolean,default:!1},iconColor:{type:String,default:""},disabled:{type:Boolean,default:!1},disableButton:{type:Boolean,default:!1},disableDropdown:{type:Boolean,default:!1},offset:{type:[Number,Array],default:2},keepAnchorWidth:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},split:{type:Boolean},splitTo:{type:String,default:""},splitHref:{type:String,default:""},loading:{type:Boolean,default:!1},label:{type:String},ariaLabel:Wn("$t:toggleDropdown")},emits:["update:modelValue",...xs(),...Vs()],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=$e(a,o),s=(0,r.EW)(()=>i.value?a.openedIcon:a.icon),c=(0,r.Ht)(),d=(0,r.EW)(()=>{if(a.hideIcon)return{};const e=!a.label&&!c.label||a.leftIcon?"icon":"icon-right";return{[e]:s.value}}),h=(0,r.EW)(()=>{const e=["to","href","loading","icon"],t=["plain","textOpacity","backgroundOpacity","hoverOpacity","hoverBehavior","hoverOpacity","pressedOpacity","pressedBehavior","pressedOpacity"];return a.preset?Object.keys(u(Ns,[...e,...t])):Object.keys(u(Ns,e))}),p=(0,r.EW)(()=>Object.entries(a).filter(([e,t])=>h.value.includes(e)).reduce((e,[t,n])=>(Object.assign(e,{[t]:n}),e),{})),f=(0,r.EW)(()=>({to:a.splitTo,href:a.splitHref,loading:a.loading})),v=()=>{i.value=!1},m=yr(Ls),g=As(o),y=$s(o),{t:_,tp:w}=Un();return t({hideDropdown:v}),(t,n)=>t.$props.split?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Xa),(0,r.v6)({key:1},p.value,{class:["va-button-dropdown","va-button-dropdown--split"]}),{default:(0,r.k6)(()=>[t.$props.leftIcon?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,disabled:t.$props.disabled||t.$props.disableButton},f.value,(0,r.Tb)((0,l.R1)(y))),{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])]),_:3},16,["disabled"])),(0,r.bF)((0,l.R1)(ks),(0,r.v6)((0,l.R1)(m),{modelValue:(0,l.R1)(i),"onUpdate:modelValue":n[1]||(n[1]=e=>(0,l.i9)(i)?i.value=e:null),disabled:t.$props.disabled||t.$props.disableDropdown}),{anchor:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)({"aria-label":t.$props.ariaLabel||(0,l.R1)(_)("toggleDropdown"),disabled:t.$props.disabled||t.$props.disableDropdown,icon:s.value,"icon-color":t.$props.iconColor},(0,r.Tb)((0,l.R1)(g)),{onKeydown:(0,Ze.jR)((0,Ze.D$)(v,["prevent"]),["esc"])}),null,16,["aria-label","disabled","icon","icon-color","onKeydown"])]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Ss),null,{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3})]),_:3},16,["modelValue","disabled"]),t.$props.leftIcon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:1,disabled:t.$props.disabled||t.$props.disableButton},f.value,(0,r.Tb)((0,l.R1)(y))),{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])]),_:3},16,["disabled"])):(0,r.Q3)("",!0)]),_:3},16)):((0,r.uX)(),(0,r.Wv)((0,l.R1)(ks),(0,r.v6)({key:0},(0,l.R1)(m),{modelValue:(0,l.R1)(i),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,l.i9)(i)?i.value=e:null),disabled:t.$props.disabled||t.$props.disableDropdown,class:["va-button-dropdown"]}),{anchor:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)({"aria-label":(0,l.R1)(w)(t.$props.ariaLabel)},{...d.value,...p.value},(0,r.Tb)((0,l.R1)(g))),{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])]),_:3},16,["aria-label"])]),default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"content",{},()=>[(0,r.bF)((0,l.R1)(Ss),null,{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3})])]),_:3},16,["modelValue","disabled"]))}}),Ds=ke(Os),Bs=(e,t)=>{if(0===t.length)return e;const n=e[t[0]];return z(n)?Bs(n,t.slice(1)):1===t.length?n:void 0},Ps=(e,t)=>t in e?e[t]:(t=t.replace(/^\./,""),Bs(e,t.split("."))),Ms=(e,t)=>{if(!A(e)&&"object"===typeof e&&!Array.isArray(e))return t?"string"===typeof t?Ps(e,t):"function"===typeof t?t(e):e:e},Ws={options:{type:Array,default:()=>[]},textBy:{type:[String,Function],default:"text"},valueBy:{type:[String,Function],default:""},trackBy:{type:[String,Function],default:""},disabledBy:{type:[String,Function],default:"disabled"},groupBy:{type:[String,Function],default:"group"}};function Fs(e){const t=t=>{const n=e.options;for(let e=0;e<n.length;e++)if(s(n[e])===t)return n[e];return t},n=(e,t)=>z(e)?Ms(e,t):e,r=t=>e.trackBy?n(t,e.trackBy):s(t),a=t=>!!z(t)&&n(t,e.disabledBy),o=t=>{const r=n(t,e.textBy);return["number","boolean"].includes(typeof r)?String(r):r},i=t=>{if(z(t))return n(t,e.groupBy)},s=t=>n(t,e.valueBy);return{tryResolveByValue:t,getValue:s,getText:o,getDisabled:a,getTrackBy:r,getGroupBy:i}}const Us=fr(Xa),js=(0,r.pM)({name:"VaButtonToggle",__name:"VaButtonToggle",props:{...Us,...Ne,...Ws,modelValue:{type:[String,Number,Boolean,Object],default:""},options:{type:Array,required:!0},activeButtonTextColor:{type:String},toggleColor:{type:String,default:""},textBy:{type:[String,Function],default:"label"},valueBy:{type:[String,Function],default:"value"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{getText:o,getTrackBy:i}=Fs(n),{getColor:s,shiftHSLAColor:u}=Xt(),c=(0,r.EW)(()=>s(n.color)),d=e=>i(e)===n.modelValue,h=(0,r.EW)(()=>n.toggleColor?s(n.toggleColor):u(c.value,{l:n.plain?-16:-6})),p=(0,r.EW)(()=>n.preset&&"default"!==n.preset?{backgroundOpacity:n.pressedOpacity}:{}),f=(0,r.EW)(()=>({color:h.value,textColor:n.activeButtonTextColor,...p.value})),v=(e={})=>{const t={icon:e.icon,iconRight:e.iconRight};return d(e)?{...d(e)&&f.value,...t}:t},m=yr(Us),g=e=>a("update:modelValue",i(e));return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Xa),(0,r.v6)({class:"va-button-toggle"},(0,l.R1)(m)),{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,e=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:(0,l.R1)(i)(e),"aria-pressed":d(e)},v(e),{onClick:t=>g(e)}),{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(o)(e)),1)]),_:2},1040,["aria-pressed","onClick"]))),128))]),_:1},16))}}),zs=ke(js),Ks=(0,r.pM)({name:"VaCard",__name:"VaCard",props:{...Tr,...Ne,tag:{type:String,default:"div"},square:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},bordered:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:""},stripe:{type:Boolean,default:!1},stripeColor:{type:String,default:""},gradient:{type:Boolean,default:!1},textColor:{type:String},color:{type:String,default:"background-secondary"}},setup(e){const t=e,{getColor:n}=Xt(),{isLinkTag:a,tagComputed:o,hrefComputed:i}=Ir(t),{textColorComputed:s}=Ht((0,r.EW)(()=>n(t.color))),u=(0,r.EW)(()=>n(t.stripeColor)),c=gr("va-card",()=>({...tr(t,["square","outlined","disabled","stripe"]),noBorder:!t.bordered,link:a.value})),d=(0,r.EW)(()=>{const e=t.gradient&&t.color?Ut(n(t.color)):n(t.color);return{background:e,color:s.value}});return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(o)),{class:(0,b.C4)(["va-card",(0,l.R1)(c)]),style:(0,b.Tr)([d.value,`--va-stripe-color-computed: ${String(u.value)}`]),href:(0,l.R1)(i),target:e.target,to:t.to,replace:t.replace,exact:t.exact,"active-class":t.activeClass,"exact-active-class":t.exactActiveClass},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},8,["class","style","href","target","to","replace","exact","active-class","exact-active-class"]))}}),Gs={class:"va-card__content"},Xs=(0,r.pM)({name:"VaCardContent",__name:"VaCardContent",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Gs,[(0,r.RG)(e.$slots,"default")]))}}),Hs=(0,r.pM)({name:"VaCardTitle",__name:"VaCardTitle",props:{...Ne,textColor:{type:String}},setup(e){const t=e,{getColor:n}=Xt(),a=(0,r.EW)(()=>({color:t.textColor?n(t.textColor):""}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-card-title va-card__title",style:(0,b.Tr)(a.value)},[(0,r.RG)(e.$slots,"default",{},void 0,!0)],4))}}),qs=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},Qs=qs(Hs,[["__scopeId","data-v-5cd66b25"]]),Ys=(0,r.pM)({name:"VaCardActions",__name:"VaCardActions",props:{...xa,...Ne},setup(e){const t=e,{alignComputed:n}=La(t),a=gr("va-card__actions",()=>({...tr(t,["vertical"])}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-card__actions",(0,l.R1)(a)]),style:(0,b.Tr)((0,l.R1)(n))},[(0,r.RG)(e.$slots,"default")],6))}}),Js=(0,r.pM)({name:"VaCardBlock",__name:"VaCardBlock",props:{horizontal:{type:Boolean,default:!1}},setup(e){const t=e,n=(0,r.EW)(()=>({"va-card-block--horizontal":t.horizontal}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-card-block",n.value])},[(0,r.RG)(e.$slots,"default")],2))}}),Zs=ke(Xs),el=ke(Qs),tl=ke(Ys),nl=ke(Js),rl=ke(Ks),al=(e,t)=>{const n=e=>{t.value=e},a=()=>{e.infinite&&t.value<=0?t.value=e.items.length-1:t.value-=1},o=()=>{e.infinite&&t.value>=e.items.length-1?t.value=0:t.value+=1},i=(0,r.EW)(()=>e.items.length>1),s=(0,r.EW)(()=>t.value>0||e.infinite),l=(0,r.EW)(()=>t.value<e.items.length-1||e.infinite);return{doShowPrevButton:s,doShowNextButton:l,doShowDirectionButtons:i,goTo:n,prev:a,next:o}},ol=(e,t)=>{let n=-1;const a=()=>{e.autoscroll&&(clearInterval(n),n=setInterval(()=>{t.value+=1,t.value>=e.items.length&&(t.value=0)},e.autoscrollInterval))};let o;const i=()=>{e.autoscroll&&(clearInterval(n),o=setTimeout(()=>{a(),clearTimeout(o)},e.autoscrollPauseDuration))},s=()=>{clearInterval(n),clearTimeout(o)};(0,r.sV)(()=>a()),(0,r.xo)(()=>s());const u=e=>(...t)=>{i(),e(...t)},c=(0,l.KR)({transition:void 0}),d=(0,l.KR)(0),h=(0,r.EW)(()=>"fade"===e.effect?{...c.value,transition:"none"}:e.vertical?{...c.value,transform:`translateY(${-100*d.value}%)`}:{...c.value,transform:`translateX(${-100*d.value}%)`}),p={isAnimating:!1,speed:.3,order:[],move(t,n){const r=e.items.length-1,a=e.items.length;0===n&&t===r?(this.order.push({to:a}),this.order.push({to:0,animate:!1})):n===r&&0===t?(this.order.push({to:a,animate:!1}),this.order.push({to:n})):this.order.push({to:n}),this.isAnimating||this.runAnimation()},runAnimation(){this.isAnimating=!0;const e=this.order.shift();e?(d.value=null==e?void 0:e.to,e.animate||void 0===e.animate?(c.value.transition=`all ${this.speed}s linear`,setTimeout(()=>{this.runAnimation()},1e3*this.speed)):(c.value.transition="none",setTimeout(()=>{this.runAnimation()},16))):this.isAnimating=!1}};(0,r.wB)(t,(e,t)=>{p.move(t,e)});const f=(0,r.EW)(()=>"fade"===e.effect?[e.items[t.value]]:e.infinite||e.autoscroll?[...e.items,e.items[0]]:e.items);return{start:a,pause:i,stop:s,withPause:u,computedSlidesStyle:h,slides:f}},il=()=>{const{setHSLAColor:e,getColor:t}=Xt();return{computedColor:(0,r.EW)(()=>e(t("background-element"),{a:.7})),computedHoverColor:(0,r.EW)(()=>e(t("primary"),{a:.7})),computedActiveColor:(0,r.EW)(()=>t("primary"))}},sl={src:{type:String,required:!0},alt:{type:String,default:""},title:{type:String,default:""},sizes:{type:String,default:""},srcset:{type:String,default:""},draggable:{type:Boolean,default:!0},loading:{type:String},crossorigin:{type:String},decoding:{type:String},fetchpriority:{type:String,default:"auto"},referrerpolicy:{type:String}},ll=e=>(0,r.EW)(()=>tr(e,["src","alt","title","sizes","srcset","loading","referrerpolicy","fetchpriority","decoding","crossorigin","draggable"])),ul=(e,t=(0,l.KR)({}),n=(0,l.KR)([]),a=!0)=>{const o=(0,l.KR)(),i=()=>{var e;null==(e=o.value)||e.disconnect()},s=e=>{var t;const n=Lr((0,l.R1)(e));n&&(null==(t=o.value)||t.observe(n))},u=e=>{e.forEach(s)},c=()=>{o.value=new IntersectionObserver(e,t.value)},d=(0,r.EW)(()=>!a||!("undefined"!==typeof window&&"IntersectionObserver"in window));return(0,r.wB)([n,t],([e])=>{d.value||(i(),e&&(c(),Array.isArray(e)?u(e):s(e)))},{immediate:!0}),(0,r.xo)(i),{isIntersectionDisabled:d}},cl=["aria-busy"],dl={key:0,class:"va-image__overlay"},hl={key:1,class:"va-image__error"},pl={key:2,class:"va-image__loader"},fl={key:3,class:"va-image__placeholder"},vl=["src"],ml=fr(lr),gl=(0,r.pM)({name:"VaImage",__name:"VaImage",props:{...Ne,...sl,...ml,ratio:{type:[Number,String],default:"auto",validator:e=>"number"===typeof e?e>0:"auto"===e},fit:{type:String,default:"cover"},maxWidth:{type:[Number,String],default:0,validator:e=>Number(e)>=0},lazy:{type:Boolean,default:!1},placeholderSrc:{type:String,default:""}},emits:["loaded","error","fallback"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.KR)(),i=(0,l.KR)(),s=(0,l.KR)(),u=(0,r.EW)(()=>s.value||n.src),c=(0,l.KR)(1),d=(0,l.KR)(1),h=(0,l.KR)(!1),p=(0,l.KR)(!1),f=()=>{var e;h.value=!0,b.value&&(h.value=!1,s.value=null==(e=i.value)?void 0:e.currentSrc,C(),a("loaded",u.value))},v=e=>{p.value=!0,h.value=!1,a("error",e||u.value)},m=(0,l.KR)(!1),g=(e,t)=>{e.forEach(e=>{e.isIntersecting&&(m.value=!0,E(),t.disconnect())})},{isIntersectionDisabled:y}=ul(g,void 0,o,n.lazy),b=(0,r.EW)(()=>y.value||m.value),_=eo(),w=(0,r.EW)(()=>!n.lazy||n.lazy&&_.value&&b.value),E=()=>{!n.src||h.value&&y.value||!b.value||(h.value=!0,p.value=!1,(0,r.dY)(()=>{var e;(null==(e=i.value)?void 0:e.complete)&&(i.value.naturalWidth?f():v())}))};let k;const C=()=>{clearTimeout(k),h.value&&(k=window.setTimeout(C,100));const{naturalHeight:e,naturalWidth:t}=i.value||{};e&&t&&(c.value=e,d.value=t)};(0,r.KC)(E),(0,r.xo)(()=>clearTimeout(k)),(0,r.wB)(()=>n.src,E);const S=(0,r.Ht)(),R=(0,r.EW)(()=>{var e;return(null==(e=null==S?void 0:S.placeholder)?void 0:e.call(S))||n.placeholderSrc}),T=(0,r.EW)(()=>{var e;return h.value&&!(null==(e=null==S?void 0:S.loader)?void 0:e.call(S))}),I=(0,r.EW)(()=>{var e;return p.value&&!(null==(e=null==S?void 0:S.error)?void 0:e.call(S))&&!D.value}),x=(0,r.EW)(()=>(T.value||I.value)&&R.value),A=(0,r.EW)(()=>!(h.value||p.value)),V=ll(n),$=(0,r.EW)(()=>({...tr(n,["ratio","maxWidth"]),contentWidth:c.value,contentHeight:d.value})),N=yr(ml),L=e=>!!Object.values(e||{}).filter(e=>e).length,O=(0,r.EW)(()=>{var e,t,n,r;return L(null==(r=null==(n=null==(t=null==(e=fe())?void 0:e.globalConfig)?void 0:t.value)?void 0:n.components)?void 0:r.VaFallback)}),D=(0,r.EW)(()=>L(N.value)||O.value),B=(0,r.EW)(()=>n.fit);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(er),(0,r.v6)({ref_key:"root",ref:o,class:"va-image"},$.value,{style:`--va-fit-computed: ${String(B.value)}`}),{default:(0,r.k6)(()=>[(0,r.bo)((0,r.Lk)("picture",{class:"va-image__content","aria-busy":h.value},[e.$slots.sources?(0,r.RG)(e.$slots,"sources",{key:0}):(0,r.Q3)("",!0),w.value?((0,r.uX)(),(0,r.CE)("img",(0,r.v6)({key:1,ref_key:"image",ref:i},(0,l.R1)(V),{onError:v,onLoad:f}),null,16)):(0,r.Q3)("",!0)],8,cl),[[Ze.aG,A.value]]),e.$slots.default&&A.value?((0,r.uX)(),(0,r.CE)("div",dl,[(0,r.RG)(e.$slots,"default")])):(0,r.Q3)("",!0),p.value&&(e.$slots.error||D.value)?((0,r.uX)(),(0,r.CE)("div",hl,[(0,r.RG)(e.$slots,"error",{},()=>[(0,r.bF)((0,l.R1)(lr),(0,r.v6)((0,l.R1)(N),{onFallback:t[0]||(t[0]=t=>e.$emit("fallback"))}),null,16)])])):(0,r.Q3)("",!0),h.value&&e.$slots.loader?((0,r.uX)(),(0,r.CE)("div",pl,[(0,r.RG)(e.$slots,"loader")])):(0,r.Q3)("",!0),x.value?((0,r.uX)(),(0,r.CE)("div",fl,[(0,r.RG)(e.$slots,"placeholder",{},()=>[e.$props.placeholderSrc?((0,r.uX)(),(0,r.CE)("img",{key:0,src:e.$props.placeholderSrc,alt:""},null,8,vl)):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0)]),_:3},16,["style"]))}}),yl=ke(gl),bl=(0,r.pM)({name:"VaHover",__name:"VaHover",props:{...Ae(!0),...Ne,disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:[...Ve],setup(e,{emit:t}){const n=e,a=t,{valueComputed:o}=$e(n,a),i=()=>{n.disabled||(o.value=!0)},s=()=>{n.disabled||(o.value=!1)};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-hover",onMouseenter:i,onMouseleave:s},[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({hover:(0,l.R1)(o)})))],32))}}),_l=ke(bl),wl=["mousedown","mousemove"],El=["touchstart","touchmove"],kl={vertical:["","all","vertical"],horizontal:["","all","horizontal"]},Cl=[...kl.vertical,"up","down"],Sl=[...kl.horizontal,"left","right"],Rl={swipable:{type:Boolean,default:!1},swipeDistance:{type:Number,default:75},swipeDirection:{type:String,default:"all"}},Tl=(e,t,n)=>{const a=(0,l.KR)(!1),o=(0,l.Kh)({start:{x:0,y:0},end:{x:0,y:0}}),i=(0,l.Kh)({start:0,end:0}),s=(e,t)=>{let n;if(wl.includes(e.type)&&(n=e),El.includes(e.type)){const t=e;n=t.changedTouches[t.changedTouches.length-1]}n&&(o[t].x=n.pageX,o[t].y=n.pageY,i[t]=(new Date).getTime())},u=t=>{e.swipable&&!a.value&&(a.value=!0,s(t,"start"))},c=e=>{a.value&&s(e,"end")},d=()=>{["start","end"].forEach(e=>{o[e].x=0,o[e].y=0,i[e]=0}),a.value=!1},h=(0,l.Kh)({vertical:!1,horizontal:!1});(0,r.nT)(()=>{h.horizontal=Sl.includes(e.swipeDirection),h.vertical=Cl.includes(e.swipeDirection)});const p=e=>h["x"===e?"horizontal":"vertical"]&&o.start[e]&&o.end[e]?Math.trunc(o.start[e]-o.end[e]):0,f=(t,n)=>n===e.swipeDirection||kl[t].includes(e.swipeDirection)?n:"",v=(0,l.Kh)({direction:"",duration:0});return(0,r.wB)(o,()=>{const t=p("x"),n=p("y");if((t||n)&&[t,n].some(t=>Math.abs(t)>=e.swipeDistance)){if(Math.abs(t)>=Math.abs(n)&&h.horizontal){const e=t>0?"left":"right";v.direction=f("horizontal",e)}else if(Math.abs(t)<Math.abs(n)&&h.vertical){const e=n>0?"down":"up";v.direction=f("vertical",e)}v.duration=i.end-i.start,d()}},{deep:!0}),(0,r.wB)(v,()=>n(v),{deep:!0}),e.swipable&&(jr(["touchstart","mousedown"],u,t),jr(["touchmove","mousemove"],c,t),jr(["touchcancel","mouseup","touchend","mouseleave"],d,t)),{swipeState:v}},Il=["aria-label"],xl={key:1,class:"va-carousel__indicators"},Al={class:"va-carousel__content"},Vl=["aria-hidden","aria-current","aria-label"],$l=fr(yl,["src","alt"]),Nl=(0,r.pM)({name:"VaCarousel",__name:"VaCarousel",props:{...Rl,...xe,...Ne,...$l,stateful:{type:Boolean,default:!0},modelValue:{type:Number,default:0},items:{type:Array,required:!0},autoscroll:{type:Boolean,default:!1},autoscrollInterval:{type:[Number,String],default:5e3},autoscrollPauseDuration:{type:[Number,String],default:2e3},infinite:{type:Boolean,default:!0},fadeKeyframe:{type:String,default:"va-carousel-fade-appear 1s"},arrows:{type:Boolean,default:!0},indicators:{type:Boolean,default:!0},indicatorTrigger:{type:String,default:"click",validator:e=>["click","hover","none"].includes(e)},vertical:{type:Boolean,default:!1},height:{type:String,default:"300px"},effect:{type:String,default:"transition",validator:e=>["fade","transition"].includes(e)},color:{type:String,default:"primary"},ratio:{type:[Number,String]},ariaLabel:Wn("$t:carousel"),ariaPreviousLabel:Wn("$t:goPreviousSlide"),ariaNextLabel:Wn("$t:goNextSlide"),ariaGoToSlideLabel:Wn("$t:goSlide"),ariaSlideOfLabel:Wn("$t:slideOf")},emits:[...Ve],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=$e(a,o,"modelValue"),s=je("autoscrollInterval"),u=je("autoscrollPauseDuration"),c=je("ratio"),{goTo:d,next:h,prev:p,doShowNextButton:f,doShowPrevButton:v,doShowDirectionButtons:m}=al(a,i),{withPause:g,computedSlidesStyle:y,slides:_}=ol({items:a.items,autoscrollInterval:s.value,autoscrollPauseDuration:u.value,autoscroll:a.autoscroll,infinite:a.infinite,effect:a.effect,vertical:a.vertical,fadeKeyframe:a.fadeKeyframe},i),w=(0,r.EW)(()=>a.items.length&&a.items.every(e=>!!e&&"object"===typeof e&&!!(null==e?void 0:e.src))),E=e=>e===i.value,k=(0,r.EW)(()=>({animation:"fade"===a.effect?"fadeKeyframe":void 0})),C=(0,l.IJ)(),S=e=>{switch(e.direction){case"right":case"up":v.value&&p();break;case"left":case"down":f.value&&h()}};Tl(a,C,S);const R=e=>"hover"===a.indicatorTrigger?{onmouseover:()=>d(e)}:"click"===a.indicatorTrigger?{onclick:()=>d(e)}:{},{tp:T,t:I}=Un(),{computedActiveColor:x,computedColor:A,computedHoverColor:V}=il(),$=yr($l),N=g(d),L=g(p),O=g(h);return t({currentSlide:i,goTo:d,next:h,prev:p,goToWithPause:N,prevWithPause:L,nextWithPause:O}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-carousel",{"va-carousel--vertical":t.$props.vertical,[`va-carousel--${t.$props.effect}`]:!0}]),style:(0,b.Tr)({height:(0,l.R1)(c)?"auto":e.height}),role:"region","aria-label":(0,l.R1)(T)(t.$props.ariaLabel)},[t.$props.arrows&&(0,l.R1)(m)?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,l.R1)(v)?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-carousel__arrow va-carousel__arrow--left",onClick:n[0]||(n[0]=(...e)=>(0,l.R1)(L)&&(0,l.R1)(L)(...e)),onKeydown:n[1]||(n[1]=(0,Ze.jR)((0,Ze.D$)((...e)=>(0,l.R1)(L)&&(0,l.R1)(L)(...e),["stop"]),["enter"]))},[(0,r.RG)(t.$slots,"prev-arrow",{},()=>[(0,r.bF)((0,l.R1)(_l),{stateful:""},{default:(0,r.k6)(({hover:n})=>[(0,r.bF)((0,l.R1)(na),{color:n?(0,l.R1)(V):(0,l.R1)(A),icon:e.vertical?"va-arrow-up":"va-arrow-left","aria-label":(0,l.R1)(T)(t.$props.ariaPreviousLabel)},null,8,["color","icon","aria-label"])]),_:1})])],32)):(0,r.Q3)("",!0),(0,l.R1)(f)?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-carousel__arrow va-carousel__arrow--right",onClick:n[2]||(n[2]=(...e)=>(0,l.R1)(O)&&(0,l.R1)(O)(...e)),onKeydown:n[3]||(n[3]=(0,Ze.jR)((0,Ze.D$)((...e)=>(0,l.R1)(O)&&(0,l.R1)(O)(...e),["stop"]),["enter"]))},[(0,r.RG)(t.$slots,"next-arrow",{},()=>[(0,r.bF)((0,l.R1)(_l),{stateful:""},{default:(0,r.k6)(({hover:n})=>[(0,r.bF)((0,l.R1)(na),{color:n?(0,l.R1)(V):(0,l.R1)(A),icon:e.vertical?"va-arrow-down":"va-arrow-right","aria-label":(0,l.R1)(T)(t.$props.ariaNextLabel)},null,8,["color","icon","aria-label"])]),_:1})])],32)):(0,r.Q3)("",!0)],64)):(0,r.Q3)("",!0),t.$props.indicators?((0,r.uX)(),(0,r.CE)("div",xl,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$props.items,(e,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-carousel__indicator",{"va-carousel__indicator--active":E(n)}],key:n},R(n)),[(0,r.RG)(t.$slots,"indicator",(0,b._B)((0,r.Ng)({item:e,index:n,goTo:(0,l.R1)(N),isActive:E(n)})),()=>[(0,r.bF)((0,l.R1)(_l),{stateful:""},{default:(0,r.k6)(({hover:e})=>[(0,r.bF)((0,l.R1)(na),{"aria-label":(0,l.R1)(T)(t.$props.ariaGoToSlideLabel,{index:n+1}),round:"",color:E(n)?(0,l.R1)(x):e?(0,l.R1)(V):(0,l.R1)(A)},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)(n+1),1)]),_:2},1032,["aria-label","color"])]),_:2},1024)])],16))),128))])):(0,r.Q3)("",!0),(0,r.Lk)("div",Al,[(0,r.Lk)("div",{ref_key:"slidesContainer",ref:C,class:"va-carousel__slides",style:(0,b.Tr)((0,l.R1)(y)),role:"list"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(_),(e,n)=>((0,r.uX)(),(0,r.CE)("div",{key:e,role:"listitem",class:"va-carousel__slide",style:(0,b.Tr)(k.value),"aria-hidden":!E(n),"aria-current":E(n),"aria-label":(0,l.R1)(T)(t.$props.ariaSlideOfLabel,{index:n+1,length:(0,l.R1)(_).length})},[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({item:e,index:n,goTo:(0,l.R1)(N),isActive:E(n)})),()=>[(0,r.bF)((0,l.R1)(yl),(0,r.v6)((0,l.R1)($),{src:w.value?e.src:e,alt:w.value?e.alt:"",draggable:!1}),null,16,["src","alt"])])],12,Vl))),128))],4)])],14,Il))}}),Ll=ke(Nl),Ol=()=>{const e=(0,r.nI)(),t=null==e?void 0:e.appContext.app,{globalProperties:n}=t.config;return"$vaGlobalVariable"in n||(n.$vaGlobalVariable=(0,l.Kh)({})),n.$vaGlobalVariable},Dl=(e,t)=>{const n=Ol();return e in n||(n[e]=t),(0,r.EW)({get:()=>n[e],set:t=>{n[e]=t}})},Bl=()=>{const e=(0,r.nI)(),t=Dl("uuidCounter",0);return e.$vaUuid=e.$vaUuid||"va-"+t.value++,`va-${t.value}`};function Pl(e,t,n,a){const o=(0,r.nI)(),i=(0,r.EW)(()=>{const n=t[e];return(null==o?void 0:o.vnode.props)?e in o.vnode.props&&void 0!==o.vnode.props[e]:void 0!==n});if(void 0===a)return[(0,r.EW)({set(t){n(`update:${e}`,t)},get(){return t[e]}})];const s=t[e],u=(0,l.KR)(void 0===s?a:s);return(0,r.wB)(()=>t[e],e=>{void 0!==e&&(u.value=e)}),[(0,r.EW)({set(t){u.value=t,n(`update:${e}`,t)},get(){return i.value?t[e]:u.value}})]}const Ml=e=>"object"===typeof e&&"_setter"in e,Wl=(e,t)=>{if(!Ml(e))return;const n=e._setter;e._setter=e=>{t(e),n(e)}},Fl=e=>"string"===typeof e,Ul=Symbol("FormService"),jl=e=>{const t=(0,r.WQ)(Ul,null);if(!t)return{forceDirty:(0,l.KR)(!1),forceHideErrorMessages:(0,l.KR)(!1),forceHideErrors:(0,l.KR)(!1),forceHideLoading:(0,l.KR)(!1),fields:(0,r.EW)(()=>[]),registerField:()=>{},unregisterField:()=>{},immediate:(0,r.EW)(()=>!1)};const n=Bl();return(0,r.sV)(()=>{t.registerField(n,e)}),(0,r.xo)(()=>{t.unregisterField(n)}),t},zl=(e=[],t=null)=>(Fl(e)&&(e=[e]),e.map(e=>Jr(e)?e(t):e)),Kl={name:{type:String,default:void 0},rules:{type:Array,default:()=>[]},dirty:{type:Boolean,default:!1},error:{type:Boolean,default:void 0},errorMessages:{type:[Array,String],default:void 0},errorCount:{type:[String,Number],default:1},success:{type:Boolean,default:!1},messages:{type:[Array,String],default:()=>[]},immediateValidation:{type:Boolean,default:!1},modelValue:{}},Gl=["update:error","update:errorMessages","update:dirty"],Xl=e=>"object"===typeof e&&"function"===typeof e.then,Hl=(e,t,n)=>{const a=(0,l.KR)(t.dirty||!1);return Wl(e,()=>{a.value=!0,n("update:dirty",!0)}),(0,r.wB)(e,(e,t)=>{e===t&&(a.value=!0)},{deep:!0}),(0,r.wB)(()=>t.dirty,e=>{a.value!==e&&(a.value=e)}),{isDirty:a}},ql=()=>{const e=(0,l.KR)(!1),t=()=>{e.value=!0};return{isTouched:e,onBlur:t}},Ql=e=>{let t=!0;return(...n)=>{if(!t)return;t=!1;const a=e(...n);return(0,r.dY)(()=>{t=!0}),a}},Yl=(e,t,n)=>{const{reset:a,focus:o}=n,[i]=Pl("error",e,t,!1),[s]=Pl("errorMessages",e,t,[]),u=(0,l.KR)(!1),{isTouched:c,onBlur:d}=ql(),h=(0,r.EW)(()=>({"aria-invalid":i.value,"aria-errormessage":"string"===typeof s.value?s.value:s.value.join(", ")})),p=()=>{s.value=[],i.value=!1,g.value=!1,c.value=!1,u.value=!1},f=e=>{let t=!1,n=[];return e.forEach(e=>{Fl(e)?(n=[...n,e],t=!0):!1===e&&(t=!0)}),s.value=n,i.value=t,!t},v=async()=>{if(!e.rules||!e.rules.length)return!0;const t=zl(e.rules.flat(),n.value.value),r=t.filter(e=>Xl(e)),a=t.filter(e=>!Xl(e));return r.length?(u.value=!0,Promise.all(r).then(e=>f([...a,...e])).finally(()=>{u.value=!1})):f(a)},m=Ql(()=>{if(!e.rules||!e.rules.length)return!0;const t=e.rules.flat(),r=zl(t,n.value.value),a=r.filter(e=>Xl(e)),o=r.filter(e=>!Xl(e)),i=o.some(e=>Fl(e)?e:!1===e);return a.length&&!i?(u.value=!0,Promise.all(a).then(e=>{f([...o,...e]),u.value=!1}),i):f(o)});(0,r.nT)(()=>m());const{isDirty:g}=Hl(n.value,e,t),{forceHideErrors:y,forceHideLoading:b,forceHideErrorMessages:_,forceDirty:w,immediate:E}=jl({isTouched:c,isDirty:g,isValid:(0,r.EW)(()=>!i.value),isLoading:u,errorMessages:s,validate:m,validateAsync:v,resetValidation:p,focus:o,reset:()=>{a(),p(),m()},value:(0,r.EW)(()=>n.value||e.modelValue),name:(0,l.lW)(e,"name")}),k=(0,r.EW)(()=>e.immediateValidation||E.value);let C=!0;const S=e=>{C=!1,e(),(0,r.dY)(()=>{C=!0})};return(0,r.wB)(n.value,()=>{if(C)return m()},{immediate:k.value}),{isDirty:g,isValid:(0,r.EW)(()=>!i.value),isError:i,isTouched:c,isLoading:(0,r.EW)({get:()=>!y.value&&((k.value||!!(c.value||g.value||w.value))&&u.value),set(e){u.value=e}}),computedError:(0,r.EW)(()=>!y.value&&((k.value||!!(c.value||g.value||w.value))&&i.value)),computedErrorMessages:(0,r.EW)(()=>_.value?[]:s.value),listeners:{onBlur:d},validate:m,resetValidation:p,withoutValidation:S,validationAriaAttributes:h}},Jl={...xe,...mr,...Kl,arrayValue:{type:[String,Boolean,Object,Number],default:null},label:{type:String,default:""},leftLabel:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:null,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},Zl=[...Gl,"update:modelValue","focus","blur"],eu=e=>{const t=[e.falseValue,e.trueValue];e.indeterminate&&t.push(e.indeterminateValue);const n=new Set(t).size!==t.length;if(n)throw new Error("falseValue, trueValue, indeterminateValue props should have strictly different values, which is not the case.")},tu=(e,t,{input:n,label:a,container:o})=>{eu(e);const i=()=>f(()=>{t("update:modelValue",!1),v()}),s=()=>{var e;null==(e=Lr(n.value))||e.focus()},{valueComputed:l}=$e(e,t),{computedError:u,computedErrorMessages:c,validate:d,validationAriaAttributes:h,listeners:p,withoutValidation:f,resetValidation:v,isDirty:m,isTouched:g,isError:y,isLoading:b,isValid:_}=Yl(e,t,{reset:i,focus:s,value:l}),{isFocused:w}=Xr(),E=e=>{t("blur",e),w.value=!1,p.onBlur()},k=e=>{w.value=!0,t("focus",e)},C=(0,r.EW)(()=>e.indeterminate&&l.value===e.indeterminateValue),S=(0,r.EW)(()=>void 0!==e.arrayValue&&null!==e.arrayValue),R=(0,r.EW)(()=>{var t;return S.value?null==(t=e.modelValue)?void 0:t.includes(e.arrayValue):l.value===e.trueValue}),T=()=>{e.readonly||e.disabled||e.loading||(S.value?e.modelValue?Array.isArray(e.modelValue)?e.modelValue.includes(e.arrayValue)?t("update:modelValue",e.modelValue.filter(t=>t!==e.arrayValue)):t("update:modelValue",e.modelValue.concat(e.arrayValue)):t("update:modelValue",e.modelValue===e.arrayValue?[]:[e.modelValue,e.arrayValue]):t("update:modelValue",[e.arrayValue]):e.indeterminate?C.value?l.value=e.trueValue:R.value?l.value=e.falseValue:l.value=e.indeterminateValue:R.value?l.value=e.falseValue:l.value=e.trueValue)};return{isDirty:m,isTouched:g,isError:y,isLoading:b,isValid:_,isChecked:R,isIndeterminate:C,onBlur:E,onFocus:k,toggleSelection:T,reset:i,focus:s,computedError:u,computedErrorMessages:c,validationAriaAttributes:h}};var nu;function ru(){const e=(0,l.KR)(!1);let t=!1;const n={mousedown:()=>{t=!0},focus:()=>{t||(e.value=!0),t=!1},blur:()=>{e.value=!1,t=!1}};return{hasKeyboardFocus:e,keyboardFocusListeners:n}}let au=!1;function ou(){const e=(0,l.KR)(!1),t={focus:()=>{au||(e.value=!0)},blur:()=>{e.value=!1}};return{hasKeyboardFocus:e,keyboardFocusListeners:t}}null==(nu=We())||nu.addEventListener("mousedown",()=>{au=!0,setTimeout(()=>{au=!1},300)});const iu=e=>{const t=Bl(),n=`message-list-${t}`,a=(0,r.EW)(()=>({id:n,role:"alert"})),o=(0,r.EW)(()=>"string"===typeof e.modelValue&&e.modelValue.length>0||!!(Array.isArray(e.modelValue)&&e.modelValue.length>0)),i=(0,r.EW)(()=>({"aria-describedby":o.value?n:void 0,"aria-invalid":e.hasError}));return{messageListAttributes:a,childAttributes:i}},su={class:"va-message-list__list"},lu=(0,r.pM)({name:"VaMessageList",inheritAttrs:!1,__name:"VaMessageList",props:{modelValue:{type:[String,Array],default:""},limit:{type:[Number,String],default:1},color:{type:String},hasError:{type:Boolean,default:!1}},setup(e,{expose:t}){const n=e,{getColor:a}=Xt(),{childAttributes:o,messageListAttributes:i}=iu(n),s=je("limit"),u=(0,r.EW)(()=>n.modelValue?Array.isArray(n.modelValue)?n.modelValue.slice(0,s.value):[n.modelValue]:[]),c=(0,r.EW)(()=>n.color?{color:a(n.color)}:{});return t({messages:u}),(t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({ariaAttributes:(0,l.R1)(o),messages:u.value,attrs:t.$attrs}))),(0,r.RG)(t.$slots,"messages",(0,b._B)((0,r.Ng)({ariaAttributes:(0,l.R1)(i),messages:u.value})),()=>[u.value.length>0?((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({key:0,class:"va-message-list",style:c.value},(0,l.R1)(i)),[(0,r.Lk)("ul",su,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.value,(n,a)=>((0,r.uX)(),(0,r.CE)("li",{key:a,class:"va-message-list__message"},[(0,r.RG)(t.$slots,"message",(0,b._B)((0,r.Ng)({messages:u.value,message:n})),()=>[e.hasError?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,class:"va-message-list__icon",name:"va-warning",size:16})):(0,r.Q3)("",!0),(0,r.eW)((0,b.v_)(n),1)])]))),128))])],16)):(0,r.Q3)("",!0)])],64))}}),uu=ke(lu),cu={class:"va-message-list-wrapper"},du=(0,r.pM)({name:"VaMessageListWrapper",__name:"VaMessageListWrapper",props:{...Kl},setup(e){const t=e,n=(0,r.EW)(()=>t.error?"danger":t.success?"success":""),a=(0,l.lW)(t,"error"),o=(0,r.EW)(()=>t.error?t.errorMessages:t.messages),i=(0,r.EW)(()=>t.error?Number(t.errorCount):99);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",cu,[(0,r.bF)((0,l.R1)(uu),{color:n.value,limit:i.value,"has-error":a.value,"model-value":o.value,"inherit-slots":["message"]},{default:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)(t)))]),_:3},8,["color","limit","has-error","model-value"])]))}}),hu=["id","indeterminate","value","checked"],pu=["for"],fu=[Boolean,Array,String,Object],vu=(0,r.pM)({name:"VaCheckbox",__name:"VaCheckbox",props:{...Jl,...Ne,modelValue:{type:fu,default:!1},color:{type:String,default:"primary"},checkedIcon:{type:String,default:"va-check"},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:fu,default:null},indeterminateIcon:{type:String,default:"remove"},id:{type:String,default:""},name:{type:String,default:""},ariaLabel:{type:String,default:void 0},vertical:{type:Boolean,default:!1}},emits:Zl,setup(e,{expose:t,emit:n}){const a=e,o=n,i={container:(0,l.IJ)(),input:(0,l.IJ)(),label:(0,l.IJ)()},{isChecked:s,computedError:u,isIndeterminate:c,computedErrorMessages:d,validationAriaAttributes:h,toggleSelection:p,onBlur:f,onFocus:v,isDirty:m,isTouched:g,isError:y,isLoading:_,isValid:w}=tu(a,o,i),{getColor:E}=Xt(),{hasKeyboardFocus:k,keyboardFocusListeners:C}=ru(),{textColorComputed:S}=Ht((0,r.EW)(()=>E(a.color))),R=(0,r.EW)(()=>s.value||c.value),T=(0,r.EW)(()=>({"va-checkbox--selected":s.value,"va-checkbox--readonly":a.readonly,"va-checkbox--disabled":a.disabled,"va-checkbox--indeterminate":a.indeterminate,"va-checkbox--error":u.value,"va-checkbox--left-label":a.leftLabel,"va-checkbox--on-keyboard-focus":k.value})),I=()=>{switch(!0){case!a.label:return"";case a.vertical:return"var(--va-checkbox-vertical-padding)";case Boolean(a.arrayValue):return"var(--va-checkbox-horizontal-padding)";case a.leftLabel:return"var(--va-checkbox-right-padding)";default:return"var(--va-checkbox-left-padding)"}},x=(0,r.EW)(()=>({color:u.value?E("danger"):a.success?E("success"):"",padding:I()})),A=(0,r.EW)(()=>{const e={background:R.value?E(a.color):"",borderColor:R.value?E(a.color):""};return u.value&&(e.borderColor=E("danger")),a.success&&(e.borderColor=E("success")),e}),V=(0,r.EW)(()=>a.indeterminate&&c.value?a.indeterminateIcon:a.checkedIcon),$=Bl(),N=(0,r.EW)(()=>a.id||String($)),L=(0,r.EW)(()=>a.name||String($)),O=(0,r.EW)(()=>({name:L.value,disabled:a.disabled,readonly:a.readonly,tabindex:a.disabled?-1:0,"aria-label":a.ariaLabel,"aria-disabled":a.disabled,"aria-readOnly":a.readonly,"aria-checked":R.value,...h.value})),D=(0,r.EW)(()=>a.vertical?"--va-checkbox-display-flex":"var(--va-checkbox-display)");return t({toggleSelection:p,isDirty:m,isTouched:g,isError:y,isLoading:_,isValid:w}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(du),{class:(0,b.C4)(["va-checkbox",T.value]),disabled:t.disabled,success:t.success,messages:t.messages,error:(0,l.R1)(u),"error-messages":(0,l.R1)(d),"error-count":t.errorCount,style:(0,b.Tr)(`--va-display-val: ${String(D.value)}`)},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{ref:"container",class:"va-checkbox__input-container",onClick:n[6]||(n[6]=(...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e)),onBlur:n[7]||(n[7]=(...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e))},[(0,r.Lk)("div",{class:"va-checkbox__square",style:(0,b.Tr)(A.value),onSelectstart:n[4]||(n[4]=(0,Ze.D$)(()=>{},["prevent"]))},[(0,r.Lk)("input",(0,r.v6)({ref:"input",type:"checkbox",class:"va-checkbox__input",id:N.value,indeterminate:e.indeterminate,value:t.label,checked:R.value},O.value,(0,r.Tb)((0,l.R1)(C),!0),{onFocus:n[0]||(n[0]=(...e)=>(0,l.R1)(v)&&(0,l.R1)(v)(...e)),onBlur:n[1]||(n[1]=(...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e)),onClick:n[2]||(n[2]=(0,Ze.D$)(()=>{},["stop","prevent"])),onKeypress:n[3]||(n[3]=(0,Ze.D$)((...e)=>(0,l.R1)(p)&&(0,l.R1)(p)(...e),["prevent"]))}),null,16,hu),R.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,class:"va-checkbox__icon",name:V.value,color:(0,l.R1)(S)},null,8,["name","color"])):(0,r.Q3)("",!0)],36),t.label||t.$slots.label?((0,r.uX)(),(0,r.CE)("label",{key:0,ref:"label",class:"va-checkbox__label",for:N.value,style:(0,b.Tr)(x.value),onBlur:n[5]||(n[5]=(...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e))},[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(t.label),1)])],44,pu)):(0,r.Q3)("",!0)],544)]),_:3},8,["class","disabled","success","messages","error","error-messages","error-count","style"]))}}),mu=ke(vu),gu={class:"va-chip__content"},yu=(0,r.pM)({name:"VaChip",__name:"VaChip",props:{...Tr,...Gt,...xe,...Ne,modelValue:{type:Boolean,default:!0},closeable:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},square:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},icon:{type:String,default:""},tag:{type:String,default:"span"},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},ariaCloseLabel:Wn("$t:close")},emits:[...Ve,"focus"],setup(e,{expose:t,emit:n}){const a=e,o=n,{getColor:i}=Xt(),s=(0,r.EW)(()=>i(a.color)),u=(0,r.EW)(()=>a.outline?s.value:""),c=(0,r.EW)(()=>Boolean(a.outline||a.flat)),{textColorComputed:d}=Ht(s,c),{hasKeyboardFocus:h,keyboardFocusListeners:p}=ru(),f=(0,r.EW)(()=>{if(!(!a.shadow||a.flat||a.outline||a.disabled||h.value))return`0 0.125rem 0.19rem 0 ${Ot(s.value)}`}),{valueComputed:v}=$e(a,o),{tagComputed:m,hrefComputed:g}=Ir(a),{isHovered:y,onMouseEnter:_,onMouseLeave:w}=Qr(),E=()=>{a.disabled||(v.value=!1)},k=(0,r.EW)(()=>a.size),C=(0,r.EW)(()=>a.disabled?-1:0),S=gr("va-chip",()=>({...tr(a,["disabled","readonly","square"]),small:"small"===a.size,large:"large"===a.size})),R=(0,r.EW)(()=>{const e={color:d.value,borderColor:u.value,background:"",boxShadow:f.value};return a.outline||a.flat?h.value?e.background=Pt(s.value):!a.readonly&&y.value&&(e.background=Bt(s.value)):e.background=s.value,e}),{tp:T}=Un();return t({close:E}),(t,n)=>(0,l.R1)(v)?((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(m)),{key:0,class:(0,b.C4)(["va-chip",(0,l.R1)(S)]),href:(0,l.R1)(g),target:t.target,to:t.to,replace:t.replace,exact:t.exact,"active-class":t.activeClass,"exact-active-class":t.exactActiveClass,style:(0,b.Tr)(R.value)},{default:(0,r.k6)(()=>[(0,r.Lk)("span",(0,r.v6)({class:"va-chip__inner",onFocus:n[0]||(n[0]=e=>t.$emit("focus")),onMouseenter:n[1]||(n[1]=(...e)=>(0,l.R1)(_)&&(0,l.R1)(_)(...e)),onMouseleave:n[2]||(n[2]=(...e)=>(0,l.R1)(w)&&(0,l.R1)(w)(...e))},(0,r.Tb)((0,l.R1)(p),!0)),[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,class:"va-chip__icon",name:e.icon,size:k.value},null,8,["name","size"])):(0,r.Q3)("",!0),(0,r.Lk)("span",gu,[(0,r.RG)(t.$slots,"default")]),e.closeable?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:1,role:"button",name:"va-close",class:"va-chip__close-icon","aria-label":(0,l.R1)(T)(t.$props.ariaCloseLabel),tabindex:C.value,size:k.value,onClick:(0,Ze.D$)(E,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(E,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(E,["stop"]),["space"])]},null,8,["aria-label","tabindex","size","onKeydown"])):(0,r.Q3)("",!0)],16)]),_:3},8,["href","target","to","replace","exact","active-class","exact-active-class","class","style"])):(0,r.Q3)("",!0)}}),bu=ke(yu),_u=e=>{if(Array.isArray(e))return e.map(l.R1);const t=(0,l.R1)(e);return Array.isArray(t)?t:[t]},wu=(e,t)=>{let n;const a=t=>{t.forEach(t=>{const r=(0,l.R1)(t);if(r){if(!(r instanceof Element))throw console.error("Vuestic: Trying to observe non-HTMLElement",{target:r,array:e}),new Error("Vuestic: Unable to observe non-HTMLElement");r&&(null==n||n.observe(r))}})};return(0,r.wB)(e,e=>{null==n||n.disconnect(),a(_u(e))}),(0,r.sV)(()=>{n=new ResizeObserver(t),a(_u(e))}),(0,r.xo)(()=>null==n?void 0:n.disconnect()),n},Eu={class:"va-collapse__header__text"},ku=["id","aria-labelledby"],Cu={class:"va-collapse__content"},Su=(0,r.pM)({name:"VaCollapse",__name:"VaCollapse",props:{...Ne,...xe,modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},header:{type:String,default:""},icon:{type:String,default:""},color:{type:String,default:void 0},bodyColor:{type:String,default:void 0},textColor:{type:String,default:""},bodyTextColor:{type:String,default:""},iconColor:{type:String,default:"secondary"},colorAll:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0}},emits:["update:modelValue",...Zl],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),{valueComputed:s}=$e(a,o,"modelValue"),{getColor:u,getTextColor:c,setHSLAColor:d}=Xt(),{accordionProps:h,accordionItemValue:p}=Re(),f=(0,r.EW)({get(){return s.userProvided||A(p)?s.value:p.value},set(e){A(p)||(p.value=e),s.value=e}});s.userProvided&&!A(p)&&(p.value=s.value);const v=(0,l.KR)();wu([i],([e])=>{v.value=e.contentRect.height??0});const m=(0,r.EW)(()=>f.value?v.value:0),g=()=>{const e=m.value/1e3*.2;return`${e>.2?e:.2}s`},y=(0,r.EW)(()=>a.bodyColor?u(a.bodyColor):a.color&&a.colorAll?d(u(a.color),{a:.07}):void 0),_=(0,r.EW)(()=>a.color?u(a.color):void 0),w=Bl(),E=(0,r.EW)(()=>`header-${w}`),k=(0,r.EW)(()=>`panel-${w}`),C=(0,r.EW)(()=>a.disabled?-1:0),S=(0,r.EW)(()=>({id:E.value,tabindex:C.value,"aria-controls":k.value,"aria-expanded":f.value,"aria-disabled":a.disabled,role:"button"})),R=(0,l.KR)(!1);(0,r.wB)(m,(e,t)=>{void 0!==t&&!0!==R.value&&(R.value=!0)});const T=e=>{"height"===e.propertyName&&e.target===e.currentTarget&&(R.value=!1)},I=gr("va-collapse",()=>({...tr(a,["disabled"]),expanded:f.value,active:f.value,popout:!(!h.value.popout||!f.value),inset:!(!h.value.inset||!f.value),"height-changing":R.value,"colored-body":Boolean(y.value),"colored-header":Boolean(_.value)})),x=()=>{a.disabled||(f.value=!f.value)},{textColorComputed:V}=Ht(_),$=(0,r.EW)(()=>({color:V.value,backgroundColor:_.value})),N=(0,r.EW)(()=>!!f.value||!!R.value),L=(0,r.EW)(()=>({height:`${m.value}px`,transitionDuration:g(),background:f.value?y.value:"",color:a.bodyTextColor?u(a.bodyTextColor):y.value?u(c(y.value)):"currentColor"}));return t({toggle:x}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-collapse",(0,l.R1)(I)])},[(0,r.Lk)("div",{class:"va-collapse__header-wrapper",onClick:x,onKeydown:[(0,Ze.jR)(x,["enter"]),(0,Ze.jR)(x,["space"])]},[(0,r.RG)(t.$slots,"header",(0,b._B)((0,r.Ng)({value:f.value,bind:S.value,attributes:S.value,attrs:S.value,iconAttrs:{class:["va-collapse__expand-icon",f.value?"a-collapse__expand-icon--expanded":"a-collapse__expand-icon--collapsed"]},text:e.header})),()=>[(0,r.Lk)("div",(0,r.v6)(S.value,{class:"va-collapse__header",style:$.value}),[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,class:"va-collapse__header__icon",name:e.icon},null,8,["name"])):(0,r.Q3)("",!0),(0,r.RG)(t.$slots,"header-content",(0,b._B)((0,r.Ng)({header:e.header})),()=>[(0,r.Lk)("div",Eu,(0,b.v_)(e.header),1)]),(0,r.RG)(t.$slots,"expand-icon",{},()=>[(0,r.bF)((0,l.R1)(Pn),{class:(0,b.C4)(["va-collapse__expand-icon",f.value?"va-collapse__expand-icon--expanded":"va-collapse__expand-icon--collapsed"]),name:"va-arrow-down"},null,8,["class"])])],16)])],32),(0,r.Lk)("div",{class:(0,b.C4)(["va-collapse__body-wrapper",{"va-collapse__body-wrapper--bordered":!t.$slots.body&&!t.$slots.header}]),style:(0,b.Tr)(L.value),onTransitionend:T},[N.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-collapse__body",ref_key:"body",ref:i,role:"region",id:k.value,"aria-labelledby":E.value},[(0,r.RG)(t.$slots,"body",{},()=>[(0,r.Lk)("div",Cu,[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.RG)(t.$slots,"content")])])])],8,ku)):(0,r.Q3)("",!0)],38)],2))}}),Ru=ke(Su),Tu=(0,r.pM)({name:"VaColorIndicator",__name:"VaColorIndicator",props:{...xe,...Ne,modelValue:{type:Boolean,default:null},color:{type:String,default:""},square:{type:Boolean,default:!1},size:{type:String,default:"1rem"}},emits:[...Ve],setup(e,{emit:t}){const n=e,a=t,{valueComputed:o}=$e(n,a),{getColor:i}=Xt(),{hasKeyboardFocus:s,keyboardFocusListeners:u}=ru(),c=(0,r.EW)(()=>i(n.color)),d=(0,r.EW)(()=>n.square?"0px":"50%"),h=(0,r.EW)(()=>({backgroundColor:c.value,height:n.size,width:n.size})),p=(0,r.EW)(()=>({"va-color-indicator--selected":o.value,"va-color-indicator--on-keyboard-focus":s.value})),f=()=>{o.value=!o.value};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-color-indicator",p.value],style:[h.value,`--va-border-radius-computed: ${String(d.value)}`],onClick:f,onKeydown:[(0,Ze.jR)(f,["enter"]),(0,Ze.jR)(f,["space"])]},(0,r.Tb)((0,l.R1)(u),!0)),[(0,r.Lk)("div",{class:"va-color-indicator__core",style:(0,b.Tr)(h.value)},null,4)],16))}}),Iu=ke(Tu),xu={key:0,class:"va-input-label__required-mark"},Au=(0,r.pM)({name:"VaInputLabel",__name:"VaInputLabel",props:{label:{type:String,default:""},requiredMark:{type:Boolean,default:!1},color:{type:String,default:"primary"}},setup(e){const{getColor:t}=Xt();return(n,a)=>((0,r.uX)(),(0,r.CE)("label",{"aria-hidden":"true",class:"va-input-label",style:(0,b.Tr)({color:(0,l.R1)(t)(n.$props.color,void 0,!0)})},[(0,r.RG)(n.$slots,"default",(0,b._B)((0,r.Ng)({label:e.label,requiredMark:e.requiredMark,color:(0,l.R1)(t)(n.$props.color)})),()=>[(0,r.eW)((0,b.v_)(e.label)+" ",1),e.requiredMark?((0,r.uX)(),(0,r.CE)("span",xu," * ")):(0,r.Q3)("",!0)])],4))}}),Vu={label:{type:String,default:""},inputAriaLabel:Wn("$t:inputField"),inputAriaLabelledby:{type:String},inputAriaDescribedby:{type:String}},$u=e=>{const t=Bl(),n=`input-label-${t}`,a=`input-character-count-${t}`,o=(0,r.EW)(()=>({"aria-label":""!==e.label?e.label:e.inputAriaLabel,"aria-labelledby":e.inputAriaLabelledby?e.inputAriaLabelledby:n,"aria-describedby":e.inputAriaDescribedby?e.inputAriaDescribedby:a}));return{labelId:n,characterCountId:a,ariaAttributes:o}},Nu=e=>(0,r.pM)({name:"ProxySlots",props:{inheritSlots:{type:Array,required:!0}},render(){var t;const n=(null==(t=this.$parent)?void 0:t.$slots)||{},a=this.$props.inheritSlots||Object.keys(n),o=a.reduce((e,t)=>(n[t]&&(e[t]=n[t]),e),{});return(0,r.h)(e,this.$attrs,{...o,...this.$slots})}}),Lu={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},Ou=(e,t)=>{const n=gr(e,(0,r.EW)(()=>tr(t,["disabled","readonly"])));return{computedClasses:n}},Du=e=>{const t=Kr(),n=on(e?qr(e):void 0);let a=null;const o=(0,r.EW)({get(){var e;if(!t.value)return!1;if(t.value===n.value)return!0;const r=null==(e=n.value)?void 0:e.contains(t.value);return r&&(a=t.value),r},set(e){var t;let r=a??n.value;(null==(t=n.value)?void 0:t.contains(r))||(r=n.value),e?null==r||r.focus():null==r||r.blur()}});return Object.assign(o,{focusIfNothingIfFocused:()=>{t.value===document.body&&(o.value=!0)},focusPreviousElement:()=>{a?a.focus():document.body.focus()}})},Bu=fr(Au),Pu=(0,r.pM)({name:"VaInputWrapper",components:{VaMessageList:Nu(uu),VaIcon:Pn,VaInputLabel:Au},props:{...Ne,...Vu,...Lu,...Kl,...Bu,modelValue:{type:null,default:""},counter:{type:Boolean},maxLength:{type:[Number,String],default:void 0},label:{type:String,default:""},placeholder:{type:String,default:""},color:{type:String,default:"primary"},background:{type:String},success:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},requiredMark:{type:Boolean,default:!1},innerLabel:{type:Boolean,default:!1}},emits:["click","click-prepend","click-append","click-prepend-inner","click-append-inner","click-field","update:modelValue"],setup(e,{emit:t,slots:n}){const{getColor:a}=Xt(),[o]=Pl("modelValue",e,t,""),i=(0,l.KR)(),s=Du(),u=(0,r.EW)(()=>e.counter&&"string"===typeof o.value?o.value.length:void 0),c=gr("va-input-wrapper",()=>({...tr(e,["success","error","disabled","readonly"]),focused:Boolean(s.value),labeled:Boolean(e.label||n.label),labeledInner:Boolean(e.label||n.label)&&e.innerLabel})),d=(0,r.EW)(()=>a(e.color)),h=(0,r.EW)(()=>e.background?a(e.background):"#ffffff00"),p=(0,r.EW)(()=>e.error?e.errorMessages:e.messages),{textColorComputed:f}=Ht(h),v=je("maxLength"),m=(0,r.EW)(()=>e.error?"danger":e.success?"success":""),g=(0,r.EW)(()=>e.error?Number(e.errorCount):99),y=(0,r.EW)(()=>void 0!==u.value),b=(0,r.EW)(()=>void 0!==v.value?`${u.value}/${v.value}`:u.value),{labelId:_,characterCountId:w,ariaAttributes:E}=$u(e),k=yr(Bu),C=()=>{s.value=!0},S=()=>{s.value=!1};return{inputRef:i,focus:C,blur:S,labelId:_,characterCountId:w,ariaAttributes:E,vModel:o,counterValue:u,vaInputLabelProps:k,wrapperClass:c,textColorComputed:f,isCounterVisible:y,counterComputed:b,colorComputed:d,backgroundComputed:h,messagesColor:m,messagesComputed:p,errorLimit:g}}}),Mu={class:"va-input-wrapper__fieldset va-input-wrapper__size-keeper"},Wu={class:"va-input-wrapper__container"},Fu={class:"va-input-wrapper__text"},Uu=["placeholder","readonly","disabled"],ju=["id"],zu={class:"va-input-wrapper__counter"};function Ku(e,t,n,a,o,i){const s=(0,r.g2)("VaInputLabel"),l=(0,r.g2)("va-icon"),u=(0,r.g2)("va-message-list");return(0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-input-wrapper",e.wrapperClass]),onClick:t[6]||(t[6]=t=>e.$emit("click",t)),style:(0,b.Tr)(`--va-background-computed: ${String(e.backgroundComputed)};--va-color-computed: ${String(e.colorComputed)};--va-text-color-computed: ${String(e.textColorComputed)}`)},[(0,r.Lk)("fieldset",Mu,[(0,r.bF)(u,{color:e.messagesColor,"model-value":e.messagesComputed,limit:e.errorLimit,"inherit-slots":["message","messages"]},{default:(0,r.k6)(({ariaAttributes:n})=>[!e.$props.label&&!e.$slots.label||e.$props.innerLabel?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(s,(0,r.v6)({key:0,class:"va-input-wrapper__label va-input-wrapper__label--outer"},e.vaInputLabelProps,{id:e.labelId}),{default:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"label",(0,b._B)((0,r.Ng)(t)))]),_:3},16,["id"])),(0,r.Lk)("div",Wu,[e.$slots.prepend?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-input-wrapper__prepend-inner",onClick:t[0]||(t[0]=t=>e.$emit("click-prepend"))},[(0,r.RG)(e.$slots,"prepend")])):(0,r.Q3)("",!0),(0,r.Lk)("div",{onClick:t[4]||(t[4]=t=>e.$emit("click-field",t)),class:"va-input-wrapper__field"},[e.$slots.prependInner?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-input-wrapper__prepend-inner",ref:"container",onClick:t[1]||(t[1]=t=>e.$emit("click-prepend-inner",t))},[(0,r.RG)(e.$slots,"prependInner")],512)):(0,r.Q3)("",!0),(0,r.Lk)("div",Fu,[(e.$props.label||e.$slots.label)&&e.$props.innerLabel?((0,r.uX)(),(0,r.Wv)(s,(0,r.v6)({key:0,class:"va-input-wrapper__label va-input-wrapper__label--inner"},e.vaInputLabelProps,{id:e.labelId}),{default:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"label",(0,b._B)((0,r.Ng)(t)))]),_:3},16,["id"])):(0,r.Q3)("",!0),(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({ariaAttributes:{...n,...e.ariaAttributes},value:e.vModel})),()=>[(0,r.bo)((0,r.Lk)("input",(0,r.v6)({...n,...e.ariaAttributes},{"onUpdate:modelValue":t[2]||(t[2]=t=>e.vModel=t),ref:"inputRef",placeholder:e.$props.placeholder,readonly:e.$props.readonly,disabled:e.$props.disabled}),null,16,Uu),[[Ze.hp,e.vModel]])])]),e.success?((0,r.uX)(),(0,r.Wv)(l,{key:1,color:"success",name:"va-check-circle",class:"va-input-wrapper__icon va-input-wrapper__icon--success"})):(0,r.Q3)("",!0),e.error?((0,r.uX)(),(0,r.Wv)(l,{key:2,color:"danger",name:"va-warning",class:"va-input-wrapper__icon va-input-wrapper__icon--error"})):(0,r.Q3)("",!0),e.$props.loading?((0,r.uX)(),(0,r.Wv)(l,{key:3,color:e.$props.color,name:"va-loading",spin:"counter-clockwise",class:"va-input-wrapper__icon va-input-wrapper__icon--loading"},null,8,["color"])):(0,r.Q3)("",!0),(0,r.RG)(e.$slots,"icon"),e.$slots.appendInner?((0,r.uX)(),(0,r.CE)("div",{key:4,class:"va-input-wrapper__append-inner",onClick:t[3]||(t[3]=t=>e.$emit("click-append-inner",t))},[(0,r.RG)(e.$slots,"appendInner")])):(0,r.Q3)("",!0)]),e.$slots.append?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-input-wrapper__append-inner",onClick:t[5]||(t[5]=t=>e.$emit("click-append"))},[(0,r.RG)(e.$slots,"append")])):(0,r.Q3)("",!0)]),e.isCounterVisible?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-input-wrapper__counter-wrapper",id:e.characterCountId},[(0,r.RG)(e.$slots,"counter",(0,b._B)((0,r.Ng)({valueLength:e.counterValue,maxLength:e.$props.maxLength})),()=>[(0,r.Lk)("div",zu,(0,b.v_)(e.counterComputed),1)])],8,ju)):(0,r.Q3)("",!0)]),_:3},8,["color","model-value","limit"])])],6)}const Gu=qs(Pu,[["render",Ku]]),Xu=ke(Gu),Hu=(...e)=>(...t)=>e.forEach(e=>e(...t)),qu={autofocus:{type:Boolean,default:!1}},Qu=(e,t)=>{const n=()=>{Dr(Lr(e.value))},a=()=>{Br(Lr(e.value))};return(0,r.sV)(()=>{t.autofocus&&n()}),{focus:n,blur:a}},Yu={clearable:{type:Boolean,default:!1},clearableIcon:{type:String,default:"va-clear"},clearValue:{type:String,default:""}},Ju=["clear"],Zu=(e,t,n,a)=>{const{isFocused:o,onFocus:i,onBlur:s}=Xr(n),l=[null,void 0,e.clearValue],u=(0,r.EW)(()=>e.clearable&&!e.disabled&&!e.readonly&&!l.includes(t.value)),c=(0,r.EW)(()=>(null==o?void 0:o.value)?e.color||"primary":(null==a?void 0:a.value)?"danger":e.success?"success":"secondary"),d=(0,r.EW)(()=>({name:e.clearableIcon,color:c.value,size:"medium",tabindex:u.value?0:-1}));return{canBeCleared:u,clearIconColor:c,clearIconProps:d,onFocus:i,onBlur:s}},ec=e=>{if(!D)return;const t=(0,r.nI)();if(!t)throw new Error("`useDeprecated` hook must be used only inside of setup function!");e.forEach(e=>{const n=e();"string"===typeof n&&B(`(${t.type.name} component) ${n}`)})},tc=fr(Xu),{createEmits:nc,createListeners:rc}=Is(["change","keyup","keypress","keydown","focus","blur","input"]),{createEmits:ac,createListeners:oc}=Is(["click","click-prepend","click-append","click-prepend-inner","click-append-inner"]),ic=(0,r.pM)({name:"VaInput",__name:"VaInput",props:{...tc,...Lu,...qu,...Kl,...Yu,...Ne,...xe,placeholder:{type:String,default:""},tabindex:{type:[String,Number],default:0},modelValue:{type:[Number,String,null],default:""},type:{type:String,default:"text"},inputClass:{type:String,default:""},pattern:{type:String},inputmode:{type:String,default:"text"},counter:{type:Boolean,default:!1},autocomplete:{type:String},ariaResetLabel:Wn("$t:reset"),strictBindInputValue:{type:Boolean,default:!1}},emits:["update:modelValue",...Gl,...Ju,...nc(),...ac(),...Ve],setup(e,{expose:t,emit:n}){const a=e,o=n;ec([()=>"textarea"!==a.type||'Use VaTextarea component instead of VaInput with type="textarea"']);const i=(0,l.IJ)(),{valueComputed:s}=$e(a,o,"modelValue"),u=()=>C(()=>{s.value=a.clearValue,o("clear"),S()}),{focus:c,blur:d}=Qu(i,a),h=(0,r.Ht)(),p=(0,r.EW)(()=>{const e=["icon"];return Object.keys(h).filter(t=>!e.includes(t))}),{tp:f}=Un(),{isValid:v,isTouched:m,isDirty:g,computedError:y,computedErrorMessages:_,listeners:{onBlur:w},validationAriaAttributes:E,isLoading:k,withoutValidation:C,resetValidation:S}=Yl(a,o,{reset:u,focus:c,value:s}),{modelValue:R}=(0,l.QW)(a),{canBeCleared:T,clearIconProps:I}=Zu(a,R,i,y),x=rc(o),A={...x,onBlur:Hu(w,x.onBlur)},V=e=>{if(!a.strictBindInputValue)return;const t=i.value;if(!t)return;const n=t.selectionStart||0,r=t.selectionEnd||0;t.value!==e&&(t.value=String(e)),t.setSelectionRange(n,r)};(0,r.wB)(s,e=>{V(String(e))},{immediate:!0}),jr("input",()=>{V(String(s.value))},i);const $=(0,r.EW)(()=>a.disabled?-1:a.tabindex),N=(0,r.OA)(),L=(0,r.EW)(()=>({"aria-label":a.inputAriaLabel||a.label,"aria-labelledby":a.inputAriaLabelledby,"aria-required":a.requiredMark,tabindex:$.value,class:a.inputClass,"aria-disabled":a.disabled,"aria-readonly":a.readonly,...E.value})),O=(0,r.EW)(()=>({...L.value,...tr(a,["type","disabled","readonly","placeholder","pattern","inputmode","name","autocomplete"]),...tr(N,["minlength","minlength"])})),D=(0,r.EW)(()=>a.counter&&"string"===typeof s.value?s.value.length:void 0),B=e=>{e.target&&"tagName"in e.target&&"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&c()},P=yr(tc),M=oc(o);return t({isValid:v,isDirty:g,isTouched:m,isLoading:k,computedError:y,computedErrorMessages:_,reset:u,focus:c,blur:d,value:s,withoutValidation:C,resetValidation:S}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Xu),(0,r.v6)({...(0,l.R1)(M),...(0,l.R1)(P)},{class:["va-input",e.$attrs.class],style:e.$attrs.style,loading:e.$props.loading||(0,l.R1)(k),error:(0,l.R1)(y),"error-messages":(0,l.R1)(_),"error-count":e.errorCount,"counter-value":D.value,onClick:B}),(0,r.eX)({icon:(0,r.k6)(t=>[(0,l.R1)(T)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:0,role:"button","aria-label":(0,l.R1)(f)(e.$props.ariaResetLabel)},(0,l.R1)(I),{onClick:(0,Ze.D$)(u,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(u,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(u,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):(0,r.Q3)("",!0),(0,r.RG)(e.$slots,"icon",(0,b._B)((0,r.Ng)(t)))]),default:(0,r.k6)(()=>[e.$slots.content?(0,r.Q3)("",!0):(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",(0,r.v6)({key:0,ref_key:"input",ref:i,class:"va-input__content__input"},{...O.value,...A},{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(s)?s.value=e:null)}),null,16)),[[Ze.hp,(0,l.R1)(s)]])]),_:2},[(0,r.pI)(p.value,t=>({name:t,fn:(0,r.k6)(n=>[(0,r.RG)(e.$slots,t,(0,b._B)((0,r.Ng)(n)))])}))]),1040,["class","style","loading","error","error-messages","error-count","counter-value"]))}}),sc=ke(ic),lc={class:"va-color-input"},uc=fr(sc),cc=(0,r.pM)({name:"VaColorInput",__name:"VaColorInput",props:{...uc,...xe,...Ne,modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},indicator:{type:String,default:"dot",validator:e=>["dot","square"].includes(e)},ariaOpenColorPickerLabel:Wn("$t:openColorPicker")},emits:[...Ve],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),{valueComputed:i}=$e(n,a),s=()=>{var e;return!n.disabled&&(null==(e=o.value)?void 0:e.click())},u=(0,r.EW)(()=>n.disabled?-1:0),c=(0,r.EW)({get:()=>n.modelValue,set:ze(e=>a("update:modelValue",e),500)}),d=yr(uc),{tp:h}=Un();return(e,t)=>((0,r.uX)(),(0,r.CE)("div",lc,[(0,r.bF)((0,l.R1)(sc),(0,r.v6)((0,l.R1)(d),{modelValue:(0,l.R1)(i),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(i)?i.value=e:null),class:"va-color-input__input",tabindex:u.value}),{appendInner:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Iu),{class:"va-color-input__dot",role:"button","aria-label":(0,l.R1)(h)(e.$props.ariaOpenColorPickerLabel),"aria-disabled":e.$props.disabled,tabindex:u.value,color:(0,l.R1)(i),indicator:e.$props.indicator,size:"16px",onClick:s,onKeydown:[(0,Ze.jR)(s,["space"]),(0,Ze.jR)(s,["enter"])]},null,8,["aria-label","aria-disabled","tabindex","color","indicator"])]),_:1},16,["modelValue","tabindex"]),(0,r.bo)((0,r.Lk)("input",{ref_key:"colorPicker",ref:o,type:"color",class:"va-color-input__hidden-input","aria-hidden":"true",tabindex:"-1","onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e)},null,512),[[Ze.Jo,c.value]])]))}}),dc=ke(cc),hc=["aria-label"],pc=(0,r.pM)({name:"VaColorPalette",__name:"VaColorPalette",props:{...xe,...Ne,modelValue:{type:String,default:null},palette:{type:Array,default:()=>[]},indicator:{type:String,default:"dot",validator:e=>["dot","square"].includes(e)},ariaLabel:Wn("$t:colorSelection"),ariaIndicatorLabel:Wn("$t:color")},emits:[...Ve],setup(e,{emit:t}){const n=e,a=t,{valueComputed:o}=$e(n,a),i=e=>o.value===e,{tp:s}=Un();return(t,n)=>((0,r.uX)(),(0,r.CE)("ul",{class:"va-color-palette",role:"listbox","aria-label":(0,l.R1)(s)(t.$props.ariaLabel)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.palette,(n,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Iu),{key:a,role:"option","aria-label":(0,l.R1)(s)(t.$props.ariaIndicatorLabel,{color:n}),"aria-selected":i(n),tabindex:"0",modelValue:i(n),color:n,square:"square"===e.indicator,"onUpdate:modelValue":e=>o.value=n},null,8,["aria-label","aria-selected","modelValue","color","square","onUpdate:modelValue"]))),128))],8,hc))}}),fc=ke(pc),vc={name:"VaContent"},mc={class:"va-typography-block"};function gc(e,t,n,a,o,i){return(0,r.uX)(),(0,r.CE)("div",mc,[(0,r.RG)(e.$slots,"default")])}const yc=qs(vc,[["render",gc]]),bc=ke(yc),_c=e=>"number"===typeof e?`${e}px`:e;function wc(e){const t=()=>{const t=Number(e.modelValue),n=Number(e.max),r=Number(e.min),a=Number(e.step);Number.isNaN(t)?B("The value is not a number or cannot be reduced to a number."):(r&&n&&r>n&&B(`The maximum value (${n}) can not be less than the minimum value (${r}).`),r&&t<r&&B(`The value of the counter (${t}) can not be less than the minimum value (${r}).`),n&&t>n&&B(`The value of the counter (${t}) can not be greater than the maximum value (${n}).`),r&&n&&a>n-r&&B(`The value of the step (${a}) can not be greater than the difference (${n-r}) between maximum value (${n}) and minimum value (${r}).`))};(0,r.wB)([()=>e.step,()=>e.min,()=>e.max],t,{immediate:!0})}const Ec=e=>Number(e.toPrecision(13)),kc=(e,t)=>{const n=Ec(e%t);return 0===n||n===t};function Cc(e,t){let n=-1,r=-1;const a=()=>{var e;null==(e=t.onStart)||e.call(t),clearTimeout(n),n=setTimeout(()=>{r=setInterval(()=>{var e;return null==(e=t.onUpdate)?void 0:e.call(t)},t.interval||100)},(0,l.R1)(t.delay)||500)},o=()=>{var e;clearTimeout(n),clearInterval(r),null==(e=t.onEnd)||e.call(t)},i=qr(e);jr(["mousedown","touchstart","dragstart"],a,i),jr(["mouseup","mouseleave","touchend","touchcancel","drop","dragend","blur"],o,!0)}const Sc=["value","aria-live"],{createEmits:Rc,createListeners:Tc}=Is(["change"]),{createEmits:Ic,createListeners:xc}=Is([{listen:"click-prepend",emit:"click:decrease-button"},{listen:"click-append",emit:"click:increase-button"},{listen:"click-prepend-inner",emit:"click:decrease-icon"},{listen:"click-append-inner",emit:"click:increase-icon"}]),Ac=fr(Xu),Vc=(0,r.pM)({name:"VaCounter",inheritAttrs:!1,__name:"VaCounter",props:{...Lu,...xe,...Ne,...Yu,...Ac,modelValue:{type:[String,Number],default:0},manualInput:{type:Boolean,default:!1},min:{type:[Number,String]},max:{type:[Number,String]},step:{type:[Number,String],default:1},color:{type:String,default:"primary"},increaseIcon:{type:String,default:"va-plus"},decreaseIcon:{type:String,default:"va-minus"},buttons:{type:Boolean,default:!1},flat:{type:Boolean,default:!0},rounded:{type:Boolean,default:!1},margins:{type:[String,Number],default:"4px"},longPressDelay:{type:[Number,String],default:500},ariaLabel:Wn("$t:counterValue"),ariaDecreaseLabel:Wn("$t:decreaseCounter"),ariaIncreaseLabel:Wn("$t:increaseCounter")},emits:["update:modelValue",...Gl,...Rc(),...Ic(),...Gr],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),{min:s=(0,l.KR)(void 0),max:c=(0,l.KR)(void 0),step:d}=(0,l.QW)(a),h=je("longPressDelay"),{isFocused:p,focus:f,blur:v}=Xr(i,o),{valueComputed:m}=$e(a,o);function g(e){return parseFloat(Number(e).toFixed(10))}const y=(0,r.EW)({get(){return m.value},set(e){m.value=g(e)}}),_=()=>k(()=>{o("update:modelValue",a.clearValue),o("clear"),C()}),{computedError:w,computedErrorMessages:E,withoutValidation:k,resetValidation:C,listeners:S,isDirty:R,isTouched:T}=Yl(a,o,{reset:_,focus:f,value:y}),I=({target:e})=>{y.value=Number(null==e?void 0:e.value)},x=({target:e})=>{$(Number(null==e?void 0:e.value))},V=e=>"undefined"!==typeof s.value&&Number(d.value)?Ec(Number(s.value)+Number(d.value)*((Number(e)-Number(s.value))/Number(d.value))):e,$=e=>{"undefined"!==typeof s.value&&e<Number(s.value)?y.value=Number(s.value):"undefined"!==typeof c.value&&e>Number(c.value)?y.value=V(Number(c.value)):y.value=V(e)},N=(0,r.EW)(()=>!A(s.value)&&Number(y.value)<=Number(s.value)),L=(0,r.EW)(()=>!A(c.value)&&(d.value?Number(y.value)>Number(c.value)-Number(d.value):Number(y.value)>=Number(c.value))),O=(0,r.EW)(()=>a.disabled?-1:0),D=(0,r.EW)(()=>N.value||a.disabled||a.readonly),B=(0,r.EW)(()=>L.value||a.disabled||a.readonly),P=()=>{D.value||$(Number(y.value)-Number(d.value))},M=()=>{B.value||$(Number(y.value)+Number(d.value))};Cc(Hr("decreaseButtonRef"),{onUpdate:P,delay:h}),Cc(Hr("increaseButtonRef"),{onUpdate:M,delay:h});const{getColor:W}=Xt(),F=(0,r.EW)(()=>W(a.color)),U=(0,r.EW)(()=>({class:{"va-counter__icon--inactive":D.value},color:F.value,icon:a.decreaseIcon,plain:!0,disabled:D.value,readonly:a.readonly,tabindex:-1,"aria-label":q(a.ariaDecreaseLabel),...!D.value&&{onClick:P}})),j=(0,r.EW)(()=>({class:{"va-counter__icon--inactive":B.value},color:F.value,icon:a.increaseIcon,plain:!0,disabled:B.value,readonly:a.readonly,tabindex:-1,"aria-label":q(a.ariaIncreaseLabel),...!B.value&&{onClick:M}})),z=(0,r.EW)(()=>0===("string"===typeof a.margins?parseFloat(a.margins):a.margins)),K=()=>p.value?a.color:"background-border",G=(0,r.EW)(()=>({...tr(a,["color"]),round:a.rounded,preset:a.flat?"secondary":"",borderColor:a.flat?K():""})),X=(0,r.EW)(()=>({...G.value,icon:a.decreaseIcon,disabled:D.value,"aria-label":q(a.ariaDecreaseLabel),...!D.value&&{onClick:P}})),H=(0,r.EW)(()=>({...G.value,icon:a.increaseIcon,disabled:B.value,"aria-label":q(a.ariaIncreaseLabel),...!B.value&&{onClick:M}})),{tp:q}=Un(),Q=(0,r.OA)(),Y=(0,r.Ht)(),J=(0,r.EW)(()=>({tabindex:O.value,"aria-label":q(a.ariaLabel),"aria-valuemin":Number(s.value),"aria-valuemax":Number(c.value),...u(Q,["class","style"]),...tr(a,["disabled","min","max","step"]),readonly:a.readonly||!a.manualInput})),Z=(0,r.EW)(()=>[Q.class,{"va-counter--input-square":z.value},{"va-counter--content-slot":Y.content&&a.buttons}].filter(Boolean)),ee=(0,r.EW)(()=>({...Q.style||{}})),te=(0,r.EW)(()=>_c(a.margins));wc(a);const ne=xc(o),re=Tc(o),ae=yr(Ac);return t({isDirty:R,isTouched:T,focus:f,blur:v,decreaseCount:P,increaseCount:M,reset:_}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Xu),(0,r.v6)({class:"va-counter"},{...(0,l.R1)(ne),...(0,l.R1)(ae),...(0,l.R1)(S)},{class:Z.value,style:ee.value,focused:(0,l.R1)(p),error:(0,l.R1)(w),"error-messages":(0,l.R1)(E),onKeydown:[(0,Ze.jR)((0,Ze.D$)(M,["prevent"]),["up"]),(0,Ze.jR)((0,Ze.D$)(M,["prevent"]),["right"]),(0,Ze.jR)((0,Ze.D$)(P,["prevent"]),["down"]),(0,Ze.jR)((0,Ze.D$)(P,["prevent"]),["left"])]}),(0,r.eX)({default:(0,r.k6)(()=>[e.$slots.content?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("input",(0,r.v6)({key:0,ref_key:"input",ref:i,class:"va-input__content__input",type:"number",inputmode:"decimal"},{...J.value,...(0,l.R1)(re)},{value:y.value,"aria-live":e.$props.disabled?"off":"polite",onInput:I,onChange:x}),null,16,Sc))]),_:2},[e.$props.buttons?{name:"prepend",fn:(0,r.k6)(n=>[(0,r.Lk)("div",{class:"va-counter__prepend-wrapper",style:(0,b.Tr)({marginRight:te.value}),onMousedown:t[0]||(t[0]=(0,Ze.D$)((...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e),["prevent"]))},[(0,r.RG)(e.$slots,"decreaseAction",(0,b._B)((0,r.Ng)({...n,decreaseCount:P})),()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)({class:"va-counter__button-decrease"},X.value,{ref:"decreaseButtonRef"}),null,16)])],36)]),key:"0"}:{name:"prependInner",fn:(0,r.k6)(n=>[(0,r.Lk)("div",{class:"va-counter__prepend-inner",onMousedown:t[1]||(t[1]=(0,Ze.D$)((...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e),["prevent"]))},[(0,r.RG)(e.$slots,"decreaseAction",(0,b._B)((0,r.Ng)({...n,decreaseCount:P})),()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)(U.value,{ref:"decreaseButtonRef"}),null,16)])],32)]),key:"1"},e.$props.buttons?{name:"append",fn:(0,r.k6)(n=>[(0,r.Lk)("div",{class:"va-counter__append-wrapper",style:(0,b.Tr)({marginLeft:te.value}),onMousedown:t[2]||(t[2]=(0,Ze.D$)((...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e),["prevent"]))},[(0,r.RG)(e.$slots,"increaseAction",(0,b._B)((0,r.Ng)({...n,increaseCount:M})),()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)({class:"va-counter__button-increase"},H.value,{ref:"increaseButtonRef"}),null,16)])],36)]),key:"2"}:{name:"appendInner",fn:(0,r.k6)(n=>[(0,r.Lk)("div",{class:"va-counter__append-inner",onMousedown:t[3]||(t[3]=(0,Ze.D$)((...e)=>(0,l.R1)(f)&&(0,l.R1)(f)(...e),["prevent"]))},[(0,r.RG)(e.$slots,"increaseAction",(0,b._B)((0,r.Ng)({...n,increaseCount:M})),()=>[(0,r.bF)((0,l.R1)(na),(0,r.v6)(j.value,{ref:"increaseButtonRef"}),null,16)])],32)]),key:"3"},e.$slots.content?{name:"default",fn:(0,r.k6)(t=>[(0,r.Lk)("div",{ref_key:"input",ref:i,tabindex:"0",class:"va-counter__content-wrapper"},[(0,r.RG)(e.$slots,"content",(0,b._B)((0,r.Ng)({...t,value:Number(y.value)})))],512)]),key:"4"}:void 0]),1040,["class","style","focused","error","error-messages","onKeydown"]))}}),$c=ke(Vc),Nc={currentPage:{type:Number}},Lc=()=>({items:{type:Array,default:()=>[]}}),Oc={selectable:{type:Boolean,default:!1}},Dc={itemsTrackBy:{type:[String,Function],default:""}},Bc=e=>{const t=2===e.length||3===e.length,n=e.every(e=>["asc","desc",null].includes(e)),r=e.length===new Set(e).size;return t&&n&&r},Pc={...Lc(),columns:{type:Array,default:()=>[]},sortingOptions:{type:Array,default:()=>["asc","desc",null],validator:Bc}},Mc=(e,t,n)=>{const r="string"===typeof e?{key:e}:e,a=!r.sortingOptions||Bc(r.sortingOptions);return a||B(`The "sortingOptions" array in the column with "${r.key}" key is invalid. For this column, the "sortingOptions" value is taken as for the table: ${JSON.stringify(n.sortingOptions)}.`),{source:e,initialIndex:t,key:r.key,name:r.name||r.key,label:r.label||ct(r.key),thTitle:r.thTitle||r.headerTitle||r.label||ct(r.key),sortable:r.sortable||!1,sortingFn:r.sortingFn,displayFormatFn:r.displayFormatFn,sortingOptions:a&&r.sortingOptions||n.sortingOptions,thAlign:r.thAlign||r.alignHead||"left",thVerticalAlign:r.thVerticalAlign||r.verticalAlignHead||"middle",tdAlign:r.tdAlign||r.align||"left",tdVerticalAlign:r.tdVerticalAlign||r.verticalAlign||"middle",width:r.width,tdClass:r.tdClass||r.classes,thClass:r.thClass||r.headerClasses,tdStyle:r.tdStyle||r.style,thStyle:r.thStyle||r.headerStyle}},Wc=e=>Object.keys(Y({},...e.items)).map((t,n)=>Mc(t,n,e)),Fc=e=>e.columns.map((t,n)=>Mc(t,n,e)),Uc=e=>{const t=(0,r.EW)(()=>0===e.columns.length?Wc(e):Fc(e));return{columnsComputed:t}},jc={delay:{type:Number,default:0,validator:e=>e>=0}};function zc(e,t){const n=(0,l.lW)(t,"delay")??0,r=(0,l.KR)(!0);let a;return function(...t){const o=()=>e.apply(this,t);return(0,l.R1)(n)?(r.value&&(r.value=!1,setTimeout(()=>r.value=!0,(0,l.R1)(n)),a=o()),a):o()}}function Kc(e,t){const n=(0,l.lW)(t,"delay")??0;if(!(0,l.R1)(n))return e;const a=(0,l.KR)(!0),o=(0,l.KR)(),i=(0,l.KR)(),s=(0,l.KR)();return(0,r.wB)(e,()=>{o.value=e.value;const t=setTimeout(()=>{s.value=o.value},(0,l.R1)(n));a.value?(a.value=!1,s.value=e.value,i.value=e.value,clearTimeout(t),setTimeout(()=>a.value=!0,(0,l.R1)(n))):s.value=i.value},{immediate:!0}),s}const Gc={...jc,...Nc,perPage:{type:Number}},Xc=(e,t)=>{const n=(0,r.EW)(()=>{if(!t.perPage||t.perPage<0)return e.value;if(!t.currentPage||t.currentPage<0)return e.value.slice(0,t.perPage);const n=t.perPage*(t.currentPage-1);return e.value.slice(n,n+t.perPage)}),a=Kc(n,t);return{paginatedRows:a}},Hc=(e,t)=>"function"===typeof t?t(e):Ps(e,t)||e,qc=()=>({...Lc(),...Dc}),Qc=(e,t,n,r)=>{var a;const o=Ps(n,r.key);return{rowIndex:e,rowKey:t,rowData:n,column:r,source:o,value:(null==(a=null==o?void 0:o.toString)?void 0:a.call(o))||""}},Yc=(e,t,n,r)=>{const a=Hc(e,n);return{initialIndex:t,itemKey:a,source:e,cells:r.map(n=>Qc(t,a,e,n)),rowData:e}},Jc=(e,t)=>{const n=(0,l.KR)({}),a=(0,r.EW)(()=>t.items.map((r,a)=>({...Yc(r,a,t.itemsTrackBy,e.value),toggleRowDetails:e=>{n.value[a]="boolean"===typeof e?e:!n.value[a]},isExpandableRowVisible:!!n.value[a]})));return{rowsComputed:a}},Zc={...Oc,...Dc,modelValue:{type:Array},selectMode:{type:String,default:"multiple"}},ed=(e,t,n)=>{const a=(0,l.KR)([]),o=(0,r.EW)({get(){return void 0===t.modelValue?a.value:t.modelValue},set(e){void 0===t.modelValue&&(a.value=e),n("update:modelValue",e)}}),i=(0,l.KR)(-1);(0,r.wB)(()=>t.selectMode,(e,t)=>{"single"===e&&"multiple"===t&&(o.value=[],y(-1))}),(0,r.wB)(e,()=>{y(-1)}),(0,r.wB)(o,(e,t=[])=>{n("selectionChange",{currentSelectedItems:e,previousSelectedItems:t})},{immediate:!0});const s=e=>Hc(e,t.itemsTrackBy),u=(0,r.EW)(()=>!e.value.some(({source:e})=>o.value.includes(s(e)))),c=(0,r.EW)(()=>0!==e.value.length&&e.value.every(({source:e})=>o.value.includes(s(e)))),d=(0,r.EW)(()=>!u.value&&!c.value);function h(e){return o.value.includes(s(e.source))}function p(){o.value=[...new Set([...o.value,...e.value.map(e=>s(e.source))])]}function f(){const t=e.value.map(e=>s(e.source));o.value=o.value.filter(e=>!t.includes(e))}function v(e){o.value=[...o.value,s(e.source)]}function m(e){o.value=[s(e.source)]}function g(e){const t=o.value.findIndex(t=>t===s(e.source));o.value=[...o.value.slice(0,t),...o.value.slice(t+1)]}function y(t){if(-1===t)i.value=-1;else{const n=e.value.find(e=>e.initialIndex===t);i.value=n?e.value.indexOf(n):-1}}function b(t){let n,r;return h(e.value[i.value])?(n=Math.min(i.value,t),r=Math.max(i.value,t)):(n=Math.min(i.value+1,t),r=Math.max(i.value-1,t)),e.value.slice(n,r+1)}function _(e){const t=e.map(e=>s(e.source));if(u.value)return void(o.value=t);const n=t.every(e=>o.value.includes(e));o.value=n?o.value.filter(e=>!t.includes(e)):[...new Set([...o.value,...t])]}function w(e){t.selectable&&(h(e)?(g(e),"single"===t.selectMode?y(-1):y(e.initialIndex)):("single"===t.selectMode?m(e):v(e),y(e.initialIndex)))}function E(e){t.selectable&&w(e)}function k(n){if(!t.selectable)return;if("single"===t.selectMode||-1===i.value)return w(n);const r=e.value.indexOf(n);_(b(r)),y(-1)}function C(){c.value?f():p(),y(-1)}return{ctrlSelectRow:E,shiftSelectRows:k,toggleRowSelection:w,toggleBulkSelection:C,isRowSelected:h,noRowsSelected:u,severalRowsSelected:d,allRowsSelected:c}},td="--va-data-table",nd=e=>"function"===typeof e,rd={...Oc,selectedColor:{type:String,default:"primary"},allowFooterSorting:{type:Boolean,default:!1},stickyHeader:{type:Boolean,default:!1},stickyFooter:{type:Boolean,default:!1},height:{type:[String,Number]}},ad=e=>nd(e)?e():e,od=e=>nd(e)?e():e,id=e=>{const{getColor:t,getFocusColor:n,getHoverColor:a}=Xt(),o=(0,r.EW)(()=>t(e.selectedColor)),i=(0,r.EW)(()=>({hoverColor:a(o.value),selectedColor:e.selectable?n(o.value):void 0,tableHeight:e.height?_c(e.height):"var(--va-data-table-height)",theadBg:e.stickyHeader?"var(--va-data-table-thead-background, var(--va-data-table-header-background))":"var(--va-data-table-thead-background)",tfootBg:e.stickyFooter?"var(--va-data-table-tfoot-background, var(--va-data-table-header-background))":"var(--va-data-table-tfoot-background)"})),s=e=>({[`${td}-width`]:e.width&&_c(e.width),[`${td}-align`]:e.thAlign,[`${td}-vertical-align`]:e.thVerticalAlign,[`${td}-cursor`]:e.sortable?"pointer":"default"}),l=e=>({[`${td}-align`]:e.column.tdAlign,[`${td}-vertical-align`]:e.column.tdVerticalAlign}),u=t=>({[`${td}-align`]:t.thAlign,[`${td}-vertical-align`]:t.thVerticalAlign,[`${td}-cursor`]:e.allowFooterSorting&&t.sortable?"pointer":"default"});return{CSSVariables:i,getHeaderCSSVariables:s,getCellCSSVariables:l,getFooterCSSVariables:u,getClass:ad,getStyle:od}},sd=e=>"function"===typeof e,ld=e=>null!==e&&"object"===typeof e,ud={rowBind:{type:null},cellBind:{type:null}},cd=e=>{const t=t=>sd(e.rowBind)?e.rowBind(t.source,t.initialIndex):ld(e.rowBind)?e.rowBind:{},n=(t,n)=>sd(e.cellBind)?e.cellBind(t.source,n.source,t.column,n.initialIndex):ld(e.cellBind)?e.cellBind:{};return{getRowBind:t,getCellBind:n}},dd={...Nc,animated:{type:Boolean,default:!0}},hd=(e,t)=>{const n=(0,l.KR)("shuffle"),a=(0,r.EW)(()=>e.animated?`table-transition-${n.value}`:""),o=(0,l.KR)(t.value.length),i=(0,r.EW)(()=>t.value.length!==o.value);return(0,r.wB)(t,(e,t)=>{const r=!(!e.length||!t.length);n.value=e.length>50||i.value&&r?"fade":"shuffle",o.value=e.length}),(0,r.wB)(()=>e.currentPage,()=>{i.value||(n.value="shuffle")}),a},pd={...jc,filter:{type:String,default:""},filterMethod:{type:Function}},fd=(e,t,n)=>{const a=(0,r.EW)(()=>e.value.length&&(""!==t.filter||t.filterMethod)?e.value.filter(e=>e.cells.some(e=>{if("function"===typeof t.filterMethod)return t.filterMethod(e.source,e);const n=new RegExp(t.filter,"i");return n.test(e.value)})):e.value),o=Kc(a,t);return(0,r.wB)(o,()=>{n("filtered",{items:o.value.map(e=>e.source),itemsIndexes:o.value.map(e=>e.initialIndex)})}),a.value.length!==e.value.length&&n("filtered",{items:a.value.map(e=>e.source),itemsIndexes:a.value.map(e=>e.initialIndex)}),{filteredRows:o}},vd={...jc,sortBy:{type:String},columnSorted:{type:Object},sortingOrder:{type:[String,null]},disableClientSideSorting:{type:Boolean,default:!1}},md=(e,t,n,a)=>{const o=(0,l.KR)(""),i=(0,r.EW)({get(){return void 0===n.sortBy?o.value:n.sortBy},set(e){void 0===n.sortBy&&(o.value=e),a("update:sortBy",e)}}),s=(0,l.KR)(null),u=(0,r.EW)({get(){return void 0===n.sortingOrder?s.value:n.sortingOrder},set(e){void 0===n.sortingOrder&&(s.value=e),a("update:sortingOrder",e)}}),c=(e,t)=>{if("string"===typeof e&&"string"===typeof t)return e.localeCompare(t);if("number"===typeof e&&"number"===typeof t)return e-t;const n=parseFloat(e),r=parseFloat(t);return isNaN(n)||isNaN(r)?isNaN(n)?isNaN(r)?0:1:-1:n-r},d=(0,r.EW)(()=>{if(n.disableClientSideSorting)return t.value;if(t.value.length<=1)return t.value;const r=e.value.findIndex(({name:e,sortable:t})=>i.value===e&&t),a=e.value[r];if(!a)return t.value;const o="desc"===u.value?-1:1;return[...t.value].sort((e,t)=>{if(null===u.value)return e.initialIndex-t.initialIndex;{const n=e.cells[r].source,i=t.cells[r].source;return o*("function"===typeof a.sortingFn?a.sortingFn(n,i):c(n,i))}})});(0,r.wB)(d,()=>{a("sorted",{sortBy:i.value,sortingOrder:u.value,items:d.value.map(e=>e.source),itemsIndexes:d.value.map(e=>e.initialIndex)})});const h=(e,t)=>{const n=t.findIndex(t=>t===e);return-1!==n?t[(n+1)%t.length]:t[0]};function p(e){let t;e.name===i.value?t=h(u.value,e.sortingOptions):(i.value=e.name,t=e.sortingOptions[0]),u.value=t,a("columnSorted",{columnName:e.name,value:t,column:e})}const f=zc(p,n),v=(0,r.EW)(()=>"asc"===u.value?"va-sort-asc":"desc"===u.value?"va-sort-desc":"va-unsorted");return{sortBySync:i,sortingOrderSync:u,toggleSorting:f,sortedRows:d,sortingOrderIconName:v}},gd=e=>{const t=(0,l.R1)(e);return Lr(t)},yd=()=>{const e=(0,l.IJ)();return(0,r.EW)({get(){return gd(e)},set(t){e.value=t}})},bd={scrollTopMargin:{type:[Number,String],default:0},scrollBottomMargin:{type:[Number,String],default:0}},_d=["scroll:top","scroll:bottom"],wd=(e,t)=>{var n;const a=null==(n=(0,r.nI)())?void 0:n.vnode.props,o=void 0!==(null==a?void 0:a["onScroll:top"]),i=void 0!==(null==a?void 0:a["onScroll:bottom"]),s=yd(),l=yd(),u=yd(),c=je("scrollTopMargin"),d=je("scrollBottomMargin"),h=(0,r.EW)(()=>!!s.value),p=e=>{e.forEach(e=>{e.isIntersecting&&(e.target===l.value?t("scroll:top"):t("scroll:bottom"))})},f=(0,r.EW)(()=>{const e=[];return h.value&&(l.value&&e.push(l.value),u.value&&e.push(u.value)),e}),v=(0,r.EW)(()=>({root:s.value,rootMargin:`${c.value??0}px 0px ${d.value??0}px 0px`}));return ul(p,v,f),{scrollContainer:s,topTrigger:l,bottomTrigger:u,doRenderTopTrigger:o,doRenderBottomTrigger:i}},Ed={class:"va-data-table__table-tr"},kd={key:0,scope:"col",class:"va-data-table__table-th va-data-table__table-cell-select"},Cd=["title","onClick","onKeydown"],Sd={class:"va-data-table__table-th-wrapper"},Rd={key:0},Td=(0,r.pM)({name:"VaDataTableThRow",__name:"VaDataTableThRow",props:{...rd,selectMode:{type:String,default:"multiple"},allRowsSelected:{type:Boolean,default:!1},severalRowsSelected:{type:Boolean,default:!1},columns:{type:Array,required:!0},isFooter:{type:Boolean,default:!1},sortBySync:{type:String,required:!0},sortingOrderIconName:{type:String,required:!0},sortingOrderSync:{type:String,default:null},ariaSelectAllRowsLabel:Wn("$t:selectAllRows"),ariaSortColumnByLabel:Wn("$t:sortColumnBy")},emits:["toggleBulkSelection","toggleSorting"],setup(e,{emit:t}){const n=e,a=t,{t:o,tp:i}=Un(),{getFooterCSSVariables:s,getHeaderCSSVariables:u,getClass:c,getStyle:d}=id(n),h=e=>{const t=n.sortingOrderSync&&n.sortBySync===e.name?"asc"===n.sortingOrderSync?"ascending":"descending":"none",r=e.sortable?i(n.ariaSortColumnByLabel,{name:e.label}):void 0;return{"aria-sort":t,"aria-label":r}},p=e=>{n.isFooter&&!n.allowFooterSorting||!e.sortable||a("toggleSorting",e)},f=()=>a("toggleBulkSelection"),v=e=>[e.width?{minWidth:e.width,maxWidth:e.width}:{},n.isFooter?s(e):u(e),d(e.thStyle)],m=(0,r.EW)(()=>n.isFooter?"footer":"header"),g=(0,r.EW)(()=>"multiple"===n.selectMode);return(t,n)=>((0,r.uX)(),(0,r.CE)("tr",Ed,[t.$props.selectable?((0,r.uX)(),(0,r.CE)("th",kd,[g.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(mu),{key:0,class:"va-data-table__table-cell-checkbox","model-value":t.$props.severalRowsSelected?"idl":t.$props.allRowsSelected,"aria-label":(0,l.R1)(i)(t.$props.ariaSelectAllRowsLabel),"true-value":!0,"false-value":!1,color:t.$props.selectedColor,"indeterminate-value":"idl",indeterminate:"","onUpdate:modelValue":f},null,8,["model-value","aria-label","color"])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.columns,n=>((0,r.uX)(),(0,r.CE)("th",(0,r.v6)({key:n.name,scope:"col",class:["va-data-table__table-th",(0,l.R1)(c)(n.thClass)],title:n.thTitle,style:v(n)},h(n),{onClick:(0,Ze.D$)(e=>p(n),["exact"]),onKeydown:(0,Ze.jR)((0,Ze.D$)(e=>p(n),["stop"]),["enter"])}),[(0,r.Lk)("div",Sd,[`${m.value}(${n.name})`in t.$slots?((0,r.uX)(),(0,r.CE)("span",Rd,[(0,r.RG)(t.$slots,`${m.value}(${n.name})`,(0,b._B)((0,r.Ng)({label:n.label,key:n.key})))])):(0,r.RG)(t.$slots,m.value,(0,b._B)((0,r.v6)({key:1},{label:n.label,key:n.key})),()=>[(0,r.Lk)("span",null,(0,b.v_)(n.label),1)]),n.sortable?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:2,class:(0,b.C4)(["va-data-table__table-th-sorting-icon",{active:e.sortBySync===n.name&&null!==e.sortingOrderSync}]),size:"small",role:n.sortable?"button":void 0,tabindex:n.sortable?0:-1,name:e.sortingOrderIconName,onSelectstart:(0,Ze.D$)(()=>{},["prevent"])},null,8,["class","role","tabindex","name"])):(0,r.Q3)("",!0)])],16,Cd))),128))]))}}),Id=ke(Td),{isParsablePositiveMeasure:xd,parseSizeValue:Ad}=ma(),Vd=(e,t)=>{const n=xd(e);return!n&&B(`[va-virtual-scroller] ${t} should be number or parsable int greater or equal to 0. Provided: ${e}.`),n},$d={horizontal:{type:Boolean,default:!1},itemSize:{type:[Number,String],default:0,validator:e=>Vd(e,"itemSize")},wrapperSize:{type:[Number,String],default:100,validator:e=>"auto"===e||Vd(e,"wrapperSize")}},Nd=(e,t)=>{const n=(0,l.IJ)(),a=(0,l.IJ)(),o=(0,r.EW)(()=>e.horizontal?"clientWidth":"clientHeight"),i=(0,r.EW)(()=>{var t;return"auto"===e.wrapperSize?(null==(t=a.value)?void 0:t[o.value])||0:Ad(e.wrapperSize,s)}),s=(0,l.KR)(16),u=()=>{s.value=parseFloat(getComputedStyle(document.documentElement).fontSize),d()};jr("resize",u,!0);const c=(0,l.KR)(0),d=()=>{if(!n.value)return;const e=[],t=n.value.children,r=t.length;for(let a=0;a<r;a++){const t=n.value.children.item(a);t&&e.push(t[o.value])}c.value=r?Math.trunc(e.reduce((e,t)=>e+t,0)/(r-1)):0},h=(0,r.nI)();(0,r.sV)(()=>{var e,t;n.value||(n.value=null==(t=null==(e=null==h?void 0:h.parent)?void 0:e.refs)?void 0:t.list),d()}),(0,r.wB)(t,d),(0,r.wB)(i,d);let p=0;const f=(0,r.EW)(()=>{const t=Ad(e.itemSize,s),n=Math.max(t,c.value,1),r=Math.abs(p/n*100-100);return r>5||0===p?(p=n,n):p});return{list:n,wrapper:a,itemSize:f,wrapperSize:i}},Ld={trackBy:{type:[String,Number,Function],default:""}},Od=e=>{const t=(t,n,r)=>{if(e.trackBy&&t&&"object"===typeof t&&!Jr(e.trackBy)){const n=Array.isArray(t);let r;if(n&&!isNaN(+e.trackBy)&&(r=t[+e.trackBy]),n||(r=t[e.trackBy]),r||0===r)return r;B(`${n?"Index":"Key"} '${e.trackBy}' wasn't found in provided ${n?"array":"object"}: `,t)}return Jr(e.trackBy)?e.trackBy(t):r};return{getKey:t}},Dd=(0,r.pM)({name:"VaVirtualScroller",__name:"VaVirtualScroller",props:{...Ld,...$d,items:{type:Array,default:()=>[]},bench:{type:[Number,String],default:10,validator:e=>Number(e)>=0},disabled:{type:Boolean,default:!1},table:{type:Boolean,default:!1}},emits:["scroll:bottom"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.KR)(0),s=je("bench"),u=(0,r.EW)(()=>a.horizontal?"scrollLeft":"scrollTop"),c=()=>{h.value&&(i.value=h.value[u.value])};a.disabled||jr("scroll",c,!0);const{list:d,wrapper:h,itemSize:p,wrapperSize:f}=Nd(a,i),{getKey:v}=Od(a),m=(e,t,n)=>v(e,t,n);(0,r.wB)(i,e=>{e+f.value===R.value&&o("scroll:bottom")});const g=(0,r.EW)(()=>Math.max(0,Math.floor(i.value/p.value)-s.value)),y=(0,r.EW)(()=>{var e;return(null==(e=a.items)?void 0:e.length)?a.disabled?a.items.length:Math.min(a.items.length-g.value,Math.ceil(f.value/p.value)+2*s.value):0}),_=(0,r.EW)(()=>g.value+y.value),w=(0,r.EW)(()=>{var e;return(null==(e=a.items)?void 0:e.length)?a.items.slice(g.value,_.value):[]}),E=(0,r.EW)(()=>a.horizontal?"width":"height"),k=(0,r.EW)(()=>a.table&&a.disabled),C=(0,r.EW)(()=>({[E.value]:k.value||!f.value?void 0:`${f.value}px`})),S=gr("va-virtual-scroller",()=>({...tr(a,["horizontal"])})),R=(0,r.EW)(()=>{var e;return((null==(e=a.items)?void 0:e.length)??0)*p.value}),T=(0,r.EW)(()=>({[E.value]:k.value?void 0:`${R.value}px`})),I=(0,r.EW)(()=>g.value*p.value),x=(0,r.EW)(()=>({transform:`translate${a.horizontal?"X":"Y"}(${I.value}px)`})),A=(0,r.EW)(()=>a.horizontal?"left":"top"),V=e=>{var t;(e||0===e)&&(null==(t=h.value)||t.scrollTo({[A.value]:e*p.value}))};return t({scrollToAttribute:A,virtualScrollTo:V}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"wrapper",ref:h,class:(0,b.C4)(["va-virtual-scroller",(0,l.R1)(S)]),style:(0,b.Tr)(C.value)},[(0,r.RG)(e.$slots,"content",(0,b._B)((0,r.Ng)({containerStyleComputed:T.value,listStyleComputed:x.value,renderBuffer:w.value,uniqueKey:m,currentListOffset:I.value})),()=>[(0,r.Lk)("div",{class:"va-virtual-scroller__container",style:(0,b.Tr)(T.value)},[(0,r.Lk)("div",{ref_key:"list",ref:d,role:"list",class:"va-virtual-scroller__list",style:(0,b.Tr)(x.value)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(w.value,(t,n)=>(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.v6)({key:m(t,n)},{item:t,index:g.value+n})))),128))],4)],4)])],6))}}),Bd=ke(Dd),Pd={key:0,class:"va-inner-loading__overlay","aria-hidden":"true"},Md=(0,r.pM)({name:"VaInnerLoading",__name:"VaInnerLoading",props:{...mr,...Ne,color:{type:String},icon:{type:String,default:"va-loading"},size:{type:[Number,String],default:30}},setup(e){const t=e,{getColor:n}=Xt(),a=(0,r.EW)(()=>n(t.color)),o=(0,r.EW)(()=>({"va-inner-loading--active":t.loading})),i=(0,r.EW)(()=>({"aria-busy":t.loading}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-inner-loading",o.value],"aria-live":"polite"},i.value),[(0,r.RG)(e.$slots,"default"),e.$props.loading?((0,r.uX)(),(0,r.CE)("div",Pd,[(0,r.RG)(e.$slots,"loading",{},()=>[(0,r.bF)((0,l.R1)(Pn),{class:"va-inner-loading__spinner",spin:"counter-clockwise",color:a.value,size:e.$props.size,name:e.$props.icon},null,8,["color","size","name"])])])):(0,r.Q3)("",!0)],16))}}),Wd=ke(Md),Fd={key:0},Ud={ref:"list",class:"va-data-table__table-tbody"},jd={key:"showNoDataHtml",class:"va-data-table__table-tr"},zd={class:"va-data-table__table-td no-data",colspan:"99999"},Kd=["innerHTML"],Gd={key:"showNoDataFilteredHtml",class:"va-data-table__table-tr"},Xd={class:"va-data-table__table-td no-data",colspan:"99999"},Hd=["innerHTML"],qd=["onClick","onDblclick","onContextmenu"],Qd={key:0,class:"va-data-table__grid-column-header"},Yd={key:0,class:"va-data-table__table-tr"},Jd=fr(Bd,["items","trackBy","horizontal","disabled","table"]),Zd=fr(Id),eh=(0,r.pM)({name:"VaDataTable",inheritAttrs:!1,__name:"VaDataTable",props:{...Ne,...Jd,...dd,...ud,...bd,...vd,...rd,...Pc,...pd,...Gc,...qc(),...Zc,...jc,...tr(Zd,["ariaSelectAllRowsLabel","ariaSortColumnByLabel"]),hoverable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingColor:{type:String,default:"primary"},noDataHtml:{type:String,default:"No items"},noDataFilteredHtml:{type:String,default:"No items match the provided filtering condition"},hideDefaultHeader:{type:Boolean,default:!1},footerClone:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},virtualScroller:{type:Boolean,default:!1},virtualTrackBy:{type:[String,Number],default:"initialIndex"},grid:{type:Boolean,default:!1},gridColumns:{type:[Number,String],default:0},wrapperSize:{type:[Number,String],default:"auto"},ariaSelectRowLabel:Wn("$t:selectRowByIndex")},emits:["update:modelValue","update:sortBy","update:sortingOrder","filtered","sorted","selectionChange","row:click","row:dblclick","row:contextmenu","columnSorted",..._d],setup(e,{emit:t}){const{tp:n}=Un(),a=e,o=t,{columnsComputed:i}=Uc(a),{rowsComputed:s}=Jc(i,a),{filteredRows:c}=fd(s,a,o),{sortBySync:d,sortingOrderSync:h,toggleSorting:p,sortedRows:f,sortingOrderIconName:v}=md(i,c,a,o),{paginatedRows:m}=Xc(f,a),{ctrlSelectRow:g,shiftSelectRows:y,toggleBulkSelection:_,isRowSelected:w,severalRowsSelected:E,allRowsSelected:k,toggleRowSelection:C}=ed(m,a,o),{CSSVariables:S,getCellCSSVariables:R,getClass:T,getStyle:I}=id(a),{getRowBind:x,getCellBind:A}=cd(a),V=hd(a,m),$=(0,r.EW)(()=>0===a.items.length),N=(0,r.EW)(()=>0===m.value.length),L=(e,t,n)=>{o(e,{event:t,item:n.source,itemIndex:n.initialIndex,row:n}),a.selectable&&a.grid&&C(n)},O=(0,r.EW)(()=>({...u(P,["class","style"]),class:tr(a,["striped","selectable","hoverable","clickable"])})),D=yr(Jd),B=(0,r.EW)(()=>({...D.value,items:m.value,trackBy:a.virtualTrackBy,disabled:!a.virtualScroller,table:!0})),P=(0,r.OA)(),M=(0,r.EW)(()=>({class:[{"va-data-table--sticky":a.stickyHeader||a.stickyFooter},{"va-data-table--scroll":!!a.height},{"va-data-table--virtual-scroller":X.value},{"va-data-table--grid":a.grid},P.class],style:[P.style],...B.value})),W=yr(Zd),F=(0,r.EW)(()=>({...W.value,columns:i.value,sortingOrderIconName:v.value,severalRowsSelected:E.value,sortingOrderSync:h.value,allRowsSelected:k.value,sortBySync:d.value})),{scrollContainer:U,topTrigger:j,bottomTrigger:z,doRenderTopTrigger:K,doRenderBottomTrigger:G}=wd(a,o),X=(0,r.EW)(()=>a.virtualScroller&&!a.grid),H=(0,r.EW)(()=>a.gridColumns||"var(--va-data-table-grid-tbody-columns)"),q=(e,t)=>t.displayFormatFn?t.displayFormatFn(e.value):e.value;return(t,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Bd),(0,r.v6)({class:"va-data-table"},M.value,{ref_key:"scrollContainer",ref:U,style:`--va-css-variables-selected-color: ${String((0,l.R1)(S).selectedColor)};--va-css-variables-hover-color: ${String((0,l.R1)(S).hoverColor)};--va-css-variables-table-height: ${String((0,l.R1)(S).tableHeight)};--va-css-variables-thead-bg: ${String((0,l.R1)(S).theadBg)};--va-css-variables-tfoot-bg: ${String((0,l.R1)(S).tfootBg)};--va-grid-columns-count: ${String(H.value)}`}),{content:(0,r.k6)(({uniqueKey:o,renderBuffer:s,currentListOffset:u,listStyleComputed:c,containerStyleComputed:d})=>[(0,r.bF)((0,l.R1)(Wd),{"aria-live":"polite",style:(0,b.Tr)(d),loading:e.loading,color:e.loadingColor},{default:(0,r.k6)(()=>[(0,l.R1)(K)?((0,r.uX)(),(0,r.CE)("div",{key:0,ref_key:"topTrigger",ref:j,class:"va-data-table__scroll-trigger"},null,512)):(0,r.Q3)("",!0),(0,r.Lk)("table",(0,r.v6)({class:"va-data-table__table",style:c},O.value),["colgroup"in t.$slots?((0,r.uX)(),(0,r.CE)("colgroup",Fd,[(0,r.RG)(t.$slots,"colgroup",(0,b._B)((0,r.Ng)((0,l.R1)(i))))])):(0,r.Q3)("",!0),(0,r.Lk)("thead",{class:(0,b.C4)(["va-data-table__table-thead",{"va-data-table__table-thead--sticky":t.$props.stickyHeader}]),style:(0,b.Tr)({top:X.value&&t.$props.stickyHeader?`-${u}px`:void 0})},[(0,r.RG)(t.$slots,"headerPrepend"),(0,r.RG)(t.$slots,"header",{},()=>[e.hideDefaultHeader?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Id),(0,r.v6)({key:0},F.value,{onToggleBulkSelection:(0,l.R1)(_),onToggleSorting:(0,l.R1)(p)}),(0,r.eX)({_:2},[(0,r.pI)(t.$slots,(e,n)=>({name:n,fn:(0,r.k6)(e=>[(0,r.RG)(t.$slots,n,(0,b._B)((0,r.Ng)(e)))])}))]),1040,["onToggleBulkSelection","onToggleSorting"]))]),(0,r.RG)(t.$slots,"headerAppend")],6),(0,r.Lk)("tbody",Ud,[(0,r.RG)(t.$slots,"bodyPrepend"),(0,r.bF)(Ze.F,{name:X.value?"":(0,l.R1)(V),css:!t.$props.virtualScroller,appear:!t.$props.virtualScroller},{default:(0,r.k6)(()=>[$.value?((0,r.uX)(),(0,r.CE)("tr",jd,[(0,r.Lk)("td",zd,[(0,r.RG)(t.$slots,"no-data",{},()=>[(0,r.Lk)("div",{innerHTML:e.noDataHtml},null,8,Kd)])])])):N.value?((0,r.uX)(),(0,r.CE)("tr",Gd,[(0,r.Lk)("td",Xd,[(0,r.RG)(t.$slots,"no-filtered-data",{},()=>[(0,r.RG)(t.$slots,"no-data",{},()=>[(0,r.Lk)("div",{innerHTML:e.noDataFilteredHtml},null,8,Hd)])])])])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s,(e,s)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:`table-row_${o(e,s)}`},[(0,r.Lk)("tr",(0,r.v6)({class:["va-data-table__table-tr",[{selected:(0,l.R1)(w)(e),"va-data-table__table-tr--expanded":e.isExpandableRowVisible}]]},(0,l.R1)(x)(e),{onClick:t=>L("row:click",t,e),onDblclick:t=>L("row:dblclick",t,e),onContextmenu:t=>L("row:contextmenu",t,e)}),[t.selectable&&!t.$props.grid?((0,r.uX)(),(0,r.CE)("td",{class:"va-data-table__table-td va-data-table__table-cell-select",key:`selectable_${o(e,s)}`,onSelectstart:a[0]||(a[0]=(0,Ze.D$)(()=>{},["prevent"]))},[(0,r.bF)((0,l.R1)(mu),{class:"va-data-table__table-cell-checkbox","model-value":(0,l.R1)(w)(e),color:t.selectedColor,"aria-label":(0,l.R1)(n)(t.$props.ariaSelectRowLabel,{index:e.initialIndex}),onClick:[(0,Ze.D$)(t=>(0,l.R1)(y)(e),["shift","exact","stop"]),(0,Ze.D$)(t=>(0,l.R1)(g)(e),["ctrl","exact","stop"]),(0,Ze.D$)(t=>(0,l.R1)(g)(e),["exact","stop"])]},null,8,["model-value","color","aria-label","onClick"])],32)):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.cells,(n,a)=>((0,r.uX)(),(0,r.CE)("td",(0,r.v6)({key:`table-cell_${n.column.name+n.rowIndex}`,class:["va-data-table__table-td",(0,l.R1)(T)(n.column.tdClass)],style:[n.column.width?{minWidth:n.column.width,maxWidth:n.column.width}:{},(0,l.R1)(R)(n),(0,l.R1)(I)(n.column.tdStyle)]},(0,l.R1)(A)(n,e)),[`cell(${n.column.name})`in t.$slots?(0,r.RG)(t.$slots,`cell(${n.column.name})`,(0,b._B)((0,r.v6)({key:0},{...n,row:e,isExpanded:e.isExpandableRowVisible}))):(0,r.RG)(t.$slots,"cell",(0,b._B)((0,r.v6)({key:1},{cell:n,row:e})),()=>[t.$props.grid?((0,r.uX)(),(0,r.CE)("span",Qd,(0,b.v_)((0,l.R1)(i)[a].label),1)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,b.v_)(q(n,(0,l.R1)(i)[a])),1)])],16))),128))],16,qd),e.isExpandableRowVisible?((0,r.uX)(),(0,r.CE)("tr",Yd,[((0,r.uX)(),(0,r.CE)("td",{class:"va-data-table__table-expanded-content",colspan:"99999",key:o(e,s)},[(0,r.RG)(t.$slots,"expandableRow",(0,b._B)((0,r.Ng)(e)))]))])):(0,r.Q3)("",!0)],64))),128))]),_:2},1032,["name","css","appear"]),(0,r.RG)(t.$slots,"bodyAppend")],512),["footer","footerPrepend","footerAppend"].some(e=>t.$slots[e])||e.footerClone&&!t.$props.grid?((0,r.uX)(),(0,r.CE)("tfoot",{key:1,class:(0,b.C4)(["va-data-table__table-tfoot",{"va-data-table__table-tfoot--sticky":t.$props.stickyFooter}]),style:(0,b.Tr)({bottom:X.value&&t.$props.stickyFooter?`${u}px`:void 0})},[(0,r.RG)(t.$slots,"footerPrepend"),(0,r.RG)(t.$slots,"footer",{},()=>[e.hideDefaultHeader?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Id),(0,r.v6)({key:0},F.value,{"is-footer":"",onToggleBulkSelection:(0,l.R1)(_),onToggleSorting:(0,l.R1)(p)}),(0,r.eX)({_:2},[(0,r.pI)(t.$slots,(e,n)=>({name:n,fn:(0,r.k6)(e=>[(0,r.RG)(t.$slots,n,(0,b._B)((0,r.Ng)(e)))])}))]),1040,["onToggleBulkSelection","onToggleSorting"]))]),(0,r.RG)(t.$slots,"footerAppend")],6)):(0,r.Q3)("",!0)],16),(0,l.R1)(G)?((0,r.uX)(),(0,r.CE)("div",{key:1,ref_key:"bottomTrigger",ref:z,class:"va-data-table__scroll-trigger"},null,512)):(0,r.Q3)("",!0)]),_:2},1032,["style","loading","color"])]),_:3},16,["style"]))}}),th=ke(eh),nh=e=>null!==e&&("object"===typeof e&&("start"in e||"end"in e)),rh=(e,t)=>{const n=(0,l.KR)(e.value),a=(0,r.EW)({get:()=>n.value,set:r=>{t.value&&(e.value=r),r?(nh(r)?null!==r.end&&(e.value=r):e.value=r,n.value=r):e.value=r}});(0,r.wB)(e,e=>{n.value=e});const o=()=>{n.value&&nh(n.value)&&(n.value=e.value)};return{valueComputed:a,reset:o}},ah=e=>"[object Date]"===Object.prototype.toString.call(e),oh=e=>new Date(Date.parse(e)),ih=e=>ah(e)&&!isNaN(e.getTime()),sh=e=>{const t=t=>{const n=t.split(e.delimiter);return!(n.length<2)&&n.every(t=>{const n=(e.parseDate||oh)(t);return ih(n)})},n=t=>t.includes(e.rangeDelimiter),r=(0,l.KR)(!0),a=t=>{const n=t.split("."),a=3===(null==n?void 0:n.length)?n.reverse().join("-"):t,o=(e.parseDate||oh)(a);return r.value=ih(o),o},o=o=>{if(r.value=!0,e.parse)return e.parse(o,r);if(t(o))return o.split(e.delimiter).map(a);if(n(o)){const[t,n]=o.split(e.rangeDelimiter).map(a);return{start:t,end:n}}return a(o)};return{parseDateInputValue:o,isValid:r}},lh=e=>{const t=Date.parse(e);return!isNaN(t)&&!e.includes(" ")},uh=e=>e.endsWith("GMT"),ch=e=>{const t=new Date(e);return!isNaN(t.getTime())},dh=(e,t)=>uh(t)?e.toUTCString():lh(t)?e.toISOString():ch(t)?e.toString():null,hh=e=>null!==e&&("object"===typeof e&&("start"in e||"end"in e)),ph=e=>null!==e&&Array.isArray(e),fh=e=>null!==e&&("string"===typeof e||"number"===typeof e||e instanceof Date),vh=(e,t,n,a,o)=>{const i=(e,t)=>{if(o)return o(t);if("string"===typeof e){const n=dh(t,e);return n||a(t)}return"number"===typeof e?t.getTime():t},s=e=>e instanceof Date?e:new Date(e),l=(0,r.EW)(()=>null===e.value||void 0===e.value?null:"string"===typeof e.value?n(e.value):"number"===typeof e.value?new Date(e.value):e.value),u=(0,r.EW)({get:()=>{if(null===l.value||void 0===l.value)return null;if(ph(l.value))return l.value.map(s);if(hh(l.value)){const{start:e,end:t}=l.value;return{start:e?s(e):null,end:t?s(t):null}}return s(l.value)},set(t){var n,r;if(null!==t&&void 0!==t){if(ph(t)&&(ph(e.value)||$(e.value))){const n=e.value;return void(e.value=t.map((e,t)=>i((null==n?void 0:n[t])||(null==n?void 0:n[0]),e)))}if(hh(t)&&(hh(e.value)||$(e.value))){const{start:a,end:o}=t;return void(e.value={start:a?i(null==(n=e.value)?void 0:n.start,a):null,end:o?i(null==(r=e.value)?void 0:r.start,o):null})}if(!fh(t)||!fh(e.value)&&!$(e.value))throw new Error("Input date is not the same as date from props");e.value=i(e.value,t)}else e.value=t}}),c=(0,r.EW)({get:()=>null===u.value||void 0===u.value?"":a(u.value),set:t=>{e.value=n(t)}});return{text:c,normalized:u}},mh=(e,t)=>(null==e?void 0:e.toDateString())===(null==t?void 0:t.toDateString()),gh=(e,t)=>(null==e?void 0:e.getFullYear())===(null==t?void 0:t.getFullYear()),yh=(e,t)=>gh(e,t)&&(null==e?void 0:e.getMonth())===(null==t?void 0:t.getMonth()),bh=e=>{const t=new Date;return t.setFullYear(e),t},_h=e=>null!==e&&("object"===typeof e&&("start"in e||"end"in e)),wh=e=>ah(e),Eh=e=>Array.isArray(e),kh=0,Ch=11,Sh=e=>e.month===Ch?{...e,year:e.year+1,month:kh}:{...e,month:e.month+1},Rh=e=>e.month===kh?{...e,year:e.year-1,month:Ch}:{...e,month:e.month-1},Th=e=>ah(e)?e:ah(null==e?void 0:e.start)?e.start:Array.isArray(e)&&ah(e[0])?e[0]:new Date,Ih=(e,t,n)=>{const a=Th(e.modelValue),o={type:"day",year:a.getFullYear(),month:a.getMonth(),...n},i=(0,l.KR)(o),s=(0,r.EW)({get(){return{...i.value,...e.view}},set(e){i.value=e,t("update:view",e)}}),u=()=>{"day"===s.value.type?s.value=Sh(s.value):"month"===s.value.type&&(s.value={...s.value,year:s.value.year+1})},c=()=>{"day"===s.value.type?s.value=Rh(s.value):"month"===s.value.type&&(s.value={...s.value,year:s.value.year-1})};return{syncView:s,next:u,prev:c}},xh=["onKeypress"],Ah=(0,r.pM)({name:"VaDatePickerCell",__name:"VaDatePickerCell",props:{otherMonth:{type:Boolean,default:!1},today:{type:Boolean,default:!1},inRange:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},weekend:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},highlightWeekend:{type:Boolean,default:!1},highlightToday:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["click"],setup(e,{emit:t}){const n=e,a=t,o=()=>{n.disabled||a("click")},{getColor:i}=Xt(),s=(0,r.EW)(()=>i(n.color)),{textColorComputed:u}=Ht(s);return(t,n)=>e.hidden?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-date-picker-cell va-date-picker-cell_clear",style:(0,b.Tr)(`--va-bg: ${String(s.value)};--va-text-color-computed: ${String((0,l.R1)(u))}`)},null,4)):((0,r.uX)(),(0,r.CE)("div",{key:1,class:(0,b.C4)(["va-date-picker-cell",{"va-date-picker-cell_other-month":e.otherMonth,"va-date-picker-cell_today":e.highlightToday&&e.today,"va-date-picker-cell_in-range":e.inRange,"va-date-picker-cell_disabled":e.disabled,"va-date-picker-cell_highlighted-weekend":e.highlightWeekend&&e.weekend,"va-date-picker-cell_selected":e.selected,"va-date-picker-cell_focused":e.focused,"va-date-picker-cell_readonly":e.readonly}]),onClick:o,onKeypress:(0,Ze.jR)((0,Ze.D$)(o,["prevent","stop"]),["space","enter"]),style:(0,b.Tr)(`--va-bg: ${String(s.value)};--va-text-color-computed: ${String((0,l.R1)(u))}`)},[(0,r.RG)(t.$slots,"default")],46,xh))}});function Vh(e){return void 0===e}const $h=({rowSize:e,start:t,end:n,onSelected:r,onFocusIndex:a})=>{const o=(0,l.KR)(-1);let i=!1;const s=()=>{i=!0},u=()=>{if(i)return;i=!1;const e=void 0===a?(0,l.R1)(t)||0:(0,l.R1)(a);o.value=e},c=()=>{i=!1,o.value=-1},d=a=>{if(["ArrowRight","ArrowLeft","ArrowDown","ArrowUp","Enter","Space"].includes(a.key)&&(a.preventDefault(),a.stopPropagation()),"Enter"!==a.key&&"Space"!==a.key)"ArrowRight"===a.key&&(o.value+=1),"ArrowLeft"===a.key&&(o.value-=1),"ArrowDown"===a.key&&(o.value+=e),"ArrowUp"===a.key&&(o.value-=e),!Vh(t)&&o.value<(0,l.R1)(t)&&(o.value=(0,l.R1)(t)),!Vh(n)&&o.value>(0,l.R1)(n)-1&&(o.value=(0,l.R1)(n)-1);else{if(void 0===r)return;r(o.value)}},h={onFocus:u,onKeydown:d,onBlur:c,onMousedown:s,tabindex:0};return{focusedCellIndex:o,containerAttributes:h}},Nh=(e,t)=>{if("single"===t)return e;if("range"===t)return{start:e,end:null};if("multiple"===t)return[e];if("auto"===t)return e;throw new Error("Unknown mode")},Lh=(e,t)=>{throw Error(`Incorrect modelValue for mode ${t}. Got ${JSON.stringify(e)}`)},Oh=e=>wh(e)?"single":_h(e)?"range":Eh(e)?"multiple":Lh(e,"auto"),Dh=e=>e.start&&e.end&&e.start>e.end?{start:e.end,end:e.start}:e,Bh=(e,t,n)=>{const r=r=>{if(!e.modelValue)return void t("update:modelValue",Nh(r,e.mode));const a="auto"===e.mode?Oh(e.modelValue):e.mode;if("single"===a){if(!wh(e.modelValue))return Lh(e.modelValue,a);t("update:modelValue",r)}else if("range"===a){if(!_h(e.modelValue))return Lh(e.modelValue,a);if(e.modelValue.end&&n(e.modelValue.end,r))return t("update:modelValue",{start:e.modelValue.start,end:null});if(e.modelValue.start&&n(e.modelValue.start,r))return t("update:modelValue",{start:null,end:e.modelValue.end});if(null===e.modelValue.end)return t("update:modelValue",Dh({start:e.modelValue.start,end:r}));if(null===e.modelValue.start)return t("update:modelValue",Dh({end:e.modelValue.end,start:r}));t("update:modelValue",{start:r,end:null})}else if("multiple"===a){if(!Eh(e.modelValue))return Lh(e.modelValue,a);const o=!!e.modelValue.find(e=>n(e,r));t("update:modelValue",o?e.modelValue.filter(e=>!n(e,r)):[...e.modelValue,r].sort((e,t)=>e.getTime()-t.getTime()))}};return{updateModelValue:r}},Ph=e=>({month:yh,day:mh,year:gh}[e]),Mh=(e,t,n,a)=>{const o=Ph(e),i=n.allowedDays||n.allowedMonths||n.allowedYears,s=e=>void 0!==i&&!i(e),u=(0,l.KR)(-1),c=(0,r.EW)(()=>t.value[u.value]),{updateModelValue:d}=Bh(n,a,o),h=t=>{n.readonly||s(t)||(d(t),a(`click:${e}`,t))},p=e=>{const t=new Date;return o(t,e)},f=e=>!!n.modelValue&&(wh(n.modelValue)?o(n.modelValue,e):Eh(n.modelValue)?!!n.modelValue.find(t=>o(t,e)):!!_h(n.modelValue)&&(o(n.modelValue.start,e)||o(n.modelValue.end,e))),v=e=>{if(!n.modelValue)return!1;if(!_h(n.modelValue))return!1;if(n.modelValue.start&&n.modelValue.end)return n.modelValue.start<e&&n.modelValue.end>e;const t=n.modelValue.start||n.modelValue.end;return!!t&&(!!c.value&&(t<e?c.value>=e:c.value<=e))};return(0,r.wB)(c,t=>{a(`hover:${e}`,t)}),{hoveredIndex:u,hoveredValue:c,onClick:h,isToday:p,isSelected:f,isInRange:v}},Wh=(e,t)=>new Date(e,t+1,0).getDate(),Fh=(e,t)=>new Date(e,t,1).getDay(),Uh=e=>Array.from(Array(e).keys()).map(e=>e+1),jh=(e,t)=>{const n=6,a=e=>{var n;return t&&(null==(n=t.firstWeekday)?void 0:n.value)&&"monday"===t.firstWeekday.value.toLowerCase()?0===e?6:e-1:e},o=(0,r.EW)(()=>a(Fh(e.value.year,e.value.month))),i=()=>{if(0===o.value)return[];const t=Wh(e.value.year,e.value.month-1),n=Uh(t);return n.slice(-o.value).map(t=>new Date(e.value.year,e.value.month-1,t))},s=()=>{const t=Uh(Wh(e.value.year,e.value.month));return t.map(t=>new Date(e.value.year,e.value.month,t))},l=(0,r.EW)(()=>[...i(),...s()]),u=(0,r.EW)(()=>l.value.length),c=(0,r.EW)(()=>{const t=l.value,r=7*n-t.length,a=Wh(e.value.year,e.value.month+1),o=Uh(a);return[...t,...o.slice(0,r).map(t=>new Date(e.value.year,e.value.month+1,t))]});return{calendarDates:c,currentMonthStartIndex:o,currentMonthEndIndex:u}},zh=["onMouseenter"],Kh={class:"va-date-picker-cell__day"},Gh=(0,r.pM)({name:"VaDayPicker",__name:"VaDayPicker",props:{monthNames:{type:Array,required:!0},weekdayNames:{type:Array,required:!0},firstWeekday:{type:String,default:"Sunday"},hideWeekDays:{type:Boolean,default:!1},view:{type:Object,default:()=>({type:"day"})},modelValue:{type:[Date,Array,Object]},mode:{type:String,default:"auto"},showOtherMonths:{type:Boolean,default:!1},allowedDays:{type:Function},weekends:{type:Function},highlightWeekend:{type:Boolean,default:!1},highlightToday:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:day","click:day"],setup(e,{emit:t}){const n=e,a=t,{firstWeekday:o,weekdayNames:i,view:s}=(0,l.QW)(n),{calendarDates:u,currentMonthStartIndex:c,currentMonthEndIndex:d}=jh(s,{firstWeekday:o}),h=(0,r.EW)(()=>"sunday"===o.value.toLowerCase()?i.value:[...i.value.slice(1),i.value[0]]),{hoveredIndex:p,onClick:f,isToday:v,isSelected:m,isInRange:g}=Mh("day",u,n,a),y=(0,r.EW)(()=>n.showOtherMonths?0:c.value),_=(0,r.EW)(()=>n.showOtherMonths?u.value.length:d.value),{focusedCellIndex:w,containerAttributes:E}=$h({rowSize:7,start:y,end:_,onSelected:e=>f(u.value[e])});(0,r.wB)(w,e=>{p.value=e}),(0,r.wB)(p,e=>{w.value=e});const k=e=>n.view.month!==e.getMonth(),C=e=>void 0!==n.allowedDays&&!n.allowedDays(e),S=e=>void 0===n.weekends?6===e.getDay()||0===e.getDay():n.weekends(e);return(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:"va-day-picker"},(0,l.R1)(E)),[e.hideWeekDays?(0,r.Q3)("",!0):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(h.value,e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"va-day-picker__weekday"},[(0,r.RG)(t.$slots,"weekday",{},()=>[(0,r.eW)((0,b.v_)(e),1)])]))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(u),(a,o)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-day-picker__calendar__day-wrapper",key:o,onMouseenter:e=>p.value=o,onMouseleave:n[0]||(n[0]=e=>p.value=-1)},[(0,r.bF)(Ah,{hidden:k(a)&&!e.showOtherMonths,today:(0,l.R1)(v)(a),selected:(0,l.R1)(m)(a),"in-range":(0,l.R1)(g)(a),"other-month":k(a),weekend:S(a),disabled:C(a),focused:(0,l.R1)(p)===o,"highlight-today":e.highlightToday,"highlight-weekend":e.highlightWeekend,readonly:t.$props.readonly,color:e.color,onClick:e=>{(0,l.R1)(f)(a),w.value=o}},{default:(0,r.k6)(()=>[(0,r.Lk)("span",Kh,[(0,r.RG)(t.$slots,"day",(0,b._B)((0,r.Ng)({date:a})),()=>[(0,r.eW)((0,b.v_)(a.getDate()),1)])])]),_:2},1032,["hidden","today","selected","in-range","other-month","weekend","disabled","focused","highlight-today","highlight-weekend","readonly","color","onClick"])],40,zh))),128))],16))}}),Xh={key:0,class:"va-date-picker-header va-date-picker__header"},Hh={class:"va-date-picker__header__text"},qh={class:"va-date-picker__header__month"},Qh=(0,r.pM)({name:"VaDatePickerHeader",__name:"VaDatePickerHeader",props:{monthNames:{type:Array,required:!0},view:{type:Object},color:{type:String},disabled:{type:Boolean,default:!1},ariaNextPeriodLabel:Wn("$t:nextPeriod"),ariaPreviousPeriodLabel:Wn("$t:previousPeriod"),ariaSwitchViewLabel:Wn("$t:switchView")},emits:["update:view"],setup(e,{emit:t}){const n=e,a=t,{syncView:o,prev:i,next:s}=Ih(n,a),u=()=>{"day"===o.value.type?o.value={...o.value,type:"month"}:"month"===o.value.type&&(o.value={...o.value,type:"year"})},c=e=>{o.value=e},d=qt(an(on())),{tp:h}=Un();return(t,n)=>"year"!==(0,l.R1)(o).type?((0,r.uX)(),(0,r.CE)("div",Xh,[(0,r.RG)(t.$slots,"buttonPrev",(0,b._B)((0,r.Ng)({onClick:(0,l.R1)(i)})),()=>[(0,r.bF)((0,l.R1)(na),{"va-child":"prevButton",disabled:t.$props.disabled,icon:"va-arrow-left",preset:"plain",size:"small",color:e.color,textColor:(0,l.R1)(d),"aria-label":(0,l.R1)(h)(t.$props.ariaPreviousPeriodLabel),round:"",onClick:(0,l.R1)(i)},null,8,["disabled","color","textColor","aria-label","onClick"])]),(0,r.Lk)("div",Hh,[(0,r.RG)(t.$slots,"header",(0,b._B)((0,r.Ng)({year:(0,l.R1)(o).year,month:(0,l.R1)(o).month,monthNames:e.monthNames,view:(0,l.R1)(o),changeView:c,switchView:u})),()=>[(0,r.bF)((0,l.R1)(na),{"va-child":"middleButton",disabled:t.$props.disabled,preset:"plain",size:"small",color:e.color,textColor:(0,l.R1)(d),"aria-label":(0,l.R1)(h)(t.$props.ariaSwitchViewLabel),onClick:u},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"year",(0,b._B)((0,r.Ng)({year:(0,l.R1)(o).year})),()=>[(0,r.eW)((0,b.v_)((0,l.R1)(o).year),1)]),"day"===(0,l.R1)(o).type?(0,r.RG)(t.$slots,"month",(0,b._B)((0,r.v6)({key:0},{month:(0,l.R1)(o).month})),()=>[(0,r.Lk)("span",qh,(0,b.v_)(e.monthNames[(0,l.R1)(o).month]),1)]):(0,r.Q3)("",!0)]),_:3},8,["disabled","color","textColor","aria-label"])])]),(0,r.RG)(t.$slots,"buttonNext",(0,b._B)((0,r.Ng)({onClick:(0,l.R1)(s)})),()=>[(0,r.bF)((0,l.R1)(na),{"va-child":"nextButton",disabled:t.$props.disabled,icon:"va-arrow-right",preset:"plain",size:"small",color:e.color,textColor:(0,l.R1)(d),"aria-label":(0,l.R1)(h)(t.$props.ariaNextPeriodLabel),onClick:(0,l.R1)(s),round:""},null,8,["disabled","color","textColor","aria-label","onClick"])])])):(0,r.Q3)("",!0)}}),Yh=["onMouseenter"],Jh=(0,r.pM)({name:"VaMonthPicker",__name:"VaMonthPicker",props:{modelValue:{type:[Date,Array,Object]},monthNames:{type:Array,required:!0},view:{type:Object,default:()=>({type:"month"})},allowedMonths:{type:Function,default:void 0},highlightToday:{type:Boolean,default:!0},mode:{type:String,default:"auto"},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:month","click:month"],setup(e,{emit:t}){const n=e,a=t,{view:o}=(0,l.QW)(n),i=(0,r.EW)(()=>Array.from(Array(12).keys()).map(e=>new Date(o.value.year,e))),{hoveredIndex:s,onClick:u,isToday:c,isSelected:d,isInRange:h}=Mh("month",i,n,a),p=e=>void 0!==n.allowedMonths&&!n.allowedMonths(e),{focusedCellIndex:f,containerAttributes:v}=$h({rowSize:3,start:0,end:i.value.length,onSelected:e=>u(i.value[e])});return(0,r.wB)(f,e=>{s.value=e}),(0,r.wB)(s,e=>{f.value=e}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:"va-month-picker"},(0,l.R1)(v)),[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.value,(a,o)=>((0,r.uX)(),(0,r.CE)("div",{key:o,class:"va-month-picker__month-wrapper",onMouseenter:e=>s.value=o,onMouseleave:n[0]||(n[0]=e=>s.value=-1)},[(0,r.bF)(Ah,{"in-range":!!(0,l.R1)(h)(a),selected:!!(0,l.R1)(d)(a),disabled:!!p(a),today:!!(0,l.R1)(c)(a),focused:(0,l.R1)(s)===o,"highlight-today":e.highlightToday,readonly:t.$props.readonly,color:e.color,onClick:e=>{(0,l.R1)(u)(a),f.value=o}},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"month",(0,b._B)((0,r.Ng)({monthIndex:o,month:e.monthNames[o]})),()=>[(0,r.eW)((0,b.v_)(e.monthNames[o]),1)])]),_:2},1032,["in-range","selected","disabled","today","focused","highlight-today","readonly","color","onClick"])],40,Yh))),128))],16))}}),Zh=(0,r.pM)({name:"VaYearPicker",__name:"VaYearPicker",props:{modelValue:{type:[Date,Array,Object]},allowedYears:{type:Function,default:void 0},highlightToday:{type:Boolean,default:!0},startYear:{type:[Number,String],default:1970},mode:{type:String,default:"auto"},view:{type:Object,default:()=>({type:"year"})},endYear:{type:[Number,String],default:()=>(new Date).getFullYear()+50},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:year","click:year"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),{view:i}=(0,l.QW)(n),s=(e,t)=>{const n=t-e+1;return Array.from(Array(n).keys()).map(t=>bh(e+t))},u=je("startYear"),c=je("endYear"),d=(0,r.EW)(()=>s(u.value,c.value)),h=e=>{if(!o.value)return;const t=o.value.scrollHeight,n=o.value.offsetHeight,r=t/d.value.length*e,a=t/d.value.length,i=r-o.value.scrollTop;i<0?o.value.scrollTo({top:r}):i>n&&o.value.scrollTo({top:r-n+a})},p=e=>{if(!o.value)return;const t=o.value.scrollHeight,n=o.value.offsetHeight,r=t/d.value.length*e;o.value.scrollTo({top:r-n/2})};(0,r.sV)(()=>{const e=d.value.findIndex(e=>e.getFullYear()===i.value.year);p(e)});const{hoveredIndex:f,onClick:v,isToday:m,isSelected:g,isInRange:y}=Mh("year",d,n,a),_=e=>void 0!==n.allowedYears&&!n.allowedYears(e),{focusedCellIndex:w,containerAttributes:E}=$h({rowSize:1,start:0,end:d.value.length,onFocusIndex:(0,r.EW)(()=>d.value.findIndex(e=>e.getFullYear()===i.value.year)),onSelected:e=>v(d.value[e])});return(0,r.wB)(w,e=>-1!==e&&h(e)),(0,r.wB)(w,e=>{f.value=e}),(0,r.wB)(f,e=>{w.value=e}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({ref_key:"rootNode",ref:o,class:"va-year-picker"},(0,l.R1)(E),{onKeydown:n[1]||(n[1]=(0,Ze.jR)((0,Ze.D$)(()=>{},["prevent"]),["space"]))}),[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.value,(a,o)=>((0,r.uX)(),(0,r.Wv)(Ah,{key:a.toString(),"in-range":(0,l.R1)(y)(a),selected:(0,l.R1)(g)(a),disabled:_(a),today:(0,l.R1)(m)(a),focused:(0,l.R1)(w)===o,"highlight-today":e.highlightToday,readonly:t.$props.readonly,color:e.color,onClick:e=>{(0,l.R1)(v)(a),w.value=o},onMouseenter:e=>f.value=o,onMouseleave:n[0]||(n[0]=e=>f.value=-1)},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)(a.getFullYear()),1)]),_:2},1032,["in-range","selected","disabled","today","focused","highlight-today","readonly","color","onClick","onMouseenter"]))),128))],16))}}),ep={class:"va-date-picker__picker-wrapper"},tp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],np=["SU","MO","TU","WE","TH","FR","SA"],rp=(0,r.pM)({name:"VaDatePicker",__name:"VaDatePicker",props:{...h({prevButton:na,nextButton:na,middleButton:na}),...xe,...Ne,...fr(Qh),...fr(Gh),...fr(Jh),...fr(Zh),modelValue:{type:[Date,Array,Object]},monthNames:{type:Array,default:tp},weekdayNames:{type:Array,default:np},view:{type:Object},type:{type:String,default:"day"},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:String,default:void 0},weekendsColor:{type:String,default:void 0}},emits:[...Ve,...vr(Qh),...vr(Zh),...vr(Gh),...vr(Jh)],setup(e,{expose:t,emit:n}){const a=e;p(a);const o=n,i=(0,l.KR)(),{valueComputed:s}=$e(a,o),{syncView:u}=Ih(a,o,{type:a.type}),c=(0,r.EW)(()=>({"va-date-picker_without-week-days":a.hideWeekDays,"va-date-picker_disabled":a.disabled})),d=e=>{a.readonly||"day"===a.type&&(s.value=e)},h=e=>{o("click:month",e);const t=e.getFullYear(),n=e.getMonth();"month"!==a.type&&(u.value={type:"day",year:t,month:n})},f=e=>{"month"===a.type&&(s.value=e)},v=e=>{o("click:year",e);const t=e.getFullYear();"year"!==a.type&&(u.value={type:"month",year:t,month:u.value.month})},m=e=>{"year"===a.type&&(s.value=e)},{colorsToCSSVariable:g}=Xt(),y=(0,r.EW)(()=>({...g({color:a.color,"weekends-color":a.weekendsColor},"va-date-picker")})),_=()=>{var e;return null==(e=i.value)?void 0:e.$el.focus()};(0,r.wB)(u,(e,t)=>{e.type!==t.type&&(0,r.dY)(_)});const w=e=>a.readonly&&a.type===e,E=yr(fr(Gh)),k=yr(fr(Qh)),C=yr(fr(Jh)),S=yr(fr(Zh));return t({focus:_,focusCurrentPicker:_}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-date-picker",c.value]),style:(0,b.Tr)(y.value)},[(0,r.bF)(Qh,(0,r.v6)((0,l.R1)(k),{view:(0,l.R1)(u),"onUpdate:view":t[0]||(t[0]=e=>(0,l.i9)(u)?u.value=e:null)}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["view"]),(0,r.Lk)("div",ep,["day"===(0,l.R1)(u).type?((0,r.uX)(),(0,r.Wv)(Gh,(0,r.v6)({key:0,ref_key:"currentPicker",ref:i},(0,l.R1)(E),{"model-value":(0,l.R1)(s),view:(0,l.R1)(u),readonly:e.$props.disabled||w("day"),"onUpdate:modelValue":d,"onHover:day":t[1]||(t[1]=t=>e.$emit("hover:day",t)),"onClick:day":t[2]||(t[2]=t=>e.$emit("click:day",t))}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["model-value","view","readonly"])):(0,r.Q3)("",!0),"month"===(0,l.R1)(u).type?((0,r.uX)(),(0,r.Wv)(Jh,(0,r.v6)({key:1,ref_key:"currentPicker",ref:i},(0,l.R1)(C),{view:(0,l.R1)(u),"model-value":(0,l.R1)(s),readonly:e.$props.disabled||w("month"),"onUpdate:modelValue":f,"onHover:month":t[3]||(t[3]=t=>e.$emit("hover:month",t)),"onClick:month":h}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["view","model-value","readonly"])):(0,r.Q3)("",!0),"year"===(0,l.R1)(u).type?((0,r.uX)(),(0,r.Wv)(Zh,(0,r.v6)({key:2,ref_key:"currentPicker",ref:i},(0,l.R1)(S),{view:(0,l.R1)(u),"model-value":(0,l.R1)(s),readonly:e.$props.disabled||w("year"),"onHover:year":t[4]||(t[4]=t=>e.$emit("hover:year",t)),"onUpdate:modelValue":m,"onClick:year":v}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["view","model-value","readonly"])):(0,r.Q3)("",!0)])],6))}}),ap=fr(ks,["innerAnchorSelector","stateful","keyboardNavigation","modelValue"]),op={...ap,modelValue:{},closeOnChange:{type:Boolean,default:null},isOpen:{type:Boolean,default:void 0}},ip=["update:isOpen"],sp=function(e,t,n={}){const[a]=Pl("isOpen",e,t,!1),o=(0,r.EW)(()=>null!==e.closeOnChange?e.closeOnChange:(0,l.R1)(n.defaultCloseOnValueUpdate||!1));return(0,r.wB)(()=>e.modelValue,()=>{o.value&&(a.value=!1)}),{dropdownProps:yr(ap),isOpenSync:a}},lp=":where(a, button, input, textarea, select):not([disabled]), *[tabindex]",up=()=>{const e=Za(),t=Wr(),n=Dl("trapInEl",null);let r=[],a=null,o=null;const i=e=>{var t;return(null==(t=n.value)?void 0:t.contains(e.target))||!1},s=()=>{null==a||a.focus()},l=()=>{null==o||o.focus()},u=t=>{var n,r;const u="Tab"===t.code,c=t.shiftKey;if(u)return i(t)?(null==(n=e.value)?void 0:n.activeElement)!==o||c?void((null==(r=e.value)?void 0:r.activeElement)===a&&c&&(t.preventDefault(),l())):(t.preventDefault(),void s()):(t.preventDefault(),void(c?l():s()))},c=e=>{n.value=e,h(),d()},d=()=>{var e;n.value&&(r=Array.from(n.value.querySelectorAll(lp)),a=r[0],o=r[r.length-1],null==(e=t.value)||e.addEventListener("keydown",u))},h=()=>{var e;r=[],a=null,o=null,null==(e=t.value)||e.removeEventListener("keydown",u)};return{trapFocus:d,freeFocus:h,trapFocusIn:c}},cp=fr(Xu,["focused","maxLength","counterValue"]),dp=fr(rp),hp=(0,r.pM)({name:"VaDateInput",__name:"VaDateInput",props:{...op,...Yu,...cp,...dp,...Kl,...Ne,clearValue:{type:void 0,default:void 0},modelValue:{type:[Date,Array,Object,String,Number]},resetOnClose:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!1},offset:{...op.offset,default:()=>[2,0]},format:{type:Function},formatDate:{type:Function,default:e=>e.toLocaleDateString()},formatValue:{type:Function},parse:{type:Function},parseDate:{type:Function},delimiter:{type:String,default:", "},rangeDelimiter:{type:String,default:" ~ "},manualInput:{type:Boolean,default:!1},color:{type:String,default:"primary"},leftIcon:{type:Boolean,default:!1},icon:{type:String,default:"va-calendar"},ariaToggleDropdownLabel:Wn("$t:toggleDropdown"),ariaResetLabel:Wn("$t:resetDate"),ariaSelectedDateLabel:Wn("$t:selectedDate")},emits:[...Gr,...vr(rp),...Ju,...Gl,...Ve,...ip,"update:text"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),s=(0,l.KR)(),{resetOnClose:c}=(0,l.QW)(a),{trapFocusIn:d,freeFocus:h}=up(),p=()=>{const e=Lr(s.value);e?d(e):h()};(0,r.wB)([s],()=>{p()});const{valueComputed:f}=$e(a,o),{isOpenSync:v,dropdownProps:m}=sp(a,o,{defaultCloseOnValueUpdate:(0,r.EW)(()=>!Array.isArray(y.value)&&(!_h(y.value)||null!==y.value.end))}),g=(0,r.EW)(()=>!c.value),{valueComputed:y,reset:_}=rh(f,g);(0,r.wB)(v,e=>{e||g.value||_()});const{isFocused:w,focus:E,blur:k,onFocus:C,onBlur:S}=Xr(i),R=Du(s),T=e=>e?a.formatDate(e):"...",{parseDateInputValue:I,isValid:x}=sh(a);(0,r.wB)(y,()=>{x.value=!0});const A=e=>a.format?a.format(y.value):Eh(e)?e.map(e=>a.formatDate(e)).join(a.delimiter):wh(e)?a.formatDate(e):_h(e)?T(e.start)+a.rangeDelimiter+T(e.end):"",{text:V,normalized:$}=vh(y,(0,l.lW)(a,"mode"),I,A,a.formatValue),N=(0,r.EW)(()=>x.value?y.value?V.value:a.clearValue?A(a.clearValue):"":""),L=({target:e})=>{if(a.disabled)return;const t=e.value;x.value&&(y.value=""===t?a.clearValue:I(t))},O=()=>q(()=>{f.value=a.clearValue,o("clear"),Q()}),D=()=>{v.value=!1,E()},B=()=>{(0,r.dY)(()=>{var e;return null==(e=s.value)?void 0:e.focusCurrentPicker()})},P=()=>{v.value?B():E()},M=e=>!v.value&&(!(!a.disabled&&!a.readonly)||void 0!==e&&(a.manualInput&&"Space"!==(null==e?void 0:e.code))),W=e=>{M(e instanceof KeyboardEvent?e:void 0)||(v.value=!v.value,(0,r.dY)(P))},F=()=>{a.disabled||a.readonly||(v.value=!0,(0,r.dY)(B))},{isDirty:U,isTouched:j,computedError:z,computedErrorMessages:K,listeners:G,validationAriaAttributes:X,validate:H,withoutValidation:q,resetValidation:Q}=Yl(a,o,{reset:O,focus:E,value:y});(0,r.wB)(v,e=>{e||(j.value=!0)});const Y=(0,r.EW)(()=>!x.value&&y.value!==a.clearValue||z.value),J=(0,r.Ht)(),Z=(0,r.EW)(()=>{const e=[a.leftIcon&&"prependInner",(!a.leftIcon||a.clearable)&&"icon"];return Object.keys(J).filter(t=>!e.includes(t))}),{canBeCleared:ee,clearIconProps:te,onFocus:ne,onBlur:re}=Zu(a,y),ae=(0,r.EW)(()=>a.disabled?{}:a.manualInput?{cursor:"text"}:{cursor:"pointer"}),oe=(0,r.EW)(()=>a.manualInput?a.disabled||a.readonly?-1:0:-1),ie=(0,r.EW)(()=>({role:0===oe.value?"button":"none",ariaHidden:-1===oe.value,name:a.icon,color:"secondary",tabindex:oe.value})),se=yr(cp),le=(0,r.EW)(()=>({...se.value,focused:w.value||R.value,error:Y.value,errorMessages:K.value,readonly:a.readonly||!a.manualInput})),ue=(0,r.EW)(()=>({focus:()=>{a.disabled||(C(),a.readonly||ne())},blur:()=>{a.disabled||(S(),a.readonly||(re(),G.onBlur()))}})),{tp:ce}=Un(),de=(0,r.OA)(),he=(0,r.EW)(()=>({readonly:a.readonly||!a.manualInput,disabled:a.disabled,tabindex:a.disabled?-1:0,placeholder:a.placeholder,value:N.value,ariaLabel:a.label||ce(a.ariaSelectedDateLabel),ariaRequired:a.requiredMark,ariaDisabled:a.disabled,ariaReadOnly:a.readonly,...X.value,...u(de,["class","style"])})),pe=(0,r.EW)(()=>({...m.value,stateful:!1,innerAnchorSelector:".va-input-wrapper__field",trigger:["click","right-click","enter","space"]})),fe=le,ve=ue,me=yr(dp);return t({valueText:N,valueWithoutText:$,valueDate:$,focus:E,blur:k,reset:O,validate:H,showDropdown:F,hideAndFocus:D,toggleDropdown:W,focusDatePicker:B,isDirty:U,isTouched:j}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(ks),(0,r.v6)({modelValue:(0,l.R1)(v),"onUpdate:modelValue":t[9]||(t[9]=e=>(0,l.i9)(v)?v.value=e:null),class:["va-date-input",e.$attrs.class],style:e.$attrs.style},pe.value,{onOpen:B,role:"none"}),{anchor:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"input",(0,b._B)((0,r.Ng)({valueText:N.value,inputAttributes:he.value,inputWrapperProps:(0,l.R1)(fe),inputListeners:(0,l.R1)(ve)})),()=>[(0,r.bF)((0,l.R1)(Xu),(0,r.v6)({class:"va-date-input__anchor",style:ae.value},(0,l.R1)(fe),(0,r.Tb)((0,l.R1)(ve)),{"model-value":N.value,onChange:L}),(0,r.eX)({icon:(0,r.k6)(()=>[(0,l.R1)(ee)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:0,"aria-label":(0,l.R1)(ce)(e.$props.ariaResetLabel)},{...ie.value,...(0,l.R1)(te)},{onClick:(0,Ze.D$)(O,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(O,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(O,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):(0,r.Q3)("",!0),!e.$props.leftIcon&&e.$props.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:1,"aria-label":(0,l.R1)(ce)(e.$props.ariaToggleDropdownLabel)},ie.value),null,16,["aria-label"])):(0,r.Q3)("",!0)]),_:2},[(0,r.pI)(Z.value,t=>({name:t,fn:(0,r.k6)(n=>[(0,r.RG)(e.$slots,t,(0,b._B)((0,r.Ng)(n)))])})),e.$slots.prependInner||e.$props.leftIcon?{name:"prependInner",fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"prependInner",(0,b._B)((0,r.Ng)(t))),e.$props.leftIcon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:0,"aria-label":(0,l.R1)(ce)(e.$props.ariaToggleDropdownLabel)},ie.value),null,16,["aria-label"])):(0,r.Q3)("",!0)]),key:"0"}:void 0]),1040,["style","model-value"])])]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Ss),{class:"va-date-input__dropdown-content",onKeydown:t[8]||(t[8]=(0,Ze.jR)(e=>(0,l.R1)(E)(),["esc"])),role:"dialog"},{default:(0,r.k6)(()=>[(0,r.bF)(rp,(0,r.v6)({ref_key:"datePicker",ref:s},(0,l.R1)(me),{modelValue:(0,l.R1)($),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)($)?$.value=e:null),"onClick:day":t[1]||(t[1]=t=>e.$emit("click:day",t)),"onClick:month":t[2]||(t[2]=t=>e.$emit("click:month",t)),"onClick:year":t[3]||(t[3]=t=>e.$emit("click:year",t)),"onHover:day":t[4]||(t[4]=t=>e.$emit("hover:day",t)),"onHover:month":t[5]||(t[5]=t=>e.$emit("hover:month",t)),"onHover:year":t[6]||(t[6]=t=>e.$emit("hover:year",t)),"onUpdate:view":t[7]||(t[7]=t=>{e.$nextTick(()=>p()),e.$emit("update:view",t)})}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["modelValue"])]),_:3})]),_:3},16,["modelValue","class","style"]))}}),pp=ke(hp),fp=ke(rp),vp=["aria-orientation"],mp={key:0,class:"va-divider__text"},gp="va-divider",yp=(0,r.pM)({name:"VaDivider",__name:"VaDivider",props:{...Ne,vertical:{type:Boolean,default:!1},dashed:{type:Boolean,default:!1},inset:{type:Boolean,default:!1},orientation:{type:String,default:"center",validator:e=>["left","right","center"].includes(e)},color:{type:String,default:"backgroundBorder"}},setup(e){const t=e,{getColor:n}=Xt(),a=(0,r.EW)(()=>n(t.color)),o=(0,r.Ht)(),i=(0,r.EW)(()=>!!o.default),s=(0,r.EW)(()=>({[`${gp}--vertical`]:t.vertical,[`${gp}--inset`]:t.inset,[`${gp}--${t.orientation}`]:t.orientation&&!t.vertical,[`${gp}--dashed`]:t.dashed}));return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{role:"separator",class:(0,b.C4)(["va-divider",s.value]),"aria-orientation":e.vertical?"vertical":"horizontal","aria-hidden":!0,style:(0,b.Tr)(`--va-color-computed: ${String(a.value)}`)},[i.value&&!e.vertical?((0,r.uX)(),(0,r.CE)("div",mp,[(0,r.RG)(t.$slots,"default")])):(0,r.Q3)("",!0)],14,vp))}}),bp=ke(yp),_p=Symbol("VaFileUpload"),wp=(0,r.pM)({name:"VaList",__name:"VaList",props:{...Ne,fit:{type:Boolean,default:!1}},setup(e){const t=e,n=(0,r.EW)(()=>({"va-list--fit":t.fit}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-list",n.value]),role:"list"},[(0,r.RG)(e.$slots,"default")],2))}}),Ep=(0,r.pM)({name:"VaListItem",__name:"VaListItem",props:{...Tr,...Ne,tag:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},emits:["focus","click"],setup(e,{emit:t}){const n=e,a=(0,r.EW)(()=>n.disabled?-1:0),o=gr("va-list-item",()=>({...tr(n,["disabled"])})),{tagComputed:i,hrefComputed:s}=Ir(n);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(i)),{class:(0,b.C4)(["va-list-item",(0,l.R1)(o)]),role:"listitem",href:(0,l.R1)(s),target:e.target,to:e.to,replace:e.replace,exact:e.exact,"active-class":e.activeClass,"exact-active-class":e.exactActiveClass,tabindex:a.value},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:"va-list-item__inner",onClick:t[0]||(t[0]=t=>e.$emit("click")),onFocus:t[1]||(t[1]=t=>e.$emit("focus"))},[(0,r.RG)(e.$slots,"default")],32)]),_:3},8,["href","target","to","replace","exact","active-class","exact-active-class","class","tabindex"]))}}),kp=(0,r.pM)({name:"VaListLabel",__name:"VaListLabel",props:{...Ne,color:{type:String,default:"primary"}},setup(e){const t=e,{getColor:n}=Xt(),a=(0,r.EW)(()=>({color:n(t.color)}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-list-label",style:(0,b.Tr)(a.value)},[(0,r.RG)(e.$slots,"default")],4))}}),Cp=(0,r.pM)({name:"VaListItemLabel",__name:"VaListItemLabel",props:{...Ne,caption:{type:Boolean,default:!1},lines:{type:[Number,String],default:1}},setup(e){const t=e,n=je("lines"),a=(0,r.EW)(()=>({"va-list-item-label--caption":t.caption})),o=(0,r.EW)(()=>({"-webkit-line-clamp":n.value}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-list-item-label",a.value]),style:(0,b.Tr)(o.value)},[(0,r.RG)(e.$slots,"default")],6))}}),Sp=(0,r.pM)({name:"VaListItemSection",__name:"VaListItemSection",props:{...Ne,icon:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1}},setup(e){const t=e,n=(0,r.EW)(()=>({"va-list-item-section--main":!t.icon&&!t.avatar,"va-list-item-section--icon":t.icon,"va-list-item-section--avatar":t.avatar}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-list-item-section",n.value])},[(0,r.RG)(e.$slots,"default")],2))}}),Rp=(0,r.pM)({name:"VaListSeparator",__name:"VaListSeparator",props:{...Ne,fit:{type:Boolean,default:!1},spaced:{type:Boolean,default:!1}},setup(e){const t=e,n=(0,r.EW)(()=>({"va-list-separator--offset":!t.fit,"va-list-separator--spaced":t.spaced}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{"aria-hidden":"true",class:(0,b.C4)(["va-list-separator",n.value])},null,2))}}),Tp=ke(Ep),Ip=ke(kp),xp=ke(Cp),Ap=ke(Sp),Vp=ke(Rp),$p=ke(wp),Np={key:0,class:"va-progress-bar__info"},Lp=(0,r.pM)({name:"VaProgressBar",__name:"VaProgressBar",props:{...Ne,modelValue:{type:[Number,String],default:0},indeterminate:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:[Number,String],default:"medium"},buffer:{type:[Number,String],default:100},rounded:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1},contentInside:{type:Boolean,default:!1},showPercent:{type:Boolean,default:!1},max:{type:[Number,String],default:100},ariaLabel:Wn("$t:progressState")},setup(e){const t=e,{getColor:n,getHoverColor:a}=Xt(),o=(0,r.EW)(()=>n(t.color)),{textColorComputed:i}=Ht(o),s=(0,r.EW)(()=>"string"===typeof t.size&&["small","medium","large"].includes(t.size)),l=()=>"number"===typeof t.size?`${t.size}px`:s.value?void 0:t.size,{tp:u}=Un(),c=(0,r.EW)(()=>100/Number(t.max)*Number(t.modelValue)),d=(0,r.EW)(()=>({"va-progress-bar--square":!t.rounded,[`va-progress-bar--${t.size}`]:s.value})),h=(0,r.EW)(()=>({"--va-progress-bar-color":o.value,"--va-progress-bar-background-color":a(o.value)})),p=(0,r.EW)(()=>({height:l()})),f=(0,r.EW)(()=>({width:`${t.indeterminate?100:nr(Number(t.buffer),0,100)}%`,color:i.value,[t.reverse?"right":"left"]:0})),v=(0,r.EW)(()=>({marginLeft:t.reverse?"auto":void 0,width:`${nr(c.value,0,100)}%`})),m=(0,r.EW)(()=>({animationDirection:t.reverse?"reverse":"normal"})),g=(0,r.EW)(()=>({role:"progressbar","aria-label":u(t.ariaLabel),"aria-valuenow":t.indeterminate?void 0:t.modelValue}));return(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-progress-bar",d.value],style:h.value},g.value),[t.$props.contentInside?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Np,[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({value:t.$props.modelValue})),()=>[t.$props.showPercent?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.eW)((0,b.v_)(t.$props.modelValue)+"% ",1)],64)):(0,r.Q3)("",!0)])])),(0,r.Lk)("div",{class:"va-progress-bar__wrapper",style:(0,b.Tr)(p.value)},[(0,r.Lk)("div",{class:"va-progress-bar__buffer",style:(0,b.Tr)(f.value)},[t.$props.contentInside?(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.v6)({key:0},{value:t.$props.modelValue})),()=>[t.$props.showPercent?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.eW)((0,b.v_)(t.$props.modelValue)+"% ",1)],64)):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0)],4),e.indeterminate?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.Lk)("div",{class:"va-progress-bar__progress--indeterminate-start",style:(0,b.Tr)(m.value)},null,4),(0,r.Lk)("div",{class:"va-progress-bar__progress--indeterminate-end",style:(0,b.Tr)(m.value)},null,4)],64)):((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-progress-bar__progress",style:(0,b.Tr)(v.value)},null,4))],4)],16))}}),Op=ke(Lp),Dp=(e,t)=>{const n=(0,r.WQ)(e);if(!n)throw new Error(t);return n},Bp={class:"va-file-upload-undo__text"},Pp="The VaFileUploadUndo component should be used in the context of VaFileUpload component",Mp=(0,r.pM)({name:"VaFileUploadUndo",__name:"VaFileUploadUndo",props:{vertical:{type:Boolean,default:!1}},emits:["recover"],setup(e,{emit:t}){const n=e,a=(0,l.KR)(100),{undoDuration:o,undoButtonText:i,deletedFileMessage:s}=Dp(_p,Pp),u=gr("va-file-upload-undo",()=>({vertical:n.vertical})),c=(0,r.EW)(()=>`${o.value??0}ms`);return(0,r.sV)(()=>{const e=setTimeout(()=>{a.value=0,clearTimeout(e)},0)}),(e,t)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)((0,l.R1)(Op),{"model-value":a.value,rounded:!1,class:"va-file-upload-undo-progress-bar",style:(0,b.Tr)(`--va-undo-duration-style: ${String(c.value)}`)},null,8,["model-value","style"]),(0,r.Lk)("div",{class:(0,b.C4)(["va-file-upload-undo",(0,l.R1)(u)]),style:(0,b.Tr)(`--va-undo-duration-style: ${String(c.value)}`)},[(0,r.Lk)("span",Bp,(0,b.v_)((0,l.R1)(s)),1),(0,r.bF)((0,l.R1)(na),{class:"va-file-upload-undo__button","aria-label":(0,l.R1)(i),size:"small",outline:"",onClick:t[0]||(t[0]=t=>e.$emit("recover"))},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(i)),1)]),_:1},8,["aria-label"])],6)],64))}}),Wp=ke(Mp),Fp={class:"va-file-upload-list-item__content"},Up={key:0,class:"va-file-upload-list-item__name"},jp={class:"va-file-upload-list-item__size"},zp="The VaFileUploadListItem component should be used in the context of VaFileUpload component",Kp=(0,r.pM)({name:"VaFileUploadListItem",__name:"VaFileUploadListItem",props:{file:{type:Object,default:null},color:{type:String,default:"success"},ariaRemoveFileLabel:Wn("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const{tp:n}=Un(),a=t,{undo:o,disabled:i,undoDuration:s}=Dp(_p,zp),{onFocus:u,onBlur:c}=Xr(),d=(0,l.KR)(!1),h=()=>{o.value?(d.value=!0,setTimeout(()=>{d.value&&(a("remove"),d.value=!1)},s.value??0)):(a("remove"),d.value=!1)},p=()=>{d.value=!1},f=gr("va-file-upload-list-item",()=>({undo:d.value}));return(t,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Tp),{class:(0,b.C4)(["va-file-upload-list-item",(0,l.R1)(f)]),tabindex:"-1",disabled:(0,l.R1)(i),"aria-disabled":(0,l.R1)(i)},{default:(0,r.k6)(()=>[d.value&&(0,l.R1)(o)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ap),{key:0},{default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Wp),{onRecover:p})]),_:1})):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ap),{key:1},{default:(0,r.k6)(()=>[(0,r.Lk)("div",Fp,[e.file&&e.file.name?((0,r.uX)(),(0,r.CE)("div",Up,(0,b.v_)(e.file&&e.file.name),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",jp,(0,b.v_)(e.file&&e.file.size),1),(0,l.R1)(i)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:1,flat:"",color:"danger",icon:"clear",class:"va-file-upload-list-item__delete","aria-label":(0,l.R1)(n)(t.$props.ariaRemoveFileLabel),onClick:(0,Ze.D$)(h,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(h,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(h,["stop"]),["space"])],onFocus:(0,l.R1)(u),onBlur:(0,l.R1)(c)},null,8,["aria-label","onKeydown","onFocus","onBlur"]))])]),_:1}))]),_:1},8,["class","disabled","aria-disabled"]))}}),Gp=ke(Kp),Xp=["src","alt"],Hp={class:"va-file-upload-gallery-item__overlay"},qp=["title"],Qp="The VaFileUploadGalleryItem component should be used in the context of VaFileUpload component",Yp=(0,r.pM)({name:"VaFileUploadGalleryItem",__name:"VaFileUploadGalleryItem",props:{file:{type:Object,default:null},color:{type:String,default:"success"},ariaRemoveFileLabel:Wn("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const n=e,a=t,{undo:o,disabled:i,undoDuration:s}=Dp(_p,Qp),{isFocused:u,onFocus:c,onBlur:d}=Xr(),h=(0,l.KR)(""),p=(0,l.KR)(!1),f=(0,r.EW)(()=>({backgroundColor:Nt(n.color,.7)})),v=gr("va-file-upload-gallery-item",()=>({notImage:!h.value,focused:u.value,undo:p.value})),m=()=>{o.value?(p.value=!0,setTimeout(()=>{p.value&&(a("remove"),p.value=!1)},s.value??0)):(a("remove"),p.value=!1)},g=()=>{p.value=!1},y=()=>{if(n.file.name&&n.file.image)if(n.file.image.url)h.value=n.file.image.url;else if(n.file.image instanceof File){const e=new FileReader;e.readAsDataURL(n.file.image),e.onload=e=>{var t,n;(null==(t=e.target)?void 0:t.result).includes("image")&&(h.value=null==(n=e.target)?void 0:n.result)}}};(0,r.sV)(y),(0,r.wB)(()=>n.file,y);const{t:_,tp:w}=Un(),{textColorComputed:E}=Ht((0,l.lW)(n,"color"));return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Tp),{class:(0,b.C4)(["va-file-upload-gallery-item",(0,l.R1)(v)]),tabindex:"-1",disabled:(0,l.R1)(i),"aria-disabled":(0,l.R1)(i),onFocus:(0,l.R1)(c),onBlur:(0,l.R1)(d)},{default:(0,r.k6)(()=>[p.value&&(0,l.R1)(o)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ap),{key:0},{default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Wp),{vertical:"",onRecover:g})]),_:1})):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ap),{key:1},{default:(0,r.k6)(()=>[h.value?((0,r.uX)(),(0,r.CE)("img",{key:0,src:h.value,alt:e.file.name||"",class:"va-file-upload-gallery-item__image"},null,8,Xp)):(0,r.Q3)("",!0),(0,r.Lk)("div",Hp,[(0,r.Lk)("div",{class:"va-file-upload-gallery-item__overlay-background",style:(0,b.Tr)(f.value)},null,4),e.file&&e.file.name?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-file-upload-gallery-item__name",title:e.file.name,style:(0,b.Tr)({color:(0,l.R1)(E)})},(0,b.v_)(e.file.name),13,qp)):(0,r.Q3)("",!0),(0,l.R1)(i)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:1,flat:"",color:"danger",icon:"va-delete",class:"va-file-upload-gallery-item__delete","aria-label":(0,l.R1)(w)(t.$props.ariaRemoveFileLabel),onClick:m,onFocus:(0,l.R1)(c),onBlur:(0,l.R1)(d)},null,8,["aria-label","onFocus","onBlur"]))])]),_:1}))]),_:1},8,["class","disabled","aria-disabled","onFocus","onBlur"]))}}),Jp=ke(Yp),Zp={class:"va-file-upload-single-item__name"},ef="The VaFileUploadSingleItem component should be used in the context of VaFileUpload component",tf=(0,r.pM)({name:"VaFileUploadSingleItem",__name:"VaFileUploadSingleItem",props:{file:{type:Object,default:null},ariaRemoveFileLabel:Wn("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const{t:n,tp:a}=Un(),{disabled:o}=Dp(_p,ef);return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Tp),{disabled:(0,l.R1)(o),"aria-disabled":(0,l.R1)(o),class:"va-file-upload-single-item",tabindex:"-1"},{default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Ap),{class:"va-file-upload-single-item__content"},{default:(0,r.k6)(()=>[(0,r.Lk)("div",Zp,(0,b.v_)(e.file&&e.file.name),1),(0,l.R1)(o)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:0,class:"va-file-upload-single-item__button","aria-label":(0,l.R1)(a)(t.$props.ariaRemoveFileLabel),size:"small",color:"danger",preset:"secondary",onClick:n[0]||(n[0]=e=>t.$emit("remove"))},{default:(0,r.k6)(()=>[(0,r.eW)(" Delete ")]),_:1},8,["aria-label"]))]),_:1})]),_:1},8,["disabled","aria-disabled"]))}}),nf=ke(tf),rf=fr(Jp),af=fr(Gp),of=fr(nf),sf=(0,r.pM)({name:"VaFileUploadList",__name:"VaFileUploadList",props:{type:{type:String,default:""},files:{type:Array,default:null},...rf,...af,...of},emits:["remove","removeSingle"],setup(e,{emit:t}){const n=e,a=(0,r.EW)(()=>n.files.map(o)),o=e=>({name:e.name||e.url||"",size:i(e.size),date:s(new Date),image:e}),i=e=>{if(0===e)return"0 Bytes";if(!e)return"";const t=1024,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},s=(e=new Date)=>e.toLocaleDateString("en-US",{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric",year:"numeric"}),u=yr(rf),c=yr(af),d=yr(of);return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)($p),{class:(0,b.C4)(["va-file-upload-list",`va-file-upload-list--${e.type}`]),role:"single"!==e.type?"list":void 0},{default:(0,r.k6)(()=>["list"===e.type?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(a.value,(e,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Gp),(0,r.v6)({key:e.name},(0,l.R1)(c),{file:e,role:"listitem",onRemove:e=>t.$emit("remove",n)}),null,16,["file","onRemove"]))),128)):(0,r.Q3)("",!0),"gallery"===e.type?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)(a.value,(e,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Jp),(0,r.v6)((0,l.R1)(u),{key:e.name,file:e,role:"listitem",onRemove:e=>t.$emit("remove",n)}),null,16,["file","onRemove"]))),128)):(0,r.Q3)("",!0),"single"===e.type&&a.value.length?((0,r.uX)(),(0,r.Wv)((0,l.R1)(nf),(0,r.v6)({key:2},(0,l.R1)(d),{file:a.value[a.value.length-1],onRemove:n[0]||(n[0]=e=>t.$emit("removeSingle"))}),null,16,["file"])):(0,r.Q3)("",!0)]),_:1},8,["role","class"]))}}),lf=ke(sf),uf=[],cf=(e,t)=>{const n=ss(),a=Za(),o=()=>{var e;uf.includes(n)||(uf.push(n),null==(e=a.value)||e.body.classList.add("va-modal-overlay-background--blurred"))},i=()=>{var e;const t=uf.indexOf(n);-1!==t&&(uf.splice(t,1),0===uf.length&&(null==(e=a.value)||e.body.classList.remove("va-modal-overlay-background--blurred")))};(0,r.nT)(()=>{e.value&&(t.value?o():i())}),(0,r.xo)(i)},df=(0,l.Gc)([]),hf=()=>{const e=Bl(),t=(0,r.EW)(()=>df.findIndex(({id:t})=>t===String(e))),n=()=>{-1===t.value&&df.push({id:String(e)})},a=()=>{-1!==t.value&&df.splice(t.value,1)},o=(0,r.EW)(()=>-1!==t.value&&t.value===df.length-1),i=(0,r.EW)(()=>0===t.value),s=(0,r.EW)(()=>df.length>1);return{modalId:e,modalLevel:t,registerModal:n,unregisterModal:a,isTopLevelModal:o,isLowestLevelModal:i,isMoreThenOneModalOpen:s}},pf=["aria-labelledby"],ff={key:2,class:"va-modal__inner"},vf={class:"va-modal__header"},mf={key:0,class:"va-modal__message"},gf={key:1,class:"va-modal__message"},yf={key:2,class:"va-modal__footer"},bf={key:3,class:"va-modal__footer"},_f=(0,r.pM)({name:"ModalElement",inheritAttrs:!1,props:{...Ne,isTransition:{type:Boolean,default:!0}},setup:(e,{slots:t,attrs:n})=>()=>{var a;return e.isTransition?(0,r.h)(Ze.eB,{...n},t):null==(a=t.default)?void 0:a.call(t,n)}}),wf=(0,r.pM)({name:"VaModal",inheritAttrs:!1,__name:"VaModal",props:{...h({cancelButton:na,okButton:na,closeButton:Pn}),...xe,modelValue:{type:Boolean,default:!1},attachElement:{type:String,default:"body"},allowBodyScroll:{type:Boolean,default:!1},disableAttachment:{type:Boolean,default:!1},title:{type:String,default:""},message:{type:String,default:""},okText:Wn("$t:ok"),cancelText:Wn("$t:cancel"),hideDefaultActions:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},closeButton:{type:Boolean,default:!1},mobileFullscreen:{type:Boolean,default:!0},noDismiss:{type:Boolean,default:!1},noOutsideDismiss:{type:Boolean,default:!1},noEscDismiss:{type:Boolean,default:!1},maxWidth:{type:String,default:""},maxHeight:{type:String,default:""},anchorClass:{type:String},size:{type:String,default:"medium"},sizesConfig:{type:Object,default:()=>({defaultSize:"medium",sizes:{small:576,medium:768,large:992,auto:"max-content"}})},fixedLayout:{type:Boolean,default:!1},withoutTransitions:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},overlayOpacity:{type:[Number,String],default:.6},showNestedOverlay:{type:Boolean,default:!1},blur:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:void 0},backgroundColor:{type:String,default:"background-secondary"},noPadding:{type:Boolean,default:!1},beforeClose:{type:Function},beforeOk:{type:Function},beforeCancel:{type:Function},ariaCloseLabel:Wn("$t:close")},emits:[...Ve,"cancel","ok","before-open","open","before-close","close","click-outside"],setup(e,{expose:t,emit:n}){const a=e;p(a);const o=n,i=(0,l.IJ)(),s=(0,l.IJ)(),{trapFocusIn:u,freeFocus:c}=up(),{registerModal:d,unregisterModal:h,isTopLevelModal:f,isLowestLevelModal:v}=hf(),{getColor:m}=Xt(),{textColorComputed:g}=Ht((0,l.lW)(a,"backgroundColor")),{valueComputed:y}=$e(a,o),_=(0,r.EW)(()=>({"va-modal--fullscreen":a.fullscreen,"va-modal--mobile-fullscreen":a.mobileFullscreen,"va-modal--fixed-layout":a.fixedLayout,"va-modal--no-padding":a.noPadding})),{zIndex:w}=gs(y),E=(0,r.EW)(()=>a.zIndex?Number(a.zIndex):w.value),k=vn(a),C=(0,r.EW)(()=>({maxWidth:a.maxWidth||k.value,maxHeight:a.maxHeight,color:g.value,background:m(a.backgroundColor)})),S=(0,r.EW)(()=>({"va-modal__overlay--lowest":v.value,"va-modal__overlay--top":f.value})),R=()=>a.showNestedOverlay&&!v.value?"var(--va-modal-overlay-nested-opacity)":"var(--va-modal-overlay-opacity)",T=(0,r.EW)(()=>{if(a.overlay)return f.value||a.showNestedOverlay?{"background-color":"var(--va-modal-overlay-color)",opacity:R()}:""}),I=()=>{y.value=!0},x=e=>{const t=()=>{y.value=!1,null==e||e()};a.beforeClose?a.beforeClose(t):t()},A=()=>{y.value=!y.value},V=()=>{const e=()=>{x(()=>o("cancel"))};a.beforeCancel?a.beforeCancel(e):e()},$=()=>{const e=()=>{x(()=>o("ok"))};a.beforeOk?a.beforeOk(e):e()},N=()=>{(0,r.dY)(()=>{s.value&&u(s.value)})},L=e=>o("before-open",e),O=e=>o("open",e),D=e=>o("before-close",e),B=e=>o("close",e),P=e=>{const t=()=>{"Escape"!==e.code||a.noEscDismiss||a.noDismiss||!f.value||V()};setTimeout(t)};ws([s],()=>{y.value&&!a.noOutsideDismiss&&!a.noDismiss&&f.value&&(o("click-outside"),V())});const M=Wr();(0,r.nT)(()=>{var e,t;y.value?null==(e=M.value)||e.addEventListener("keyup",P):null==(t=M.value)||t.removeEventListener("keyup",P)}),cf((0,l.lW)(a,"blur"),y);const W=Za(),F=e=>{W.value&&!a.allowBodyScroll&&("hidden"===e?W.value.body.classList.add("va-modal-open"):W.value.body.classList.remove("va-modal-open"))},U=()=>{d(),F("hidden")},j=()=>{v.value&&(c(),F("")),h()};(0,r.wB)(y,e=>{e?U():j()}),(0,r.sV)(()=>{y.value&&U(),f.value&&N()}),(0,r.xo)(()=>{j()}),(0,r.wB)(f,e=>{e&&N()},{immediate:!0}),t({show:I,hide:x,toggle:A,cancel:V,ok:$,onBeforeEnterTransition:L,onAfterEnterTransition:O,onBeforeLeaveTransition:D,onAfterLeaveTransition:B,listenKeyUp:P});const{tp:z}=Un(),{teleportFromAttrs:K,teleportedAttrs:G}=ds(),X={show:I,hide:x,toggle:A,cancel:V,ok:$};return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"rootElement",ref:i,class:(0,b.C4)(["va-modal-entry",t.$props.anchorClass])},[t.$slots.anchor?((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({key:0,class:"va-modal__anchor"},(0,l.R1)(K)),[(0,r.RG)(t.$slots,"anchor",(0,b._B)((0,r.Ng)(X)))],16)):(0,r.Q3)("",!0),((0,r.uX)(),(0,r.Wv)(r.Im,{to:e.attachElement,disabled:t.$props.disableAttachment},[(0,r.bF)((0,l.R1)(_f),(0,r.v6)({name:"va-modal",isTransition:!t.$props.withoutTransitions,duration:300,style:{zIndex:E.value},appear:""},{...t.$attrs,...(0,l.R1)(G)},{onBeforeEnter:L,onAfterEnter:O,onBeforeLeave:D,onAfterLeave:B}),{default:(0,r.k6)(()=>[(0,l.R1)(y)?((0,r.uX)(),(0,r.CE)("div",{key:0,"aria-labelledby":e.title,class:(0,b.C4)([_.value,"va-modal"]),role:"dialog","aria-modal":"true"},[t.$props.overlay?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,b.C4)(["va-modal__overlay",S.value]),style:(0,b.Tr)(T.value)},null,6)):(0,r.Q3)("",!0),(0,r.Lk)("div",{ref_key:"modalDialog",ref:s,class:"va-modal__dialog",style:(0,b.Tr)([C.value])},[t.$props.fullscreen||t.$props.closeButton?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,"va-child":"closeButton",class:(0,b.C4)([{"va-modal__close--fullscreen":t.$props.fullscreen},"va-modal__close"]),"aria-label":(0,l.R1)(z)(t.$props.ariaCloseLabel),role:"button",tabindex:"0",name:"va-close",onClick:V,onKeydown:[(0,Ze.jR)(V,["space"]),(0,Ze.jR)(V,["enter"])]},null,8,["class","aria-label"])):(0,r.Q3)("",!0),t.$slots.content?(0,r.RG)(t.$slots,"content",(0,b._B)((0,r.v6)({key:1},X))):((0,r.uX)(),(0,r.CE)("div",ff,[(0,r.Lk)("div",vf,[(0,r.RG)(t.$slots,"header",(0,b._B)((0,r.Ng)(X)),()=>[e.title?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-modal__title",style:(0,b.Tr)({color:(0,l.R1)(m)("primary")})},(0,b.v_)(t.$props.title),5)):(0,r.Q3)("",!0)])]),t.$props.message?((0,r.uX)(),(0,r.CE)("div",mf,(0,b.v_)(t.$props.message),1)):(0,r.Q3)("",!0),t.$slots.default?((0,r.uX)(),(0,r.CE)("div",gf,[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)(X)))])):(0,r.Q3)("",!0),!t.$props.cancelText&&!t.$props.okText||t.$props.hideDefaultActions?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",yf,[t.$props.cancelText?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:0,"va-child":"cancelButton",preset:"secondary",color:"secondary",class:"va-modal__default-cancel-button",onClick:V},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(z)(t.$props.cancelText)),1)]),_:1})):(0,r.Q3)("",!0),(0,r.bF)((0,l.R1)(na),{"va-child":"okButton",onClick:$},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(z)(t.$props.okText)),1)]),_:1})])),t.$slots.footer?((0,r.uX)(),(0,r.CE)("div",bf,[(0,r.RG)(t.$slots,"footer",(0,b._B)((0,r.Ng)(X)))])):(0,r.Q3)("",!0)]))],4)],10,pf)):(0,r.Q3)("",!0)]),_:3},16,["isTransition","style"])],8,["to","disabled"]))],2))}}),Ef=ke(wf),kf={class:"va-file-upload__field"},Cf={key:0,class:"va-file-upload__field__text"},Sf=["accept","multiple","disabled"],Rf=fr(lf),Tf=(0,r.pM)({name:"VaFileUpload",__name:"VaFileUpload",props:{...Ne,...Rf,fileTypes:{type:String,default:""},dropzone:{type:Boolean,default:!1},hideFileList:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},undo:{type:Boolean,default:!1},undoDuration:{type:[Number,String],default:3e3},undoButtonText:Wn("$t:undo"),dropZoneText:Wn("$t:dropzone"),uploadButtonText:Wn("$t:uploadFile"),deletedFileMessage:Wn("$t:fileDeleted"),fileIncorrectMessage:Wn("$t:fileTypeIncorrect"),modelValue:{type:[Object,Array],default:()=>[]},type:{type:String,default:"list",validator:e=>["list","gallery","single"].includes(e)}},emits:["update:modelValue","file-removed","file-added"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),i=(0,l.KR)(!1),s=(0,l.KR)(!1),{getColor:u,shiftHSLAColor:c}=Xt(),d=(0,r.EW)(()=>u(n.color)),h=(0,r.EW)(()=>({backgroundColor:n.dropzone?c(d.value,{a:s.value?-.82:-.92}):"transparent"})),p=gr("va-file-upload",()=>({dropzone:n.dropzone,disabled:n.disabled})),f=(0,r.EW)({get(){return Array.isArray(n.modelValue)?n.modelValue:[n.modelValue]},set(e){"single"===n.type?a("update:modelValue",e[0]):a("update:modelValue",e)}}),v=e=>e.filter(e=>{const t=e.name||e.url;if(!t)return!1;if(e.url)return!0;const r=["audio/*","video/*","image/*"],a=r.find(e=>n.fileTypes.includes(e));if(a)return!0;const o=t.substring(t.lastIndexOf(".")+1).toLowerCase(),s=n.fileTypes.includes(o);return s||(i.value=!0),s}),m=e=>{var t,r;const o=(null==(t=e.target)?void 0:t.files)||(null==(r=e.dataTransfer)?void 0:r.files);if(!o)return;const i=n.fileTypes?v(Array.from(o)):o;f.value="single"===n.type?i:[...f.value,...i],a("file-added",i)},g=e=>{m(e),o.value&&(o.value.value="")},y=e=>{if(e in f.value){const t=f.value[e];f.value=f.value.filter((t,n)=>n!==e),a("file-removed",t)}},_=()=>{if(f.value.length>0){const e=f.value[0];f.value=[],a("file-removed",e)}},w=()=>{o.value&&o.value.click()};(0,r.sV)(()=>{if(Array.isArray(f.value)){const e=v(f.value);e.length!==f.value.length&&(f.value=e)}});const{tp:E}=Un();(0,r.Gt)(_p,{undo:(0,l.lW)(n,"undo"),disabled:(0,l.lW)(n,"disabled"),undoDuration:je("undoDuration"),undoButtonText:(0,r.EW)(()=>E(n.undoButtonText)),deletedFileMessage:(0,r.EW)(()=>E(n.deletedFileMessage))});const k=yr(Rf);return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-file-upload",(0,l.R1)(p)]),style:(0,b.Tr)(h.value)},[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.Lk)("div",kf,[e.dropzone?((0,r.uX)(),(0,r.CE)("div",Cf,(0,b.v_)((0,l.R1)(E)(e.dropZoneText)),1)):(0,r.Q3)("",!0),(0,r.bF)((0,l.R1)(na),{class:"va-file-upload__field__button",disabled:e.disabled,"aria-disabled":e.disabled,color:d.value,style:(0,b.Tr)({"pointer-events":s.value?"none":void 0}),onChange:g,onClick:w},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(E)(e.uploadButtonText)),1)]),_:1},8,["disabled","aria-disabled","color","style"])])]),(0,r.Lk)("input",{ref_key:"fileInputRef",ref:o,type:"file",class:"va-file-upload__field__input",tabindex:-1,"aria-hidden":"true",accept:e.fileTypes,multiple:"single"!==e.type,disabled:e.disabled,onChange:g,onDragenter:n[0]||(n[0]=e=>s.value=!0),onDragleave:n[1]||(n[1]=e=>s.value=!1)},null,40,Sf),f.value.length&&!t.$props.hideFileList?((0,r.uX)(),(0,r.Wv)((0,l.R1)(lf),(0,r.v6)({key:0},(0,l.R1)(k),{type:e.type,files:f.value,color:d.value,onRemove:y,onRemoveSingle:_}),null,16,["type","files","color"])):(0,r.Q3)("",!0),(0,r.bF)((0,l.R1)(Ef),{modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=e=>i.value=e),"hide-default-actions":"",message:(0,l.R1)(E)("$t:fileTypeIncorrect")},null,8,["modelValue","message"])],6))}}),If=ke(Tf),xf=e=>{const t=(0,l.KR)(new Map);return{immediate:(0,r.EW)(()=>e.immediate),fields:(0,r.EW)(()=>[...t.value.values()]),forceHideErrors:(0,r.EW)(()=>e.hideErrors),forceHideErrorMessages:(0,r.EW)(()=>e.hideErrorMessages),forceHideLoading:(0,r.EW)(()=>e.hideLoading),forceDirty:(0,l.KR)(!1),registerField:(e,n)=>{t.value.set(e,n)},unregisterField:e=>{t.value.delete(e)}}},Af=e=>{const t=xf(e);(0,r.Gt)(Ul,t);const{fields:n,forceDirty:a}=t,o=(0,r.EW)(()=>n.value.map(e=>(0,l.R1)(e.name)).filter(Boolean)),i=(0,r.EW)(()=>n.value.reduce((e,t)=>((0,l.R1)(t.name)&&(e[(0,l.R1)(t.name)]=t),e),{})),s=(0,r.EW)(()=>n.value.reduce((e,t)=>((0,l.R1)(t.name)&&(e[(0,l.R1)(t.name)]=(0,l.R1)(t.value)),e),{})),u=(0,r.EW)(()=>n.value.every(e=>(0,l.R1)(e.isValid))),c=(0,r.EW)(()=>n.value.some(e=>(0,l.R1)(e.isLoading))),d=(0,r.EW)(()=>n.value.map(e=>(0,l.R1)(e.errorMessages)).flat()),h=(0,r.EW)(()=>n.value.reduce((e,t)=>((0,l.R1)(t.name)&&(e[(0,l.R1)(t.name)]=(0,l.R1)(t.errorMessages)),e),{})),p=(0,r.EW)({get(){return n.value.some(e=>(0,l.R1)(e.isDirty))||a.value},set(e){a.value=e,n.value.forEach(t=>{t.isDirty=e})}}),f=(0,r.EW)({get(){return n.value.some(e=>e.isTouched)},set(e){n.value.forEach(t=>{t.isTouched=e})}}),v=()=>(p.value=!0,n.value.reduce((e,t)=>t.validate()&&e,!0)),m=()=>(p.value=!0,Promise.all(n.value.map(e=>e.validateAsync())).then(e=>e.every(Boolean))),g=()=>{p.value=!1,n.value.forEach(e=>e.reset())},y=()=>{p.value=!1,n.value.forEach(e=>e.resetValidation())},b=()=>{var e;null==(e=n.value[0])||e.focus()},_=()=>{const e=n.value.find(e=>!e.isValid);null==e||e.focus()};return jl({name:(0,l.lW)(e,"name"),isValid:u,isLoading:c,isDirty:p,isTouched:f,validate:v,validateAsync:m,reset:g,resetValidation:y,focus:b,errorMessages:d}),{immediate:(0,r.EW)(()=>e.immediate),isDirty:p,isTouched:f,formData:s,fields:n,fieldsNamed:i,fieldNames:o,isValid:u,isLoading:c,errorMessages:d,errorMessagesNamed:h,validate:v,validateAsync:m,reset:g,resetValidation:y,focus:b,focusInvalidField:_}},Vf={stateful:!0},$f={VaInput:Vf,VaSelect:Vf,VaCheckbox:Vf,VaRadio:Vf,VaDatePicker:Vf,VaTimePicker:Vf,VaColorPicker:Vf,VaSlider:Vf,VaSwitch:Vf,VaFileUpload:Vf,VaRating:Vf,VaDateInput:Vf,VaTimeInput:Vf},Nf=(0,r.pM)({name:"VaForm",__name:"VaForm",props:{...Ne,autofocus:{type:Boolean,default:!1},immediate:{type:Boolean,default:!1},tag:{type:String,default:"form"},trigger:{type:String,default:"blur"},modelValue:{type:Boolean,default:!0},hideErrors:{type:Boolean,default:!1},hideErrorMessages:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},stateful:{type:Boolean,default:!1},name:{type:String,default:void 0}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=Af(a);(0,r.wB)(i.isValid,e=>{o("update:modelValue",e)}),(0,r.wB)(()=>a.autofocus,e=>{e&&i.focus()}),(0,r.sV)(()=>{a.autofocus&&i.focus()}),(0,r.wB)(i.fields,e=>{e.length&&a.immediate&&i.validate()},{immediate:!0}),T((0,r.EW)(()=>a.stateful?$f:{}));const{immediate:s,isDirty:u,isTouched:c,formData:d,fields:h,fieldsNamed:p,fieldNames:f,isValid:v,isLoading:m,errorMessages:g,errorMessagesNamed:y,validate:_,validateAsync:w,reset:E,resetValidation:k,focus:C,focusInvalidField:S}=i;return t({immediate:s,isDirty:u,formData:d,fields:h,fieldsNamed:p,fieldNames:f,isValid:v,isTouched:c,isLoading:m,errorMessages:g,errorMessagesNamed:y,validate:_,validateAsync:w,reset:E,resetValidation:k,focus:C,focusInvalidField:S}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.tag),(0,r.v6)({class:"va-form",onSubmit:n[0]||(n[0]=e=>void 0===t.$attrs.action&&e.preventDefault())},t.$attrs),{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({isValid:(0,l.R1)(v),isDirty:(0,l.R1)(u),isTouched:(0,l.R1)(c),isLoading:(0,l.R1)(m),errorMessages:(0,l.R1)(g),errorMessagesNamed:(0,l.R1)(y),formData:(0,l.R1)(d),fields:(0,l.R1)(h),fieldsNamed:(0,l.R1)(p),fieldNames:(0,l.R1)(f),validate:(0,l.R1)(_),validateAsync:(0,l.R1)(w),reset:(0,l.R1)(E),resetValidation:(0,l.R1)(k),focus:(0,l.R1)(C),focusInvalidField:(0,l.R1)(S)})))]),_:3},16))}}),Lf=ke(Nf),Of=(e=0)=>new Promise(t=>setTimeout(t,e)),Df=(e,t,n)=>{const a=()=>{var e;null==(e=t.value)||e.addEventListener("scroll",n.value,{passive:!0})},o=()=>{var e;null==(e=t.value)||e.removeEventListener("scroll",n.value)};return(0,r.sV)(()=>{t.value&&(t.value.style.overflowY="scroll",e.reverse&&(t.value.scrollTop=t.value.scrollHeight),a())}),(0,r.xo)(o),{addScrollListener:a,removeScrollListener:o}},Bf={class:"va-infinite-scroll__spinner__default"},Pf=(0,r.pM)({name:"VaInfiniteScroll",__name:"VaInfiniteScroll",props:{...Ne,load:{type:Function,required:!0},offset:{type:[Number,String],default:500},reverse:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},scrollTarget:{type:[String,Object],default:null},debounce:{type:[Number,String],default:100},tag:{type:String,default:"div"}},emits:["onload","onerror"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),i=(0,l.IJ)(),s=(0,l.KR)(!1),u=(0,l.KR)(!1),c=(0,l.KR)(!1),d=(0,l.KR)(),h=(0,l.KR)(0),p=(0,l.KR)(0),f=(0,r.EW)(()=>{var e;let t;return t="string"===typeof n.scrollTarget?document.querySelector(n.scrollTarget):n.scrollTarget||(null==(e=o.value)?void 0:e.parentElement),t||document.body}),{addScrollListener:v,removeScrollListener:m}=Df(n,f,d),g=je("offset"),y=je("debounce"),{getColor:_}=Xt(),w=(0,r.EW)(()=>u.value?_("danger"):_("primary")),E=(0,r.EW)(()=>{var e;return(null==(e=i.value)?void 0:e.offsetHeight)||0}),k=(0,r.EW)(()=>g.value+E.value),C=()=>{n.disabled||(s.value=!1,m())},S=()=>{n.disabled||v()},R=()=>{const{scrollTop:e,scrollHeight:t,clientHeight:r}=f.value;h.value=t-e;const a=e-p.value;if(p.value=e,n.disabled||u.value||s.value)return;if(c.value)return void(c.value=!1);const o=n.reverse&&a>0||!n.reverse&&a<0;if(o)return;const i=n.reverse?e:t-e-r;i>k.value||(s.value=!0,n.load().then(x).catch(V))},T=e=>{c.value=!0,f.value.scrollTop=e},I=()=>{const{scrollTop:e,scrollHeight:t,clientHeight:r}=f.value;if(n.reverse){const n=t-e<h.value,r=e>=E.value;if(n&&r)return;t-h.value>E.value?T(t-h.value):T(E.value)}if(!n.reverse){const n=t-e-r>=E.value;!n&&T(t-r-E.value)}},x=()=>{I(),s.value=!1,a("onload")},A=()=>{I(),c.value=!1,u.value=!1,s.value=!1,a("onerror")},V=()=>{C(),u.value=!0,Of(1200).then(A).then(S)};return(0,r.wB)(()=>y.value,e=>{d.value=Ha(R,e)},{immediate:!0}),(0,r.wB)(()=>n.disabled,e=>{e?C():S()}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.$props.tag),{ref_key:"element",ref:o,role:"feed",class:(0,b.C4)(["va-infinite-scroll",{"va-infinite-scroll--reversed":e.$props.reverse}]),"aria-busy":s.value},{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default"),(0,r.Lk)("div",{ref_key:"spinnerSlotContainer",ref:i,class:(0,b.C4)(["va-infinite-scroll__spinner",{"va-infinite-scroll__spinner--invisible":!s.value}])},[e.$props.disabled?(0,r.Q3)("",!0):(0,r.RG)(e.$slots,"loading",{key:0},()=>[(0,r.Lk)("div",Bf,[(0,r.bF)((0,l.R1)(ir),{size:"small",thickness:.15,color:w.value,indeterminate:""},null,8,["color"])])])],2)]),_:3},8,["class","aria-busy"]))}}),Mf=ke(Pf),Wf={top:[0,1,2],left:[0,3,6],right:[2,5,8],bottom:[6,7,8]},Ff=["left","right","top","bottom"],Uf=e=>{const t=()=>[...Ff].sort((t,n)=>(e[t].order??0)-(e[n].order??0)),n=(e,t,n)=>{t.forEach(t=>{e[t]=n})};return(0,r.EW)(()=>{const e=t(),r=[".",".",".",".",".",".",".",".","."].map(()=>"content");return e.forEach(e=>{n(r,Wf[e],e)}),['"'+r.slice(0,3).join(" ")+'"','"'+r.slice(3,6).join(" ")+'"','"'+r.slice(6,9).join(" ")+'"'].join(" ")})},jf={top:{type:Object,default:()=>({order:2})},right:{type:Object,default:()=>({order:1})},left:{type:Object,default:()=>({order:1})},bottom:{type:Object,default:()=>({order:2})}},zf="VaLayout",Kf=e=>{const t=(0,l.KR)({top:null,right:null,bottom:null,left:null}),n=(0,r.EW)(()=>{const{top:n,right:r,bottom:a,left:o}=t.value,{top:i,right:s,bottom:l,left:u}=e;return{top:n&&!i.absolute?n.sizes.height:0,right:r&&!s.absolute?r.sizes.width:0,bottom:a&&!l.absolute?a.sizes.height:0,left:o&&!u.absolute?o.sizes.width:0}}),a=(0,r.EW)(()=>({top:e.top.order||0,right:e.right.order||0,bottom:e.bottom.order||0,left:e.left.order||0}));return(0,r.Gt)(zf,{items:t,paddings:n,orders:a}),{paddings:n,orders:a,items:t}},Gf=(e,t)=>{const n=(0,r.WQ)(zf,null);if(!n)throw new Error("VaLayoutChild must be used inside VaLayout");return(0,r.nT)(()=>{t.value?n.items.value[e]={sizes:t.value}:n.items.value[e]=null}),(0,r.xo)(()=>{n.items.value[e]=null}),{paddings:(0,r.EW)(()=>Object.keys(n.paddings.value).reduce((t,r)=>(n.orders.value[r]>n.orders.value[e]&&(t[r]=n.paddings.value[r]),t),{}))}},Xf={},Hf={class:"va-layout__absolute-area-wrapper"};function qf(e,t){return(0,r.uX)(),(0,r.CE)("div",Hf,[(0,r.RG)(e.$slots,"default")])}const Qf=qs(Xf,[["render",qf]]),Yf=(0,r.pM)({name:"VaLayoutSizeKeeper",__name:"VaResizeObserver",emits:{resize:e=>!0},setup(e,{emit:t}){const n=t,a=(0,l.KR)();let o=null;return(0,r.wB)(a,e=>{o&&o.disconnect(),o=new ResizeObserver(([e])=>{n("resize",e.contentRect)}),o.observe(e)}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-resize-observer",ref_key:"el",ref:a},[(0,r.RG)(e.$slots,"default")],512))}}),Jf=(0,r.pM)({name:"VaLayoutFixedWrapper",__name:"VaLayoutFixedWrapper",props:{area:{type:String,required:!0}},setup(e){const t=e,n=(0,l.KR)(null),a=(0,r.EW)(()=>"top"===t.area||"bottom"===t.area?"vertical":"horizontal"),o=e=>e?e+"px":"0px",i=(0,r.EW)(()=>"vertical"===a.value?{width:`calc(100% - ${o(s.value.left)} - ${o(s.value.right)})`,[t.area]:0}:{height:`calc(100% - ${o(s.value.top)} - ${o(s.value.bottom)})`,[t.area]:0}),{paddings:s}=Gf(t.area,n);return(0,r.EW)(()=>Object.keys(s.value).reduce((e,n)=>n===t.area?e:{...e,[n]:`${s.value[n]}px`},{})),(t,o)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-layout-fixed-wrapper",style:(0,b.Tr)([[{height:n.value&&"vertical"===a.value?n.value.height+"px":"auto",width:n.value&&"horizontal"===a.value?n.value.width+"px":"auto"}],`--va-styles-width: ${String(i.value.width)};--va-styles-height: ${String(i.value.height)}`])},[(0,r.bF)(Yf,{class:(0,b.C4)(["va-layout-fixed-wrapper__content",`va-layout-fixed-wrapper__content--${e.area}`]),style:(0,b.Tr)(n.value?{}:{position:"relative"}),onResize:o[0]||(o[0]=e=>n.value=e)},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},8,["class","style"])],4))}}),Zf=(0,r.pM)({name:"VaLayoutArea",__name:"VaLayoutArea",props:{area:{type:String,required:!0},config:{type:Object,required:!0}},emits:["overlay-click"],setup(e,{emit:t}){const n=e,a=(0,r.EW)(()=>n.config.absolute||!1),o=(0,r.EW)(()=>n.config.fixed||!1),i=(0,r.EW)(()=>n.config.overlay||!1),s=(0,r.EW)(()=>(n.config.order||0)+1);return(t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[a.value?((0,r.uX)(),(0,r.Wv)(Qf,{key:0,style:(0,b.Tr)(`--va-props-area: ${String(t.$props.area)};--va-z-index: ${String(s.value)};--va-z-index-1: ${String(s.value-1)}`)},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,b.C4)(`va-layout-area va-layout__area va-layout__area--${e.area}`)},[o.value?((0,r.uX)(),(0,r.Wv)(Jf,{key:0,area:e.area},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},8,["area"])):(0,r.RG)(t.$slots,"default",{key:1})],2)]),_:3},8,["style"])):((0,r.uX)(),(0,r.CE)("div",{key:1,class:(0,b.C4)(`va-layout-area va-layout__area va-layout__area--${e.area}`),style:(0,b.Tr)(`--va-props-area: ${String(t.$props.area)};--va-z-index: ${String(s.value)};--va-z-index-1: ${String(s.value-1)}`)},[o.value?((0,r.uX)(),(0,r.Wv)(Jf,{key:0,area:e.area},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},8,["area"])):(0,r.RG)(t.$slots,"default",{key:1})],6)),(0,r.bF)(Ze.eB,{style:(0,b.Tr)(`--va-props-area: ${String(t.$props.area)};--va-z-index: ${String(s.value)};--va-z-index-1: ${String(s.value-1)}`)},{default:(0,r.k6)(()=>[i.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,b.C4)(["va-layout-area__overlay",{"va-layout-area__overlay--fixed":o.value}]),onClick:n[0]||(n[0]=e=>t.$emit("overlay-click"))},null,2)):(0,r.Q3)("",!0)]),_:1},8,["style"])],64))}}),ev={class:"va-layout__area va-layout__area--content"},tv=["top","left","right","bottom"],nv=(0,r.pM)({name:"VaLayout",__name:"VaLayout",props:{...jf,allowBodyScrollOnOverlay:{type:Boolean,default:!1}},emits:["top-overlay-click","left-overlay-click","right-overlay-click","bottom-overlay-click"],setup(e,{emit:t}){const n=e,{paddings:a}=Kf(n),o=(0,r.EW)(()=>!n.allowBodyScrollOnOverlay&&tv.some(e=>{var t;return null==(t=n[e])?void 0:t.overlay})),i=Za();(0,r.nT)(()=>{var e;const t=null==(e=i.value)?void 0:e.body;t&&(o.value?t.style.overflow="hidden":t.style.overflow="")});const s=Uf(n),u=(0,r.Ht)(),c=(0,r.EW)(()=>[u.top?"min-content":"0fr","1fr",u.bottom?"min-content":"0fr"].filter(Boolean).join(" ")),d=(0,r.EW)(()=>[u.left?"min-content":"0fr","1fr",u.right?"min-content":"0fr"].filter(Boolean).join(" "));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-layout",style:(0,b.Tr)(`--va-horizontal-template: ${String(d.value)};--va-vertical-template: ${String(c.value)};--va-template-area: ${String((0,l.R1)(s))};--va-paddings-top-px: ${String((0,l.R1)(a).top+"px")};--va-paddings-bottom-px: ${String((0,l.R1)(a).bottom+"px")};--va-paddings-left-px: ${String((0,l.R1)(a).left+"px")};--va-paddings-right-px: ${String((0,l.R1)(a).right+"px")}`)},[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(tv,t=>(0,r.bF)(Zf,{key:t,area:t,config:e.$props[t]||{},onOverlayClick:n=>e.$emit(`${t}-overlay-click`)},{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,t)]),_:2},1032,["area","config","onOverlayClick"])),64)),(0,r.Lk)("div",ev,[(0,r.RG)(e.$slots,"default",{},()=>[(0,r.RG)(e.$slots,"content")])])],4))}}),rv=Ee(nv),av={class:"va-navbar__left"},ov={class:"va-navbar__center"},iv={class:"va-navbar__right"},sv=(0,r.pM)({name:"VaNavbar",__name:"VaNavbar",props:{...Xn,...Ne,color:{type:String,default:"background-secondary"},textColor:{type:String},shape:{type:Boolean,default:!1},shadowed:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1}},setup(e){const t=e,{scrollRoot:n,isScrolledDown:a}=Qn(t.fixed),{fixedBarStyleComputed:o}=Hn(t,a),{getColor:i,shiftHSLAColor:s}=Xt(),u=(0,r.EW)(()=>i(t.color)),{textColorComputed:c}=Ht(u),d=(0,r.EW)(()=>({borderTopColor:s(u.value,{h:-1,s:-11,l:10})})),h=(0,r.EW)(()=>({...o.value,backgroundColor:u.value,color:c.value,fill:c.value})),p=gr("va-navbar",()=>({shadowed:t.shadowed,bordered:t.bordered}));return(t,a)=>((0,r.uX)(),(0,r.CE)("header",{ref_key:"scrollRoot",ref:n,class:(0,b.C4)(["va-navbar",(0,l.R1)(p)]),style:(0,b.Tr)(h.value)},[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.Lk)("div",av,[(0,r.RG)(t.$slots,"left")]),(0,r.Lk)("div",ov,[(0,r.RG)(t.$slots,"center")]),(0,r.Lk)("div",iv,[(0,r.RG)(t.$slots,"right")])]),e.shape?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-navbar__background-shape",style:(0,b.Tr)(d.value)},null,4)):(0,r.Q3)("",!0)],6))}}),lv=(0,r.pM)({name:"VaNavbarItem",props:{}}),uv={class:"va-navbar__item"};function cv(e,t,n,a,o,i){return(0,r.uX)(),(0,r.CE)("div",uv,[(0,r.RG)(e.$slots,"default")])}const dv=qs(lv,[["render",cv]]),hv=ke(sv),pv=ke(dv),fv=["role"],vv=["value","checked","aria-checked","onChange"],mv=(0,r.Lk)("span",{"aria-hidden":"true",class:"va-radio__icon"},[(0,r.Lk)("span",{class:"va-radio__icon__background"}),(0,r.Lk)("span",{class:"va-radio__icon__dot"})],-1),gv=(0,r.pM)({name:"VaRadio",__name:"VaRadio",props:{...Jl,...Ne,...Ws,modelValue:{type:[Boolean,Array,String,Object,Number],default:null},options:{type:Array,default:()=>[]},name:{type:String,default:""},label:{type:String,default:void 0},leftLabel:{type:Boolean,default:!1},color:{type:String,default:"primary"},option:{type:[Object,String,Number],default:void 0},vertical:{type:Boolean,default:!1}},emits:Zl,setup(e,{emit:t}){const n=e,a=t,{getColor:o}=Xt(),i={container:(0,l.IJ)(),input:(0,l.IJ)(),label:(0,l.IJ)()},{computedError:s,computedErrorMessages:u,validationAriaAttributes:c,onBlur:d,onFocus:h}=tu(n,a,i),{getText:p,getDisabled:f,getValue:v}=Fs(n),m=e=>n.options.length>0?p(e):n.label??p(e),g=e=>f(e)||n.disabled,y=(0,r.EW)(()=>0===n.options.length&&!n.option),_=e=>y.value?n.modelValue:n.modelValue===v(e),w=(0,r.EW)(()=>y.value?[{}]:n.option?[n.option]:n.options),E=e=>({"va-radio--left-label":n.leftLabel,"va-radio--selected":_(e),"va-radio--readonly":n.readonly,"va-radio--disabled":n.disabled,"va-radio--indeterminate":n.indeterminate,"va-radio--error":s.value,"va-radio--single-option":y.value}),k=(e,t)=>{var n;y.value?a("update:modelValue",(null==(n=null==t?void 0:t.target)?void 0:n.checked)||!1):a("update:modelValue",e)},C=(0,r.EW)(()=>({color:s.value?o("danger"):""}));(0,r.EW)(()=>{const e={background:o(n.color),borderColor:o(n.color)};return s.value&&(e.borderColor=o("danger")),e});const S=(0,r.EW)(()=>({backgroundColor:o(n.color)})),R=(0,r.EW)(()=>({borderColor:s.value?o("danger"):o(n.color),backgroundColor:o(n.color)})),T=(0,r.EW)(()=>({borderColor:s.value?o("danger"):o(n.color)})),I=Bl(),x=(0,r.EW)(()=>n.name||I),A=e=>{const t=g(e);return{name:x.value,disabled:t,readonly:n.readonly,tabindex:t?-1:0}},V=(0,r.EW)(()=>n.vertical?"column":"row"),$=(0,r.EW)(()=>{var e;return(null==(e=n.options)?void 0:e.length)>0?"radiogroup":""});return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(du),{disabled:e.disabled,success:e.success,messages:e.messages,error:(0,l.R1)(s),"error-messages":(0,l.R1)(u),"error-count":e.errorCount,onBlur:(0,l.R1)(d),style:(0,b.Tr)(`--va-flex-direction: ${String(V.value)};--va-label-style-color: ${String(C.value.color)};--va-icon-computed-styles-border-color: ${String(T.value.borderColor)};--va-icon-dot-computed-styles-border-color: ${String(R.value.borderColor)};--va-icon-dot-computed-styles-background-color: ${String(R.value.backgroundColor)};--va-icon-background-computed-styles-background-color: ${String(S.value.backgroundColor)}`)},{default:(0,r.k6)(({ariaAttributes:n})=>[(0,r.Lk)("div",(0,r.v6)({ref:"container",class:"va-radio",role:$.value},n),[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(w.value,(a,o)=>((0,r.uX)(),(0,r.CE)("label",{key:o,class:(0,b.C4)([E(a),"va-radio__square"])},[(0,r.Lk)("input",(0,r.v6)({ref_for:!0,ref:"input",class:"va-radio__input",type:"radio",role:"radio",value:_(a),checked:_(a),"aria-checked":_(a)},{...A(a),...n},{onChange:e=>k((0,l.R1)(v)(a),e),onFocus:t[0]||(t[0]=(...e)=>(0,l.R1)(h)&&(0,l.R1)(h)(...e)),onBlur:t[1]||(t[1]=(...e)=>(0,l.R1)(d)&&(0,l.R1)(d)(...e))}),null,16,vv),(0,r.RG)(e.$slots,"icon",(0,b._B)((0,r.Ng)({value:_(a),text:m(a),disabled:g(a),index:o})),()=>[mv]),m(a)||e.$slots.default?((0,r.uX)(),(0,r.CE)("div",{key:0,ref_for:!0,ref:"label",class:"va-radio__text"},[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({value:_(a),text:m(a),disabled:g(a),index:o})),()=>[(0,r.eW)((0,b.v_)(m(a)),1)])],512)):(0,r.Q3)("",!0)],2))),128))],16,fv)]),_:3},8,["disabled","success","messages","error","error-messages","error-count","onBlur","style"]))}}),yv=ke(gv),bv={class:"va-switch__inner"},_v={class:"va-switch__checker-wrapper"},wv={class:"va-switch__checker"},Ev={class:"va-switch__checker-circle"},kv=["id"],Cv=(0,r.pM)({name:"VaSwitch",__name:"VaSwitch",props:{...Jl,...Ne,id:{type:String,default:""},name:{type:String,default:""},modelValue:{type:[Number,Boolean,Array,String,Object],default:!1},trueLabel:{type:String,default:null},falseLabel:{type:String,default:null},trueInnerLabel:{type:String,default:null},falseInnerLabel:{type:String,default:null},ariaLabel:Wn("$t:switch"),color:{type:String,default:"primary"},offColor:{type:String,default:"background-element"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)}},emits:[...Zl,"focus","blur","update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,o=n,i={container:(0,l.IJ)(),input:(0,l.IJ)(),label:(0,l.IJ)()},{getColor:s}=Xt(),{hasKeyboardFocus:u,keyboardFocusListeners:c}=ru(),{isChecked:d,computedError:h,isIndeterminate:p,computedErrorMessages:f,validationAriaAttributes:v,toggleSelection:m,onBlur:g,onFocus:y,reset:_,focus:w,isDirty:E,isTouched:k,isLoading:C,isError:S}=tu(a,o,i),R=(0,r.EW)(()=>s(d.value?a.color:a.offColor)),{textColorComputed:T}=Ht(R),I=(0,r.EW)(()=>a.trueInnerLabel&&d.value?a.trueInnerLabel:a.falseInnerLabel&&!d.value?a.falseInnerLabel:""),x=(0,r.EW)(()=>a.trueLabel&&d.value?a.trueLabel:a.falseLabel&&!d.value?a.falseLabel:a.label),A=gr("va-switch",()=>({...tr(a,["readonly","disabled","leftLabel"]),checked:d.value,indeterminate:p.value,small:"small"===a.size,large:"large"===a.size,error:h.value,keyboardFocus:u.value})),V=(0,r.EW)(()=>({lineHeight:f.value.length?1:0})),$=(0,r.EW)(()=>{const e={small:"15px",medium:"20px",large:"25px"};return e[a.size]}),N=(0,r.EW)(()=>({borderColor:h.value?s("danger"):"",backgroundColor:R.value})),L=(0,r.EW)(()=>({color:h.value?s("danger"):""})),O=(0,r.EW)(()=>({color:T.value,"text-align":d.value?"left":"right"})),D=(0,r.Ht)(),B=Bl(),P=(0,r.EW)(()=>`aria-label-id-${B}`),M=(0,r.EW)(()=>({id:a.id||void 0,name:a.name||void 0,disabled:a.disabled,readonly:a.readonly,"aria-disabled":a.disabled,"aria-readonly":a.readonly,"aria-checked":!!a.modelValue,"aria-label":D.default?void 0:a.ariaLabel,"aria-labelledby":x.value||D.default?P.value:void 0,tabindex:a.disabled?-1:0,checked:d.value,...v.value})),W=()=>{var e;null==(e=i.input.value)||e.click()},F=i.input;return t({focus:w,reset:_,isDirty:E,isTouched:k,isLoading:C,isError:S}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(du),{class:(0,b.C4)(["va-switch",(0,l.R1)(A)]),style:(0,b.Tr)(V.value),disabled:e.$props.disabled,success:e.$props.success,messages:e.$props.messages,error:(0,l.R1)(h),"error-messages":(0,l.R1)(f),"error-count":e.$props.errorCount},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{ref:"container",class:"va-switch__container",tabindex:"-1",onBlur:t[5]||(t[5]=(...e)=>(0,l.R1)(g)&&(0,l.R1)(g)(...e)),onClick:t[6]||(t[6]=(...e)=>(0,l.R1)(m)&&(0,l.R1)(m)(...e))},[(0,r.Lk)("div",bv,[(0,r.Lk)("input",(0,r.v6)({ref_key:"input",ref:F,type:"checkbox",class:"va-switch__input",role:"switch"},M.value,(0,r.Tb)((0,l.R1)(c),!0),{onFocus:t[0]||(t[0]=(...e)=>(0,l.R1)(y)&&(0,l.R1)(y)(...e)),onBlur:t[1]||(t[1]=(...e)=>(0,l.R1)(g)&&(0,l.R1)(g)(...e)),onKeypress:(0,Ze.jR)(W,["enter"])}),null,16),(0,r.Lk)("div",{class:"va-switch__track","aria-hidden":"true",style:(0,b.Tr)(N.value)},[I.value||e.$slots.innerLabel?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-switch__track-label",style:(0,b.Tr)(O.value)},[(0,r.RG)(e.$slots,"innerLabel",{},()=>[(0,r.eW)((0,b.v_)(I.value),1)])],4)):(0,r.Q3)("",!0),(0,r.Lk)("div",_v,[(0,r.Lk)("div",wv,[(0,r.RG)(e.$slots,"checker",(0,b._B)((0,r.Ng)({value:(0,l.R1)(d)})),()=>[(0,r.Lk)("div",Ev,[e.$props.loading?((0,r.uX)(),(0,r.Wv)((0,l.R1)(ir),{key:0,indeterminate:"",size:$.value,color:N.value.backgroundColor},null,8,["size","color"])):(0,r.Q3)("",!0)])])])])],4)]),x.value||e.$slots.default?((0,r.uX)(),(0,r.CE)("div",{key:0,ref:"label",class:"va-switch__label",style:(0,b.Tr)(L.value),id:P.value,onBlur:t[2]||(t[2]=(...e)=>(0,l.R1)(g)&&(0,l.R1)(g)(...e)),onClick:t[3]||(t[3]=(...e)=>(0,l.R1)(m)&&(0,l.R1)(m)(...e)),onKeydown:t[4]||(t[4]=(0,Ze.jR)((0,Ze.D$)((...e)=>(0,l.R1)(m)&&(0,l.R1)(m)(...e),["stop"]),["enter"]))},[(0,r.RG)(e.$slots,"default",{},()=>[(0,r.eW)((0,b.v_)(x.value),1)])],44,kv)):(0,r.Q3)("",!0)],544)]),_:3},8,["class","style","disabled","success","messages","error","error-messages","error-count"]))}}),Sv=ke(Cv),Rv=()=>{const e=(0,l.IJ)([]),t=t=>{t&&e.value.push(t)},n=t=>n=>{n&&(e.value[t]=n)};return(0,r.Ic)(()=>{e.value=[]}),{itemRefs:e,setItemRef:t,setItemRefByIndex:n}},Tv={class:"va-option-list__list"},Iv=(0,r.pM)({name:"VaOptionList",__name:"VaOptionList",props:{...Ne,...Ws,...Kl,...xe,type:{type:String,default:"checkbox",validator:e=>["radio","checkbox","switch"].includes(e)},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},defaultValue:{type:[String,Number,Boolean,Object,Array]},name:{type:String,default:""},color:{type:String,default:"primary"},leftLabel:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean,Object,Array]}},emits:[...Ve,...Gl,"clear"],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=$e(a,o,"modelValue",{defaultValue:a.defaultValue}),{getValue:s,getText:u,getTrackBy:c,getDisabled:d}=Fs(a),{itemRefs:h,setItemRef:p}=Rv(),f=(0,r.EW)(()=>"radio"===a.type),v=(0,r.EW)({get(){const e=f.value?null:[];return i.value||e},set(e){a.readonly||(f.value&&!Array.isArray(e)?i.value=e?s(e):e:i.value=Array.isArray(e)?e.map(s):[e?s(e):e])}}),m=e=>a.disabled||d(e),g=()=>E(()=>{i.value=null,o("clear"),k()}),y=()=>{const e=Array.isArray(h.value)&&h.value.find(e=>!e.disabled);e&&"function"===typeof e.focus&&e.focus()},{computedError:_,computedErrorMessages:w,withoutValidation:E,resetValidation:k}=Yl(a,o,{reset:g,focus:y,value:i}),C=(0,r.EW)(()=>tr(a,["name","color","readonly","leftLabel"]));return(0,r.sV)(()=>{D&&"radio"!==a.type&&!Array.isArray(a.modelValue)&&console.warn(`Prop 'modelValue = ${a.modelValue}' has not a proper type!\n For component property 'type = ${a.type}' it must be of type 'array'.`)}),t({focus:y,reset:g}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(du),{error:(0,l.R1)(_),"error-messages":(0,l.R1)(w),"error-count":e.$props.errorCount},{default:(0,r.k6)(()=>[(0,r.Lk)("ul",Tv,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.$props.options,n=>((0,r.uX)(),(0,r.CE)("li",{key:(0,l.R1)(c)(n)},[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({option:n,selectedValue:v.value,isDisabled:m,getText:(0,l.R1)(u),getValue:(0,l.R1)(s)})),()=>["radio"===e.$props.type?((0,r.uX)(),(0,r.Wv)((0,l.R1)(yv),(0,r.v6)({key:0,ref_for:!0,ref:(0,l.R1)(p),modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),label:(0,l.R1)(u)(n),disabled:m(n),option:(0,l.R1)(s)(n)},C.value),null,16,["modelValue","label","disabled","option"])):"checkbox"===e.$props.type?((0,r.uX)(),(0,r.Wv)((0,l.R1)(mu),(0,r.v6)({key:1,ref_for:!0,ref:(0,l.R1)(p),modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),label:(0,l.R1)(u)(n),disabled:m(n),"array-value":(0,l.R1)(s)(n)},C.value),null,16,["modelValue","label","disabled","array-value"])):((0,r.uX)(),(0,r.Wv)((0,l.R1)(Sv),(0,r.v6)({key:2,ref_for:!0,ref:(0,l.R1)(p),modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=e=>v.value=e),label:(0,l.R1)(u)(n),disabled:m(n),"array-value":(0,l.R1)(s)(n)},C.value),null,16,["modelValue","label","disabled","array-value"]))])]))),128))])]),_:3},8,["error","error-messages","error-count"]))}}),xv=ke(Iv),Av=(e=1,t,n,r=!1)=>{let a=0;if(0===n&&(n=1),t>n&&(t=n),0===t)a=1,t=n>10?10:n;else{const r=t/2;a=e-r<=0||e>n?1:e+r>n?n-t+1:Math.ceil(e-r)}const o=[];for(let i=0;i<t;i++)o.push(a+i);return r&&t<7?n>=7&&B("[va-pagination] To work in a proper way, the `boundaryNumbers` prop needs at least 7 visible pages to be set via the `visiblePages` prop (first, last, 2 boundaries, current, previous, next)."):r&&(1!==a&&o.splice(0,2,1,"..."),o[o.length-1]!==n&&o.splice(-2,2,"...",n)),o},Vv=["aria-label","onKeydown"],$v=["aria-label"],Nv=(0,r.pM)({name:"VaPagination",__name:"VaPagination",props:{...xe,...Ne,modelValue:{type:Number,default:1},visiblePages:{type:[Number,String],default:0},pages:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},boundaryLinks:{type:Boolean,default:!0},boundaryNumbers:{type:Boolean,default:!1},directionLinks:{type:Boolean,default:!0},input:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},total:{type:[Number,String],default:null},pageSize:{type:[Number,String],default:null},boundaryIconLeft:{type:String,default:"va-arrow-first"},boundaryIconRight:{type:String,default:"va-arrow-last"},directionIconLeft:{type:String,default:"va-arrow-left"},directionIconRight:{type:String,default:"va-arrow-right"},gapped:{type:Boolean,default:!1},borderColor:{type:String,default:""},rounded:{type:Boolean,default:!1},activePageColor:{type:String,default:""},activeButtonProps:{type:Object,default:()=>({})},buttonProps:{type:Object,default:()=>({})},buttonsPreset:{type:String,default:"primary"},ariaLabel:Wn("$t:pagination"),ariaGoToTheFirstPageLabel:Wn("$t:goToTheFirstPage"),ariaGoToPreviousPageLabel:Wn("$t:goToPreviousPage"),ariaGoToSpecificPageLabel:Wn("$t:goToSpecificPage"),ariaGoToSpecificPageInputLabel:Wn("$t:goToSpecificPageInput"),ariaGoToNextPageLabel:Wn("$t:goNextPage"),ariaGoToLastPageLabel:Wn("$t:goLastPage")},emits:[...Ve],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),s=(0,l.KR)(""),u=(0,r.EW)(()=>!(!f.value&&0!==f.value||!v.value)),{valueComputed:c}=$e(a,o),d=(0,r.EW)({get:()=>u.value?Math.ceil(c.value/v.value)||1:c.value,set:e=>{c.value=e}}),h=je("visiblePages"),p=je("pages"),f=je("total"),v=je("pageSize"),m=(0,r.EW)(()=>{const{boundaryNumbers:e}=a,t=d.value||1,n=u.value?Math.ceil(f.value/v.value):p.value;return Av(t,h.value,n,e)}),g=(0,r.EW)(()=>u.value?Math.ceil(f.value/v.value)||1:+p.value),y=(0,r.EW)(()=>!!h.value&&g.value>h.value||a.input),_=(0,r.EW)(()=>{const{boundaryLinks:e,boundaryNumbers:t}=a;return y.value&&e&&!t}),w=(0,r.EW)(()=>y.value&&a.directionLinks),E=(0,r.EW)(()=>g.value>1||!a.hideOnSinglePage&&g.value<=1),k=()=>{s.value=String(d.value),(0,r.dY)(()=>{var e;return null==(e=i.value)?void 0:e.setSelectionRange(0,i.value.value.length)})},{setItemRefByIndex:C,itemRefs:S}=Rv(),R=e=>{var t;if("..."===e||e===d.value)return;const n=nr(e,1,g.value);d.value=u.value?(n-1)*v.value+1:n,null==(t=S.value[e-1])||t.focus()},T=()=>{var e;s.value="",null==(e=i.value)||e.blur()},I=()=>{if(+s.value===d.value&&T(),!s.value.length)return;let e=Number.parseInt(s.value);switch(!0){case e<1:e=1;break;case e>g.value:e=g.value;break;case isNaN(e):e=d.value;break}R(e),T()},{getColor:x,colorToRgba:A}=Xt(),V=(0,r.EW)(()=>{const{color:e,buttonsPreset:t}=(0,l.QW)(a);if(!e.value)return"transparent";switch(t.value){case"default":return x(e.value);case void 0:case"primary":return A(x(e.value),.1);default:return"transparent"}}),$=(0,r.EW)(()=>({cursor:"default",color:x(a.color),opacity:a.disabled?.4:1,borderColor:V.value}));(0,r.wB)([u,()=>p.value],()=>{if(D&&u.value&&p.value)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")});const N=(0,r.EW)(()=>({disabled:a.disabled,placeholder:`${d.value}/${g.value}`})),L=(0,r.EW)(()=>({size:a.size,preset:a.buttonsPreset,color:a.color,borderColor:a.borderColor,round:a.rounded,...a.buttonProps})),O=(0,r.EW)(()=>({preset:"default"===a.buttonsPreset?"primary":"default",color:a.activePageColor||a.color,...a.activeButtonProps})),B=e=>isNaN(+e)||e!==d.value?L.value:Object.assign({},L.value,O.value),P=(0,r.EW)(()=>a.input&&!a.boundaryLinks&&!a.directionLinks),M=gr("va-pagination__input",()=>({sm:"small"===a.size&&P.value,md:"medium"===a.size&&P.value,lg:"large"===a.size&&P.value,auto:!P.value})),W=gr("va-pagination",()=>({...tr(a,["gapped","rounded","disabled"]),bordered:!!a.borderColor})),F=()=>R(d.value+1),U=()=>R(d.value-1),{tp:j}=Un();return t({goNextPage:F,goPrevPage:U}),(e,t)=>E.value?((0,r.uX)(),(0,r.CE)("nav",{key:0,class:(0,b.C4)(["va-pagination",(0,l.R1)(W)]),"aria-label":(0,l.R1)(j)(e.$props.ariaLabel),onKeydown:[(0,Ze.jR)((0,Ze.D$)(U,["stop"]),["left"]),(0,Ze.jR)((0,Ze.D$)(F,["stop"]),["right"]),(0,Ze.jR)((0,Ze.D$)(U,["stop"]),["up"]),(0,Ze.jR)((0,Ze.D$)(F,["stop"]),["down"])]},[_.value?(0,r.RG)(e.$slots,"firstPageLink",(0,b._B)((0,r.v6)({key:0},{onClick:()=>R(1),disabled:e.$props.disabled||1===d.value})),()=>[_.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,"aria-label":(0,l.R1)(j)(e.$props.ariaGoToTheFirstPageLabel),disabled:e.$props.disabled||1===d.value,icon:e.$props.boundaryIconLeft},L.value,{onClick:t[0]||(t[0]=e=>R(1))}),null,16,["aria-label","disabled","icon"])):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0),w.value?(0,r.RG)(e.$slots,"prevPageLink",(0,b._B)((0,r.v6)({key:1},{onClick:U,disabled:e.$props.disabled||1===d.value})),()=>[w.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,"aria-label":(0,l.R1)(j)(e.$props.ariaGoToPreviousPageLabel),disabled:e.$props.disabled||1===d.value,icon:e.$props.directionIconLeft},L.value,{onClick:U}),null,16,["aria-label","disabled","icon"])):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0),e.$props.input?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",(0,r.v6)({key:3,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),ref_key:"htmlInput",ref:i,class:["va-pagination__input va-button",(0,l.R1)(M)],"aria-label":(0,l.R1)(j)(e.$props.ariaGoToSpecificPageInputLabel),style:$.value},N.value,{onKeydown:(0,Ze.jR)(I,["enter"]),onFocus:k,onBlur:I}),null,16,$v)),[[Ze.hp,s.value]]):(0,r.RG)(e.$slots,"default",{key:2},()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.value,(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:n,ref_for:!0,ref:(0,l.R1)(C)(n),class:{"va-button--ellipsis":"..."===t,"va-button--current":t===d.value},"aria-label":(0,l.R1)(j)(e.$props.ariaGoToSpecificPageLabel,{page:t}),"aria-current":t===d.value,disabled:e.$props.disabled||"..."===t},B(t),{onClick:e=>R(t)}),{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)(t),1)]),_:2},1040,["class","aria-label","aria-current","disabled","onClick"]))),128))]),w.value?(0,r.RG)(e.$slots,"nextPageLink",(0,b._B)((0,r.v6)({key:4},{onClick:F,disabled:e.$props.disabled||d.value===g.value})),()=>[w.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,"aria-label":(0,l.R1)(j)(e.$props.ariaGoToNextPageLabel),disabled:e.$props.disabled||d.value===g.value,icon:e.$props.directionIconRight},L.value,{onClick:F}),null,16,["aria-label","disabled","icon"])):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0),_.value?(0,r.RG)(e.$slots,"lastPageLink",(0,b._B)((0,r.v6)({key:5},{onClick:()=>R(g.value),disabled:e.$props.disabled||d.value===g.value})),()=>[_.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),(0,r.v6)({key:0,"aria-label":(0,l.R1)(j)(e.$props.ariaGoToLastPageLabel),disabled:e.$props.disabled||d.value===g.value,icon:e.$props.boundaryIconRight},L.value,{onClick:t[2]||(t[2]=e=>R(g.value))}),null,16,["aria-label","disabled","icon"])):(0,r.Q3)("",!0)]):(0,r.Q3)("",!0)],42,Vv)):(0,r.Q3)("",!0)}}),Lv=ke(Nv),Ov=()=>{const e=Wr(),t=new Proxy(e.value||{},{get:(t,n,r)=>{var a,o;if("scrollTop"===n)return null==(a=e.value)?void 0:a.scrollY;if("scrollLeft"===n)return null==(o=e.value)?void 0:o.scrollX;const i=Reflect.get(t,n,r);return"function"===typeof i?i.bind(t):i}}),n=e=>e?e.scrollHeight>e.clientHeight?e:n(e.parentElement):t;return{getScrollableParent:n}},Dv={class:"va-parallax__image-container"},Bv=["src","alt"],Pv={class:"va-parallax__item-container"},Mv=(0,r.pM)({name:"VaParallax",__name:"VaParallax",props:{...Ne,target:{type:[Object,String]},src:{type:String,default:"",required:!0},alt:{type:String,default:"parallax"},height:{type:[Number,String],default:400},reversed:{type:Boolean,default:!1},speed:{type:[Number,String],default:.5,validator:e=>{const t=Number(e);return t>=0&&t<=1}}},setup(e){const t=e,n=(0,l.IJ)(),a=(0,l.IJ)(),o=(0,l.KR)(0),i=(0,l.KR)(0),s=(0,l.KR)(0),u=(0,l.KR)(0),c=(0,l.KR)(0),d=(0,l.KR)(0),h=(0,l.KR)(0),p=(0,l.KR)(!1),f=(0,r.EW)(()=>({height:_.value+"px"})),v=(0,r.EW)(()=>({display:"block",transform:`translate(-50%, ${i.value}px)`,opacity:p.value?1:0,top:t.reversed?0:"auto"})),{getScrollableParent:m}=Ov(),g=(0,r.EW)(()=>{var e;if(!t.target)return m(null==(e=n.value)?void 0:e.parentElement);if(t.target instanceof HTMLElement)return t.target;const r=document.querySelector(t.target);return r||(B("VaParallax target prop got wrong selector. Target is null"),null)}),y=(0,r.EW)(()=>{var e;return(null==(e=a.value)?void 0:e.naturalHeight)||0}),_=je("height"),w=je("speed"),E=()=>{var e,t;const r=(null==(e=n.value)?void 0:e.getBoundingClientRect())||{top:0};c.value=(null==(t=g.value)?void 0:t.scrollTop)||0,s.value=y.value-_.value,o.value=r.top+c.value,d.value=window.innerHeight,h.value=c.value+d.value},k=()=>{E(),u.value=(h.value-o.value)/(_.value+d.value),i.value=Math.round(s.value*u.value)*w.value,t.reversed&&(i.value=-i.value)},C=()=>{var e,t;null==(e=g.value)||e.addEventListener("scroll",k),null==(t=g.value)||t.addEventListener("resize",k)},S=()=>{var e,t;null==(e=g.value)||e.removeEventListener("scroll",k),null==(t=g.value)||t.removeEventListener("resize",k)},R=()=>{var e,t;(null==(e=a.value)?void 0:e.complete)?(k(),C()):null==(t=a.value)||t.addEventListener("load",()=>{k(),C()},!1),p.value=!0};return(0,r.sV)(R),(0,r.xo)(S),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"rootElement",ref:n,class:"va-parallax",style:(0,b.Tr)(f.value)},[(0,r.Lk)("div",Dv,[(0,r.Lk)("img",{ref_key:"img",ref:a,class:"va-parallax__image",src:e.$props.src,alt:e.$props.alt,style:(0,b.Tr)(v.value)},null,12,Bv)]),(0,r.Lk)("div",Pv,[(0,r.RG)(e.$slots,"default")])],4))}}),Wv=ke(Mv),Fv={key:0,"aria-hidden":"true",class:"va-popover__icon"},Uv={key:1},jv={key:0,class:"va-popover__title"},zv={key:1,class:"va-popover__body"},Kv=fr(ks,["closeOnClickOutside"]),Gv=(0,r.pM)({name:"VaPopover",__name:"VaPopover",props:{...Kv,...Ne,trigger:{...Kv.trigger,default:["hover","enter","space","arrow-down","arrow-up"]},color:{type:String,default:"#1b1a1f"},textColor:{type:String},icon:{type:String,default:""},title:{type:String,default:""},message:{type:String,default:""},autoHide:{type:Boolean,default:!0},offset:{type:[Array,Number],default:4},contentClass:{type:String,default:""}},setup(e){const t=e,n=yr(Kv),{getColor:a,getBoxShadowColor:o}=Xt(),i=(0,r.Ht)(),{textColorComputed:s}=Ht((0,r.EW)(()=>a(t.color))),u=(0,r.EW)(()=>t.icon||i.icon),c=(0,r.EW)(()=>t.title||i.title),d=(0,r.EW)(()=>t.message||i.body),h=(0,r.EW)(()=>c.value||d.value),p=(0,r.EW)(()=>({boxShadow:`var(--va-popover-content-box-shadow) ${o(a(t.color))}`,backgroundColor:a(t.color),color:s.value}));return(t,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(ks),(0,r.v6)((0,l.R1)(n),{"model-value":t.modelValue,"close-on-click-outside":e.autoHide,offset:t.$props.offset,"content-class":t.$props.contentClass,class:"va-popover"}),{default:(0,r.k6)(()=>[(0,r.Lk)("div",{style:(0,b.Tr)(p.value),class:"va-popover__content",role:"tooltip"},[u.value?((0,r.uX)(),(0,r.CE)("div",Fv,[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.bF)((0,l.R1)(Pn),{name:t.$props.icon,color:(0,l.R1)(s)},null,8,["name","color"])])])):(0,r.Q3)("",!0),h.value?((0,r.uX)(),(0,r.CE)("div",Uv,[c.value?((0,r.uX)(),(0,r.CE)("div",jv,[(0,r.RG)(t.$slots,"title",{},()=>[(0,r.eW)((0,b.v_)(t.$props.title),1)])])):(0,r.Q3)("",!0),d.value?((0,r.uX)(),(0,r.CE)("div",zv,[(0,r.RG)(t.$slots,"body",{},()=>[(0,r.eW)((0,b.v_)(t.$props.message),1)])])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)],4)]),anchor:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default")]),_:3},16,["model-value","close-on-click-outside","offset","content-class"]))}}),Xv=ke(Gv);var Hv=(e=>(e[e["EMPTY"]=0]="EMPTY",e[e["HALF"]=.5]="HALF",e[e["FULL"]=1]="FULL",e))(Hv||{});const qv=()=>{const e=(0,r.nI)();if(!e)throw new Error("useRating hooks must be used on top of setup function");return{props:e.props,emit:e.emit}},Qv={...xe,modelValue:{type:Number,default:0},clearable:{type:Boolean,default:!1},hover:{type:Boolean,default:!1}},Yv=e=>{const{emit:t}=qv(),{isHovered:n,onMouseEnter:a,onMouseLeave:o}=Qr(),{valueComputed:i}=$e(e,t),s=(0,l.KR)(0),u=(0,r.EW)(()=>!e.disabled&&!e.readonly&&e.hover&&n.value?s.value:i.value),c=(t,n)=>{const r=t+n;e.clearable&&i.value===r?i.value=0:i.value=r},d=(t,n)=>{e.hover&&(s.value=t+n)},h=e=>{const t=u.value-e;return nr(t,Hv.EMPTY,Hv.FULL)};return{visibleValue:u,modelValue:i,hoveredValue:s,isHovered:n,onMouseEnter:a,onMouseLeave:o,onItemValueUpdate:c,onItemHoveredValueUpdate:d,getItemValue:h}},Jv={unselectedColor:{type:String},color:{type:String,default:"primary"},modelValue:{type:Number}},Zv=e=>{const{getColor:t,getFocusColor:n,getTextColor:a}=Xt(),o=(0,r.EW)(()=>t(e.color)),i=(0,r.EW)(()=>e.unselectedColor?t(e.unselectedColor):n(t(e.color))),s=(0,r.EW)(()=>e.modelValue===Hv.HALF?`linear-gradient(90deg, ${o.value} 50%, ${i.value} 50%`:e.modelValue===Hv.EMPTY?i.value:o.value),l=(0,r.EW)(()=>e.modelValue===Hv.FULL?t(a(o.value)):t(a(i.value)));return{computedColor:o,backgroundComputed:s,textColorComputed:l}},em=["tabindex","onKeydown"],tm=(0,r.pM)({name:"VaRatingItem",__name:"VaRatingItem",props:{modelValue:{type:Number,default:0},icon:{type:String,default:"star"},halfIcon:{type:String,default:"star_half"},emptyIcon:{type:String,default:"star_outline"},halves:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:[String,Number],default:"medium"},unselectedColor:{type:String},color:{type:String,default:"primary"}},emits:["update:modelValue","click","hover"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),[i]=Pl("modelValue",n,a,Hv.EMPTY),s=(0,l.KR)(null),u=(0,r.EW)(()=>!n.hover||n.disabled||n.readonly?i.value:s.value||i.value),{getColor:c}=Xt(),d=(0,r.EW)(()=>c(n.unselectedColor&&u.value===Hv.EMPTY?n.unselectedColor:n.color)),h=e=>{if(!o.value)return;const{offsetX:t}=e,r=o.value.clientWidth;n.halves?s.value=t/r<=Hv.HALF?Hv.HALF:Hv.FULL:s.value=Hv.FULL},p=()=>{s.value=null},f=()=>{i.value=s.value||Hv.FULL,a("click",s.value||Hv.FULL)};(0,r.wB)(s,()=>a("hover",s.value||Hv.EMPTY));const v=(0,r.EW)(()=>n.halves&&u.value===Hv.HALF?n.halfIcon:u.value===Hv.EMPTY?n.emptyIcon:n.icon),m=(0,r.EW)(()=>n.disabled?-1:n.tabindex);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"rootEl",ref:o,role:"button",class:"va-rating-item",tabindex:m.value,onKeydown:[(0,Ze.jR)(f,["enter"]),(0,Ze.jR)((0,Ze.D$)(f,["prevent"]),["space"])],onMousemove:h,onMouseleave:p,onClick:f},[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({value:u.value,onClick:f})),()=>[(0,r.bF)((0,l.R1)(Pn),{class:"va-rating-item__wrapper",tabindex:"-1",tag:"button",name:v.value,size:e.$props.size,color:d.value},null,8,["name","size","color"])])],40,em))}}),nm=(0,r.pM)({name:"VaRatingItemNumberButton",__name:"VaRatingItemNumberButton",props:{...Jv,...cn,itemNumber:{type:Number,required:!0},modelValue:{type:Number,required:!0}},setup(e){const t=e,{textColorComputed:n,backgroundComputed:a}=Zv(t),{sizeComputed:o,fontSizeComputed:i,fontSizeInRem:s}=mn(t,"VaRating");return(t,s)=>((0,r.uX)(),(0,r.CE)("button",{class:"va-rating__number-item",tabindex:"-1","aria-hidden":"true",style:(0,b.Tr)({background:(0,l.R1)(a),color:(0,l.R1)(n),width:(0,l.R1)(o),height:(0,l.R1)(o),fontSize:(0,l.R1)(i),borderRadius:.125*parseInt((0,l.R1)(i))+"rem"})},(0,b.v_)(e.itemNumber),5))}}),rm=["aria-label"],am=fr(tm,["modelValue","itemNumber"]),om=fr(nm,["modelValue","itemNumber"]),im=(0,r.pM)({name:"VaRating",__name:"VaRating",props:{...om,...Qv,...Jv,...Lu,...am,...Ne,modelValue:{type:Number,default:0},numbers:{type:Boolean,default:!1},halves:{type:Boolean,default:!1},max:{type:[Number,String],default:5},texts:{type:Array,default:()=>[]},ariaLabel:Wn("$t:currentRating"),ariaItemLabel:Wn("$t:voteRating")},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{computedClasses:a}=Ou("va-rating",n),{visibleValue:o,modelValue:i,hoveredValue:s,isHovered:u,onMouseEnter:c,onMouseLeave:d,onItemValueUpdate:h,onItemHoveredValueUpdate:p,getItemValue:f}=Yv(n),v=(0,r.EW)(()=>!n.disabled&&!n.readonly),m=e=>{const t=Number(n.max),r=n.halves?Hv.HALF:Hv.FULL,a=o.value+r*e,i=n.clearable?0:r;a>=i&&a<=t?h(o.value,r*e):a<i?h(i,0):h(t,-1===e?r*e:0)},{tp:g,t:y}=Un(),{computedColor:_,backgroundComputed:w,textColorComputed:E}=Zv(n),k=(0,r.EW)(()=>v.value?0:void 0),C=yr(am),S=yr(om);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-rating",(0,l.R1)(a)]),"aria-label":(0,l.R1)(g)(e.$props.ariaLabel,{max:e.$props.max,value:e.$props.modelValue})},[(0,r.Lk)("div",{class:"va-rating__item-wrapper",onKeyup:[t[0]||(t[0]=(0,Ze.jR)(e=>m(-1),["left"])),t[1]||(t[1]=(0,Ze.jR)(e=>m(1),["right"]))],onMouseenter:t[2]||(t[2]=(...e)=>(0,l.R1)(c)&&(0,l.R1)(c)(...e)),onMouseleave:t[3]||(t[3]=(...e)=>(0,l.R1)(d)&&(0,l.R1)(d)(...e))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Number(e.$props.max),t=>((0,r.uX)(),(0,r.Wv)(tm,(0,r.v6)({key:t,class:"va-rating__item"},(0,l.R1)(C),{"aria-label":(0,l.R1)(g)(e.$props.ariaItemLabel,{max:e.$props.max,value:t}),"model-value":(0,l.R1)(f)(t-1),tabindex:k.value,disabled:e.$props.disabled,readonly:e.$props.readonly,onHover:e=>v.value&&(0,l.R1)(p)(t-1,e),"onUpdate:modelValue":e=>v.value&&(0,l.R1)(h)(t-1,e)}),{default:(0,r.k6)(({value:n,onClick:a})=>[(0,r.RG)(e.$slots,"item",(0,b._B)((0,r.Ng)({value:n,onClick:a,index:t})),()=>[e.$props.numbers?((0,r.uX)(),(0,r.Wv)(nm,(0,r.v6)({key:0},(0,l.R1)(S),{"model-value":n,"item-number":t}),null,16,["model-value","item-number"])):(0,r.Q3)("",!0)])]),_:2},1040,["aria-label","model-value","tabindex","disabled","readonly","onHover","onUpdate:modelValue"]))),128))],32),e.$props.texts&&e.$props.texts.length===e.$props.max?((0,r.uX)(),(0,r.CE)("span",{key:0,class:"va-rating__text-wrapper",style:(0,b.Tr)({color:(0,l.R1)(_)})},(0,b.v_)(e.$props.texts[Math.round((0,l.R1)(o))-1]),5)):(0,r.Q3)("",!0)],10,rm))}}),sm=ke(im),lm=e=>e.offsetTop,um=e=>e.offsetTop+e.offsetHeight,cm=e=>e.offsetTop+e.offsetHeight/2,dm=(e,t,n)=>{const r=t.offsetHeight,a=t.scrollTop,o=lm(e)-t.offsetTop,i=cm(e)-t.offsetTop,s=um(e)-t.offsetTop;if("start"===n)return o;if("end"===n)return s-r;if("center"===n)return i-r/2;if("any"===n){if(o-a<0)return o;if(s-a>r)return s-r}},hm=(e,t={scrollTarget:e.parentElement,verticalAlignment:"any",smooth:!1})=>{const n=t.scrollTarget||e.parentElement,r=dm(e,n,t.verticalAlignment);void 0!==r&&n.scroll({top:r,behavior:t.smooth?"smooth":"auto"})},pm=["aria-selected"],fm={key:1,class:"va-select-option__highlighted"},vm=(0,r.pM)({name:"VaSelectOption",__name:"VaSelectOption",props:{...Gt,disabled:{type:Boolean,default:!1},option:{type:[Number,String,Boolean,Object],default:()=>({})},getText:{type:Function,required:!0},getTrackBy:{type:Function,required:!0},currentOption:{type:[String,Number,Boolean,Object],default:null},getSelectedState:{type:Function,required:!0},search:{type:String,default:""},highlightMatchedText:{type:Boolean,default:!0},inputFocused:{type:Boolean,default:!1},minSearchChars:{type:[Number,String],default:0}},setup(e,{expose:t}){const n=e,{getColor:a,getHoverColor:o}=Xt(),i=je("minSearchChars"),s=(0,r.EW)(()=>z(n.option)?n.option.icon:void 0),u=(0,r.EW)(()=>a(n.color)),c=(0,r.EW)(()=>n.getText(n.option)),d=(0,r.EW)(()=>{const e={start:c.value,searchedSubString:"",end:""};if(!c.value||!n.search||!n.highlightMatchedText||n.search.length<i.value)return e;const t=c.value.toLowerCase().indexOf(n.search.toLowerCase());if(t<0)return e;const r=c.value.slice(0,t),a=c.value.slice(t,t+n.search.length),o=c.value.slice(t+n.search.length);return{start:r,searchedSubString:a,end:o}}),h=(0,r.EW)(()=>n.getSelectedState(n.option)),p=(0,r.EW)(()=>"string"===typeof n.option?n.option===n.currentOption:n.getTrackBy(n.currentOption)===n.getTrackBy(n.option)),f=gr("va-select-option",()=>({selected:h.value})),v=(0,r.EW)(()=>({color:h.value?a(n.color):"inherit",backgroundColor:p.value?o(a(n.color)):"transparent",cursor:n.disabled?"default":void 0,opacity:n.disabled?"var(--va-select-option-list-option-disabled-opacity)":void 0}));return t({isFocused:p,isSelected:h}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{role:"option",class:(0,b.C4)(["va-select-option",(0,l.R1)(f)]),style:(0,b.Tr)(v.value),"aria-selected":h.value},[(0,r.RG)(e.$slots,"option-content",{},()=>[s.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,size:"small",class:"va-select-option__icon",name:s.value},null,8,["name"])):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,b.v_)(d.value.start)+" ",1),d.value.searchedSubString?((0,r.uX)(),(0,r.CE)("span",fm,(0,b.v_)(d.value.searchedSubString),1)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,b.v_)(d.value.end),1)]),h.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,class:"va-select-option__selected-icon",size:"small",name:"va-check",color:u.value},null,8,["color"])):(0,r.Q3)("",!0)],14,pm))}}),mm=ke(vm),gm=()=>{const e=(0,l.IJ)({}),t=t=>n=>{if(n)return e.value[t]=n,String(t)};return(0,r.Ic)(()=>{e.value={}}),{itemRefs:e,setItemRef:t}},ym=["tabindex","onKeydown","aria-multiselectable"],bm={key:0,class:"va-select-option-list__group-name",role:"presentation"},_m={key:0,class:"va-select-option-list--empty"},wm=(0,r.pM)({name:"VaSelectOptionList",__name:"VaSelectOptionList",props:{...Gt,...Ne,...Ws,...jc,noOptionsText:{type:String,default:"Items not found"},getSelectedState:{type:Function,required:!0},multiple:{type:Boolean,default:!1},search:{type:String,default:""},tabindex:{type:[String,Number],default:0},hoveredOption:{type:[String,Number,Boolean,Object],default:null},virtualScroller:{type:Boolean,default:!0},highlightMatchedText:{type:Boolean,default:!0},minSearchChars:{type:[Number,String],default:0},autoSelectFirstOption:{type:Boolean,default:!1},selectedTopShown:{type:Boolean,default:!1},doShowAllOptions:{type:Boolean,default:!1},searchFn:{type:Function,default:void 0}},emits:["select-option","update:hoveredOption","no-previous-option-to-hover","scroll-bottom"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),s=()=>{var e;null==(e=i.value)||e.focus({preventScroll:!0})},u=(0,r.EW)(()=>{var e;return(null==(e=i.value)?void 0:e.clientHeight)??200}),c=()=>o("scroll-bottom"),d=e=>{const t=e.target;t&&t.scrollTop+t.clientHeight===t.scrollHeight&&c()},h=(0,l.KR)(""),p=(0,r.EW)(()=>a.hoveredOption??null),f=(e,t)=>{o("update:hoveredOption",e),h.value=t},{getText:v,getGroupBy:m,getTrackBy:g,getDisabled:y}=Fs(a),_=je("minSearchChars"),w=(0,r.EW)(()=>{var e;const t=a.getSelectedState,n=null==(e=a.options)?void 0:e.find(e=>t(e));return n?v(n):""}),E=(0,r.EW)(()=>{var e;return w.value.toLowerCase()===(null==(e=a.search)?void 0:e.toLowerCase())}),k=(0,r.EW)(()=>{if(a.doShowAllOptions&&E.value)return a.options;if(!a.search||a.search.length<_.value)return a.options;if(a.searchFn)return a.options.filter(e=>a.searchFn(a.search,e));const e=a.search.toUpperCase().trim();return a.options.filter(t=>{const n=v(t).toUpperCase();return n.includes(e)})}),C=(0,r.EW)(()=>a.groupBy?k.value.reduce((e,t)=>{const n=m(t);return n?(e[n]||(e[n]=[]),e[n].push(t)):e._noGroup.push(t),e},{_noGroup:[]}):{_noGroup:k.value}),S=Kc(C,a),R=e=>!A(e),T=e=>{e===p.value||R(e)&&y(e)||f(e??null,"mouse")},I=e=>{f(e??null,"keyboard")},x=()=>{const e=D.value&&"object"===typeof D.value?{...D.value}:D.value;o("select-option"),a.selectedTopShown&&T(e)},V=(0,r.EW)(()=>Object.values(S.value).flat()),$=(0,r.EW)(()=>k.value.some(e=>m(e))?V.value:k.value),N=(0,r.EW)(()=>$.value.findIndex(e=>R(p.value)&&g(e)===g(p.value))),L=(0,r.EW)(()=>({...tr(a,["getSelectedState","color","search","highlightMatchedText"]),minSearchChars:_.value,getText:v,getTrackBy:g})),O=(e,t=!1)=>{const n=[...$.value||[]],r=t?n.reverse():n,a=t?-1*e-1:e;return r.slice(a).find(e=>!y(e))},D=(0,r.EW)(()=>{const e=N.value-1,t=$.value[e],n=R(t)&&!(0===e&&y(t));if(n)return O(N.value-1,!0)}),B=e=>{T(e),o("select-option")},P=e=>{a.selectedTopShown||T(e)},M=e=>{a.selectedTopShown&&T(e)},W=()=>{R(p.value)?R(D.value)?I(D.value):o("no-previous-option-to-hover"):I(O(0,!0))},F=()=>{if(!R(p.value))return void U();const e=N.value+1,t=$.value[e],n=R(t)&&!(e===$.value.length-1&&y(t));n&&I(O(N.value+1))},U=()=>I(O(0)),{itemRefs:j,setItemRef:z}=gm(),K=(0,l.IJ)(),G=e=>{var t;if(!R(e))return;const n=Lr(j.value[g(e)]);n&&hm(n);const r=null==(t=K.value)?void 0:t[0];a.virtualScroller&&r.virtualScrollTo(N.value)};return(0,r.wB)(()=>a.hoveredOption,e=>{(!h.value||"keyboard"===h.value)&&R(e)&&G(e)}),(0,r.wB)(k,()=>{a.autoSelectFirstOption&&U()},{immediate:!0}),t({focusPreviousOption:W,focusNextOption:F,focusFirstOption:U,scrollToOption:G,focus:s}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"root",ref:i,class:"va-select-option-list",tabindex:e.tabindex,onKeydown:[(0,Ze.jR)((0,Ze.D$)(W,["stop","prevent"]),["up"]),(0,Ze.jR)((0,Ze.D$)(W,["stop","prevent"]),["left"]),(0,Ze.jR)((0,Ze.D$)(F,["stop","prevent"]),["down"]),(0,Ze.jR)((0,Ze.D$)(F,["stop","prevent"]),["right"]),(0,Ze.jR)((0,Ze.D$)(x,["stop","prevent"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(x,["stop","prevent"]),["space"])],onScrollPassive:d,role:"listbox","aria-multiselectable":t.$props.multiple},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(S),(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:n},["_noGroup"!==n?((0,r.uX)(),(0,r.CE)("span",bm,(0,b.v_)(n),1)):(0,r.Q3)("",!0),t.$props.virtualScroller?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Bd),{key:1,ref_for:!0,ref_key:"virtualScrollerRef",ref:K,items:e,"track-by":(0,l.R1)(g),"wrapper-size":u.value,"onScroll:bottom":c},{default:(0,r.k6)(({item:e,index:n})=>[(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.Ng)({option:e,index:n,selectOption:(t=e)=>B(t)})),()=>[(0,r.bF)((0,l.R1)(mm),(0,r.v6)({option:e,"current-option":p.value,disabled:(0,l.R1)(y)(e)},L.value,{onClick:(0,Ze.D$)(x,["stop"]),onMouseenter:t=>M(e),onMousemove:t=>P(e)}),null,16,["option","current-option","disabled","onMouseenter","onMousemove"])])]),_:2},1032,["items","track-by","wrapper-size"])):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:2},(0,r.pI)(e,(e,n)=>(0,r.RG)(t.$slots,"default",(0,b._B)((0,r.v6)({key:(0,l.R1)(g)(e)},{option:e,index:n,selectOption:B})),()=>[(0,r.bF)((0,l.R1)(mm),(0,r.v6)({ref_for:!0,ref:(0,l.R1)(z)((0,l.R1)(g)(e)),"current-option":p.value,option:e,disabled:(0,l.R1)(y)(e)},L.value,{onClick:(0,Ze.D$)(x,["stop"]),onMouseenter:t=>M(e),onMousemove:t=>P(e)}),{"option-content":(0,r.k6)(()=>[(0,r.RG)(t.$slots,"option-content",(0,b._B)((0,r.Ng)({option:e,index:n})))]),_:2},1040,["current-option","option","disabled","onMouseenter","onMousemove"])])),128))],64))),128)),k.value.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",_m,(0,b.v_)(e.noOptionsText),1))],40,ym))}}),Em=ke(wm),km={key:0,class:"va-select-content__placeholder"},Cm=["placeholder"],Sm={key:0,class:"va-select-content__option"},Rm={key:1,class:"va-select-content__separator"},Tm=["placeholder","disabled","readonly"],Im=(0,r.pM)({name:"VaSelectContent",__name:"VaSelectContent",props:{...Lu,ariaAttributes:{type:Object},value:{type:Array,required:!0},valueString:{type:String},separator:{type:String,default:", "},placeholder:{type:String,default:""},tabindex:{type:[String,Number],default:0},hiddenSelectedOptionsAmount:{type:[Number,String],default:0},isAllOptionsShown:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},getText:{type:Function,required:!0},autocompleteInputValue:{type:String,default:""}},emits:["toggle-hidden","autocomplete-input","focus-prev","focus-next","select-option","delete-last-selected"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.KR)(),i=(0,r.EW)(()=>n.placeholder&&!n.valueString),s=()=>a("toggle-hidden"),{value:u,focused:c}=(0,l.QW)(n),d=(0,r.EW)({get:()=>n.autocompleteInputValue,set:e=>a("autocomplete-input",e)}),h=je("hiddenSelectedOptionsAmount");(0,r.sV)(()=>{n.multiple||n.autocomplete&&(d.value=n.valueString)}),(0,r.wB)(c,e=>{var t,r;n.autocomplete&&e&&(d.value?null==(t=o.value)||t.setSelectionRange(0,d.value.length):null==(r=o.value)||r.focus())});const p=e=>{n.multiple&&u.value.length&&"Backspace"===e.key&&!d.value&&a("delete-last-selected")},f=e=>{var t;n.autocomplete&&(null==(t=o.value)||t.focus(),e.stopPropagation())},v=e=>z(e)?e.icon:void 0,m=(0,r.EW)(()=>n.multiple?u.value:u.value[0]);return(t,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-select-content",onClick:f},[i.value&&!t.$props.autocomplete?((0,r.uX)(),(0,r.CE)("span",km,[(0,r.Lk)("input",(0,r.v6)(e.ariaAttributes,{placeholder:t.$props.placeholder,readonly:""}),null,16,Cm)])):!n.autocomplete||n.multiple?(0,r.RG)(t.$slots,"content",(0,b._B)((0,r.v6)({key:1},{value:m.value,valueString:t.$props.valueString,valueArray:t.$props.value,tabindex:t.$props.tabindex,ariaAttributes:e.ariaAttributes})),()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$props.value,(n,a)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:a},[""!==n?((0,r.uX)(),(0,r.CE)("span",Sm,[(0,r.RG)(t.$slots,"option-content",(0,b._B)((0,r.Ng)({option:n,index:a,selectOption:()=>{}})),()=>[v(n)?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,size:"small",class:"va-select-option__icon",name:v(n)},null,8,["name"])):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,b.v_)(e.getText(n)),1)])])):(0,r.Q3)("",!0),a<t.$props.value.length-1?((0,r.uX)(),(0,r.CE)("span",Rm,(0,b.v_)(t.$props.separator),1)):(0,r.Q3)("",!0)],64))),128))]):(0,r.Q3)("",!0),t.$props.autocomplete?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",(0,r.v6)({key:2},e.ariaAttributes,{"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),class:"va-select-content__autocomplete",ref_key:"autocompleteInput",ref:o,autocomplete:"off","aria-autocomplete":"list",placeholder:t.$props.placeholder,disabled:t.$props.disabled,readonly:t.$props.readonly,onKeydown:[a[1]||(a[1]=(0,Ze.jR)((0,Ze.D$)(e=>t.$emit("focus-prev"),["stop","prevent"]),["up"])),a[2]||(a[2]=(0,Ze.jR)((0,Ze.D$)(e=>t.$emit("focus-next"),["stop","prevent"]),["down"])),a[3]||(a[3]=(0,Ze.jR)((0,Ze.D$)(e=>t.$emit("select-option"),["stop","prevent"]),["enter"])),p]}),null,16,Tm)),[[Ze.hp,d.value]]):(0,r.Q3)("",!0),(0,r.RG)(t.$slots,"hiddenOptionsBadge",(0,b._B)((0,r.Ng)({amount:e.hiddenSelectedOptionsAmount,isShown:t.$props.isAllOptionsShown,toggle:s})),()=>[(0,l.R1)(h)&&!t.$props.isAllOptionsShown?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Ra),{key:0,class:"va-select-content__state-icon",color:"info",text:`+${(0,l.R1)(h)}`,tabindex:t.$props.tabindex,onClick:(0,Ze.D$)(s,["stop"])},null,8,["text","tabindex"])):(0,r.Q3)("",!0)]),(0,r.RG)(t.$slots,"hideOptionsButton",(0,b._B)((0,r.Ng)({isShown:t.$props.isAllOptionsShown,toggle:s})),()=>[t.$props.isAllOptionsShown?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,role:"button",class:"va-select-content__state-icon",size:"small",name:"reply",tabindex:t.$props.tabindex,onClick:(0,Ze.D$)(s,["stop"])},null,8,["tabindex"])):(0,r.Q3)("",!0)])]))}}),xm=ke(Im),Am={maxVisibleOptions:{type:Number||String,default:0}},Vm=(e,t)=>{const n=(0,l.lW)(e,"modelValue"),a=(0,l.KR)(!1),o=(0,l.KR)([]),i=(0,l.KR)([]),s=(0,r.EW)(()=>i.value.length),u=(0,r.EW)(()=>[...o.value,...i.value]),c=(0,r.EW)(()=>!e.maxVisibleOptions||a.value?u.value:o.value);(0,r.wB)(n,()=>{if(!Array.isArray(n.value))return o.value=[t(n.value)],void(i.value=[]);const r=n.value.filter(e=>!A(e)).map(t);e.maxVisibleOptions?(o.value=r.slice(0,e.maxVisibleOptions),i.value=r.slice(e.maxVisibleOptions)):(o.value=[...r],i.value=[])},{immediate:!0});const d=()=>a.value=!a.value;return{toggleHiddenOptionsState:d,isAllOptionsShown:a,visibleSelectedOptions:c,hiddenSelectedOptionsAmount:s,allSelectedOptions:u}},$m={dropdownIcon:{type:[String,Object],default:()=>({open:"va-arrow-down",close:"va-arrow-up"}),validator:e=>"string"===typeof e||Object.entries(e).every(([e,t])=>["open","close"].includes(e)&&"string"===typeof t)}},Nm=(e,t)=>{const n=(0,r.EW)(()=>e.dropdownIcon?"string"===typeof e.dropdownIcon?e.dropdownIcon:t.value?e.dropdownIcon.close:e.dropdownIcon.open:""),{getHoverColor:a,getColor:o}=Xt(),i=(0,r.EW)(()=>o("secondary")),s=(0,r.EW)(()=>e.readonly?a(i.value):i.value);return{toggleIcon:n,toggleIconColor:s}},Lm={separator:{type:String,default:", "}},Om=(e,t,n)=>(0,r.EW)(()=>{var r;return(null==(r=t.value)?void 0:r.length)?t.value.map(n).join(e.separator)??"":""}),Dm={autocomplete:{type:Boolean,default:!1}},Bm=(e,t,n,a,o)=>{const i=e=>(null==e?void 0:e.length)?o(e.at(-1)):"";t.autocomplete&&!t.multiple&&(e.value=i(n.value)),(0,r.wB)(n,(n,r)=>{if(!t.autocomplete)return;const o=i(n),s=i(r);o!==s&&(e.value=t.multiple?"":o,t.multiple||(a.value=!1))}),(0,r.wB)(e,e=>{t.autocomplete&&e&&e!==i(n.value)&&(a.value=!0)});const s=()=>{e.value=t.multiple?"":i(n.value)};return(0,r.wB)(a,(e,n)=>{t.autocomplete&&(e&&!n||s())}),e},Pm=()=>{const e=Bl(),t=`combobox-controls-${e}`;return{popupId:t}},Mm={maxSelections:{type:[Number,String],default:void 0}};function Wm(e,t){const n=()=>void 0!==t.value&&!isNaN(+t.value)&&e.value.length>=Number(t.value),r=t=>[...e.value,t];return{exceedsMaxSelections:n,addOption:r}}const Fm=fr(Xu),Um=(0,r.pM)({name:"VaSelect",__name:"VaSelect",props:{...Fm,...Ne,...Ws,...Kl,...mr,...Mm,...Yu,...Lu,...Am,...$m,...jc,...Lm,...Dm,...op,modelValue:{type:[String,Number,Array,Object,Boolean],default:void 0},placement:{...op.placement,default:"bottom"},keepAnchorWidth:{...op.keepAnchorWidth,default:!0},offset:{...op.offset,default:[1,0]},closeOnContentClick:{...op.closeOnContentClick,default:!1},trigger:{...op.trigger,default:()=>["click","right-click","space","enter"]},allowCreate:{type:[Boolean,String],default:!1,validator:e=>[!0,!1,"unique"].includes(e)},color:{type:String,default:"primary"},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},width:{type:String,default:"100%"},maxHeight:{type:String,default:"256px"},noOptionsText:Wn("$t:noOptions"),hideSelected:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:0},virtualScroller:{type:Boolean,default:!1},selectedTopShown:{type:Boolean,default:!1},highlightMatchedText:{type:Boolean,default:!0},minSearchChars:{type:[Number,String],default:0},autoSelectFirstOption:{type:Boolean,default:!1},placeholder:{type:String,default:""},searchPlaceholderText:Wn("$t:search"),ariaLabel:Wn("$t:select"),ariaSearchLabel:Wn("$t:optionsFilter"),ariaClearLabel:Wn("$t:reset"),search:{type:String,default:void 0},searchFn:{type:Function,default:void 0},clearValue:{type:[String,Number,Array,Object,Boolean],default:""}},emits:["update:modelValue","update-search","create-new","scroll-bottom","update:search",...ip,...Gl,...Ju],setup(e,{expose:t,emit:n}){const a=e,o=n,{tp:i,t:s}=Un(),u=(0,l.IJ)(),c=(0,l.IJ)(),d=(0,l.IJ)(),h=Du(c),{getValue:p,getText:f,getTrackBy:v,tryResolveByValue:m}=Fs(a),g=e=>f(m(e)),y=()=>o("scroll-bottom"),[_]=Pl("search",a,o,""),w=(0,r.EW)(()=>a.searchable||a.allowCreate&&!a.autocomplete);(0,r.wB)(_,e=>{o("update-search",e),a.autocomplete||(z.value=null)});const E=e=>{if(A(e)||"object"===typeof e)return e;const t=a.options.find(t=>e===p(t));return void 0===t?(B(`[VaSelect]: can not find option in options list (${JSON.stringify(a.options)}) by provided value (${JSON.stringify(e)})!`),e):t},{toggleHiddenOptionsState:k,isAllOptionsShown:C,visibleSelectedOptions:S,hiddenSelectedOptionsAmount:R,allSelectedOptions:T}=Vm(a,E),I=(0,r.EW)({get(){if(a.multiple)return T.value;const e=E(a.modelValue);return Array.isArray(e)&&(B("Model value should be a string, number, boolean or an object for a single Select."),e.length)?e.at(-1):e},set(e){Array.isArray(e)?o("update:modelValue",e.map(p)):o("update:modelValue",p(e))}}),x=Om(a,S,g),{canBeCleared:V,clearIconProps:$,onFocus:N,onBlur:L}=Zu(a,I),O=(0,r.EW)(()=>!!V.value&&(!a.multiple||!Array.isArray(I.value)||!!I.value.length)),D=(0,r.EW)(()=>a.options?a.selectedTopShown?a.options.slice().sort((e,t)=>{const n=M(e),r=M(t);return n&&r?0:n&&!r?-1:1}):a.hideSelected?a.options.filter(e=>!M(e)):a.options:[]),P=(0,r.EW)(()=>Array.isArray(I.value)?I.value.map(e=>m(e)):m(I.value)),M=e=>Array.isArray(P.value)?!A(P.value.find(t=>W(t,e))):W(P.value,e),W=(e,t)=>{const n=p(e),r=p(t);return n===r||("string"===typeof n&&"string"===typeof r?n===r:null!==n&&null!==r&&("object"===typeof n&&"object"===typeof r&&v(n)===v(r)))},F=e=>Array.isArray(e.value),U=e=>{if(null!==z.value){if(w.value&&(_.value=""),a.multiple&&F(I)){const{exceedsMaxSelections:t,addOption:n}=Wm(I,(0,l.KR)(a.maxSelections)),r=M(e);if(r)I.value=I.value.filter(t=>!W(e,t));else{if(t())return;I.value=n(e)}}else I.value=e,te();xe()}else te()},j=()=>{var e;const t=null==(e=a.options)?void 0:e.some(e=>[_.value,ke.value].includes(f(e))),n=!(("unique"===a.allowCreate||a.autocomplete)&&t);n&&(o("create-new",_.value||ke.value),_.value="",ke.value="")},z=(0,l.KR)(null),K=()=>{q.value?U(z.value):Z()},G=()=>{const e=!!a.allowCreate&&(_.value||ke.value);null!==z.value?K():e&&j()},X=()=>{var e;return null==(e=u.value)?void 0:e.focusPreviousOption()},H=()=>{var e;return null==(e=u.value)?void 0:e.focusNextOption()},{isOpenSync:q,dropdownProps:Q}=sp(a,o,{defaultCloseOnValueUpdate:(0,r.EW)(()=>!a.multiple)}),Y=(0,r.EW)(()=>({...Q.value,stateful:!1,innerAnchorSelector:".va-input-wrapper__field"})),J=(0,r.EW)({get:()=>q.value,set:e=>{e?Z():ee()}}),Z=()=>{a.disabled||a.readonly||(q.value=!0,le(),ae())},ee=()=>{q.value=!1,a.autocomplete||(_.value=""),(0,r.dY)(()=>{$e(),h.focusIfNothingIfFocused()})},te=()=>{ee(),h.value=!0},ne=()=>{var e;null==(e=d.value)||e.focus()},re=()=>{var e,t;null==(e=u.value)||e.focus(),!a.modelValue&&(null==(t=u.value)||t.focusFirstOption())},ae=async()=>{await(0,r.dY)(),w.value?ne():re()},oe=()=>{J.value||(L(),Pe.onBlur(),h.value?h.value=!1:$e())},ie=(0,r.EW)(()=>a.disabled?-1:a.tabindex),se=(0,r.EW)(()=>a.disabled||a.autocomplete?-1:0),le=()=>{const e=I.value,t="object"!==typeof e&&Array.isArray(e)&&!e.length;if(t)return;const n=Array.isArray(e)?e[e.length-1]:e;z.value=n,(0,r.dY)(()=>{var e;return null==(e=u.value)?void 0:e.scrollToOption(n)})};let ue,ce="";const de=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"," "],he=e=>{if(de.some(t=>t===e.key))return;const t=1===e.key.length,n="Backspace"===e.key||"Delete"===e.key;if(clearTimeout(ue),n?ce=ce?ce.slice(0,-1):"":t&&(ce+=e.key),w.value)_.value=ce;else{if(ce){const e=a.options.find(e=>f(e).toLowerCase().startsWith(ce.toLowerCase()));e&&(z.value=e)}ue=setTimeout(()=>{ce=""},1e3)}},pe=je("minSearchChars"),fe=(0,r.EW)(()=>({...tr(a,["textBy","trackBy","groupBy","valueBy","disabledBy","color","virtualScroller","highlightMatchedText","delay","selectedTopShown"]),autoSelectFirstOption:a.autoSelectFirstOption||a.autocomplete,search:_.value||ke.value,tabindex:ie.value,selectedValue:I.value,options:D.value,getSelectedState:M,noOptionsText:i(a.noOptionsText),doShowAllOptions:Se.value,minSearchChars:pe.value})),{toggleIcon:ve,toggleIconColor:me}=Nm(a,q),ge=(0,r.EW)(()=>h.value||q.value),ye=(0,r.Ht)(),be=gr("va-select-anchor",()=>({nowrap:!(!a.maxVisibleOptions||ye.content)})),_e=yr(Fm),we=(0,r.EW)(()=>({..._e.value,error:Ne.value,errorMessages:Le.value,focused:ge.value,"aria-label":a.ariaLabel||(a.modelValue?`${s("selectedOption")}: ${a.modelValue}`:s("noSelectedOption"))})),Ee=(0,r.EW)(()=>({...tr(a,["placeholder","autocomplete","multiple","disabled","readonly"]),tabindex:ie.value,value:S.value,valueString:x.value,hiddenSelectedOptionsAmount:R.value,isAllOptionsShown:C.value,focused:h.value,autocompleteInputValue:ke.value,getText:g})),ke=Bm(_,a,S,q,f),Ce=e=>ke.value=e,Se=(0,l.KR)(!0);(0,r.wB)(J,()=>{Se.value=!0}),(0,r.wB)(_,()=>{Se.value=!1});const Re=()=>{a.disabled||Dr(Lr(c.value))},Te=()=>{J.value&&(J.value=!1),(0,r.dY)(()=>{a.disabled||Br(Lr(c.value))})},Ie=()=>Oe(()=>{a.multiple?I.value=Array.isArray(a.clearValue)?a.clearValue:[]:I.value=a.clearValue,_.value="",o("clear"),De(),(0,r.dY)(()=>{h.value=!0})}),xe=e=>{!a.autocomplete||a.disabled||a.readonly||(null==e||e.stopImmediatePropagation(),h.value=!0,q.value=!0)},Ae=e=>{if(a.disabled||a.readonly)return;const t=e.target&&"tagName"in e.target&&"INPUT"===e.target.tagName;"Space"===e.code&&t||(e.preventDefault(),J.value=!J.value)},Ve=()=>{Array.isArray(I.value)&&(I.value=I.value.slice(0,-1))},{validate:$e,computedError:Ne,computedErrorMessages:Le,withoutValidation:Oe,resetValidation:De,validationAriaAttributes:Be,listeners:Pe,isTouched:Me}=Yl(a,o,{reset:Ie,focus:Re,value:I});(0,r.wB)(q,e=>{e||(Me.value=!0)});const{popupId:We}=Pm(),Fe=_,Ue=N;return t({focus:Re,blur:Te,reset:Ie}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(ks),(0,r.v6)({ref:"dropdown",modelValue:J.value,"onUpdate:modelValue":t[4]||(t[4]=e=>J.value=e),class:"va-select va-select__dropdown va-select-dropdown"},Y.value,{role:"combobox","inner-anchor-selector":".va-input-wrapper__field","keyboard-navigation":!1}),{anchor:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Xu),(0,r.v6)(we.value,{ref_key:"input",ref:c,class:["va-select__anchor va-select-anchor__input",(0,l.R1)(be)],"aria-haspopup":"listbox","model-value":(0,l.R1)(x),readonly:!0,"aria-label":e.$props.ariaLabel,"aria-controls":(0,l.R1)(We),"aria-owns":(0,l.R1)(We),onFocus:(0,l.R1)(Ue),onBlur:oe}),(0,r.eX)({icon:(0,r.k6)(()=>[O.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:0,role:"button","aria-label":(0,l.R1)(i)(e.$props.ariaClearLabel)},(0,l.R1)($),{onClick:(0,Ze.D$)(Ie,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(Ie,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(Ie,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):(0,r.Q3)("",!0)]),appendInner:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Pn),{color:(0,l.R1)(me),name:(0,l.R1)(ve),class:"va-select__toggle-icon",role:"button",tabindex:se.value,"aria-expanded":J.value,onKeydown:(0,Ze.jR)(Ae,["enter"])},null,8,["color","name","tabindex","aria-expanded"])]),default:(0,r.k6)(({ariaAttributes:t})=>[(0,r.bF)((0,l.R1)(xm),(0,r.v6)(Ee.value,{ariaAttributes:t,separator:e.$props.separator,onToggleHidden:(0,l.R1)(k),onAutocompleteInput:Ce,onFocusPrev:X,onFocusNext:H,onSelectOption:G,onDeleteLastSelected:Ve}),(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["ariaAttributes","separator","onToggleHidden"])]),_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1040,["class","model-value","aria-label","aria-controls","aria-owns","onFocus"])]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Ss),{class:"va-select-dropdown__content",style:(0,b.Tr)({width:e.$props.width}),onKeydown:(0,Ze.jR)(te,["esc"]),role:"dialog"},{default:(0,r.k6)(()=>[w.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Xu),{key:0,ref_key:"searchBar",ref:d,class:"va-select-dropdown__content-search-input",modelValue:(0,l.R1)(Fe),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(Fe)?Fe.value=e:null),"aria-label":(0,l.R1)(i)(e.$props.ariaSearchLabel),tabindex:ie.value,placeholder:(0,l.R1)(i)(e.$props.searchPlaceholderText),preset:"bordered",onKeydown:[(0,Ze.jR)((0,Ze.D$)(X,["stop","prevent"]),["up"]),(0,Ze.jR)((0,Ze.D$)(X,["stop","prevent"]),["left"]),(0,Ze.jR)((0,Ze.D$)(H,["stop","prevent"]),["down"]),(0,Ze.jR)((0,Ze.D$)(H,["stop","prevent"]),["right"]),(0,Ze.jR)((0,Ze.D$)(G,["prevent"]),["enter"])],onFocus:t[1]||(t[1]=e=>z.value=null)},null,8,["modelValue","aria-label","tabindex","placeholder","onKeydown"])):(0,r.Q3)("",!0),(0,r.bF)((0,l.R1)(Em),(0,r.v6)({ref_key:"optionList",ref:u,class:"va-select-dropdown__options-wrapper",hoveredOption:z.value,"onUpdate:hoveredOption":t[2]||(t[2]=e=>z.value=e),style:{maxHeight:e.$props.maxHeight},id:(0,l.R1)(We),"search-fn":e.$props.searchFn},fe.value,{onSelectOption:K,onNoPreviousOptionToHover:ne,onKeydown:[t[3]||(t[3]=(0,Ze.jR)((0,Ze.D$)(e=>d.value&&d.value.focus(),["stop","prevent"]),["tab"])),he],onScrollBottom:y}),{default:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"option",(0,b._B)((0,r.Ng)(t)))]),"option-content":(0,r.k6)(t=>[(0,r.RG)(e.$slots,"option-content",(0,b._B)((0,r.Ng)(t)))]),_:3},16,["hoveredOption","style","id","search-fn"])]),_:3},8,["style"])]),_:3},16,["modelValue"]))}}),jm=ke(Um),zm={class:"va-separator","aria-hidden":"true"},Km=(0,r.pM)({name:"VaSeparator",__name:"VaSeparator",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",zm))}}),Gm={key:0,class:"va-skeleton__wave"},Xm=(0,r.pM)({name:"VaSkeleton",__name:"VaSkeleton",props:{color:{type:String,default:"backgroundElement"},delay:{type:[Number,String],default:100},tag:{type:String,default:"div"},animation:{type:String,default:"pulse"},lines:{type:[String,Number],default:1},height:{type:[String],default:"5em"},width:{type:[String],default:"100%"},lineGap:{type:String,default:"8px"},lastLineWidth:{type:[String],default:"75%"},variant:{type:String,default:"squared"},ariaLabel:Wn("$t:loading")},setup(e){const t=e,n=(0,l.KR)(!1),a=je("delay");let o;(0,r.sV)(()=>{clearTimeout(o),setTimeout(()=>{n.value=!0},a.value)}),(0,r.xo)(()=>{clearTimeout(o)});const i=(0,r.EW)(()=>"text"===t.variant?`${t.lines}em`:t.height),s=(0,r.EW)(()=>"circle"===t.variant?i.value:t.width),{getColor:u}=Xt(),c=(0,r.EW)(()=>u(t.color));(0,r.EW)(()=>`-${t.lineGap}`);const d=gr("va-skeleton",()=>({lines:Number(t.lines)>1,text:"text"===t.variant,circle:"circle"===t.variant,hidden:!n.value,pulse:"pulse"===t.animation,wave:"wave"===t.animation})),h=(0,r.EW)(()=>"circle"===t.variant?"50%":"rounded"===t.variant?`var(--va-skeleton-border-radius, calc(${i.value} / 5))`:"0px"),{tp:p}=Un(),f=(0,r.OA)(),v=(0,r.EW)(()=>[...Object.keys(d),f.class]);return(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.tag),{class:(0,b.C4)(["va-skeleton",v.value]),role:"status","aria-live":"polite","aria-label":(0,l.R1)(p)(t.$props.ariaLabel),"aria-atomic":"true",style:(0,b.Tr)(`--va-color-computed: ${String(c.value)};--va-height-computed: ${String(i.value)};--va-width-computed: ${String(s.value)};--va-border-radius: ${String(h.value)};--va-line-gap: ${String(e.lineGap)};--va-last-line-width: ${String(e.lastLineWidth)}`)},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default"),"wave"===e.animation?((0,r.uX)(),(0,r.CE)("div",Gm)):(0,r.Q3)("",!0)]),_:3},8,["aria-label","class","style"]))}}),Hm=(0,r.pM)({name:"VaSkeletonGroup",__name:"VaSkeletonGroup",props:{color:{type:String,default:"backgroundElement"},delay:{type:[Number,String],default:100},animation:{type:String,default:"pulse"},lines:{type:[Number,String],default:1},lineGap:{type:String,default:"8px"},lastLineWidth:{type:[String],default:"75%"}},setup(e){const t=e,n=(0,l.KR)(!1),a=je("delay");let o;(0,r.sV)(()=>{o=setTimeout(()=>{n.value=!0},a.value)}),(0,r.KC)(()=>{clearTimeout(o)});const i=gr("va-skeleton-group",()=>({hidden:!1===n.value})),s=(0,r.EW)(()=>({...t,delay:0}));return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(za),{components:{VaSkeleton:s.value}},{default:(0,r.k6)(()=>[(0,r.Lk)("div",(0,r.v6)({class:["va-skeleton-group",(0,l.R1)(i)]},e.$attrs),[(0,r.RG)(e.$slots,"default",{},void 0,!0)],16)]),_:3},8,["components"]))}}),qm=qs(Hm,[["__scopeId","data-v-597bab9a"]]),Qm=ke(Xm),Ym=ke(qm),Jm=Symbol("VaSidebar"),Zm=e=>{(0,r.Gt)(Jm,e)},eg=()=>(0,r.WQ)(Jm,{color:"background-element"}),tg=e=>{const t=(0,l.KR)(null);return wu([e],()=>{var n;t.value=(null==(n=e.value)?void 0:n.clientWidth)??null}),(0,r.nT)(()=>{var n;t.value=(null==(n=e.value)?void 0:n.clientWidth)??null}),t},ng=(0,r.pM)({name:"VaSidebar",__name:"VaSidebar",props:{...Ne,activeColor:{type:String,default:"primary"},hoverColor:{type:String,default:void 0},hoverOpacity:{type:[Number,String],default:.2,validator:e=>Number(e)>=0&&Number(e)<=1},borderColor:{type:String,default:void 0},color:{type:String,default:"background-element"},textColor:{type:String},gradient:{type:Boolean,default:!1},minimized:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},width:{type:String,default:"16rem"},minimizedWidth:{type:String,default:"4rem"},modelValue:{type:Boolean,default:!0},animated:{type:[Boolean,String],default:!0},closeOnClickOutside:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,o=n,{getColor:i}=Xt();Zm(a);const s=(0,l.KR)(!1),u=(0,r.EW)(()=>a.minimized||a.hoverable&&!s.value),c=(0,l.KR)(),d=tg(c),h=(0,r.EW)(()=>!0===a.modelValue||(null===d.value||d.value>0)),p=(0,l.KR)(),f=()=>a.modelValue?u.value?a.minimizedWidth:a.width:0,v=(0,r.EW)(()=>u.value?a.minimizedWidth:a.width);(0,r.nT)(()=>{const e=f();setTimeout(()=>{p.value=e})});const m=(0,r.EW)(()=>i(a.color)),{textColorComputed:g}=Ht(m),y=(0,r.EW)(()=>{const e=i(m.value),t=g.value;return{color:t,backgroundColor:e,backgroundImage:a.gradient?Ut(e):void 0,overflowX:d.value===p.value?void 0:"hidden",width:p.value,minWidth:p.value}}),_=gr("va-sidebar",()=>({minimized:u.value,animated:Boolean(a.animated),"animated-right":"right"===a.animated,"animated-left":"left"===a.animated||!0===a.animated})),w=e=>{s.value=a.hoverable&&e},E=(0,l.IJ)();ws([E],()=>{a.closeOnClickOutside&&a.modelValue&&setTimeout(()=>{o("update:modelValue",!1)},0)});const k=(0,r.EW)(()=>({textColor:a.textColor,activeColor:a.activeColor,hoverColor:a.hoverColor,borderColor:a.borderColor,hoverOpacity:a.hoverOpacity}));return t({isMinimized:u,isHovered:s,updateHoverState:w,rootElement:E,menu:c,doShowMenu:h,menuWidth:v,sidebarWidth:p}),(e,t)=>((0,r.uX)(),(0,r.CE)("aside",{ref_key:"rootElement",ref:E,class:(0,b.C4)(["va-sidebar",(0,l.R1)(_)]),style:(0,b.Tr)(y.value),onMouseenter:t[0]||(t[0]=e=>w(!0)),onMouseleave:t[1]||(t[1]=e=>w(!1))},[(0,r.bo)((0,r.Lk)("div",{class:"va-sidebar__menu",ref_key:"menu",ref:c,style:(0,b.Tr)({width:v.value,minWidth:v.value})},[(0,r.bF)((0,l.R1)(za),{components:{VaSidebarItem:k.value}},{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},8,["components"])],4),[[Ze.aG,h.value]])],38))}}),rg=ke(ng),ag=(0,r.pM)({name:"VaSidebarItem",__name:"VaSidebarItem",props:{...Tr,...Ne,active:{type:Boolean,default:!1},textColor:{type:String,default:void 0},activeColor:{type:String,default:"primary"},hoverColor:{type:String,default:void 0},hoverOpacity:{type:[Number,String],default:.2},borderColor:{type:String,default:void 0},disabled:{type:Boolean,default:!1}},setup(e){const t=e,n=yd(),a=eg(),{isHovered:o}=Qr(n,(0,l.lW)(t,"disabled")),{getColor:i,getHoverColor:s,getFocusColor:u}=Xt(),{hasKeyboardFocus:c,keyboardFocusListeners:d}=ru(),h=(0,r.EW)(()=>!t.active||o.value||c.value?c.value?u(i(t.hoverColor||t.activeColor)):"#ffffff00":i(t.activeColor)),p=(0,r.EW)(()=>zt(i(null==a?void 0:a.color),h.value)),{textColorComputed:f}=Ht(p),v=(0,r.EW)(()=>{const e={color:f.value};if(t.disabled)return e;if((o.value||t.active||c.value)&&(e.backgroundColor=h.value),t.active){const n={...a,...t};e.borderColor=i(n.borderColor||n.activeColor)}return c.value&&(e.backgroundColor=u(i(t.hoverColor||t.activeColor))),o.value&&(e.backgroundColor=s(i(t.hoverColor||t.activeColor),Number(t.hoverOpacity))),e}),{tagComputed:m,linkAttributesComputed:g}=Ir(t);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(m)),(0,r.v6)({ref_key:"rootElement",ref:n,class:["va-sidebar__item va-sidebar-item",{"va-sidebar-item--active":e.$props.active,"va-sidebar-item--disabled":e.$props.disabled}],tabindex:e.$props.disabled?-1:0,style:v.value},(0,l.R1)(g),(0,r.Tb)((0,l.R1)(d))),{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},16,["tabindex","class","style"]))}}),og={class:"va-sidebar__item__content va-sidebar-item-content"},ig=(0,r.pM)({name:"VaSidebarItemContent",__name:"VaSidebarItemContent",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",og,[(0,r.RG)(e.$slots,"default")]))}}),sg={class:"va-sidebar__title va-sidebar-item-title"},lg=(0,r.pM)({name:"VaSidebarItemTitle",__name:"VaSidebarItemTitle",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",sg,[(0,r.RG)(e.$slots,"default")]))}}),ug=ke(ig),cg=ke(lg),dg=ke(ag),hg=(e,t,n,r,a)=>{(Array.isArray(e)&&!a||!Array.isArray(e)&&a)&&B(`The type "${Array.isArray(e)?"array":typeof e}" of prop "model-value" does not match prop "range = ${a}".`),r<n&&B(`The maximum value (${r}) can not be less than the minimum value (${n}).`),kc(r-n,t)||B(`Step ${t} is illegal. Slider is non-divisible (Min:Max ${n}:${r}).`);const o=e=>{e<n?B(`The value of the slider is ${e}, the minimum value is ${n}, the value of this slider can not be less than the minimum value`):e>r&&B(`The value of the slider is ${e}, the maximum value is ${r}, the value of this slider can not be greater than the maximum value`)};return Array.isArray(e)?e.map(o):o(e),!0},pg={key:0,class:"va-slider__input-wrapper","aria-hidden":"true"},fg=["id"],vg={key:2,class:"va-input__label","aria-hidden":"true"},mg=["tabindex","onFocus"],gg=["tabindex"],yg={key:3,class:"va-input__label--inverse","aria-hidden":"true"},bg=["id"],_g={key:5,class:"va-slider__input-wrapper"},wg=(0,r.pM)({name:"VaSlider",__name:"VaSlider",props:{...xe,...Ne,range:{type:Boolean,default:!1},modelValue:{type:[Number,Array],default:0},trackLabel:{type:[Function,String]},color:{type:String,default:"primary"},trackColor:{type:String,default:""},labelColor:{type:String,default:""},trackLabelVisible:{type:Boolean,default:!1},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},label:{type:String,default:""},invertLabel:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},pins:{type:Boolean,default:!1},iconPrepend:{type:String,default:""},iconAppend:{type:String,default:""},vertical:{type:Boolean,default:!1},showTrack:{type:Boolean,default:!0},ariaLabel:Wn("$t:sliderValue")},emits:["drag-start","drag-end","change","update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{getColor:o,getHoverColor:i}=Xt(),s=(0,l.IJ)(),u=(0,l.IJ)(),{setItemRefByIndex:c,itemRefs:d}=Rv(),h=(0,l.KR)(!1),p=(0,l.KR)(!1),f=(0,l.KR)(0),v=(0,l.KR)(0),m=n.range?[0,100]:0,{valueComputed:g}=$e(n,a,"modelValue",{defaultValue:m}),y=(0,l.KR)(0),_=(0,l.KR)(!1),w=je("min"),E=je("max"),k=je("step"),C=(0,r.EW)(()=>n.vertical?[1,0]:[0,1]),S=(0,r.EW)(()=>n.vertical?"bottom":"left"),R=(0,r.EW)(()=>n.vertical?"height":"width"),T=(0,r.EW)(()=>Array.isArray(B.value)&&B.value[1]-k.value<B.value[0]),I=(0,r.EW)(()=>Array.isArray(B.value)&&B.value[0]+k.value>B.value[1]),x=gr("va-slider",()=>({...tr(n,["disabled","readonly","vertical"]),active:h.value,horizontal:!n.vertical,grabbing:_.value})),A=gr("va-slider__handler",()=>({onFocus:!n.range&&(p.value||h.value),inactive:!h.value})),V=(0,r.EW)(()=>({color:n.labelColor?o(n.labelColor):o(n.color)})),$=(0,r.EW)(()=>({backgroundColor:n.trackColor?o(n.trackColor):i(o(n.color))})),N=e=>{const t=w.value,n=E.value;return(q(t,e,n)-t)/(n-t)*100},L=(0,r.EW)(()=>{if(Array.isArray(B.value)){const e=N(B.value[0]),t=N(B.value[1]);return{[S.value]:`${e}%`,[R.value]:t-e+"%",backgroundColor:o(n.color),visibility:n.showTrack?"visible":"hidden"}}{const e=N(B.value);return{[R.value]:`${e>100?100:e}%`,backgroundColor:o(n.color),visibility:n.showTrack?"visible":"hidden"}}}),O=(0,r.EW)(()=>{if(Array.isArray(B.value)){const e=N(B.value[0]),t=N(B.value[1]);return[{[S.value]:`${e}%`,backgroundColor:K(0)?o(n.color):"#ffffff",borderColor:o(n.color)},{[S.value]:`${t}%`,backgroundColor:K(1)?o(n.color):"#ffffff",borderColor:o(n.color)}]}{const e=N(B.value);return{[S.value]:`${e>100?100:e}%`,backgroundColor:K(0)?o(n.color):"#ffffff",borderColor:o(n.color)}}}),D=e=>n.range?O.value[e]:O.value,B=(0,r.EW)({get:()=>g.value,set:e=>{p.value||a("change",e),g.value=e}}),P=e=>n.range&&void 0!==e?B.value[e]:B.value,M=(0,r.EW)(()=>{const e=(E.value-w.value)/k.value;return v.value/e}),W=(0,r.EW)(()=>{const e=`${k.value}`.split(".")[1];return e?Math.pow(10,e.length):1}),F=(0,r.EW)(()=>(E.value-w.value)/k.value-1),U=(0,r.EW)(()=>Array.isArray(B.value)?[(B.value[0]-w.value)/k.value*M.value,(B.value[1]-w.value)/k.value*M.value]:(B.value-w.value)/k.value*M.value),j=(0,r.EW)(()=>[0,v.value]),z=(0,r.EW)(()=>[w.value,E.value]),K=e=>!(!h.value&&!p.value||n.disabled||n.readonly)&&(n.range?y.value===e:0===y.value),G=(e,t=y.value)=>{var r,o;if(e.preventDefault(),!t)if(n.range){if(Array.isArray(U.value)){const n="touches"in e?e.touches[0]:e,r=ee(n);t=r>(U.value[1]-U.value[0])/2+U.value[0]?1:0}}else t=0;Array.isArray(B.value)&&(y.value=t),Array.isArray(B.value)?null==(r=d.value[t])||r.focus():null==(o=u.value)||o.focus(),p.value=!0,a("drag-start")},X=e=>{_.value&&p.value&&!n.disabled&&!n.readonly&&(e.preventDefault(),oe(ee("touches"in e?e.touches[0]:e)))},H=()=>{n.disabled||n.readonly||(p.value&&(a("drag-end"),a("change",B.value)),p.value=!1,_.value=!1)},q=(e,t,n)=>Math.max(Math.min(t,n),e),Q=e=>{var t,r;if(![d.value[0],d.value[1],u.value].includes(document.activeElement))return;if(n.disabled||n.readonly)return;const a=(e,t)=>{if(Array.isArray(B.value)){const n=B.value[t]+(e?k.value:-k.value),r=q(w.value,n,E.value);B.value=[0===t?r:B.value[0],1===t?r:B.value[1]]}else{const t=B.value+(e?k.value:-k.value),n=q(w.value,t,E.value);B.value=n}};["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(e.key)&&e.preventDefault();const o=e=>e===document.activeElement;if(n.range&&Array.isArray(B.value)){const i=e=>n.vertical&&o(d.value[0])&&"ArrowUp"===e.key,s=e=>n.vertical&&o(d.value[0])&&"ArrowDown"===e.key,l=e=>n.vertical&&o(d.value[1])&&"ArrowUp"===e.key,u=e=>n.vertical&&o(d.value[1])&&"ArrowDown"===e.key,c=e=>!n.vertical&&o(d.value[0])&&"ArrowLeft"===e.key,h=e=>!n.vertical&&o(d.value[0])&&"ArrowRight"===e.key,p=e=>!n.vertical&&o(d.value[1])&&"ArrowLeft"===e.key,f=e=>!n.vertical&&o(d.value[1])&&"ArrowRight"===e.key;switch(!0){case(u(e)||p(e))&&T.value&&B.value[0]!==w.value:null==(t=d.value[0])||t.focus(),a(0,0);break;case(i(e)||h(e))&&I.value&&B.value[1]!==E.value:null==(r=d.value[1])||r.focus(),a(1,1);break;case(s(e)||c(e))&&B.value[0]!==w.value:a(0,0);break;case(l(e)||f(e))&&B.value[1]!==E.value:a(1,1);break;case(u(e)||p(e))&&B.value[1]!==w.value:a(0,1);break;case(i(e)||h(e))&&B.value[0]!==E.value:a(1,0);break}}else n.vertical?("ArrowDown"===e.key&&a(0,0),"ArrowUp"===e.key&&a(1,0)):("ArrowLeft"===e.key&&a(0,0),"ArrowRight"===e.key&&a(1,0))},Y=e=>Array.isArray(B.value)?e*k.value>B.value[0]&&e*k.value<B.value[1]:e*k.value<B.value,J=(0,r.EW)(()=>k.value/(E.value-w.value)*100),Z=e=>({backgroundColor:Y(e)?o(n.color):i(o(n.color)),[S.value]:e*J.value+"%",transition:_.value?"none":"var(--va-slider-pin-transition)"}),ee=e=>(te(),n.vertical?f.value-e.clientY:e.clientX-f.value),te=()=>{s.value&&(v.value=s.value[n.vertical?"offsetHeight":"offsetWidth"],f.value=s.value.getBoundingClientRect()[S.value])},ne=e=>(k.value*W.value*e+w.value*W.value)/W.value,re=(e,t)=>n.trackLabel?"function"===typeof n.trackLabel?n.trackLabel(e,t):n.trackLabel:e,ae=e=>{const t=y.value;Array.isArray(B.value)?ie(B.value[t],e)&&(B.value=0===t?[e,B.value[1]]:[B.value[0],e]):e<w.value?B.value=w.value:e>E.value?B.value=E.value:ie(B.value,e)&&(B.value=e)},oe=e=>{const t=j.value,n=z.value,r=Array.isArray(B.value)?d.value[y.value]:u.value;if(null==r||r.focus(),e>=t[0]&&e<=t[1]){const t=ne(Math.round(e/M.value));y.value?Array.isArray(U.value)&&Array.isArray(B.value)&&e<=U.value[0]?(B.value=[t,B.value[0]],y.value=0):ae(t):Array.isArray(U.value)&&Array.isArray(B.value)&&e>=U.value[1]?(B.value=[B.value[1],t],y.value=1):ae(t)}else e<t[0]?ae(n[0]):ae(n[1])},ie=(e,t)=>JSON.stringify(e)!==JSON.stringify(t),se=e=>{if(n.disabled||n.readonly)return;const t=ee("touches"in e?e.touches[0]:e);Array.isArray(U.value)&&(y.value=t>(U.value[1]-U.value[0])/2+U.value[0]?1:0),_.value=!0,oe(t),G(e,y.value)},le=()=>{document.addEventListener("mousemove",X),document.addEventListener("touchmove",X,{passive:!1}),document.addEventListener("mouseup",H),document.addEventListener("mouseleave",H),document.addEventListener("touchcancel",H),document.addEventListener("touchend",H),document.addEventListener("keydown",Q)},ue=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("touchmove",X),document.removeEventListener("mouseup",H),document.removeEventListener("mouseleave",H),document.removeEventListener("touchcancel",H),document.removeEventListener("touchend",H),document.removeEventListener("keydown",Q)},ce=Bl(),de=(0,r.EW)(()=>`aria-label-id-${ce}`),{tp:he}=Un(),pe=(0,r.Ht)(),fe=(0,r.EW)(()=>({role:"slider","aria-valuemin":w.value,"aria-valuemax":E.value,"aria-label":pe.label||n.label?void 0:he(n.ariaLabel,{value:String(B.value)}),"aria-labelledby":pe.label||n.label?de.value:void 0,"aria-orientation":n.vertical?"vertical":"horizontal","aria-disabled":n.disabled,"aria-readonly":n.readonly,"aria-valuenow":Array.isArray(B.value)?void 0:B.value,"aria-valuetext":Array.isArray(B.value)?String(B.value):void 0}));return(0,r.sV)(()=>{hg(B.value,k.value,w.value,E.value,n.range)&&(te(),le())}),(0,r.xo)(ue),(0,r.wB)([B,()=>k.value,()=>w.value,()=>E.value,()=>n.range],([e,t,n,r,a])=>{hg(e,t,n,r,a)}),(0,r.wB)(_,e=>{document.documentElement.style.cursor=e?"grabbing":""}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-slider",(0,l.R1)(x)]},fe.value),[(e.vertical?t.$slots.append:t.$slots.prepend)?((0,r.uX)(),(0,r.CE)("div",pg,[(0,r.RG)(t.$slots,e.vertical?"append":"prepend")])):(0,r.Q3)("",!0),!t.$slots.label&&!e.label||e.invertLabel?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("span",{key:1,class:"va-input__label",id:de.value,style:(0,b.Tr)(V.value)},[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])],12,fg)),(e.vertical?e.iconAppend:e.iconPrepend)?((0,r.uX)(),(0,r.CE)("span",vg,[(0,r.bF)((0,l.R1)(Pn),{name:e.vertical?e.iconAppend:e.iconPrepend,color:(0,l.R1)(o)(t.$props.color),size:16},null,8,["name","color"])])):(0,r.Q3)("",!0),(0,r.Lk)("div",{ref_key:"sliderContainer",ref:s,class:"va-slider__container",onMousedown:se,onTouchstart:se},[(0,r.Lk)("div",{class:"va-slider__track","aria-hidden":"true",style:(0,b.Tr)($.value)},null,4),e.pins?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(F.value,(e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:(0,b.C4)(["va-slider__mark",{"va-slider__mark--active":Y(e)}]),style:(0,b.Tr)(Z(e))},null,6))),128)):(0,r.Q3)("",!0),t.$props.range?((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Lk)("div",{ref:"process",class:(0,b.C4)(["va-slider__track va-slider__track--selected",{"va-slider__track--active":h.value}]),"aria-hidden":"true",style:(0,b.Tr)(L.value)},null,6),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(C.value,a=>((0,r.uX)(),(0,r.CE)("div",{key:"dot"+a,ref_for:!0,ref:(0,l.R1)(c)(a),class:(0,b.C4)(["va-slider__handler",(0,l.R1)(A)]),style:(0,b.Tr)(D(a)),tabindex:e.disabled||e.readonly?void 0:0,onFocus:e=>(h.value=!0,y.value=a),onBlur:n[0]||(n[0]=e=>h.value=!1)},[K(a)?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,b.Tr)({backgroundColor:(0,l.R1)(o)(t.$props.color)}),class:"va-slider__handler__dot--focus"},null,4)):(0,r.Q3)("",!0),e.trackLabelVisible?((0,r.uX)(),(0,r.CE)("div",{key:1,style:(0,b.Tr)(V.value),class:"va-slider__handler__dot--value"},[(0,r.RG)(t.$slots,"trackLabel",(0,b._B)((0,r.Ng)({value:P(a),order:a})),()=>[(0,r.eW)((0,b.v_)(re(P(a),a)),1)])],4)):(0,r.Q3)("",!0)],46,mg))),128))],64)):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.Lk)("div",{ref:"process","aria-hidden":"true",class:(0,b.C4)(["va-slider__track va-slider__track--selected",{"va-slider__track--active":h.value}]),style:(0,b.Tr)(L.value)},null,6),(0,r.Lk)("div",{ref_key:"dot",ref:u,class:(0,b.C4)(["va-slider__handler",(0,l.R1)(A)]),style:(0,b.Tr)(O.value),tabindex:t.$props.disabled||t.$props.readonly?void 0:0,onFocus:n[1]||(n[1]=e=>h.value=!0),onBlur:n[2]||(n[2]=e=>h.value=!1)},[K(0)?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-slider__handler__dot--focus",style:(0,b.Tr)({backgroundColor:(0,l.R1)(o)(t.$props.color)})},null,4)):(0,r.Q3)("",!0),e.trackLabelVisible?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-slider__handler__dot--value",style:(0,b.Tr)(V.value)},[(0,r.RG)(t.$slots,"trackLabel",(0,b._B)((0,r.Ng)({value:P()})),()=>[(0,r.eW)((0,b.v_)(re(P())),1)])],4)):(0,r.Q3)("",!0)],46,gg)],64))],544),(e.vertical?e.iconPrepend:e.iconAppend)?((0,r.uX)(),(0,r.CE)("span",yg,[(0,r.bF)((0,l.R1)(Pn),{name:e.vertical?e.iconPrepend:e.iconAppend,color:(0,l.R1)(o)(t.$props.color),size:16},null,8,["name","color"])])):(0,r.Q3)("",!0),(t.$slots.label||e.label)&&e.invertLabel?((0,r.uX)(),(0,r.CE)("span",{key:4,class:"va-input__label va-input__label--inverse",style:(0,b.Tr)(V.value),id:de.value},[(0,r.RG)(t.$slots,"label",{},()=>[(0,r.eW)((0,b.v_)(e.label),1)])],12,bg)):(0,r.Q3)("",!0),(e.vertical?t.$slots.prepend:t.$slots.append)?((0,r.uX)(),(0,r.CE)("div",_g,[(0,r.RG)(t.$slots,e.vertical?"prepend":"append")])):(0,r.Q3)("",!0)],16))}}),Eg=ke(wg),kg={class:"va-spacer","aria-hidden":"true"},Cg=(0,r.pM)({name:"VaSpacer",__name:"VaSpacer",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",kg))}}),Sg=e=>"number"===typeof e,Rg={vertical:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},Tg=(e,t,n)=>{const r=(0,l.KR)(!1),a=(0,l.KR)(0),o=(0,l.KR)(0),i=(0,l.KR)(0),s=(e,t)=>{const r=e.type===t?e:e.changedTouches[0];return n.vertical?r.pageY:r.pageX},u=i=>{!n.disabled&&e.value&&(r.value=!0,a.value=s(i,"mousedown"),o.value=t.value)},c=t=>{if(!r.value)return;const n=s(t,"mousemove"),l=n-a.value;i.value=o.value+Math.floor(l/e.value*100)},d=()=>{r.value=!1};return jr(["mousemove","touchmove"],c),jr(["mouseup","touchcancel"],d),{isDragging:r,startDragging:u,currentSplitterPosition:i}},Ig=["aria-label"],xg={class:"va-split__dragger"},Ag=(0,r.pM)({name:"VaSplit",__name:"VaSplit",props:{...Ne,...Rg,...xe,modelValue:{type:Number,default:50,validator:e=>e<=100},maximization:{type:Boolean,default:!1},maximizeStart:{type:Boolean,default:!1},limits:{type:Array,default:()=>[0,0]},snapping:{type:Array,default:void 0},snappingRange:{type:[Number,String],default:4},ariaLabel:Wn("$t:splitPanels")},emits:[...Ve],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),{valueComputed:i}=$e(n,a),s=(0,l.KR)(),u=(0,l.KR)(16),c=()=>{var e;const{width:t,height:r}=(null==(e=o.value)?void 0:e.getBoundingClientRect())||{width:0,height:0};s.value=n.vertical?r:t,u.value=parseFloat(getComputedStyle(document.documentElement).fontSize)};(0,r.sV)(c),wu([o],c);const d=(e,t)=>{let n="",r="";if(Sg(e))return e;switch(e.split("").filter(e=>e&&" "!==e).forEach(e=>{isNaN(+e)?r+=e:n+=e}),r){case"%":return+n;case"px":return+n/s.value*100;case"rem":return+n*u.value/s.value*100;case"any":return["min","snapping"].includes(t)?0:100;case"":return 100;default:return B("Invalid limits measure!"),0}},h=e=>{if("undefined"===e||!s.value)return;let t=0,n=100;return(Fl(e)||Sg(e))&&(t=d(e,"min")),Array.isArray(e)&&(t=d(e[0],"min"),n=d(e[1],"max")),t>n&&(B(`Min panels size can not be larger than max one! Passed limit: ${e}.`),n=t),{min:t??0,max:n??100}},p=(0,r.EW)(()=>h(n.limits[0])??{min:0,max:100}),f=(0,r.EW)(()=>h(n.limits[1])??{min:0,max:100}),v=(0,r.EW)(()=>{const e=!(p.value.min+f.value.min>100);return e||B("The sum of different panels min sizes should be lesser or equal to 100% of the container size!"),e?f.value.min:100-p.value.min}),m=(0,r.EW)(()=>(Math.ceil(f.value.max+p.value.max)<100&&B("The sum of different panels max sizes should be equal to 100% of the container size!"),{start:{min:p.value.min,max:Math.min(p.value.max,100-v.value)},end:{min:v.value,max:Math.min(f.value.max,100-p.value.min)}})),g=e=>e>=m.value.start.min&&e>=m.value.end.min&&e<=m.value.start.max&&e<=m.value.end.max,y=(0,r.EW)(()=>{if(!Array.isArray(n.snapping)||!s.value)return;let e=n.snapping.map(e=>d(e,"snapping"));if(!e.every(g)){const t=e.filter(g);B(`Some of the snapping marks (${e}) are not in allowed range (${Object.values(m.value.start).join("-")} / ${Object.values(m.value.end).join("-")}) and will be removed (${t})!`),e=t}const t=()=>e.every((e,t,r)=>!r[t+1]||Math.abs(e-r[t+1])>Number(n.snappingRange));return t()||B("Distance between some snapping marks is lesser than snapping range!"),e}),_=(0,r.EW)(()=>d(n.snappingRange,"snapping")),w=(0,l.KR)(i.value),E=(0,r.EW)(()=>{if(y.value){const e=y.value.find(e=>w.value+_.value>e&&w.value-_.value<e);if(e)return e}return nr(w.value,Math.max(m.value.start.min,100-m.value.end.max),Math.min(m.value.start.max,100-m.value.end.min))}),{isDragging:k,startDragging:C,currentSplitterPosition:S}=Tg(s,E,n),R=()=>{n.maximization&&!n.disabled&&(w.value=n.maximizeStart?m.value.start.max:100-m.value.end.max)};(0,r.wB)(i,e=>{(e<m.value.start.min||e>100-m.value.end.min)&&B("Incorrect `modelValue`. Check current `limits` prop value."),w.value=e},{immediate:!0}),(0,r.wB)(S,e=>{w.value=e}),(0,r.wB)(k,e=>{e||(i.value=E.value),document.documentElement.style.cursor=e?"var(--va-split-dragging-cursor)":""});const T=(0,r.EW)(()=>n.vertical?"height":"width"),I=e=>{let t="start"===e?E.value:100-E.value;return t<0&&(t=0),t>100&&(t=100),{[T.value]:`${t}%`}},x=(0,r.EW)(()=>n.disabled?{}:k.value?{cursor:"var(--va-split-dragging-cursor)"}:{cursor:n.vertical?"var(--va-split-vertical-dragger-cursor)":"var(--va-split-horizontal-dragger-cursor)"}),A=gr("va-split",()=>({horizontal:!n.vertical,vertical:n.vertical,dragging:k.value})),{t:V,tp:$}=Un();return(e,t)=>((0,r.uX)(),(0,r.CE)("section",{ref_key:"splitPanelsContainer",ref:o,class:(0,b.C4)(["va-split",(0,l.R1)(A)]),"aria-label":(0,l.R1)($)(e.$props.ariaLabel)},[(0,r.Lk)("div",{class:"va-split__panel",style:(0,b.Tr)(I("start"))},[(0,r.RG)(e.$slots,"start",(0,b._B)((0,r.Ng)({containerSize:s.value})))],4),(0,r.Lk)("div",xg,[(0,r.Lk)("div",{class:"va-split__dragger__overlay",style:(0,b.Tr)(x.value),onMousedown:t[0]||(t[0]=(0,Ze.D$)((...e)=>(0,l.R1)(C)&&(0,l.R1)(C)(...e),["prevent"])),onTouchstart:t[1]||(t[1]=(0,Ze.D$)((...e)=>(0,l.R1)(C)&&(0,l.R1)(C)(...e),["prevent"])),onDblclick:(0,Ze.D$)(R,["prevent"]),onContextmenu:t[2]||(t[2]=(0,Ze.D$)(()=>{},["prevent"])),onDragstart:t[3]||(t[3]=(0,Ze.D$)(()=>{},["prevent"]))},[(0,r.RG)(e.$slots,"grabber",{},()=>[(0,r.bF)((0,l.R1)(bp),{class:"va-split__dragger__default",vertical:!e.$props.vertical},null,8,["vertical"])])],36)]),(0,r.Lk)("div",{class:"va-split__panel",style:(0,b.Tr)(I("end"))},[(0,r.RG)(e.$slots,"end",(0,b._B)((0,r.Ng)({containerSize:s.value})))],4)],10,Ig))}}),Vg=ke(Ag),$g=Symbol("TabsView"),Ng=["aria-disabled"],Lg=(0,r.Lk)("div",{class:"va-tabs__slider"},null,-1),Og=[Lg],Dg={class:"va-tabs__tabs-items"},Bg={class:"va-tabs__content"},Pg=e=>(null==e?void 0:e.clientWidth)||0,Mg=(0,r.pM)({name:"VaTabs",__name:"VaTabs",props:{...xe,...Ne,modelValue:{type:[String,Number],default:null},left:{type:Boolean,default:!0},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},grow:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideSlider:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:{type:String,default:"primary"},prevIcon:{type:String,default:"va-arrow-left"},nextIcon:{type:String,default:"va-arrow-right"},ariaMoveRightLabel:Wn("$t:movePaginationLeft"),ariaMoveLeftLabel:Wn("$t:movePaginationRight")},emits:["update:modelValue","click:next","click:prev"],setup(e,{expose:t,emit:n}){const{tp:a}=Un(),o=e,i=n,s=(0,l.IJ)(),u=(0,l.IJ)(),c=(0,l.IJ)(),d=(0,l.KR)([]),h=(0,l.KR)(null),p=(0,l.KR)(null),f=(0,l.KR)(0),v=(0,l.KR)(0),m=(0,l.KR)(!1),g=(0,l.KR)(0),y=(0,l.KR)(0),_=(0,l.KR)(!1),{valueComputed:w}=$e(o,i),E=(0,l.Kh)({VaTab:{color:o.color}}),k=(0,r.EW)(()=>{const{left:e,right:t,center:n,grow:r,disabled:a}=o;return{"va-tabs__container--left":e&&!t&&!n&&!r,"va-tabs__container--right":t,"va-tabs__container--center":n,"va-tabs__container--grow":r,"va-tabs__container--disabled":a}}),C=(0,r.EW)(()=>({"va-tabs--vertical":o.vertical})),{getColor:S}=Xt(),R=(0,r.EW)(()=>S(o.color)),T=(0,r.EW)(()=>o.hideSlider?{display:"none"}:{backgroundColor:R.value,height:o.vertical?`${h.value}px`:"",width:o.vertical?"":`${p.value}px`,transform:`translateY(-${v.value}px) translateX(${f.value}px)`,transition:_.value?"var(--va-tabs-slider-wrapper-transition)":""}),I=(0,r.EW)(()=>o.vertical?{transform:"translateX(0px)"}:{transform:`translateX(${y.value-g.value}px)`,transition:_.value?"var(--va-tabs-slider-transition)":"",position:o.hidePagination?"unset":"absolute"}),x=(0,r.EW)(()=>0===g.value),A=(0,r.EW)(()=>{const e=d.value[d.value.length-1],t=(0,l.R1)(e.leftSidePosition),n=(0,l.R1)(e.rightSidePosition),r=Pg(u.value);return n<=g.value+r||t<=g.value}),V=()=>{p.value=0,h.value=0},$=e=>{const t=Pg(u.value),n=(0,l.R1)(e.leftSidePosition),r=(0,l.R1)(e.rightSidePosition);m.value?n-g.value>=0&&r-g.value<=t||(n-g.value<0?g.value=n:r-g.value>t?g.value=r-t:g.value=0):g.value=0},N=()=>{if(y.value=0,!m.value)return;const e=Pg(u.value),t=Pg(c.value);o.right?y.value=t-e:o.center&&(y.value=Math.floor((t-e)/2))},L=()=>{V(),d.value.forEach(e=>{var t;e.updateSidePositions();const n=((null==(t=e.name)?void 0:t.value)||e.id)===w.value;e.isActive=e.isActiveRouterLink||n,e.isActive&&($(e),P(e))}),N()};(0,r.nT)(()=>{L()});const O=()=>{const e=Pg(c.value),t=Pg(s.value);requestAnimationFrame(()=>{m.value=!!(c.value&&s.value&&e>t)})},D=()=>{var e,t;const n=Pg(u.value);let r=g.value-n;for(let a=0;a<d.value.length-1;a++){const n=(0,l.R1)(null==(e=d.value[a])?void 0:e.leftSidePosition),o=(0,l.R1)(null==(t=d.value[a+1])?void 0:t.leftSidePosition);if(n>r&&n<g.value||o>=g.value){r=n;break}}g.value=Math.max(0,r),i("click:prev")},B=()=>{var e;const t=Pg(u.value),n=g.value+t;let r=n;for(let i=0;i<d.value.length-1;i++){const e=(0,l.R1)(d.value[i].rightSidePosition);if(e>n&&(r=(0,l.R1)(d.value[i].leftSidePosition),g.value<r))break}const a=(0,l.R1)(null==(e=d.value[d.value.length-1])?void 0:e.rightSidePosition),o=a-t;r=Math.min(o,r),g.value=Math.max(0,r),i("click:next")},P=e=>{var t;const n=(0,l.R1)(e.tabElement),r=(null==n?void 0:n.offsetTop)||0,a=(null==n?void 0:n.offsetLeft)||0,i=(null==n?void 0:n.clientHeight)||0,s=(null==n?void 0:n.clientWidth)||0;if(o.vertical){const e=(null==(t=u.value)?void 0:t.clientHeight)||0,n=e-r-i;v.value=Math.max(n,0),h.value=i,f.value=0,p.value=0}else f.value=a,p.value=s,v.value=0,h.value=0},M=()=>{_.value||requestAnimationFrame(()=>{_.value=!0})},W=e=>{var t;e&&(w.value=(null==(t=e.name)?void 0:t.value)||e.id,o.stateful&&L())},F=e=>{var t;const n=d.value.push(e)-1;e.id=(null==(t=e.name)?void 0:t.value)||n},U=e=>{d.value=d.value.filter(t=>t.id!==e.id),d.value.forEach((e,t)=>{var n;e.id=(null==(n=e.name)?void 0:n.value)||t})};return(0,r.Gt)($g,{parentDisabled:o.disabled,selectTab:W,moveToTab:$,registerTab:F,unregisterTab:U}),(0,r.wB)(()=>o.modelValue,L),wu([s],O),wu([u],L),(0,r.sV)(()=>{requestAnimationFrame(()=>{M()})}),t({selectTab:W,moveToTab:$,movePaginationLeft:D,movePaginationRight:B}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-tabs",C.value])},[(0,r.Lk)("div",{ref_key:"wrapper",ref:s,class:"va-tabs__wrapper",role:"tablist","aria-disabled":t.$props.disabled},[m.value&&!t.$props.hidePagination?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:0,class:"va-tabs__pagination","aria-label":(0,l.R1)(a)(t.$props.ariaMoveLeftLabel),size:"medium",disabled:x.value,color:e.color,preset:"secondary",icon:t.$props.prevIcon,onClick:D},null,8,["aria-label","disabled","color","icon"])):(0,r.Q3)("",!0),(0,r.Lk)("div",{ref_key:"container",ref:u,class:(0,b.C4)(["va-tabs__container",k.value])},[(0,r.Lk)("div",{ref_key:"tabs",ref:c,class:"va-tabs__tabs",style:(0,b.Tr)(I.value)},[(0,r.Lk)("div",{class:"va-tabs__slider-wrapper","aria-hidden":"true",style:(0,b.Tr)(T.value)},Og,4),(0,r.bF)((0,l.R1)(za),{components:E},{default:(0,r.k6)(()=>[(0,r.Lk)("div",Dg,[(0,r.RG)(t.$slots,"tabs")])]),_:3},8,["components"])],4)],2),m.value&&!t.$props.hidePagination?((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:1,class:"va-tabs__pagination","aria-label":(0,l.R1)(a)(t.$props.ariaMoveRightLabel),size:"medium",color:e.color,disabled:A.value,preset:"secondary",icon:t.$props.nextIcon,onClick:B},null,8,["aria-label","color","disabled","icon"])):(0,r.Q3)("",!0)],8,Ng),(0,r.Lk)("div",Bg,[(0,r.RG)(t.$slots,"default")])],2))}}),Wg=ke(Mg),Fg={class:"va-tab__content"},Ug=["textContent"],jg=(0,r.pM)({name:"VaTab",__name:"VaTab",props:{...Tr,...Ne,selected:{type:Boolean,default:!1},color:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean},name:{type:[String,Number]},tag:{type:String,default:"div"}},emits:["click","keydown-enter","focus"],setup(e,{emit:t}){const n=e,a=t,o=(0,l.IJ)(),i=(0,r.EW)(()=>Lr(o.value)),s=(0,l.KR)(!1),u=(0,l.KR)(!1),c=(0,l.KR)(0),d=(0,l.KR)(0),{keyboardFocusListeners:h,hasKeyboardFocus:p}=ru(),{tagComputed:f,isActiveRouterLink:v,linkAttributesComputed:m}=Ir(n),g=(0,r.EW)(()=>({"va-tab--disabled":n.disabled})),{parentDisabled:y,selectTab:_,moveToTab:w,registerTab:E,unregisterTab:k}=(0,r.WQ)($g,{parentDisabled:!1,tabsList:[],selectTab:e=>e,moveToTab:e=>e,registerTab:e=>e,unregisterTab:e=>e}),C=(0,r.EW)(()=>n.disabled||y?-1:0),{getColor:S}=Xt(),R=(0,r.EW)(()=>S(n.color)),T=(0,r.EW)(()=>({color:u.value||s.value?R.value:"inherit"})),I=e=>{u.value=e},x=()=>{var e,t;const n=(null==(e=i.value)?void 0:e.offsetLeft)||0,r=(null==(t=i.value)?void 0:t.offsetWidth)||0;c.value=n+r,d.value=n},A=tg(o);(0,r.wB)(A,()=>{x()});const V=async()=>{await(0,r.dY)(),_(L),a("click")},$=async()=>{await(0,r.dY)(),_(L),a("keydown-enter")},N=()=>{p.value&&w(L),a("focus")},L={name:(0,r.EW)(()=>n.name),id:null,tabElement:i,isActive:s,tabIndexComputed:C,isActiveRouterLink:v,rightSidePosition:c,leftSidePosition:d,onTabClick:V,onTabKeydown:$,onFocus:N,updateSidePositions:x};return(0,r.sV)(()=>{E(L)}),(0,r.xo)(()=>{k(L)}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)((0,l.R1)(f)),(0,r.v6)({ref_key:"rootElement",ref:o,class:["va-tab",g.value],role:"tab","aria-selected":s.value,"aria-disabled":t.$props.disabled||(0,l.R1)(y),style:T.value,onMouseenter:n[0]||(n[0]=e=>I(!0)),onMouseleave:n[1]||(n[1]=e=>I(!1)),onFocus:N,onClick:V,onKeydown:(0,Ze.jR)($,["enter"]),tabindex:C.value},(0,r.Tb)((0,l.R1)(h)),(0,l.R1)(m)),{default:(0,r.k6)(()=>[(0,r.Lk)("div",Fg,[(0,r.RG)(t.$slots,"default",{},()=>[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,class:"va-tab__icon",size:"small",name:e.icon},null,8,["name"])):(0,r.Q3)("",!0),(0,r.Lk)("span",{class:"va-tab__label",textContent:(0,b.v_)(e.label)},null,8,Ug)])])]),_:3},16,["aria-selected","aria-disabled","class","style","tabindex"]))}}),zg=ke(jg),Kg=(e,...t)=>Jr(e)?e(...t):e,Gg={class:"va-stepper__default-controls"},Xg=(0,r.pM)({name:"VaStepperControls",__name:"VaStepperControls",props:{modelValue:{type:[Number,String],required:!0},steps:{type:Array,required:!0},nextDisabled:{type:Boolean,required:!0},stepControls:{type:Object,required:!0},finishButtonHidden:{type:Boolean,default:!1}},setup(e){const t=e,{t:n}=Un(),a=(0,r.EW)(()=>{const e=t.steps[Number(t.modelValue)];return Kg(e.isLoading)||!1}),o=(0,r.EW)(()=>{const e=t.steps.length-1;return Number(t.modelValue)>=e});return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Gg,[(0,r.bF)((0,l.R1)(na),{preset:"primary",disabled:Number(e.$props.modelValue)<=0,loading:a.value,onClick:t[0]||(t[0]=t=>e.$props.stepControls.prevStep())},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(n)("back")),1)]),_:1},8,["disabled","loading"]),o.value?e.$props.finishButtonHidden?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:1,onClick:t[2]||(t[2]=t=>e.$props.stepControls.finish()),loading:a.value},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(n)("finish")),1)]),_:1},8,["loading"])):((0,r.uX)(),(0,r.Wv)((0,l.R1)(na),{key:0,onClick:t[1]||(t[1]=t=>e.$props.stepControls.nextStep()),disabled:e.$props.nextDisabled,loading:a.value},{default:(0,r.k6)(()=>[(0,r.eW)((0,b.v_)((0,l.R1)(n)("next")),1)]),_:1},8,["disabled","loading"]))]))}}),Hg=e=>Kg(e.hasError,e)||!1,qg={class:"va-stepper__step-button__icon"},Qg=(0,r.pM)({name:"VaStepperStepButton",__name:"VaStepperStepButton",props:{modelValue:{type:Number,required:!0},step:{type:Object,required:!0},color:{type:String,required:!0},stepIndex:{type:[Number,String],required:!0},navigationDisabled:{type:Boolean,required:!0},nextDisabled:{type:Boolean,required:!0},focus:{type:Object,required:!0},stepControls:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=(0,l.IJ)(),o=(0,r.EW)(()=>Hg(n.step)),i=je("stepIndex"),s=(0,r.EW)(()=>o.value&&n.modelValue===i.value),u=(0,r.EW)(()=>Kg(n.step.isLoading)||!1),{getColor:c}=Xt(),d=(0,r.EW)(()=>c(o.value?"danger":n.color)),h=e=>n.nextDisabled&&e>n.modelValue,{t:p}=Un(),f=gr("va-stepper__step-button",()=>({active:n.modelValue>=i.value,disabled:n.step.disabled||h(i.value),"navigation-disabled":n.navigationDisabled,error:s.value}));(0,r.wB)(()=>n.focus,()=>{n.focus.trigger&&(0,r.dY)(()=>{var e;return null==(e=a.value)?void 0:e.focus()})},{deep:!0});const v=(0,r.EW)(()=>({tabindex:n.focus.stepIndex!==i.value||n.navigationDisabled?void 0:0,"aria-disabled":!(!n.step.disabled&&!h(i.value))||void 0,"aria-current":n.modelValue===n.stepIndex?p("step"):void 0}));return(t,n)=>((0,r.uX)(),(0,r.CE)("li",(0,r.v6)({ref_key:"stepElement",ref:a,class:["va-stepper__step-button",(0,l.R1)(f)],onClick:n[0]||(n[0]=e=>!t.$props.navigationDisabled&&t.$props.stepControls.setStep((0,l.R1)(i))),onKeyup:[n[1]||(n[1]=(0,Ze.jR)(e=>!t.$props.navigationDisabled&&t.$props.stepControls.setStep((0,l.R1)(i)),["enter"])),n[2]||(n[2]=(0,Ze.jR)(e=>!t.$props.navigationDisabled&&t.$props.stepControls.setStep((0,l.R1)(i)),["space"]))]},v.value,{style:`--va-stepper-color: ${String(d.value)}`}),[(0,r.Lk)("div",qg,[u.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(ir),{key:0,color:"currentColor",indeterminate:"",size:"small"})):e.step.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:1,name:e.step.icon,size:"1.3rem"},null,8,["name"])):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.eW)((0,b.v_)((0,l.R1)(i)+1),1)],64))]),(0,r.eW)(" "+(0,b.v_)(e.step.label),1)],16))}}),Yg={class:"va-stepper__step-content"},Jg={class:"va-stepper__controls"},Zg=(0,r.pM)({name:"VaStepper",__name:"VaStepper",props:{...xe,modelValue:{type:Number,default:0},steps:{type:Array,default:()=>[],required:!0},color:{type:String,default:"primary"},vertical:{type:Boolean,default:!1},navigationDisabled:{type:Boolean,default:!1},controlsHidden:{type:Boolean,default:!1},nextDisabled:{type:Boolean,default:!1},nextDisabledOnError:{type:Boolean,default:!1},finishButtonHidden:{type:Boolean,default:!1},ariaLabel:Wn("$t:progress"),linear:{type:Boolean,default:!1},finishStep:{type:Object}},emits:["update:modelValue","finish","update:steps"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),{valueComputed:s}=$e(a,o,"modelValue"),u=(0,r.EW)(()=>a.finishStep?[...a.steps,a.finishStep]:a.steps),c=e=>!!a.finishStep&&e===u.value.length-1,d=(0,l.KR)({trigger:!1,stepIndex:a.navigationDisabled?-1:a.modelValue}),{getColor:h}=Xt(),p=e=>!(!a.nextDisabledOnError||!Hg(u.value[e]))||a.nextDisabled,f=(e,t)=>{while(e>=0&&e<u.value.length){e+=t;const n=u.value[e];if(!n)return;if(!n.disabled)return n}},v=(e,t)=>{while(e>=0&&e<u.value.length){e+=t;const n=u.value[e];if(!n)return;if(!0===Hg(n))return e}},m=async e=>{var t;const n=u.value[e],r=u.value[s.value],o=f(e,-1);if(n.disabled)return!1;if(a.linear&&e<s.value)return!0;const i=v(s.value,1);if(a.linear&&void 0!==i&&i<e)return!1;let l;try{l=await(null==(t=r.beforeLeave)?void 0:t.call(r,r,n))}catch(c){throw new Error(`Error in beforeLeave function: ${c}`)}return!1!==l&&(void 0===r.completed&&(r.completed=!0),!(a.linear&&o&&!o.completed)&&(!a.linear||!Hg(r)))},g=async e=>{await m(e)&&(s.value=e)},y=e=>{a.navigationDisabled||("next"===e?_(1):w(1))},_=(e=1)=>{const t=d.value.stepIndex+e;if(!p(t))if(t<u.value.length){if(u.value[t].disabled)return void _(e+1);d.value.stepIndex=t,d.value.trigger=!0}else for(let n=0;n<u.value.length;n++)if(!u.value[n].disabled){d.value.stepIndex=n,d.value.trigger=!0;break}},w=(e=1)=>{const t=d.value.stepIndex-e;if(t>=0){if(u.value[t].disabled)return void w(e+1);d.value.stepIndex=t,d.value.trigger=!0}else for(let n=u.value.length-1;n>=0;n--)if(!u.value[n].disabled&&!p(n)){d.value.stepIndex=n,d.value.trigger=!0;break}},E=()=>{requestAnimationFrame(()=>{var e;(null==(e=i.value)?void 0:e.contains(document.activeElement))||(d.value.stepIndex=a.modelValue,d.value.trigger=!1)})};(0,r.wB)(()=>a.modelValue,()=>{d.value.stepIndex=a.modelValue,d.value.trigger=!1});const k=(e=0)=>{const t=s.value+1+e;u.value[t]&&(u.value[t].disabled&&k(e+1),g(t))},C=(e=0)=>{const t=s.value-1-e;u.value[t]&&(u.value[t].disabled&&C(e+1),g(t))},S=async()=>{await m(a.steps.length-1)&&o("finish")},R={setStep:g,nextStep:k,prevStep:C,finish:S},T=(e,t)=>({...R,focus:d,isActive:a.modelValue===t,isCompleted:a.modelValue>t,isLastStep:u.value.length-1===t,isNextStepDisabled:p(t),isPrevStepDisabled:0===t,index:t,step:e,hasError:Hg(e)}),{tp:I}=Un(),x=()=>{d.value.stepIndex=a.modelValue,d.value.trigger=!0},A=(0,r.EW)(()=>({role:"group","aria-label":I(a.ariaLabel),"aria-orientation":a.vertical?"vertical":"horizontal"}));function V(e){return Hg(u.value[e])?"danger":h(a.color)}const $=e=>{const t={...u.value};!0===e&&(t[a.modelValue].hasError=!1),t[a.modelValue].completed=e??!0,o("update:steps",t)},N=e=>{const t={...u.value};t[a.modelValue].hasError=e??!0,t[a.modelValue].completed=!e,o("update:steps",t)};return t({modelValue:s,focusedStep:d,getIterableSlotData:T,stepControls:R,nextStep:k,prevStep:C,setStep:g,setFocus:y,completeStep:$,setError:N}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:["va-stepper",{"va-stepper--vertical":t.$props.vertical}]},A.value),[(0,r.Lk)("ol",{class:(0,b.C4)(["va-stepper__navigation",{"va-stepper__navigation--vertical":t.$props.vertical}]),ref_key:"stepperNavigation",ref:i,onClick:x,onKeyup:[(0,Ze.jR)(x,["enter"]),(0,Ze.jR)(x,["space"]),n[0]||(n[0]=(0,Ze.jR)(e=>y("prev"),["left"])),n[1]||(n[1]=(0,Ze.jR)(e=>y("next"),["right"]))],onFocusout:E},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.value,(n,a)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:a+n.label},[c(a)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[a>0?(0,r.RG)(t.$slots,"divider",(0,b._B)((0,r.v6)({key:0},T(n,a))),()=>[(0,r.Lk)("span",{class:(0,b.C4)(["va-stepper__divider",{"va-stepper__divider--vertical":t.$props.vertical}]),"aria-hidden":"true"},null,2)]):(0,r.Q3)("",!0),(0,r.RG)(t.$slots,`step-button-${a}`,(0,b._B)((0,r.Ng)(T(n,a))),()=>[(0,r.bF)(Qg,{stepIndex:a,color:V(a),modelValue:(0,l.R1)(s),nextDisabled:e.nextDisabled,step:n,stepControls:R,navigationDisabled:e.navigationDisabled,focus:d.value},null,8,["stepIndex","color","modelValue","nextDisabled","step","navigationDisabled","focus"])])],64))],64))),128))],34),(0,r.Lk)("div",{class:(0,b.C4)(["va-stepper__step-content-wrapper",{"va-stepper__step-content-wrapper--vertical":t.$props.vertical}])},[(0,r.Lk)("div",Yg,[(0,r.RG)(t.$slots,`step-content-${c((0,l.R1)(s))?"finish":(0,l.R1)(s)}`,(0,b._B)((0,r.Ng)(T(u.value[(0,l.R1)(s)],(0,l.R1)(s)))))]),(0,r.Lk)("div",Jg,[(0,r.RG)(t.$slots,"controls",(0,b._B)((0,r.Ng)(T(u.value[(0,l.R1)(s)],(0,l.R1)(s)))),()=>[e.controlsHidden?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(Xg,{key:0,modelValue:(0,l.R1)(s),nextDisabled:p((0,l.R1)(s)),steps:u.value,stepControls:R,finishButtonHidden:e.finishButtonHidden},null,8,["modelValue","nextDisabled","steps","finishButtonHidden"]))])])],2)],16))}}),ey=ke(Zg),ty=e=>{const t=e.match(/[0-9]{1,2}/g);return t?t.map(e=>Number(e)):[]},ny=e=>{const t=e.match(/pm|am/i);return t?Number("pm"===t[0].toLowerCase()):null},ry=e=>{const t=new Date,[n,r,a]=ty(e),o=ny(e);if(!n)return null;const i=null!==o&&n<=12,s=i&&!!o,l=i&&12===n?0:n;return t.setHours(Math.min(l||0,i?12:24)+(s?12:0)),t.setMinutes(Math.min(r||0,60)),t.setSeconds(Math.min(a||0,60)),t},ay=e=>{const t=()=>e.parse||ry,n=(0,l.KR)(!0),r=e=>{const r=t(),a=r(e);return a||(n.value=!1),a},a=e=>(n.value=!0,r(e));return{parse:a,isValid:n}},oy=e=>{const t=t=>t?e.ampm?t.toLocaleTimeString("en-US"):t.toLocaleTimeString("en-GB"):"",n=(e,t,n)=>e.split(":").slice(t,n).join(":"),r=r=>{if("seconds"===e.view)return t(r);const[a,o]=t(r).split(" ");return"minutes"===e.view?o?[n(a,0,2),o].join(" "):n(a,0,2):"hours"===e.view?o?[n(a,0,1),o].join(" "):n(a,0,1):""};return{format:t=>e.format?e.format(t):r(t)}},iy=e=>e.value?e.value:new Date((new Date).setHours(0,0,0,0)),sy=e=>Array.from(Array(e).keys()),ly=e=>(0===e?12:e)-12*Number(e>12),uy=(e,t=!1)=>(12===e?0:e)+12*Number(t),cy=(e,t,n)=>{const a=(0,r.EW)(()=>e.ampm?12:24),o=(0,r.EW)(()=>{let t=sy(a.value);return e.hoursFilter&&(t=t.filter(t=>e.hoursFilter(e.ampm?t+12*Number(n.value):t))),t.map(t=>e.ampm?ly(t):t)}),i=(0,r.EW)({get:()=>{if(!t.value)return-1;if(e.ampm){const e=ly(t.value.getHours()-12*Number(n.value));return o.value.findIndex(t=>t===e)}const r=t.value.getHours();return o.value.findIndex(e=>e===r)},set:r=>{if(e.readonly)return;const a=e.ampm?uy(o.value[r],n.value):o.value[r];t.value=new Date(iy(t).setHours(a))}});return(0,r.EW)(()=>({items:o.value,activeItem:i}))},dy=(e,t)=>{const n=(0,r.EW)(()=>{const t=sy(60);return e.minutesFilter?t.filter(e.minutesFilter):t}),a=(0,r.EW)({get:()=>{if(!t.value)return-1;const e=t.value.getMinutes();return n.value.findIndex(t=>t===e)},set:r=>{if(e.readonly)return;const a=n.value[r];t.value=new Date(iy(t).setMinutes(a))}});return(0,r.EW)(()=>({items:n.value,activeItem:a}))},hy=(e,t)=>{const n=(0,r.EW)(()=>{const t=sy(60);return e.secondsFilter?t.filter(e.secondsFilter):t}),a=(0,r.EW)({get:()=>{if(!t.value)return-1;const e=t.value.getSeconds();return n.value.findIndex(t=>t===e)},set:r=>{if(e.readonly)return;const a=n.value[r];t.value=new Date(iy(t).setSeconds(a))}});return(0,r.EW)(()=>({items:n.value,activeItem:a}))},py=(e,t,n)=>(0,r.EW)(()=>({items:["AM","PM"],activeItem:(0,r.EW)({get:()=>t.value?Number(n.value):-1,set:r=>{n.value=Boolean(r);const a=iy(t).getHours();let o=n.value?a+12:a;n.value&&a<=12&&(o=a+12),!n.value&&a>=12&&(o=a-12);const i=!e.hoursFilter||e.hoursFilter(o);e.periodUpdatesModelValue&&i&&(t.value=new Date(iy(t).setHours(o)))}})})),fy=(e,t)=>{const{view:n}=(0,l.QW)(e),a=(0,l.KR)(!1);(0,r.wB)(t,()=>{a.value=iy(t).getHours()>=12},{immediate:!0});const o=cy(e,t,a),i=dy(e,t),s=hy(e,t),u=py(e,t,a),c=(0,r.EW)(()=>{const t=[];return"hours"===n.value?t.push(o.value):"minutes"===n.value?t.push(o.value,i.value):"seconds"===n.value&&t.push(o.value,i.value,s.value),e.ampm&&!e.hidePeriodSwitch&&t.push(u.value),t});return{columns:c,isPM:a}},vy=(0,r.pM)({name:"VaTimePickerColumnCell",__name:"VaTimePickerColumnCell",setup(e){const{isHovered:t,onMouseEnter:n,onMouseLeave:a}=Qr(),{getTextColor:o,getColor:i}=Xt(),s=(0,r.EW)(()=>t.value?{color:i(o(i("background-secondary"))),background:i("background-secondary")}:void 0);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{onMouseenter:t[0]||(t[0]=(...e)=>(0,l.R1)(n)&&(0,l.R1)(n)(...e)),onMouseleave:t[1]||(t[1]=(...e)=>(0,l.R1)(a)&&(0,l.R1)(a)(...e)),style:(0,b.Tr)(s.value)},[(0,r.RG)(e.$slots,"default")],36))}}),my=["onClick"],gy=(0,r.pM)({name:"VaTimePickerColumn",__name:"VaTimePickerColumn",props:{items:{type:Array,default:()=>[]},activeItemIndex:{type:Number,default:0},cellHeight:{type:[Number,String],default:30}},emits:["item-selected","update:activeItemIndex",...Gr],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),{focus:s,blur:u}=Xr(i,o),[c]=Pl("activeItemIndex",a,o),d=je("cellHeight");(0,r.wB)(c,e=>{h(e)}),(0,r.sV)(()=>h(c.value,!1));const h=(e,t=!0)=>{(0,r.dY)(()=>{var n,r;null==(r=null==(n=i.value)?void 0:n.scrollTo)||r.call(n,{behavior:t?"smooth":"auto",top:e*d.value})})},p=e=>{c.value=(c.value+(e||1))%a.items.length,(0,r.dY)(()=>h(c.value))},f=e=>{c.value=(c.value-(e||1)+a.items.length)%a.items.length,(0,r.dY)(()=>h(c.value))},v=e=>{c.value=e},m=e=>Number.isInteger(e)?Number(e)<10?`0${e}`:`${e}`:e,g=()=>{const e=i.value.scrollTop,t=Math.max((e-e%d.value)/d.value,e/d.value);return t>=a.items.length?a.items.length-1:t<0?0:c.value*d.value<e?Math.ceil(t):c.value*d.value>e?Math.floor(t):Math.round(t)},y=Ha(()=>{i.value&&-1!==c.value&&(c.value=g())},200);return t({focus:s,blur:u}),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"rootElement",ref:i,tabindex:"0",class:"va-time-picker-column",onKeydown:[n[0]||(n[0]=(0,Ze.jR)((0,Ze.D$)(e=>p(),["stop","prevent"]),["down"])),n[1]||(n[1]=(0,Ze.jR)((0,Ze.D$)(e=>p(5),["stop","prevent"]),["space"])),n[2]||(n[2]=(0,Ze.jR)((0,Ze.D$)(e=>f(),["stop","prevent"]),["up"]))]},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.items,(n,a)=>((0,r.uX)(),(0,r.Wv)(vy,{key:n,onScrollPassive:(0,l.R1)(y),onTouchmovePassive:(0,l.R1)(y),onMousewheelPassive:(0,l.R1)(y)},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,b.C4)(["va-time-picker-cell",{"va-time-picker-cell--active":a===t.$props.activeItemIndex}]),onClick:e=>v(a)},[(0,r.RG)(t.$slots,"cell",(0,b._B)((0,r.Ng)({item:n,index:a,activeItemIndex:e.activeItemIndex,items:e.items,formattedItem:m(n)})),()=>[(0,r.eW)((0,b.v_)(m(n)),1)])],10,my)]),_:2},1032,["onScrollPassive","onTouchmovePassive","onMousewheelPassive"]))),128))],544))}}),yy=ke(gy),by=(e,t)=>(0,r.EW)(()=>Object.entries(t()).reduce((t,[n,r])=>(t[`--${e}-${lt(n)}`]=r,t),{})),_y=(0,r.pM)({name:"VaTimePicker",__name:"VaTimePicker",props:{...xe,...Lu,...Ne,modelValue:{type:Date,required:!1},ampm:{type:Boolean,default:!1},hidePeriodSwitch:{type:Boolean,default:!1},periodUpdatesModelValue:{type:Boolean,default:!0},view:{type:String,default:"minutes"},hoursFilter:{type:Function},minutesFilter:{type:Function},secondsFilter:{type:Function},framed:{type:Boolean,default:!1},cellHeight:{type:[Number,String],default:30},visibleCellsCount:{type:[Number,String],default:7}},emits:[...Ve],setup(e,{expose:t,emit:n}){const a=e,o=n,{valueComputed:i}=$e(a,o),{columns:s,isPM:u}=fy(a,i),c=je("cellHeight"),d=je("visibleCellsCount"),{setItemRef:h,itemRefs:p}=Rv(),f=(0,l.KR)(),v=(e=0)=>{var t;null==(t=p.value[e])||t.focus()},m=e=>{var t;e?null==(t=p.value[e])||t.blur():p.value.forEach(e=>null==e?void 0:e.blur())},{computedClasses:g}=Ou("va-time-picker",a),y=()=>{const e=((null==f?void 0:f.value)||0)+1;f.value=e%s.value.length,v(f.value)},_=()=>{const e=((null==f?void 0:f.value)||0)-1+s.value.length;f.value=e%s.value.length,v(f.value)},w=(0,r.EW)(()=>({...g,"va-time-picker--framed":a.framed})),E=by("va-time-picker",()=>{const e=(d.value-1)/2*c.value;return{height:c.value*d.value+"px","cell-height":`${c.value}px`,"column-gap-height":`${e}px`}});return t({focus:v,blur:m,focusNext:y,focusPrev:_}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-time-picker",w.value]),style:(0,b.Tr)((0,l.R1)(E))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(s),(n,a)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(yy),{key:a,ref_for:!0,ref:(0,l.R1)(h),items:n.items,tabindex:e.disabled?-1:0,"cell-height":(0,l.R1)(c),activeItemIndex:n.activeItem.value,"onUpdate:activeItemIndex":e=>n.activeItem.value=e,onKeydown:[t[0]||(t[0]=(0,Ze.jR)((0,Ze.D$)(e=>y(),["stop","prevent"]),["right"])),t[1]||(t[1]=(0,Ze.jR)((0,Ze.D$)(e=>y(),["exact","stop","prevent"]),["tab"])),t[2]||(t[2]=(0,Ze.jR)((0,Ze.D$)(e=>_(),["stop","prevent"]),["left"])),t[3]||(t[3]=(0,Ze.jR)((0,Ze.D$)(e=>_(),["shift","stop","prevent"]),["tab"]))],onFocus:e=>f.value=a},null,8,["items","tabindex","cell-height","activeItemIndex","onUpdate:activeItemIndex","onFocus"]))),128))],6))}});function wy(e,t){let n=-1,r=-1;const a=e=>{var a;null==(a=t.onStart)||a.call(t,e),clearTimeout(n),n=setTimeout(()=>{r=setInterval(()=>{var n;return null==(n=t.onUpdate)?void 0:n.call(t,e)},t.interval||100)},(0,l.R1)(t.delay)||500)},o=e=>{var a;clearTimeout(n),clearInterval(r),null==(a=t.onEnd)||a.call(t,e)},i=qr(e);jr(["keydown"],a,i),jr(["keyup","blur"],o,!0)}const Ey=fr(Xu,["focused","maxLength","counterValue"]),ky=(0,r.pM)({name:"VaTimeInput",inheritAttrs:!1,__name:"VaTimeInput",props:{...Ey,...op,...Ne,...Yu,...fr(_y),...Kl,...xe,closeOnContentClick:{type:Boolean,default:!1},offset:{...op.offset,default:()=>[2,0]},placement:{...op.placement,default:"bottom-end"},modelValue:{type:Date,default:void 0},clearValue:{type:Date,default:null},format:{type:Function},parse:{type:Function},manualInput:{type:Boolean,default:!1},leftIcon:{type:Boolean,default:!1},icon:{type:String,default:"schedule"},ariaLabel:Wn("$t:selectedTime"),ariaResetLabel:Wn("$t:resetTime"),ariaToggleDropdownLabel:Wn("$t:toggleDropdown")},emits:[...Gr,...Gl,...Ju,...Ve,...ip,"update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,l.IJ)(),s=(0,l.IJ)(),{isOpenSync:u,dropdownProps:c}=sp(a,o,{defaultCloseOnValueUpdate:(0,r.EW)(()=>Array.isArray(a.view)&&1===a.view.length)}),{valueComputed:d}=$e(a,o),{parse:h,isValid:p}=ay(a),{format:f}=oy(a),v=(0,r.EW)(()=>f(d.value||a.clearValue)),m=(0,r.EW)({get(){return!a.disabled&&!a.readonly&&u.value},set(e){u.value=e,e?(0,r.dY)(()=>{var e;return null==(e=s.value)?void 0:e.focus()}):(0,r.dY)(()=>{var e;return null==(e=i.value)?void 0:e.focus()})}}),{isFocused:g,focus:y,blur:_,onFocus:w,onBlur:E}=Xr(i),k=e=>{var t;if(a.disabled)return;const n=null==(t=e.target)?void 0:t.value;if(!n)return C();const r=h(n);p.value&&r?d.value=r:(d.value=void 0,p.value=!0)},C=()=>x(()=>{o("update:modelValue",a.clearValue),o("clear"),A(),K()}),{computedError:S,computedErrorMessages:R,listeners:T,validationAriaAttributes:I,withoutValidation:x,resetValidation:A,isDirty:V,isTouched:$}=Yl(a,o,{reset:C,focus:y,value:d});(0,r.wB)(m,e=>{e||($.value=!0)});const{canBeCleared:N,clearIconProps:L,onFocus:O,onBlur:D}=Zu(a,v),B=(0,r.EW)(()=>N.value&&v.value!==f(a.clearValue)),P=yr(Ey),M=(0,r.EW)(()=>({...P.value,focused:g.value,error:S.value,errorMessages:R.value,readonly:a.readonly||!a.manualInput,modelValue:v.value})),W={seconds:1e3,minutes:6e4,hours:36e5},F=e=>{"key"in e&&("ArrowDown"===e.key&&(d.value=new Date(Number(d.value)-W[a.view]),e.preventDefault()),"ArrowUp"===e.key&&(d.value=new Date(Number(d.value)+W[a.view]),e.preventDefault()))};wy(i,{onStart:F,onUpdate:F});const U={onFocus:()=>{a.disabled||(w(),a.readonly||O())},onBlur:()=>{a.disabled||(E(),a.readonly||(D(),T.onBlur()))}},j=(0,r.Ht)(),z=(0,r.EW)(()=>{const e=[a.leftIcon&&"prependInner",(!a.leftIcon||a.clearable)&&"icon"];return Object.keys(j).filter(t=>!e.includes(t))}),K=()=>{m.value=!1},G=(e,t,n)=>{m.value=!0},X=e=>!u.value&&(!(!a.disabled&&!a.readonly)||void 0!==e&&(a.manualInput&&"Space"!==(null==e?void 0:e.code))),H=e=>{X(e instanceof KeyboardEvent?e:void 0)||(m.value=!m.value)},q=(0,r.EW)(()=>a.disabled?{}:a.manualInput?{cursor:"text"}:{cursor:"pointer"}),Q=(0,r.EW)(()=>a.manualInput?a.disabled||a.readonly?-1:0:-1),Y=(0,r.EW)(()=>({role:"button","aria-hidden":!1,name:a.icon,color:"secondary",tabindex:Q.value})),{tp:J}=Un();(0,r.OA)();const Z=(0,r.EW)(()=>({...c.value,innerAnchorSelector:".va-input-wrapper__field",trigger:["click","right-click","space","enter"]})),ee=yr(fr(_y));return t({isFocused:g,isValid:p,value:d,isDirty:V,isTouched:$,focus:y,blur:_,reset:C,withoutValidation:x,resetValidation:A,toggleDropdown:H,showDropdown:G,hideDropdown:K}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(ks),(0,r.v6)({modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),class:["va-time-input",e.$attrs.class],style:e.$attrs.style},Z.value),{anchor:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Xu),(0,r.v6)({class:"va-time-input__anchor",ref_key:"input",ref:i,style:q.value},{...M.value,...(0,l.R1)(I),...U},{onChange:k}),(0,r.eX)({icon:(0,r.k6)(()=>[B.value?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:0,class:"va-time-input__clear-button"},{...Y.value,...(0,l.R1)(L)},{"aria-label":(0,l.R1)(J)(e.$props.ariaResetLabel),onClick:(0,Ze.D$)(C,["stop"]),onKeydown:[(0,Ze.jR)((0,Ze.D$)(C,["stop"]),["enter"]),(0,Ze.jR)((0,Ze.D$)(C,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):(0,r.Q3)("",!0),!e.$props.leftIcon&&e.$props.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:1,class:"va-time-input__right-button va-time-input__side-button","aria-label":(0,l.R1)(J)(e.$props.ariaToggleDropdownLabel)},Y.value),null,16,["aria-label"])):(0,r.Q3)("",!0)]),_:2},[(0,r.pI)(z.value,t=>({name:t,fn:(0,r.k6)(n=>[(0,r.RG)(e.$slots,t,(0,b._B)((0,r.Ng)({...n,toggleDropdown:H,showDropdown:G,hideDropdown:K,isOpen:(0,l.R1)(u),focus:(0,l.R1)(y)})))])})),e.$slots.prependInner||e.$props.leftIcon?{name:"prependInner",fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,"prependInner",(0,b._B)((0,r.Ng)({...t,toggleDropdown:H,showDropdown:G,hideDropdown:K,isOpen:(0,l.R1)(u),focus:(0,l.R1)(y)}))),e.$props.leftIcon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),(0,r.v6)({key:0,class:"va-time-input__left-button va-time-input__side-button","aria-label":(0,l.R1)(J)(e.$props.ariaToggleDropdownLabel)},Y.value),null,16,["aria-label"])):(0,r.Q3)("",!0)]),key:"0"}:void 0]),1040,["style"])]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Ss),{"no-padding":"",onKeydown:[(0,Ze.jR)((0,Ze.D$)(K,["prevent"]),["esc"]),(0,Ze.jR)((0,Ze.D$)(K,["prevent"]),["enter"])]},{default:(0,r.k6)(()=>[(0,r.bF)(_y,(0,r.v6)({ref_key:"timePicker",ref:s},(0,l.R1)(ee),{modelValue:(0,l.R1)(d),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.i9)(d)?d.value=e:null)}),null,16,["modelValue"])]),_:1},8,["onKeydown"])]),_:3},16,["modelValue","class","style"]))}}),Cy=ke(ky),Sy=e=>null==e?void 0:e.props,Ry=e=>{var t;return!!(null==(t=null==e?void 0:e.props)?void 0:t.active)||!1},Ty=e=>e.type===r.FK,Iy=e=>e&&0===e.length;function xy(e){var t;const n=null==(t=e.default)?void 0:t.call(e);return!n||Iy(n)?[]:Ty(n[0])?n[0].children:n}const Ay=e=>{const t=xy(e.slots);return t.forEach((n,r)=>{Sy(n)||(n.props={});const a=Sy(n);a.vertical=e.props.vertical,e.props.centered&&(a.inverted=!!(r%2)),0===r&&(a.isFirst=!0),r===t.length-1&&(a.isLast=!0);const o=a.active;if(!o)return;0===r&&(a.activePrevious=o),r===t.length-1&&(a.activeNext=o);const i=Ry(t[r-1]);i&&(a.activePrevious=!0);const s=Ry(t[r+1]);s&&(a.activeNext=!0)}),t},Vy="va-timeline",$y={name:Vy,props:{...Ne,vertical:{type:Boolean},centered:{type:Boolean},alignTop:{type:Boolean}},setup(e,{slots:t}){return()=>(0,r.h)("div",{class:{[Vy]:!0,[`${Vy}--vertical`]:e.vertical,[`${Vy}--align-top`]:e.alignTop}},Ay({props:e,slots:t}))}},Ny=ke($y),Ly="va-timeline-separator",Oy=(0,r.pM)({name:Ly,props:{...Ne,color:{type:String,default:"primary"},vertical:{type:Boolean},active:{type:Boolean},activePrevious:{type:Boolean},activeNext:{type:Boolean}},setup(e){const{getColor:t}=Xt();return()=>(0,r.h)("div",{class:{[Ly]:!0,[`${Ly}--vertical`]:e.vertical}},[(0,r.h)("div",{class:{[`${Ly}__line`]:!0,[`${Ly}__line--active`]:e.activePrevious},style:{backgroundColor:t(e.activePrevious?e.color:"divider")}}),(0,r.h)("div",{class:{[`${Ly}__center`]:!0,[`${Ly}__center--active`]:e.active},style:{backgroundColor:t(e.active?e.color:"divider")}}),(0,r.h)("div",{class:{[`${Ly}__line`]:!0,[`${Ly}__line--active`]:e.activeNext},style:{backgroundColor:t(e.activeNext?e.color:"divider")}})])}}),Dy=ke(Oy),By="va-timeline-item",Py=fr(Dy),My=(0,r.pM)({name:By,props:{...Ne,...Py,color:{type:String,default:"primary"},isFirst:{type:Boolean},isLast:{type:Boolean},inverted:{type:Boolean}},setup(e,{slots:t}){const n=[(0,r.h)(Dy,{...yr(Py).value})],a=e.inverted?t.after:t.before;a&&n.unshift((0,r.h)("div",{class:`${By}__before`},a()));const o=e.inverted?t.before:t.after;return o&&n.push((0,r.h)("div",{class:`${By}__after`},o())),()=>(0,r.h)("div",{class:[{[By]:!0},{[`${By}--vertical`]:e.vertical},{[`${By}--is-first`]:e.isFirst},{[`${By}--is-last`]:e.isLast}]},n)}}),Wy=ke(My),Fy=ke(_y),Uy=5,jy=(0,l.KR)([]),zy=e=>{var t;return(null==(t=e.component)?void 0:t.props)||{}},Ky=e=>e.el?e.el.offsetHeight+Uy:0,Gy=e=>{const t=(0,r.nI)(),n=(0,r.EW)(()=>{const n=jy.value.findIndex(e=>e===t.vnode);return-1===n?0:jy.value.slice(n+1).reduce((t,n)=>{const{position:r}=zy(n),{position:a}=e;return a===r?Ky(n)+t:t},0)});return(0,r.sV)(()=>{jy.value.unshift(t.vnode)}),(0,r.xo)(()=>{jy.value=jy.value.filter(e=>e!==t.vnode)}),{yOffset:n,updateYOffset:()=>{jy.value=jy.value.filter(e=>e!==t.vnode)}}},Xy=()=>{let e;const t=(...t)=>(e=window.setTimeout(...t),e),n=()=>e&&window.clearTimeout(e);return{start:t,clear:n}},Hy=["role","aria-live"],qy={class:"va-toast__group"},Qy=["textContent"],Yy={class:"va-toast__content"},Jy=["innerHTML"],Zy=["textContent"],eb={key:1,class:"va-toast__content"},tb=(0,r.pM)({name:"VaToast",__name:"VaToast",props:{...Ne,title:{type:String,default:""},offsetY:{type:[Number,String],default:16},offsetX:{type:[Number,String],default:16},message:{type:[String,Function],default:""},dangerouslyUseHtmlString:{type:Boolean,default:!1},icon:{type:String,default:"close"},customClass:{type:String,default:""},duration:{type:[Number,String],default:5e3},color:{type:String,default:"primary"},closeable:{type:Boolean,default:!0},onClose:{type:Function},onClick:{type:Function},multiLine:{type:Boolean,default:!1},position:{type:String,default:"top-right",validator:e=>["top-right","top-center","top-left","bottom-right","bottom-center","bottom-left"].includes(e)},render:{type:Function},ariaCloseLabel:Wn("$t:close"),role:{type:String,default:void 0},inline:{type:Boolean,default:!1}},emits:["on-click","on-close"],setup(e,{emit:t}){const n=(0,r.pM)({name:"VaToastRenderer",props:{render:{type:Function,required:!0}},setup:e=>()=>e.render()}),{tp:a}=Un(),o=e,i=t,s=(0,l.IJ)(),{getColor:u}=Xt(),{textColorComputed:c}=Ht((0,r.EW)(()=>u(o.color))),d=je("offsetY"),h=je("offsetX"),p=je("duration"),f=(0,l.KR)(!1),{yOffset:v,updateYOffset:m}=Gy(o),g=(0,r.EW)(()=>({vertical:o.position.includes("top")?"top":"bottom",horizontal:o.position.includes("center")?"center":o.position.includes("right")?"right":"left"})),y=()=>{const e=g.value.vertical,t=g.value.horizontal;return"center"===t?{[e]:`${d.value+v.value}px`,left:"50%","--va-toast-x-shift":"-50%"}:{[e]:`${d.value+v.value}px`,[t]:`${h.value}px`}},_=(0,r.EW)(()=>[o.customClass,o.multiLine?"va-toast--multiline":"",o.inline?"va-toast--inline":"",[`va-toast--${o.position}`]]),w=(0,r.EW)(()=>({...y(),backgroundColor:u(o.color),color:c.value})),E=(0,r.EW)(()=>"status"===o.role?"polite":"assertive"),k=(0,r.EW)(()=>"function"===typeof o.message?o.message():o.message),C=()=>{var e,t;null==(e=s.value)||e.removeEventListener("transitionend",C),null==(t=s.value)||t.remove()},S=()=>{"function"===typeof o.onClick?o.onClick():i("on-click")},R=()=>{f.value=!1,m()},T=()=>{"function"===typeof o.onClose?o.onClose():i("on-close"),C()},I=Xy(),x=I.clear,A=()=>{p.value>0&&I.start(()=>f.value&&R(),p.value)};return(0,r.sV)(()=>{f.value=!0,A()}),(e,t)=>((0,r.uX)(),(0,r.Wv)(Ze.eB,{name:"va-toast-fade",onAfterLeave:T},{default:(0,r.k6)(()=>[(0,r.bo)((0,r.Lk)("div",{ref_key:"rootElement",ref:s,role:e.$props.role??e.$props.closeable?"alertdialog":"alert","aria-live":E.value,"aria-atomic":"true",class:(0,b.C4)(["va-toast",_.value]),style:(0,b.Tr)(w.value),onMouseenter:t[0]||(t[0]=(...e)=>(0,l.R1)(x)&&(0,l.R1)(x)(...e)),onMouseleave:A,onClick:S},[(0,r.Lk)("div",qy,[e.$props.title?((0,r.uX)(),(0,r.CE)("h2",{key:0,class:"va-toast__title",textContent:(0,b.v_)(e.$props.title)},null,8,Qy)):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("div",Yy,[e.$props.dangerouslyUseHtmlString?((0,r.uX)(),(0,r.CE)("div",{key:0,innerHTML:k.value},null,8,Jy)):((0,r.uX)(),(0,r.CE)("p",{key:1,textContent:(0,b.v_)(k.value)},null,8,Zy))],512),[[Ze.aG,e.$props.message]]),e.$props.render?((0,r.uX)(),(0,r.CE)("div",eb,[(0,r.bF)((0,l.R1)(n),{render:e.$props.render},null,8,["render"])])):(0,r.Q3)("",!0),e.$props.closeable?((0,r.uX)(),(0,r.Wv)(Bn,{key:2,class:"va-toast__close-icon",role:"button","aria-label":(0,l.R1)(a)(e.$props.ariaCloseLabel),tabindex:"0",size:"1rem",name:e.$props.icon,onClick:(0,Ze.D$)(R,["stop"]),onKeydown:(0,Ze.jR)((0,Ze.D$)(R,["stop"]),["enter"])},null,8,["aria-label","name","onKeydown"])):(0,r.Q3)("",!0)])],46,Hy),[[Ze.aG,f.value]])]),_:1}))}}),nb=Ee(tb);let rb=1;Ue().vaToastInstances=[];const ab=e=>{var t;return(null==(t=e.component)?void 0:t.props)||{}},ob=(e,t)=>{if(!e)return;if(!Ue().vaToastInstances.length)return void(rb=1);const n=Ue().vaToastInstances.findIndex(t=>t===e);n<0||(t(),Ue().vaToastInstances=Ue().vaToastInstances.reduce((t,n,r)=>n===e?t:[...t,n],[]),Ue().vaToastInstances.length||(rb=1))},ib=(e,t)=>{e&&((0,Ze.XX)(null,e),e.remove()),e=null},sb=(e,{props:t,children:n,element:a,appContext:o}={})=>{let i,s=a;const l=()=>{ob(i,()=>ib(s)),(null==t?void 0:t.onClose)&&t.onClose()};return i=(0,r.bF)(e,{...t,onClose:l},n),o&&(i.appContext=o),s?(0,Ze.XX)(i,s):"undefined"!==typeof document&&(0,Ze.XX)(i,s=document.createElement("div")),{vNode:i,el:s}},lb=e=>{Ue().vaToastInstances.length?Ue().vaToastInstances.forEach(t=>{e&&t.appContext!==e||ab(t).onClose()}):rb=1},ub=e=>{const t=Ue().vaToastInstances.find(t=>{var n;return(null==(n=t.el)?void 0:n.id)===e});if(t){const e=ab(t);e.onClose()}},cb=e=>"string"===typeof e?{message:e}:e,db=(e,t)=>{const{vNode:n,el:r}=sb(nb,{appContext:t,props:cb(e)}),a=ab(n);return r&&n.el&&a?(document.body.appendChild(r.childNodes[0]),n.el.id="notification_"+rb,rb+=1,Ue().vaToastInstances.push(n),n.el.id):null},hb={nodes:{type:Array,default:[]},stateful:{type:Boolean,default:!0},selectable:{type:Boolean,default:!1},selectionType:{type:String,default:"leaf",validator:e=>["leaf","independent"].includes(e)},valueBy:{type:[String,Function],default:"id"},textBy:{type:[String,Function],default:"label"},trackBy:{type:[String,Function],default:"id"},iconBy:{type:[String,Function],default:"icon"},disabledBy:{type:[String,Function],default:"disabled"},expandedBy:{type:[String,Function],default:"expanded"},checkedBy:{type:[String,Function],default:"checked"},childrenBy:{type:[String,Function],default:"children"},expandAll:{type:Boolean,default:!1},expanded:{type:Array,default:[]},expandNodeBy:{type:String,default:"leaf"},filter:{type:String,default:""},filterMethod:{type:Function,default:void 0},checked:{type:Array,default:[]},color:{type:String,default:"primary"}},pb=["update:modelValue","update:checked","update:expanded","update:selected"],fb=e=>{const t=e=>{const t=typeof e;return"string"===t||"number"===t},n=(e,n)=>!n||t(e)?e:Ms(e,n),r=t=>n(t,e.valueBy),a=t=>e.valueBy&&e.nodes.find(e=>t===r(e))||t,o=t=>n(t,e.textBy),i=t=>n(t,e.checkedBy),s=t=>n(t,e.disabledBy),l=t=>n(t,e.expandedBy),u=t=>n(t,e.trackBy),c=t=>n(t,e.childrenBy)??[],d=(e,t)=>{e.forEach(e=>{const n=e.children||[];n.length&&d(n,t),t(e)})};return{getText:o,getValue:r,getChecked:i,getTrackBy:u,getChildren:c,getDisabled:s,getExpanded:l,iterateNodes:d,getNodeByValue:a,getNodeProperty:n}},vb=Symbol("TreeView"),mb=(e,t)=>{const{emit:n,toggleNode:r,toggleCheckbox:a}=t,o=e=>"true"===(null==e?void 0:e.getAttribute("aria-expanded")),i=e=>{var t;return(null==(t=null==e?void 0:e.parentElement)?void 0:t.closest(".va-tree-node"))||null},s=e=>null==e?void 0:e.previousElementSibling,l=e=>{if(!e)return null;let t=s(e),n=o(t)&&h(t);if(n)do{if(o(n)){if(n=h(n),n)continue;break}t=n;break}while(1);return t||i(e)},u=e=>null==e?void 0:e.nextElementSibling,c=e=>{if(!e)return null;let t=u(e);const n=o(e);if(!t){let n=i(e);do{if(u(n)){t=u(n);break}if(n=i(n),!n)break}while(1)}return n?d(e):t},d=e=>{var t;return(null==(t=null==e?void 0:e.querySelector(".va-tree-node-children"))?void 0:t.firstElementChild)||null},h=e=>{var t;return(null==(t=null==e?void 0:e.querySelector(".va-tree-node-children"))?void 0:t.lastElementChild)||null},p=(e,t,n)=>{var a,s;const l=o(e);"left"===t?l?r(n):null==(a=i(e))||a.focus():l?null==(s=d(e))||s.focus():r(n)},f=(e,t)=>{var n,r;"up"===t?null==(n=l(e))||n.focus():null==(r=c(e))||r.focus()},v=(t,r)=>{const o=t.target;switch(t.code){case"ArrowUp":f(o,"up");break;case"ArrowRight":p(o,"right",r);break;case"ArrowDown":f(o,"down");break;case"ArrowLeft":p(o,"left",r);break;case"Space":if(e.selectable){const e="undefined"!==typeof r.checked?!r.checked:null;a(r,e)}else n("update:selected",r);break;case"Escape":e.selectable||n("update:selected",null),o.blur();break;default:o.blur()}};return{handleKeyboardNavigation:v}},gb=mb,yb=(e,t)=>{const{getColor:n}=Xt(),a=(0,r.EW)(()=>n(e.color)),o=(0,r.EW)(()=>"leaf"===e.selectionType),{getText:i,getValue:s,getChecked:u,getTrackBy:c,getChildren:d,getDisabled:h,getExpanded:p,iterateNodes:f,getNodeProperty:v}=fb(e),{nodes:m,expandAll:g,filter:y,filterMethod:b,textBy:_}=(0,l.QW)(e),{valueComputed:w}=$e(e,t,"expanded"),{valueComputed:E}=$e(e,t,"checked"),k=(0,l.KR)(),C=(0,r.EW)({get:()=>k.value,set:e=>{const n=s(e);k.value!==n&&(k.value=n,t("update:selected",e))}}),S=(e,t,n)=>{e.value=n?e.value.concat(t).filter((e,t,n)=>n.indexOf(e)===t):e.value.filter(e=>!t.includes(e))},R=(e,t)=>{let n=null===t||t;t&&e.indeterminate&&(n=!1);const r=[s(e)];if(o.value&&e.hasChildren){const t=e=>{e.forEach(e=>{if(e.disabled)return;const n=d(e);n.length&&t(n),r.push(s(e))})};t(d(e))}S(E,r,n)},T=e=>{e.expanded=!e.expanded},I=({node:t,level:n,children:r=[],computedFilterMethod:a})=>{var i;const l=s(t);let u=!0;const c=!!r.length;let d=!1,p=E.value.includes(l)||!1;if(o.value&&c){const e=r.every(e=>e.checked);p=e,d=!e&&r.some(e=>e.indeterminate||e.checked),d&&(p=null)}return y.value&&(u=(null==r?void 0:r.some(e=>e.matchesFilter))||(null==(i=a.value)?void 0:i.call(a,t,y.value,_.value))),{...t,level:n,checked:p,children:r,get disabled(){return h(t)||!1},get expanded(){const n=e.expandedBy;return n in t?t[n]:w.value.includes(l)||!1},set expanded(n){const r=e.expandedBy;t[r]=n,c&&S(w,[s(t)],n)},hasChildren:c,matchesFilter:u,indeterminate:d}},x=(0,r.EW)(()=>(null==b?void 0:b.value)?b.value:(e,t)=>i(e).toLowerCase().includes(t.toLowerCase())),A=(e,t=0)=>e.map(e=>{const n=d(e);if(n.length){const r=A(n,t+1);return I({node:e,level:t,children:r,computedFilterMethod:x})}return I({node:e,level:t,computedFilterMethod:x})}),V=e=>e.filter(e=>(e.children&&(e.children=V(e.children)),0===e.children.length&&(e.hasChildren=!1),e.matchesFilter)),{handleKeyboardNavigation:$}=gb(e,{emit:t,toggleCheckbox:R,toggleNode:T});(0,r.Gt)(vb,{selectedNodeComputed:C,colorComputed:a,iconBy:e.iconBy,selectable:e.selectable,expandNodeBy:e.expandNodeBy,getText:i,getValue:s,getTrackBy:c,toggleNode:T,toggleCheckbox:R,getNodeProperty:v,handleKeyboardNavigation:$});const N=(0,r.EW)(()=>A(m.value)),L=()=>{const e=[],t=[];f(m.value,n=>{(g.value||p(n))&&e.push(s(n)),u(n)&&t.push(s(n))}),e.length&&S(w,e,!0),t.length&&S(E,t,!0)};return L(),{treeItems:(0,r.EW)(()=>V(N.value)),getText:i,getTrackBy:c,toggleCheckbox:R}},bb=yb,_b=["role","aria-expanded","aria-disabled","aria-checked","tabindex"],wb={class:"va-tree-node-root"},Eb={key:2,class:"va-tree-node-content__item"},kb=["aria-hidden"],Cb="The VaTreeNode component should be used in the context of VaTreeView component",Sb=(0,r.pM)({name:"VaTreeNode",__name:"VaTreeNode",props:{node:{type:Object,required:!0}},setup(e){const t=e,{iconBy:n,selectable:a,expandNodeBy:o,colorComputed:i,selectedNodeComputed:s,getText:u,getTrackBy:c,toggleNode:d,toggleCheckbox:h,getNodeProperty:p,handleKeyboardNavigation:f}=Dp(vb,Cb),v=(0,r.EW)(()=>u(t.node)||""),m=(0,r.EW)(()=>t.node.hasChildren?!!t.node.expanded:void 0),g=(0,r.EW)(()=>p(t.node,n)),y=(0,r.EW)(()=>t.node.hasChildren?"group":"treeitem"),_=gr("va-tree-node",()=>({disabled:Boolean(t.node.disabled),checked:Boolean(t.node.checked),hasChildren:Boolean(t.node.hasChildren),[`level-${t.node.level}`]:!0,[`expand-by-${o}`]:!0})),w=gr("va-tree-node-children",()=>({expanded:!!m.value})),E=gr("va-tree-node-content",()=>({indent:!1===t.node.hasChildren})),k=gr("va-tree-node-content",()=>({clickable:!0===t.node.hasChildren&&"node"===o})),C=(0,r.EW)(()=>t.node.disabled?-1:0),S=e=>{const n="node"===o&&"leaf"===e?"node":e;o===n&&d(t.node),s.value=t.node};return(e,t)=>{const n=(0,r.g2)("va-tree-node",!0);return(0,r.uX)(),(0,r.CE)("div",{class:(0,b.C4)(["va-tree-node",(0,l.R1)(_)]),role:y.value,"aria-expanded":m.value,"aria-disabled":e.$props.node.disabled,"aria-checked":!!e.$props.node.checked,tabindex:C.value,onKeydown:[t[4]||(t[4]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(f)(t,e.$props.node),["stop","prevent"]),["up"])),t[5]||(t[5]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(f)(t,e.$props.node),["stop","prevent"]),["right"])),t[6]||(t[6]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(f)(t,e.$props.node),["stop","prevent"]),["down"])),t[7]||(t[7]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(f)(t,e.$props.node),["stop","prevent"]),["left"])),t[8]||(t[8]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(f)(t,e.$props.node),["stop","prevent"]),["space"])),t[9]||(t[9]=(0,Ze.jR)((0,Ze.D$)(t=>(0,l.R1)(f)(t,e.$props.node),["stop","prevent"]),["esc"]))]},[(0,r.Lk)("div",wb,[(0,r.Lk)("div",{class:(0,b.C4)(["va-tree-node-content",(0,l.R1)(E)]),onClick:t[3]||(t[3]=e=>S("node"))},[e.$props.node.hasChildren?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"va-tree-node-content__item va-tree-node-content__item--leaf",onClick:t[0]||(t[0]=(0,Ze.D$)(e=>S("leaf"),["stop"]))},[(0,r.RG)(e.$slots,"icon-toggle",(0,b._B)((0,r.Ng)(e.$props.node)),()=>[(0,r.bF)((0,l.R1)(Pn),{name:m.value?"keyboard_arrow_down":"keyboard_arrow_right",size:"20px"},null,8,["name"])])])):(0,r.Q3)("",!0),(0,l.R1)(a)?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"va-tree-node-content__item",onClick:t[2]||(t[2]=(0,Ze.D$)(()=>{},["stop"]))},[(0,r.RG)(e.$slots,"checkbox",(0,b._B)((0,r.Ng)(e.$props.node)),()=>[(0,r.bF)((0,l.R1)(mu),{"model-value":e.$props.node.checked,color:(0,l.R1)(i),indeterminate:"","onUpdate:modelValue":t[1]||(t[1]=t=>(0,l.R1)(h)(e.$props.node,t)),class:"va-tree-node__checkbox"},null,8,["model-value","color"])])])):(0,r.Q3)("",!0),g.value?((0,r.uX)(),(0,r.CE)("div",Eb,[(0,r.RG)(e.$slots,"icon",(0,b._B)((0,r.Ng)(e.$props.node)),()=>[(0,r.bF)((0,l.R1)(Pn),{name:g.value,size:"small"},null,8,["name"])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",{class:(0,b.C4)(["va-tree-node-content__body",(0,l.R1)(k)])},[(0,r.RG)(e.$slots,"content",(0,b._B)((0,r.Ng)(e.$props.node)),()=>[(0,r.eW)((0,b.v_)(v.value),1)])],2)],2)]),(0,r.bo)((0,r.Lk)("div",{"aria-hidden":!e.$props.node.expanded,class:(0,b.C4)(["va-tree-node-children",(0,l.R1)(w)])},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.$props.node.children,t=>((0,r.uX)(),(0,r.Wv)(n,{key:(0,l.R1)(c)(t),node:t},(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1032,["node"]))),128))],10,kb),[[Ze.aG,e.$props.node.hasChildren]])],42,_b)}}}),Rb=ke(Sb),Tb={class:"va-tree-view",role:"tree"},Ib=(0,r.pM)({name:"VaTreeView",__name:"VaTreeView",props:{...hb},emits:[...pb],setup(e,{emit:t}){const n=e,a=t,{treeItems:o,getTrackBy:i}=bb(n,a);return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Tb,[e.$props.filter&&!(0,l.R1)(o).length?(0,r.RG)(e.$slots,"not-found",{key:0},()=>[(0,r.eW)("No matching nodes found")]):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)((0,l.R1)(o),t=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Rb),{key:(0,l.R1)(i)(t),node:t},(0,r.eX)({_:2},[(0,r.pI)(e.$slots,(t,n)=>({name:n,fn:(0,r.k6)(t=>[(0,r.RG)(e.$slots,n,(0,b._B)((0,r.Ng)(t)))])}))]),1032,["node"]))),128))]))}}),xb=ke(Ib),Ab={class:"va-scroll-container__content"},Vb=(0,r.pM)({name:"VaScrollContainer",__name:"VaScrollContainer",props:{...cn,vertical:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!1},color:{type:String,default:"secondary"},rtl:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1},sizesConfig:{type:Object,default:()=>({defaultSize:4,sizes:{small:4,medium:6,large:8}})},size:{type:String,default:"small",validator:e=>["small","medium","large"].includes(e)}},setup(e){const t=e,{getColor:n}=Xt(),{sizeComputed:a}=mn(t),o=(0,r.EW)(()=>t.horizontal?"auto":"hidden"),i=(0,r.EW)(()=>t.vertical?"auto":"hidden"),s=(0,r.EW)(()=>{const e=n(t.color);return t.gradient?`linear-gradient(0deg, var(--va-scroll-container-scrollbar-gradient-to) 0%, ${e} 100%)`:e}),l=(0,r.EW)(()=>a.value),u=(0,r.EW)(()=>t.rtl?"rtl":"ltr");return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"va-scroll-container",style:(0,b.Tr)(`--va-scroll-color: ${String(s.value)};--va-scrollbar-size: ${String(l.value)};--va-overflow-x: ${String(o.value)};--va-overflow-y: ${String(i.value)};--va-scrollbar-position: ${String(u.value)}`)},[(0,r.Lk)("div",Ab,[(0,r.RG)(e.$slots,"default")])],4))}}),$b=ke(Vb),Nb={class:"va-viewer-content"},Lb=(0,r.pM)({name:"VaViewer",inheritAttrs:!1,__name:"VaViewer",setup(e,{expose:t}){const n=(0,l.KR)(),a=(0,l.KR)(),o=eo(),i=(0,l.KR)(!0),s=(0,r.EW)(()=>o.value&&!i.value),u=()=>i.value=!1,c=()=>i.value=!0,d=(0,r.Ht)(),h=()=>{d.anchor||u()};ws([n,a],c);const p=Za(),f=(0,r.EW)(()=>{var e;return null==(e=p.value)?void 0:e.body});return t({openViewer:u,closeViewer:c}),(e,t)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",(0,r.v6)({class:"va-viewer"},e.$attrs,{onClick:h}),[(0,r.RG)(e.$slots,"anchor",(0,b._B)((0,r.Ng)({openViewer:u}))),e.$slots.anchor?(0,r.Q3)("",!0):(0,r.RG)(e.$slots,"default",{key:0})],16),s.value?((0,r.uX)(),(0,r.Wv)(r.Im,{key:0,to:f.value},[(0,r.Lk)("div",Nb,[(0,r.Lk)("div",{ref_key:"content",ref:n,class:"va-viewer-content__main-area"},[e.$slots.image?(0,r.Q3)("",!0):(0,r.RG)(e.$slots,"default",{key:0}),(0,r.RG)(e.$slots,"image")],512),(0,r.Lk)("div",{ref_key:"controls",ref:a,class:"va-viewer-content__controls-panel"},[(0,r.RG)(e.$slots,"controls"),(0,r.RG)(e.$slots,"close",(0,b._B)((0,r.Ng)({close:c})),()=>[(0,r.Lk)("button",{class:"va-viewer-content__close-button",onClick:c},[(0,r.bF)((0,l.R1)(Pn),{name:"close",color:"backgroundPrimary"})])])],512)])],8,["to"])):(0,r.Q3)("",!0)],64))}}),Ob=ke(Lb),Db=(0,r.pM)({name:"VaValue",props:{defaultValue:{type:null,required:!1,default:!1}},setup(e,{slots:t}){const n=(0,l.KR)(e.defaultValue),a=new Proxy(n,{get(e,t){return"value"===t?e.value:e[t]},set(e,t,n){return"value"===t&&(e.value=n),!0}});return()=>(0,r.h)(r.FK,[Ua(t.default,a)])}}),Bb=ke(Db),Pb=e=>{const t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="auto";const{font:n}=window.getComputedStyle(e);return t.style.font=n,t.textContent="Vuestic",t.style.zIndex="-1",t.style.pointerEvents="none",t.style.opacity="0",t.ariaHidden="true",t.innerText=e.value,t},Mb=(e,t)=>{const n=(0,l.KR)(),a=(0,l.KR)();return(0,r.wB)(e,t=>{var r,a;t&&(n.value=Pb(t),null==(a=null==(r=e.value)?void 0:r.parentElement)||a.appendChild(n.value))}),wu(n,t=>{t&&e.value&&(a.value=t[0].contentRect.height)}),(0,r.wB)(t,e=>{n.value&&(n.value.innerText=String(e),n.value.innerHTML+="&nbsp;;")}),a},Wb=["rows","loading","ariaLabel"],Fb=e=>{if(e>0)return!0;throw new Error(`\`minRows|maxRows\` must be a positive integer greater than 0, but ${e} is provided`)},{createEmits:Ub,createListeners:jb}=Is(["input","change","click","update:modelValue"]),zb=fr(Xu),Kb=(0,r.pM)({name:"VaTextarea",__name:"VaTextarea",props:{...Lu,...zb,...xe,...Kl,modelValue:{type:[String,Number],default:""},placeholder:{type:String},autosize:{type:Boolean,default:!1},minRows:{type:[Number,String],default:1,validator:Fb},maxRows:{type:[Number,String],validator:Fb},resize:{type:Boolean,default:!0},clearValue:{type:[String],default:""}},emits:[...Ub(),...Gl],setup(e,{expose:t,emit:n}){const a=e,o=n,i=(0,r.OA)(),s=(0,l.IJ)(),{valueComputed:c}=$e(a,o,"modelValue",{defaultValue:""}),d=()=>{Dr(s.value)},h=()=>{Br(s.value)},p=()=>k(()=>{o("update:modelValue",a.clearValue),o("clear"),E()}),{isDirty:f,isTouched:v,computedError:m,computedErrorMessages:g,listeners:y,validationAriaAttributes:_,isLoading:w,resetValidation:E,withoutValidation:k}=Yl(a,o,{value:c,focus:d,reset:p}),C=(0,r.EW)(()=>a.resize&&!a.autosize),S=(0,l.KR)(a.minRows),R=Mb(s,c);function T(){let e=parseFloat(String(a.minRows)),t=parseFloat(String(a.maxRows));if(e=isNaN(e)?1:e,t=isNaN(t)?1/0:t,!a.autosize)return void(S.value=Math.max(t,Math.min(e,t??0)));if(!R.value||!s.value)return;const n=getComputedStyle(s.value),r=R.value,o=parseFloat(n.lineHeight),i=Math.max(e*o,e+Math.round(o)),l=t*o||1/0,u=Math.max(i,Math.min(l,r??0));S.value=Math.round(u/o),s.value.style.height=`${u+1}px`}(0,r.nT)(()=>{T()});const I=(0,r.EW)(()=>({resize:C.value?void 0:"none"})),x=(0,r.EW)(()=>({...tr(a,["disabled","readonly","placeholder","name"])})),A=(0,r.EW)(()=>({..._.value,...u(i,["class","style"])})),V=yr(zb),$=jb(o);return t({isDirty:f,isTouched:v,isLoading:w,computedError:m,computedErrorMessages:g,reset:p,focus:d,blur:h,value:c,withoutValidation:k,resetValidation:E}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(Xu),(0,r.v6)({class:"va-textarea"},(0,l.R1)(V),{error:(0,l.R1)(m),"error-messages":(0,l.R1)(g)}),{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,b.C4)(["va-textarea__resize-wrapper",{"va-textarea__resize-wrapper--resizable":C.value}])},[(0,r.bo)((0,r.Lk)("textarea",(0,r.v6)({"onUpdate:modelValue":n[0]||(n[0]=e=>(0,l.i9)(c)?c.value=e:null)},{...x.value,...(0,l.R1)($),...A.value,...(0,l.R1)(y)},{class:["va-textarea__textarea",{"va-textarea__textarea--autosize":e.autosize}],ref_key:"textarea",ref:s,rows:S.value,style:I.value,loading:(0,l.R1)(w),ariaLabel:t.$props.label}),null,16,Wb),[[Ze.Jo,(0,l.R1)(c)]])],2)]),_:1},16,["error","error-messages"]))}}),Gb=Ee(Kb),Xb='[role="menuitem"]:not([aria-disabled="true"])',Hb='[role="menuitem"]:focus',qb=e=>({role:"menuitem",tabindex:-1,"aria-disabled":Boolean(e.disabled)}),Qb=()=>({role:"menu",tabindex:0}),Yb=e=>{jr("keydown",({key:t})=>{if(!e.value)return;const n=e.value.querySelectorAll(Xb),r=e.value.querySelector(Hb);if(n.length){if(!r){const t=e.value.querySelector(Xb);return void(t&&Dr(t))}if("ArrowDown"===t||"ArrowRight"===t){const e=Array.from(n).indexOf(r);Dr(n[e+1])}if("ArrowUp"===t||"ArrowLeft"===t){const e=Array.from(n).indexOf(r);Dr(n[e-1])}}},e)},Jb={class:"va-menu-item__cell va-menu-item__cell--left"},Zb={class:"va-menu-item__cell va-menu-item__cell--center"},e_={class:"va-menu-item__content"},t_={class:"va-menu-item__cell va-menu-item__cell--right"},n_=(0,r.pM)({name:"VaMenuItem",__name:"VaMenuItem",props:{name:{type:String,default:""},icon:{type:String,defatult:""},rightIcon:{type:String,defatult:""},disabled:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const{hasKeyboardFocus:n,keyboardFocusListeners:a}=ou();return(t,o)=>((0,r.uX)(),(0,r.CE)("tr",(0,r.v6)({class:"va-menu-item"},(0,l.R1)(qb)({disabled:e.disabled}),(0,r.Tb)((0,l.R1)(a),!0),{class:{"va-menu-item--disabled":e.disabled,"va-menu-item--keyboard-focus":(0,l.R1)(n)},onClick:o[0]||(o[0]=e=>t.$emit("selected")),onKeydown:o[1]||(o[1]=(0,Ze.jR)(e=>t.$emit("selected"),["enter","space"]))}),[(0,r.Lk)("td",Jb,[(0,r.RG)(t.$slots,"left-icon",{},()=>[e.icon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,class:"va-menu-item__icon--left",name:e.icon},null,8,["name"])):(0,r.Q3)("",!0)])]),(0,r.Lk)("td",Zb,[(0,r.RG)(t.$slots,"default",{},()=>[(0,r.Lk)("a",e_,(0,b.v_)(e.name),1)])]),(0,r.Lk)("td",t_,[(0,r.RG)(t.$slots,"right-icon",{},()=>[e.rightIcon?((0,r.uX)(),(0,r.Wv)((0,l.R1)(Pn),{key:0,class:"va-menu-item__icon--right",name:e.rightIcon},null,8,["name"])):(0,r.Q3)("",!0)])])],16))}}),r_={class:"va-menu-list__group-name"},a_=(0,r.pM)({name:"VaMenuGroup",__name:"VaMenuGroup",props:{groupName:{type:String,required:!0},color:{type:String,default:"secondary"}},setup(e){const t=e,{getColor:n}=Xt(),a=(0,r.EW)(()=>n(t.color));return(t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",{class:"va-menu-list__group-name-wrapper",colspan:"99999",style:(0,b.Tr)(`--va-color-computed: ${String(a.value)}`)},[(0,r.Lk)("span",r_,(0,b.v_)(e.groupName),1)],4),(0,r.RG)(t.$slots,"default",{style:(0,b.Tr)(`--va-color-computed: ${String(a.value)}`)},void 0,!0)],64))}}),o_=qs(a_,[["__scopeId","data-v-4dd1ae9a"]]),i_={colspan:"9999"},s_=(0,r.pM)({name:"VaMenuList",__name:"VaMenuList",props:{...Ws,options:{type:Array,default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const n=e,a=(0,l.KR)();Yb(a);const{getText:o,getValue:i,getDisabled:s,getGroupBy:u,getTrackBy:c}=Fs(n),d=(0,r.EW)(()=>n.options.reduce((e,t)=>{const n=u(t);return n?(e[n]||(e[n]=[]),e[n].push(t)):e._noGroup.push(t),e},{_noGroup:[]})),h=e=>Array.isArray(e)&&e[0].type===r.FK?e[0].children:e,p=e=>"object"===typeof e.type&&"name"in e.type&&"string"===typeof e.type.name?e.type.name:"",f=e=>"string"===typeof e.type?e.type:"object"===typeof e.type&&"name"in e.type&&"string"===typeof e.type.name?e.type.name:String(e.key);return(e,t)=>((0,r.uX)(),(0,r.CE)("table",(0,r.v6)({class:"va-menu-list",ref_key:"container",ref:a},(0,l.R1)(Qb)()),[(0,r.Lk)("tbody",null,[e.$slots.default?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(h(e.$slots.default()),e=>((0,r.uX)(),(0,r.CE)(r.FK,null,["VaMenuItem"===p(e)?((0,r.uX)(),(0,r.Wv)((0,r.$y)(e),{key:f(e)+"menuitem"})):"VaDropdown"===p(e)?((0,r.uX)(),(0,r.Wv)((0,r.$y)(e),{key:f(e)+"menu-dropdown"})):((0,r.uX)(),(0,r.CE)("td",{colspan:"999",key:f(e),class:"va-menu-list__virtual-td"},[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e)))]))],64))),256)):(0,r.RG)(e.$slots,"default",{key:1},()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.value,(t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:n},["_noGroup"!==n?(0,r.RG)(e.$slots,"group",{key:0},()=>[(0,r.Lk)("tr",null,[(0,r.Lk)("td",i_,[(0,r.bF)(o_,{"group-name":n},null,8,["group-name"])])])]):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t,t=>((0,r.uX)(),(0,r.Wv)(n_,{key:(0,l.R1)(c)(t),name:(0,l.R1)(o)(t),icon:t.icon,"right-icon":t.rightIcon,disabled:(0,l.R1)(s)(t),onSelected:n=>e.$emit("selected",(0,l.R1)(i)(t),t)},{"left-icon":(0,r.k6)(t=>[(0,r.RG)(e.$slots,"left-icon",(0,b._B)((0,r.Ng)(t)))]),"right-icon":(0,r.k6)(t=>[(0,r.RG)(e.$slots,"right-icon",(0,b._B)((0,r.Ng)(t)))]),_:2},1032,["name","icon","right-icon","disabled","onSelected"]))),128))],64))),128))])])],16))}}),l_=Ee(s_),u_=Ee(n_),c_=Ee(o_),d_=e=>{(0,r.nT)(()=>{e.value&&(0,r.dY)(()=>{Dr(Lr(e.value))})})},h_=fr(l_),p_=vr(l_),f_=fr(ks),v_=vr(ks),m_=(0,r.pM)({name:"VaMenu",__name:"VaMenu",props:{...Ne,...h_,...f_,stickToEdges:{type:Boolean,default:!0}},emits:[...v_,...p_],setup(e,{expose:t,emit:n}){const a=(0,l.KR)(),o=(0,l.KR)();d_(a);const i=()=>{var e;null==(e=o.value)||e.hide(),(0,r.dY)(()=>{var e;const t=Lr(null==(e=o.value)?void 0:e.anchorRef);t&&Pr(t)})},s=e=>{"Escape"===e.key&&i(),"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault()},u=yr(h_),c=yr(f_);return t({close:i}),(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(ks),(0,r.v6)((0,l.R1)(c),{ref_key:"dropdown",ref:o}),{anchor:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"anchor")]),default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(Ss),{onKeydown:s},{default:(0,r.k6)(()=>[(0,r.bF)((0,l.R1)(l_),(0,r.v6)({onKeydown:t[0]||(t[0]=(0,Ze.jR)((0,Ze.D$)(()=>{},["prevent","stop"]),["enter","space"]))},(0,l.R1)(u),{ref_key:"menuList",ref:a,onSelected:t[1]||(t[1]=t=>{e.$emit("selected",t),i()})}),(0,r.eX)({_:2},[e.$slots.default?{name:"default",fn:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),key:"0"}:void 0]),1040)]),_:3})]),_:3},16))}}),g_=Ee(m_),y_={rules:()=>[],dirty:!1,errorCount:1,success:!1,messages:()=>[],immediateValidation:!1},b_={stateful:!1},__=(0,r.pM)({__name:"VaFormField",props:(0,r.HF)({stateful:{type:Boolean},modelValue:{},name:{},rules:{},dirty:{type:Boolean},error:{type:Boolean},errorMessages:{},errorCount:{},success:{type:Boolean},messages:{},immediateValidation:{type:Boolean},clearValue:{}},{...b_,...y_}),emits:["update:error","update:errorMessages","update:dirty","update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{valueComputed:o}=$e(n,a,"modelValue"),i=()=>{o.value=n.clearValue},s=()=>{},{computedError:u,computedErrorMessages:c,validate:d,isDirty:h,isLoading:p,isValid:f,resetValidation:v,validationAriaAttributes:m,listeners:g}=Yl(n,a,{reset:i,focus:s,value:o}),y=(0,r.EW)(()=>u.value?c.value:n.messages),_=(0,r.EW)(()=>f.value?n.success?"success":"":"danger"),w=(0,r.EW)(()=>n.error?Number(n.errorCount):99),E=(0,l.KR)(o.value);(0,r.nT)(()=>{E.value=o.value});const k=()=>new Proxy(E,{get(e,t){return"ref"===t?E.value:Reflect.get(e,t)},set(e,t,n){return"ref"===t?(E.value=n,o.value=n,!0):Reflect.set(o,t,n)}});return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,l.R1)(uu),{"model-value":y.value,"has-error":!(0,l.R1)(f),color:_.value,limit:w.value},(0,r.eX)({default:(0,r.k6)(({ariaAttributes:t,attrs:n})=>[(0,r.RG)(e.$slots,"default",(0,b._B)((0,r.Ng)({error:(0,l.R1)(u),errorMessages:y.value,messages:y.value,validate:(0,l.R1)(d),isDirty:(0,l.R1)(h),isLoading:(0,l.R1)(p),isValid:(0,l.R1)(f),resetValidation:(0,l.R1)(v),validationAriaAttributes:(0,l.R1)(m),...(0,l.R1)(g),value:k(),modelValue:k(),ariaAttributes:t,bind:{...n,...t,...(0,l.R1)(g)}})))]),_:2},[(0,r.pI)(["message","messages"],t=>({name:t,fn:(0,r.k6)(n=>[(0,r.RG)(e.$slots,t,(0,b._B)((0,r.Ng)(n)))])}))]),1032,["model-value","has-error","color","limit"]))}}),w_=Ee(__),E_=e=>{if(!e)return 0;const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return Math.max(t,n)},k_=e=>{const t=(0,l.KR)({top:0,left:0,width:0,height:0,bottom:0,right:0});let n,a;const o=()=>{e.value&&(t.value=e.value.getBoundingClientRect())};return(0,r.sV)(()=>{n=new ResizeObserver(o),a=new MutationObserver(o),e.value&&n.observe(e.value),e.value&&a.observe(e.value,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",o),window.addEventListener("scroll",o),o()}),(0,r.xo)(()=>{null==n||n.disconnect(),null==a||a.disconnect(),window.removeEventListener("resize",o),window.removeEventListener("scroll",o),n=void 0,a=void 0}),t},C_=(0,r.pM)({__name:"VaStickyScrollbar",props:{el:{},direction:{default:"horizontal"},offset:{default:0}},setup(e){const t=e,n=(0,l.KR)(null),a=je("offset"),o=(0,r.EW)(()=>{var e;return t.el?t.el:(null==(e=n.value)?void 0:e.parentNode)??null}),i=k_(o),s=(0,r.EW)(()=>{const e=o.value;if(!e)return{};const n=e,r=E_(n),{bottom:s,left:l,right:u,top:c}=i.value;return"vertical"===t.direction?l>window.innerWidth||u<window.innerWidth?{display:"none"}:{position:"fixed",top:`${c}px`,right:0,height:`${n.clientHeight}px`,overflowY:"auto",overflowX:"hidden"}:c>window.innerHeight||s<window.innerHeight?{display:"none"}:{position:"fixed",top:Math.min(s,window.innerHeight)-r-Number(a.value)+"px",width:`${n.clientWidth}px`,overflowX:"auto",overflowY:"hidden"}});jr("scroll",e=>{var r,a;n.value&&("horizontal"===t.direction?null==(r=o.value)||r.scrollTo({left:n.value.scrollLeft}):null==(a=o.value)||a.scrollTo({top:n.value.scrollTop}))},n),jr("scroll",e=>{var r,a,i,s;if(n.value)if("horizontal"===t.direction){if((null==(r=o.value)?void 0:r.scrollLeft)===n.value.scrollLeft)return;n.value.scrollTo({left:null==(a=o.value)?void 0:a.scrollLeft})}else{if((null==(i=o.value)?void 0:i.scrollTop)===n.value.scrollTop)return;n.value.scrollTo({top:null==(s=o.value)?void 0:s.scrollTop})}},o);const u=(0,l.KR)(0),c=(0,l.KR)(0);wu((0,r.EW)(()=>o.value?[...o.value.children]:[]),()=>{u.value=o.value.scrollWidth,c.value=o.value.scrollHeight});const d=(0,r.EW)(()=>"vertical"===t.direction?{width:"1px",height:`${c.value}px`}:{height:"1px",width:`${u.value}px`});return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{style:(0,b.Tr)(s.value),ref_key:"currentEl",ref:n},[(0,r.Lk)("div",{style:(0,b.Tr)(d.value)},null,4)],4))}}),S_=Object.freeze(Object.defineProperty({__proto__:null,VaAccordion:De,VaAffix:Je,VaAlert:Gn,VaAppBar:Jn,VaAspectRatio:er,VaAvatar:Er,VaAvatarGroup:Sr,VaBacktop:oa,VaBadge:Ra,VaBreadcrumbs:Pa,VaBreadcrumbsItem:Ba,VaButton:na,VaButtonDropdown:Ds,VaButtonGroup:Xa,VaButtonToggle:zs,VaCard:rl,VaCardActions:tl,VaCardBlock:nl,VaCardContent:Zs,VaCardTitle:el,VaCarousel:Ll,VaCheckbox:mu,VaChip:bu,VaCollapse:Ru,VaColorIndicator:Iu,VaColorInput:dc,VaColorPalette:fc,VaConfig:za,VaContent:bc,VaCounter:$c,VaDataTable:th,VaDateInput:pp,VaDatePicker:fp,VaDivider:bp,VaDropdown:ks,VaDropdownContent:Ss,VaFallback:lr,VaFileUpload:If,VaForm:Lf,VaFormField:w_,VaHover:_l,VaIcon:Pn,VaImage:yl,VaInfiniteScroll:Mf,VaInnerLoading:Wd,VaInput:sc,VaInputWrapper:Xu,VaLayout:rv,VaList:$p,VaListItem:Tp,VaListItemLabel:xp,VaListItemSection:Ap,VaListLabel:Ip,VaListSeparator:Vp,VaMenu:g_,VaMenuGroup:c_,VaMenuItem:u_,VaMenuList:l_,VaMessageList:uu,VaModal:Ef,VaNavbar:hv,VaNavbarItem:pv,VaOptionList:xv,VaPagination:Lv,VaParallax:Wv,VaPopover:Xv,VaProgressBar:Op,VaProgressCircle:ir,VaRadio:yv,VaRating:sm,VaScrollContainer:$b,VaSelect:jm,VaSeparator:Km,VaSidebar:rg,VaSidebarItem:dg,VaSidebarItemContent:ug,VaSidebarItemTitle:cg,VaSkeleton:Qm,VaSkeletonGroup:Ym,VaSlider:Eg,VaSpacer:Cg,VaSplit:Vg,VaStepper:ey,VaStickyScrollbar:C_,VaSwitch:Sv,VaTab:zg,VaTabs:Wg,VaTextarea:Gb,VaTimeInput:Cy,VaTimePicker:Fy,VaTimeline:Ny,VaTimelineItem:Wy,VaToast:nb,VaTreeView:xb,VaValue:Bb,VaViewer:Ob,VaVirtualScroller:Bd},Symbol.toStringTag,{value:"Module"})),R_=e=>"function"===typeof e,T_=(e,t,...n)=>{R_(t)?e.use(t(...n)):e.use(t)},I_=e=>e.config.globalProperties,x_=(e,t,n)=>{const r=I_(e);r[t]=n},A_=(e,t)=>I_(e)[t],V_=et((e={})=>({install(t){const n=he(e);(null==e?void 0:e.componentsAll)&&console.warn("Global config -> `componentsAll` was moved to Global config -> components.all. Please replace this to make it work. More info here: https://github.com/epicmaxco/vuestic-ui/issues/1967"),t.provide(ce,n),x_(t,"$vaConfig",n)}})),$_=(e,t)=>{if(Pe())return;let n=document.getElementById(e);n?n.innerHTML=t():(n=document.createElement("style"),n.setAttribute("type","text/css"),n.setAttribute("id",e),n.innerHTML=t(),document.head.append(n))},N_=e=>{var t;null==(t=document.getElementById(e))||t.remove()},L_=(e,t)=>`${Vt(e)}: ${t};\n`,O_="data-va-app",D_=e=>`va-color-variables-${e}`,B_=(e,t)=>{const{colors:n,getTextColor:a,getColor:o,currentPresetName:i,applyPreset:s}=Xt(),l=(e=n)=>{if(!e)return;const t=Object.keys(e),r=t.map(t=>`${Vt(t)}: ${e[t]}`).join(";"),i=t.map(t=>`${Vt(`on-${t}`)}: ${o(a(e[t]))}`).join(";");return`${r};${i}`},u=(e=n,t=":root, :host")=>{const r=Object.keys(e);let i=`${t} {\n`;return r.forEach(t=>{i+=L_(t,e[t])}),r.forEach(t=>{i+=L_(`on-${t}`,o(a(e[t])))}),i+="}\n",i},c=(0,r.EW)(()=>e._uid),d=(0,r.EW)(()=>":root, :host"),h=e=>{if(!e||Pe())return;const t=u(e,d.value);$_(D_(c.value),()=>t)};function p(){return{[O_]:c.value}}const f=e.mount;return e.mount=function(...t){const n=f.apply(this,t),r=e._container,a=r.getAttribute(O_);return a&&a!==c.value.toString()&&N_(D_(a)),r.setAttribute(O_,c.value.toString()),n},(0,r.wB)(n,e=>{h(e)},{immediate:!0,deep:!0}),{colors:n,currentPresetName:i,getAppStylesRootAttribute:p,renderCSSVariables:l,updateColors:h,renderCSSVariablesStyleContent:u}},P_=et(e=>({install(e){x_(e,"$vaColorConfig",B_(e))}})),M_=(e,t)=>{const n=Object.entries(t);return e.reduce((e,t)=>e.concat(n.map(([e,n])=>({...t,postfix:t.postfix??e,value:t.value??n}))),[])},W_=e=>e.reduce((e,t)=>{const n=[t.property].flat().map(e=>`${e}: ${t.value};`).join("");return e+=`.va-${t.prefix}--${t.postfix} { ${n} }`,e},""),F_=(e,t)=>{const n=M_(e,t);$_("va-color-helpers",()=>W_(n))},U_=()=>{if(Pe())return;const{globalConfig:e}=fe();return(0,r.wB)(()=>e.value.colorsClasses,t=>{t.length&&F_(t,e.value.colors.variables)},{immediate:!0,deep:!0}),(0,r.wB)(()=>e.value.colors.variables,t=>{t&&F_(e.value.colorsClasses,t)},{immediate:!0,deep:!0}),{renderColorHelpers:()=>{const t=M_(e.value.colorsClasses,e.value.colors.variables);return W_(t)}}},j_=et(()=>({install(e){x_(e,"$vaColorsClasses",U_())}}));function z_(){const e=(0,l.Kh)({width:void 0,height:void 0}),t=()=>{e.width=null==window?void 0:window.innerWidth,e.height=null==window?void 0:window.innerHeight},n=(0,r.EW)(Me);return(0,r.wB)(n,e=>{e&&t()},{immediate:!0}),jr("resize",t,!0),{windowSizes:e}}const K_=e=>{var t;const n=null==(t=A_(e,"$vaConfig"))?void 0:t.globalConfig;if(!n)return B("createBreakpointConfigPlugin: globalConfig is not defined!"),{};const a=(0,r.EW)(()=>{const e=n.value.breakpoint;return e||B("createBreakpointConfigPlugin: breakpointConfig is not defined!"),e??{}});if(!a.value.enabled)return{};if(!a.value.thresholds||!Object.values(a.value.thresholds).length)return B("createBreakpointConfigPlugin: there are no defined thresholds!"),{};const{windowSizes:o}=z_(),i=(0,r.EW)(Me),s=(0,r.EW)(()=>{if(i.value&&o.width)return Object.entries(a.value.thresholds).reduce((e,[t,n])=>(o.width>=n&&(e=t),e),"xs")}),l=(0,r.EW)(()=>Object.keys(a.value.thresholds).reduce((e,t)=>(e[t]=`va-screen-${t}`,e),{})),u=()=>{let e="";return Object.values(a.value.thresholds).forEach((t,n)=>{e+=`@media screen and (min-width: ${t}px) {`,e+=`:root { --va-media-ratio: ${.2*(n+1)} }`,e+="}\n"}),e},c=(0,r.EW)(fs);$_(`va-helpers-media-${c.value}`,u);const d=Za();(0,r.wB)(s,e=>{e&&a.value.bodyClass&&d.value&&(d.value.body.classList.forEach(e=>{Object.values(l.value).includes(e)&&d.value.body.classList.remove(e)}),d.value.body.classList.add(l.value[e]))},{immediate:!0});const h=(0,r.EW)(()=>{const e="xs"===s.value,t="sm"===s.value,n="md"===s.value,r="lg"===s.value,a="xl"===s.value;return{xs:e,sm:t,md:n,lg:r,xl:a,smUp:t||n||r||a,mdUp:n||r||a,lgUp:r||a,smDown:e||t,mdDown:e||t||n,lgDown:e||t||n||r}});return at(()=>({width:o.width,height:o.height,current:s.value,thresholds:a.value.thresholds,...h.value}))},G_=et(()=>({install(e){const t=K_(e);e.provide(G,t),x_(e,"$vaBreakpoint",t)}})),X_={closeDropdown(){let e=this;while(e=e.$parent){const t=e.$options.name;if("VaDropdown"===t){e.hide();break}}}},H_=et(()=>({install(e){x_(e,"$closeDropdown",X_.closeDropdown),x_(e,"$vaDropdown",X_)}})),q_=e=>({init(t){return db(t,null==e?void 0:e._context)},close(e){ub(e)},closeAll(t=!1){lb(t||null==e?void 0:e._context)}}),Q_=et(()=>({install(e){x_(e,"$vaToast",q_(e))}})),Y_=e=>{var t;return(null==(t=e.component)?void 0:t.props)||{}},J_=(e,t)=>{e&&((0,Ze.XX)(null,e),e.remove()),e=null},Z_=(e,{props:t,appContext:n}={})=>{const a=null==document?void 0:document.createElement("div");let o;const i=e=>{var n;null==(n=null==t?void 0:t.onClose)||n.call(t,e),J_(a)},s=e=>{var n;null==(n=null==t?void 0:t["onUpdate:modelValue"])||n.call(t,e),(null==t?void 0:t.withoutTransitions)&&!e&&(0,r.dY)(()=>{J_(a)})};return o=(0,r.h)(e,{...t,stateful:(null==t?void 0:t.stateful)??!0,modelValue:!0,onClose:i,"onUpdate:modelValue":s}),n&&(o.appContext=n),a&&(0,Ze.XX)(o,a),{vNode:o,el:a}},ew=e=>"string"===typeof e?{message:e}:e,tw=(e,t)=>{const{vNode:n,el:r}=Z_(Ef,{appContext:t,props:ew(e)});return r&&n.el&&Y_(n)&&document.body.appendChild(r.childNodes[0]),n},nw=e=>({init(t){return tw(t,null==e?void 0:e._context)},confirm(t){return new Promise("string"===typeof t?n=>{tw({message:t,onOk(){n(!0)},onCancel(){n(!1)}},null==e?void 0:e._context)}:n=>{tw({...t,onOk(){var e;null==(e=null==t?void 0:t.onOk)||e.call(t),n(!0)},onCancel(){var e;null==(e=null==t?void 0:t.onCancel)||e.call(t),n(!1)}},null==e?void 0:e._context)})}}),rw=et(()=>({install(e){x_(e,"$vaModal",nw(e))}})),aw=et((e={})=>({install(t){const{config:n}=e;F(t),Object.entries(S_).forEach(([e,n])=>{t.component(e,n)}),T_(t,V_(n)),T_(t,nt),T_(t,P_(n)),T_(t,j_),T_(t,G_),T_(t,H_),T_(t,Q_),T_(t,rw),F(null)}}))},884:(e,t,n)=>{n.d(t,{gS:()=>vu,rJ:()=>sl,kd:()=>fu,H9:()=>ll,x7:()=>uu,GG:()=>du,aU:()=>pl,My:()=>Jl,P:()=>Hl,BN:()=>hu,mZ:()=>pu});var r,a,o=n(928),i=n(125),s=n(424),l=n(72),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={};(function(){var e;
/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return t.prototype[n].apply(e,a)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var o=e.g[3],i=t+(o^n&(a^o))+r[0]+3614090360&4294967295;t=n+(i<<7&4294967295|i>>>25),i=o+(a^t&(n^a))+r[1]+3905402710&4294967295,o=t+(i<<12&4294967295|i>>>20),i=a+(n^o&(t^n))+r[2]+606105819&4294967295,a=o+(i<<17&4294967295|i>>>15),i=n+(t^a&(o^t))+r[3]+3250441966&4294967295,n=a+(i<<22&4294967295|i>>>10),i=t+(o^n&(a^o))+r[4]+4118548399&4294967295,t=n+(i<<7&4294967295|i>>>25),i=o+(a^t&(n^a))+r[5]+1200080426&4294967295,o=t+(i<<12&4294967295|i>>>20),i=a+(n^o&(t^n))+r[6]+2821735955&4294967295,a=o+(i<<17&4294967295|i>>>15),i=n+(t^a&(o^t))+r[7]+4249261313&4294967295,n=a+(i<<22&4294967295|i>>>10),i=t+(o^n&(a^o))+r[8]+1770035416&4294967295,t=n+(i<<7&4294967295|i>>>25),i=o+(a^t&(n^a))+r[9]+2336552879&4294967295,o=t+(i<<12&4294967295|i>>>20),i=a+(n^o&(t^n))+r[10]+4294925233&4294967295,a=o+(i<<17&4294967295|i>>>15),i=n+(t^a&(o^t))+r[11]+2304563134&4294967295,n=a+(i<<22&4294967295|i>>>10),i=t+(o^n&(a^o))+r[12]+1804603682&4294967295,t=n+(i<<7&4294967295|i>>>25),i=o+(a^t&(n^a))+r[13]+4254626195&4294967295,o=t+(i<<12&4294967295|i>>>20),i=a+(n^o&(t^n))+r[14]+2792965006&4294967295,a=o+(i<<17&4294967295|i>>>15),i=n+(t^a&(o^t))+r[15]+1236535329&4294967295,n=a+(i<<22&4294967295|i>>>10),i=t+(a^o&(n^a))+r[1]+4129170786&4294967295,t=n+(i<<5&4294967295|i>>>27),i=o+(n^a&(t^n))+r[6]+3225465664&4294967295,o=t+(i<<9&4294967295|i>>>23),i=a+(t^n&(o^t))+r[11]+643717713&4294967295,a=o+(i<<14&4294967295|i>>>18),i=n+(o^t&(a^o))+r[0]+3921069994&4294967295,n=a+(i<<20&4294967295|i>>>12),i=t+(a^o&(n^a))+r[5]+3593408605&4294967295,t=n+(i<<5&4294967295|i>>>27),i=o+(n^a&(t^n))+r[10]+38016083&4294967295,o=t+(i<<9&4294967295|i>>>23),i=a+(t^n&(o^t))+r[15]+3634488961&4294967295,a=o+(i<<14&4294967295|i>>>18),i=n+(o^t&(a^o))+r[4]+3889429448&4294967295,n=a+(i<<20&4294967295|i>>>12),i=t+(a^o&(n^a))+r[9]+568446438&4294967295,t=n+(i<<5&4294967295|i>>>27),i=o+(n^a&(t^n))+r[14]+3275163606&4294967295,o=t+(i<<9&4294967295|i>>>23),i=a+(t^n&(o^t))+r[3]+4107603335&4294967295,a=o+(i<<14&4294967295|i>>>18),i=n+(o^t&(a^o))+r[8]+1163531501&4294967295,n=a+(i<<20&4294967295|i>>>12),i=t+(a^o&(n^a))+r[13]+2850285829&4294967295,t=n+(i<<5&4294967295|i>>>27),i=o+(n^a&(t^n))+r[2]+4243563512&4294967295,o=t+(i<<9&4294967295|i>>>23),i=a+(t^n&(o^t))+r[7]+1735328473&4294967295,a=o+(i<<14&4294967295|i>>>18),i=n+(o^t&(a^o))+r[12]+2368359562&4294967295,n=a+(i<<20&4294967295|i>>>12),i=t+(n^a^o)+r[5]+4294588738&4294967295,t=n+(i<<4&4294967295|i>>>28),i=o+(t^n^a)+r[8]+2272392833&4294967295,o=t+(i<<11&4294967295|i>>>21),i=a+(o^t^n)+r[11]+1839030562&4294967295,a=o+(i<<16&4294967295|i>>>16),i=n+(a^o^t)+r[14]+4259657740&4294967295,n=a+(i<<23&4294967295|i>>>9),i=t+(n^a^o)+r[1]+2763975236&4294967295,t=n+(i<<4&4294967295|i>>>28),i=o+(t^n^a)+r[4]+1272893353&4294967295,o=t+(i<<11&4294967295|i>>>21),i=a+(o^t^n)+r[7]+4139469664&4294967295,a=o+(i<<16&4294967295|i>>>16),i=n+(a^o^t)+r[10]+3200236656&4294967295,n=a+(i<<23&4294967295|i>>>9),i=t+(n^a^o)+r[13]+681279174&4294967295,t=n+(i<<4&4294967295|i>>>28),i=o+(t^n^a)+r[0]+3936430074&4294967295,o=t+(i<<11&4294967295|i>>>21),i=a+(o^t^n)+r[3]+3572445317&4294967295,a=o+(i<<16&4294967295|i>>>16),i=n+(a^o^t)+r[6]+76029189&4294967295,n=a+(i<<23&4294967295|i>>>9),i=t+(n^a^o)+r[9]+3654602809&4294967295,t=n+(i<<4&4294967295|i>>>28),i=o+(t^n^a)+r[12]+3873151461&4294967295,o=t+(i<<11&4294967295|i>>>21),i=a+(o^t^n)+r[15]+530742520&4294967295,a=o+(i<<16&4294967295|i>>>16),i=n+(a^o^t)+r[2]+3299628645&4294967295,n=a+(i<<23&4294967295|i>>>9),i=t+(a^(n|~o))+r[0]+4096336452&4294967295,t=n+(i<<6&4294967295|i>>>26),i=o+(n^(t|~a))+r[7]+1126891415&4294967295,o=t+(i<<10&4294967295|i>>>22),i=a+(t^(o|~n))+r[14]+2878612391&4294967295,a=o+(i<<15&4294967295|i>>>17),i=n+(o^(a|~t))+r[5]+4237533241&4294967295,n=a+(i<<21&4294967295|i>>>11),i=t+(a^(n|~o))+r[12]+1700485571&4294967295,t=n+(i<<6&4294967295|i>>>26),i=o+(n^(t|~a))+r[3]+2399980690&4294967295,o=t+(i<<10&4294967295|i>>>22),i=a+(t^(o|~n))+r[10]+4293915773&4294967295,a=o+(i<<15&4294967295|i>>>17),i=n+(o^(a|~t))+r[1]+2240044497&4294967295,n=a+(i<<21&4294967295|i>>>11),i=t+(a^(n|~o))+r[8]+1873313359&4294967295,t=n+(i<<6&4294967295|i>>>26),i=o+(n^(t|~a))+r[15]+4264355552&4294967295,o=t+(i<<10&4294967295|i>>>22),i=a+(t^(o|~n))+r[6]+2734768916&4294967295,a=o+(i<<15&4294967295|i>>>17),i=n+(o^(a|~t))+r[13]+1309151649&4294967295,n=a+(i<<21&4294967295|i>>>11),i=t+(a^(n|~o))+r[4]+4149444226&4294967295,t=n+(i<<6&4294967295|i>>>26),i=o+(n^(t|~a))+r[11]+3174756917&4294967295,o=t+(i<<10&4294967295|i>>>22),i=a+(t^(o|~n))+r[2]+718787259&4294967295,a=o+(i<<15&4294967295|i>>>17),i=n+(o^(a|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+o&4294967295}function s(e,t){var n=u;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function l(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var o=0|e[a];r&&o==t||(n[a]=o,r=!1)}this.g=n}t(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=n;)i(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},o.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var u={};function d(e){return-128<=e&&128>e?s(e,function(e){return new l([0|e],0>e?-1:0)}):new l([0|e],0>e?-1:0)}function h(e){if(isNaN(e)||!isFinite(e))return f;if(0>e)return b(h(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new l(t,0)}function p(e,t){if(0==e.length)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return b(p(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=h(Math.pow(t,8)),r=f,a=0;a<e.length;a+=8){var o=Math.min(8,e.length-a),i=parseInt(e.substring(a,a+o),t);8>o?(o=h(Math.pow(t,o)),r=r.j(o).add(h(i))):(r=r.j(n),r=r.add(h(i)))}return r}var f=d(0),v=d(1),m=d(16777216);function g(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function y(e){return-1==e.h}function b(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new l(n,~e.h).add(v)}function _(e,t){return e.add(b(t))}function w(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function E(e,t){this.g=e,this.h=t}function k(e,t){if(g(t))throw Error("division by zero");if(g(e))return new E(f,f);if(y(e))return t=k(b(e),t),new E(b(t.g),b(t.h));if(y(t))return t=k(e,b(t)),new E(b(t.g),t.h);if(30<e.g.length){if(y(e)||y(t))throw Error("slowDivide_ only works with positive integers.");for(var n=v,r=t;0>=r.l(e);)n=C(n),r=C(r);var a=S(n,1),o=S(r,1);for(r=S(r,2),n=S(n,2);!g(r);){var i=o.add(r);0>=i.l(e)&&(a=a.add(n),o=i),r=S(r,1),n=S(n,1)}return t=_(e,a.j(t)),new E(a,t)}for(a=f;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=h(n),i=o.j(t);y(i)||0<i.l(e);)n-=r,o=h(n),i=o.j(t);g(o)&&(o=v),a=a.add(o),e=_(e,i)}return new E(a,e)}function C(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new l(n,e.h)}function S(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,a=[],o=0;o<r;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new l(a,e.h)}e=l.prototype,e.m=function(){if(y(this))return-b(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(g(this))return"0";if(y(this))return"-"+b(this).toString(e);for(var t=h(Math.pow(e,6)),n=this,r="";;){var a=k(n,t).g;n=_(n,a.j(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=a,g(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return e=_(this,e),y(e)?-1:g(e)?0:1},e.abs=function(){return y(this)?b(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,a=0;a<=t;a++){var o=r+(65535&this.i(a))+(65535&e.i(a)),i=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);r=i>>>16,o&=65535,i&=65535,n[a]=i<<16|o}return new l(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(g(this)||g(e))return f;if(y(this))return y(e)?b(this).j(b(e)):b(b(this).j(e));if(y(e))return b(this.j(b(e)));if(0>this.l(m)&&0>e.l(m))return h(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<e.g.length;a++){var o=this.i(r)>>>16,i=65535&this.i(r),s=e.i(a)>>>16,u=65535&e.i(a);n[2*r+2*a]+=i*u,w(n,2*r+2*a),n[2*r+2*a+1]+=o*u,w(n,2*r+2*a+1),n[2*r+2*a+1]+=i*s,w(n,2*r+2*a+1),n[2*r+2*a+2]+=o*s,w(n,2*r+2*a+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new l(n,0)},e.A=function(e){return k(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new l(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new l(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new l(n,this.h^e.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,a=c.Md5=o,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,r=c.Integer=l}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,p,f,v,m,g,y,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function n(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var r=n(this);function a(e,n){if(n)e:{var a=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in a))break e;a=a[i]}e=e[e.length-1],o=a[e],n=n(o),n!=o&&null!=n&&t(a,e,{configurable:!0,writable:!0,value:n})}}function o(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}a("Array.prototype.values",function(e){return e||function(){return o(this,function(e,t){return t})}});
/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var i=i||{},s=this||self;function l(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:w,E.apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function C(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return t.prototype[n].apply(e,a)}}function S(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function R(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(l(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}class T{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function I(e){return/^[\s\xa0]*$/.test(e)}function x(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function A(e){return A[" "](e),e}A[" "]=function(){};var V=-1!=x().indexOf("Gecko")&&!(-1!=x().toLowerCase().indexOf("webkit")&&-1==x().indexOf("Edge"))&&!(-1!=x().indexOf("Trident")||-1!=x().indexOf("MSIE"))&&-1==x().indexOf("Edge");function $(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function L(e){const t={};for(const n in e)t[n]=e[n];return t}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<O.length;t++)n=O[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function B(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function P(e){s.setTimeout(()=>{throw e},0)}function M(){var e=K;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class W{constructor(){this.h=this.g=null}add(e,t){const n=F.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var F=new T(()=>new U,e=>e.reset());class U{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,z=!1,K=new W,G=()=>{const e=s.Promise.resolve(void 0);j=()=>{e.then(X)}};var X=()=>{for(var e;e=M();){try{e.h.call(e.g)}catch(n){P(n)}var t=F;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}z=!1};function H(){this.s=this.s,this.C=this.C}function q(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},q.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function Y(e,t){if(q.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(V){e:{try{A(t.nodeName);var a=!0;break e}catch(o){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:J[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Y.aa.h.call(this)}}C(Y,q);var J={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),ee=0;function te(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++ee,this.da=this.fa=!1}function ne(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function re(e){this.src=e,this.g={},this.h=0}function ae(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],o=Array.prototype.indexOf.call(a,t,void 0);(r=0<=o)&&Array.prototype.splice.call(a,o,1),r&&(ne(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function oe(e,t,n,r){for(var a=0;a<e.length;++a){var o=e[a];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return a}return-1}re.prototype.add=function(e,t,n,r,a){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var i=oe(e,t,r,a);return-1<i?(t=e[i],n||(t.fa=!1)):(t=new te(t,this.src,o,!!r,a),t.fa=n,e.push(t)),t};var ie="closure_lm_"+(1e6*Math.random()|0),se={};function le(e,t,n,r,a){if(r&&r.once)return de(e,t,n,r,a);if(Array.isArray(t)){for(var o=0;o<t.length;o++)le(e,t[o],n,r,a);return null}return n=ye(n),e&&e[Z]?e.K(t,n,u(r)?!!r.capture:!!r,a):ue(e,t,n,!1,r,a)}function ue(e,t,n,r,a,o){if(!t)throw Error("Invalid event type");var i=u(a)?!!a.capture:!!a,s=me(e);if(s||(e[ie]=s=new re(e)),n=s.add(t,n,r,i,o),n.proxy)return n;if(r=ce(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Q||(a=i),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(fe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ce(){function e(n){return t.call(e.src,e.listener,n)}const t=ve;return e}function de(e,t,n,r,a){if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,a);return null}return n=ye(n),e&&e[Z]?e.L(t,n,u(r)?!!r.capture:!!r,a):ue(e,t,n,!0,r,a)}function he(e,t,n,r,a){if(Array.isArray(t))for(var o=0;o<t.length;o++)he(e,t[o],n,r,a);else r=u(r)?!!r.capture:!!r,n=ye(n),e&&e[Z]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=oe(o,n,r,a),-1<n&&(ne(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=me(e))&&(t=e.g[t.toString()],e=-1,t&&(e=oe(t,n,r,a)),(n=-1<e?t[e]:null)&&pe(n))}function pe(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[Z])ae(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=me(t))?(ae(n,e),0==n.h&&(n.src=null,t[ie]=null)):ne(e)}}}function fe(e){return e in se?se[e]:se[e]="on"+e}function ve(e,t){if(e.da)e=!0;else{t=new Y(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&pe(e),e=n.call(r,t)}return e}function me(e){return e=e[ie],e instanceof re?e:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(e){return"function"===typeof e?e:(e[ge]||(e[ge]=function(t){return e.handleEvent(t)}),e[ge])}function be(){H.call(this),this.i=new re(this),this.M=this,this.F=null}function _e(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new q(t,e);else if(t instanceof q)t.target=t.target||e;else{var a=t;t=new q(r,e),D(t,a)}if(a=!0,n)for(var o=n.length-1;0<=o;o--){var i=t.g=n[o];a=we(i,r,!0,t)&&a}if(i=t.g=e,a=we(i,r,!0,t)&&a,a=we(i,r,!1,t)&&a,n)for(o=0;o<n.length;o++)i=t.g=n[o],a=we(i,r,!1,t)&&a}function we(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var a=!0,o=0;o<t.length;++o){var i=t[o];if(i&&!i.da&&i.capture==n){var s=i.listener,l=i.ha||i.src;i.fa&&ae(e.i,i),a=!1!==s.call(l,r)&&a}}return a&&!r.defaultPrevented}function Ee(e,t,n){if("function"===typeof e)n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ke(e){e.g=Ee(()=>{e.g=null,e.i&&(e.i=!1,ke(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}C(be,H),be.prototype[Z]=!0,be.prototype.removeEventListener=function(e,t,n,r){he(this,e,t,n,r)},be.prototype.N=function(){if(be.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ne(n[r]);delete t.g[e],t.h--}}this.F=null},be.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},be.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class Ce extends H{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Se(e){H.call(this),this.h=e,this.g={}}C(Se,H);var Re=[];function Te(e){$(e.g,function(e,t){this.g.hasOwnProperty(t)&&pe(e)},e),e.g={}}Se.prototype.N=function(){Se.aa.N.call(this),Te(this)},Se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ie=s.JSON.stringify,xe=s.JSON.parse,Ae=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function Ve(){}function $e(e){return e.h||(e.h=e.i())}function Ne(){}Ve.prototype.h=null;var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oe(){q.call(this,"d")}function De(){q.call(this,"c")}C(Oe,q),C(De,q);var Be={},Pe=null;function Me(){return Pe=Pe||new be}function We(e){q.call(this,Be.La,e)}function Fe(e){const t=Me();_e(t,new We(t))}function Ue(e,t){q.call(this,Be.STAT_EVENT,e),this.stat=t}function je(e){const t=Me();_e(t,new Ue(t,e))}function ze(e,t){q.call(this,Be.Ma,e),this.size=t}function Ke(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Ge(){this.g=!0}function Xe(e,t,n,r,a,o){e.info(function(){if(e.g)if(o)for(var i="",s=o.split("&"),l=0;l<s.length;l++){var u=s[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");i=2<=d.length&&"type"==d[1]?i+(c+"=")+u+"&":i+(c+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+i})}function He(e,t,n,r,a,o,i){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+o+" "+i})}function qe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Ye(e,n)+(r?" "+r:"")})}function Qe(e,t){e.info(function(){return"TIMEOUT: "+t})}function Ye(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var o=a[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var i=1;i<a.length;i++)a[i]=""}}}return Ie(n)}catch(s){return t}}Be.La="serverreachability",C(We,q),Be.STAT_EVENT="statevent",C(Ue,q),Be.Ma="timingevent",C(ze,q),Ge.prototype.xa=function(){this.g=!1},Ge.prototype.info=function(){};var Je,Ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},et={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function tt(){}function nt(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new Se(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}C(tt,Ve),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},Je=new tt;var at={},ot={};function it(e,t,n){e.L=1,e.v=Ot(At(t)),e.m=n,e.P=!0,st(e,null)}function st(e,t){e.F=Date.now(),ct(e),e.A=At(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ht(n.i,"t",r),e.C=0,n=e.j.J,e.h=new rt,e.g=Fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new Ce(E(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(Re[0]=a.toString()),a=Re);for(var o=0;o<a.length;o++){var i=le(n,a[o],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?L(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Fe(),Xe(e.i,e.u,e.A,e.l,e.R,e.m)}function lt(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ut(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ot:(n=Number(t.substring(n,r)),isNaN(n)?at:(r+=1,r+n>t.length?ot:(t=t.slice(r,r+n),e.C=r+n,t)))}function ct(e){e.S=Date.now()+e.I,dt(e,e.I)}function dt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ke(E(e.ba,e),t)}function ht(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function pt(e){0==e.j.G||e.J||Dn(e.j,e)}function ft(e){ht(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,Te(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function vt(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||_t(n.h,e)))if(!e.K&&_t(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;On(n),Cn(n)}$n(n),je(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ke(E(n.Za,n),6e3));if(1>=bt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else Pn(n,11)}else if((e.K||n.g==e)&&On(n),!I(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let u=a[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=u[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(wt(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,Lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms")),r=n;var i=e;if(r.qa=Wn(r,r.J?r.ia:null,r.W),i.K){Et(r.h,i);var s=i,l=r.L;l&&(s.I=l),s.B&&(ht(s),ct(s)),r.g=i}else Vn(r);0<n.i.length&&Rn(n)}else"stop"!=u[0]&&"close"!=u[0]||Pn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Pn(n,7):kn(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Fe(4)}catch(u){}}nt.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==yn(e)?t.j():this.Y(e)},nt.prototype.Y=function(e){try{if(e==this.g)e:{const h=yn(this.g);var t=this.g.Ba();const p=this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||bn(this.g)))){this.J||4!=h||7==t||Fe(8==t||0>=p?3:2),ht(this);var n=this.g.Z();this.X=n;t:if(lt(this)){var r=bn(this.g);e="";var a=r.length,o=4==yn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ft(this),pt(this);var i="";break t}this.h.i=new s.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,i=this.h.g}else i=this.g.oa();if(this.o=200==n,He(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,je(12),ft(this),pt(this);break e}qe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vt(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<i.length;){if(e=ut(this,i),e==ot){4==h&&(this.s=4,je(14),n=!1),qe(this.i,this.l,null,"[Incomplete Response]");break}if(e==at){this.s=4,je(15),qe(this.i,this.l,i,"[Invalid Chunk]"),n=!1;break}qe(this.i,this.l,e,null),vt(this,e)}if(lt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=i.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<i.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Nn(d),d.M=!0,je(11))}}else qe(this.i,this.l,i,"[Invalid Chunked Response]"),ft(this),pt(this)}else qe(this.i,this.l,i,null),vt(this,i);4==h&&ft(this),this.o&&!this.J&&(4==h?Dn(this.j,this):(this.o=!1,ct(this)))}else _n(this.g),400==n&&0<i.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),ft(this),pt(this)}}}catch(h){}},nt.prototype.cancel=function(){this.J=!0,ft(this)},nt.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(Qe(this.i,this.A),2!=this.L&&(Fe(),je(17)),ft(this),this.s=2,pt(this)):dt(this,this.S-e)};var mt=class{constructor(e,t){this.g=e,this.map=t}};function gt(e){this.l=e||10,s.PerformanceNavigationTiming?(e=s.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function bt(e){return e.h?1:e.g?e.g.size:0}function _t(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function wt(e,t){e.g?e.g.add(t):e.h=t}function Et(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function kt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return S(e.i)}function Ct(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function St(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(l(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=St(e),r=Ct(e),a=r.length,o=0;o<a;o++)t.call(void 0,r[o],n&&n[o],e)}gt.prototype.cancel=function(){if(this.i=kt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Tt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function It(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var o=e[n].substring(0,r);a=e[n].substring(r+1)}else o=e[n];t(o,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}function xt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof xt){this.h=e.h,Vt(this,e.j),this.o=e.o,this.g=e.g,$t(this,e.s),this.l=e.l;var t=e.i,n=new zt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nt(this,n),this.m=e.m}else e&&(t=String(e).match(Tt))?(this.h=!1,Vt(this,t[1]||"",!0),this.o=Dt(t[2]||""),this.g=Dt(t[3]||"",!0),$t(this,t[4]),this.l=Dt(t[5]||"",!0),Nt(this,t[6]||"",!0),this.m=Dt(t[7]||"")):(this.h=!1,this.i=new zt(null,this.h))}function At(e){return new xt(e)}function Vt(e,t,n){e.j=n?Dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $t(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function Nt(e,t,n){t instanceof zt?(e.i=t,Qt(e.i,e.h)):(n||(t=Bt(t,Ut)),e.i=new zt(t,e.h))}function Lt(e,t,n){e.i.set(t,n)}function Ot(e){return Lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}xt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bt(t,Mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Bt(t,Mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.s,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?Ft:Wt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Bt(n,jt)),e.join("")};var Mt=/[#\/\?@]/g,Wt=/[#\?:]/g,Ft=/[#\?]/g,Ut=/[#\?@]/g,jt=/#/g;function zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kt(e){e.g||(e.g=new Map,e.h=0,e.i&&It(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Gt(e,t){Kt(e),t=qt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xt(e,t){return Kt(e),t=qt(e,t),e.g.has(t)}function Ht(e,t,n){Gt(e,t),0<n.length&&(e.i=null,e.g.set(qt(e,t),S(n)),e.h+=n.length)}function qt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Qt(e,t){t&&!e.j&&(Kt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Gt(this,t),Ht(this,n,e))},e)),e.j=t}function Yt(e,t){const n=new Ge;if(s.Image){const r=new Image;r.onload=k(Zt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=k(Zt,n,"TestLoadImage: error",!1,t,r),r.onabort=k(Zt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=k(Zt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Jt(e,t){const n=new Ge,r=new AbortController,a=setTimeout(()=>{r.abort(),Zt(n,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(a),e.ok?Zt(n,"TestPingServer: ok",!0,t):Zt(n,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(a),Zt(n,"TestPingServer: error",!1,t)})}function Zt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(o){}}function en(){this.g=new Ae}function tn(e,t,n){const r=n||"";try{Rt(e,function(e,n){let a=e;u(e)&&(a=Ie(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function nn(e){this.l=e.Ub||null,this.j=e.eb||!1}function rn(e,t){be.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function an(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function on(e){e.readyState=4,e.l=null,e.j=null,e.v=null,sn(e)}function sn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ln(e){let t="";return $(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ln(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lt(e,t,n))}function cn(e){be.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}e=zt.prototype,e.add=function(e,t){Kt(this),this.i=null,e=qt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){Kt(this);let t=[];if("string"===typeof e)Xt(this,e)&&(t=t.concat(this.g.get(qt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Kt(this),this.i=null,e=qt(this,e),Xt(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=this.V(e),0<e.length?String(e[0]):t):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),i=this.V(r);for(r=0;r<i.length;r++){var a=o;""!==i[r]&&(a+="="+encodeURIComponent(String(i[r]))),e.push(a)}}return this.i=e.join("&")},C(nn,Ve),nn.prototype.g=function(){return new rn(this.l,this.j)},nn.prototype.i=function(e){return function(){return e}}({}),C(rn,be),e=rn.prototype,e.open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,sn(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,on(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sn(this)),this.g&&(this.readyState=3,sn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;an(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?on(this):sn(this),3==this.readyState&&an(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,on(this))},e.Qa=function(e){this.g&&(this.response=e,on(this))},e.ga=function(){this.g&&on(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(rn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),C(cn,be);var dn=/^https?$/i,hn=["POST","PUT"];function pn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,fn(e),mn(e)}function fn(e){e.A||(e.A=!0,_e(e,"complete"),_e(e,"error"))}function vn(e){if(e.h&&"undefined"!=typeof i&&(!e.v[1]||4!=yn(e)||2!=e.Z()))if(e.u&&4==yn(e))Ee(e.Ea,0,e);else if(_e(e,"readystatechange"),4==yn(e)){e.h=!1;try{const i=e.Z();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){var a=String(e.D).match(Tt)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),r=!dn.test(a?a.toLowerCase():"")}n=r}if(n)_e(e,"complete"),_e(e,"success");else{e.m=6;try{var o=2<yn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",fn(e)}}finally{mn(e)}}}function mn(e,t){if(e.g){gn(e);const r=e.g,a=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||_e(e,"ready");try{r.onreadystatechange=a}catch(n){}}}function gn(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function yn(e){return e.g?e.g.readyState:0}function bn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function _n(e){const t={};e=(e.g&&2<=yn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(I(e[r]))continue;var n=B(e[r]);const a=n[0];if(n=n[1],"string"!==typeof n)continue;n=n.trim();const o=t[a]||[];t[a]=o,o.push(n)}N(t,function(e){return e.join(", ")})}function wn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function En(e){this.Aa=0,this.i=[],this.j=new Ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wn("baseRetryDelayMs",5e3,e),this.cb=wn("retryDelaySeedMs",1e4,e),this.Wa=wn("forwardChannelMaxRetries",2,e),this.wa=wn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new gt(e&&e.concurrentRequestLimit),this.Da=new en,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function kn(e){if(Sn(e),3==e.G){var t=e.U++,n=At(e.I);if(Lt(n,"SID",e.K),Lt(n,"RID",t),Lt(n,"TYPE","terminate"),xn(e,n),t=new nt(e,e.j,t),t.L=2,t.v=Ot(At(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ct(t)}Mn(e)}function Cn(e){e.g&&(Nn(e),e.g.cancel(),e.g=null)}function Sn(e){Cn(e),e.u&&(s.clearTimeout(e.u),e.u=null),On(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Rn(e){if(!yt(e.h)&&!e.s){e.s=!0;var t=e.Ga;j||G(),z||(j(),z=!0),K.add(t,e),e.B=0}}function Tn(e,t){return!(bt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ke(E(e.Ga,e,t),Bn(e,e.B)),e.B++,!0))}function In(e,t){var n;n=t?t.l:e.U++;const r=At(e.I);Lt(r,"SID",e.K),Lt(r,"RID",n),Lt(r,"AID",e.T),xn(e,r),e.m&&e.o&&un(r,e.m,e.o),n=new nt(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=An(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),wt(e.h,n),it(n,r,t)}function xn(e,t){e.H&&$(e.H,function(e,n){Lt(t,n,e)}),e.l&&Rt({},function(e,n){Lt(t,n,e)})}function An(e,t,n){n=Math.min(e.i.length,n);var r=e.l?E(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let s=0;s<n;s++){let n=a[s].g;const l=a[s].map;if(n-=t,0>n)t=Math.max(0,a[s].g-100),i=!1;else try{tn(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Vn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;j||G(),z||(j(),z=!0),K.add(t,e),e.v=0}}function $n(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ke(E(e.Fa,e),Bn(e,e.v)),e.v++,!0)}function Nn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function Ln(e){e.g=new nt(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=At(e.qa);Lt(t,"RID","rpc"),Lt(t,"SID",e.K),Lt(t,"AID",e.T),Lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&Lt(t,"TO",e.ja),Lt(t,"TYPE","xmlhttp"),xn(e,t),e.m&&e.o&&un(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Ot(At(t)),n.m=null,n.P=!0,st(n,e)}function On(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function Dn(e,t){var n=null;if(e.g==t){On(e),Nn(e),e.g=null;var r=2}else{if(!_t(e.h,t))return;n=t.D,Et(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;r=Me(),_e(r,new ze(r,n)),Rn(e)}else Vn(e);else if(a=t.s,3==a||0==a&&0<t.X||!(1==r&&Tn(e,t)||2==r&&$n(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:Pn(e,5);break;case 4:Pn(e,10);break;case 3:Pn(e,6);break;default:Pn(e,2)}}function Bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function Pn(e,t){if(e.j.info("Error code "+t),2==t){var n=E(e.fb,e),r=e.Xa;const t=!r;r=new xt(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Vt(r,"https"),Ot(r),t?Yt(r.toString(),n):Jt(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),Mn(e),Sn(e)}function Mn(e){if(e.G=0,e.ka=[],e.l){const t=kt(e.h);0==t.length&&0==e.i.length||(R(e.ka,t),R(e.ka,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ra()}}function Wn(e,t,n){var r=n instanceof xt?At(n):new xt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),$t(r,r.s);else{var a=s.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new xt(null);r&&Vt(o,r),t&&(o.g=t),a&&$t(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&Lt(r,n,t),Lt(r,"VER",e.la),xn(e,r),r}function Fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ca&&!e.pa?new cn(new nn({eb:n})):new cn(e.pa),t.Ha(e.J),t}function Un(){}function jn(){}function zn(e,t){be.call(this),this.g=new En(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!I(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Xn(this)}function Kn(e){Oe.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gn(){De.call(this),this.status=1}function Xn(e){this.g=e}e=cn.prototype,e.Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Je.g(),this.v=this.o?$e(this.o):$e(Je),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void pn(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(hn,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gn(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){pn(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,_e(this,"complete"),_e(this,"abort"),mn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),cn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?vn(this):this.bb())},e.bb=function(){vn(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},e=En.prototype,e.la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Wn(this,null,this.W),Rn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new nt(this,this.j,e);let o=this.o;if(this.S&&(o?(o=L(o),D(o,this.S)):o=this.S),null!==this.m||this.O||(a.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(r="__data__"in r.map&&(r=r.map.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(t+=r,4096<t){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=An(this,a,t),n=At(this.I),Lt(n,"RID",e),Lt(n,"CVER",22),this.D&&Lt(n,"X-HTTP-Session-Id",this.D),xn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(ln(o)))+"&"+t:this.m&&un(n,this.m,o)),wt(this.h,a),this.Ua&&Lt(n,"TYPE","init"),this.P?(Lt(n,"$req",t),Lt(n,"SID","null"),a.T=!0,it(a,n,null)):it(a,n,t),this.G=2}}else 3==this.G&&(e?In(this,e):0==this.i.length||yt(this.h)||In(this))},e.Fa=function(){if(this.u=null,Ln(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ke(E(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),Cn(this),Ln(this))},e.Za=function(){null!=this.C&&(this.C=null,Cn(this),$n(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},e=Un.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},jn.prototype.g=function(e,t){return new zn(e,t)},C(zn,be),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){kn(this.g)},zn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&(n={},n.__data__=Ie(e),e=n);t.i.push(new mt(t.Ya++,e)),3==t.G&&Rn(t)},zn.prototype.N=function(){this.g.l=null,delete this.j,kn(this.g),delete this.g,zn.aa.N.call(this)},C(Kn,Oe),C(Gn,De),C(Xn,Un),Xn.prototype.ua=function(){_e(this.g,"a")},Xn.prototype.ta=function(e){_e(this.g,new Kn(e))},Xn.prototype.sa=function(e){_e(this.g,new Gn)},Xn.prototype.ra=function(){_e(this.g,"b")},jn.prototype.createWebChannel=jn.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,y=_.createWebChannelTransport=function(){return new jn},g=_.getStatEventTarget=function(){return Me()},m=_.Event=Be,v=_.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,f=_.ErrorCode=Ze,et.COMPLETE="complete",p=_.EventType=et,Ne.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",be.prototype.listen=be.prototype.K,h=_.WebChannel=Ne,_.FetchXmlHttpFactory=nn,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,d=_.XhrIo=cn}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const w="@firebase/firestore",E="4.8.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let C="11.10.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=new s.Vy("@firebase/firestore");function R(){return S.logLevel}function T(e,...t){if(S.logLevel<=s.$b.DEBUG){const n=t.map(A);S.debug(`Firestore (${C}): ${e}`,...n)}}function I(e,...t){if(S.logLevel<=s.$b.ERROR){const n=t.map(A);S.error(`Firestore (${C}): ${e}`,...n)}}function x(e,...t){if(S.logLevel<=s.$b.WARN){const n=t.map(A);S.warn(`Firestore (${C}): ${e}`,...n)}}function A(e){if("string"==typeof e)return e;try{
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,$(e,r,n)}function $(e,t,n){let r=`FIRESTORE (${C}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw I(r),new Error(r)}function N(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||$(t,a,r)}function L(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class W{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){N(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new B;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new B,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},i=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>i(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new B)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(N("string"==typeof t.accessToken,31837,{l:t}),new P(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return N(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class U{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new U(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,o.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){N(void 0===this.o,3512);const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,T("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(N("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new z(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function G(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(){return new TextEncoder}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=G(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function q(e,t){return e<t?-1:e>t?1:0}function Q(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return q(r,a);{const o=X(),i=J(o.encode(Y(e,n)),o.encode(Y(t,n)));return 0!==i?i:q(r,a)}}n+=r>65535?2:1}return q(e.length,t.length)}function Y(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function J(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return q(e[n],t[n]);return q(e.length,t.length)}function Z(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ee="__name__";class te{constructor(e,t,n){void 0===t?t=0:t>e.length&&V(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&V(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===te.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof te?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=te.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return q(e.length,t.length)}static compareSegments(e,t){const n=te.isNumericId(e),r=te.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?te.extractNumericId(e).compare(te.extractNumericId(t)):Q(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ne extends te{construct(e,t,n){return new ne(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new D(O.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new ne(t)}static emptyPath(){return new ne([])}}const re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ae extends te{construct(e,t,n){return new ae(e,t,n)}static isValidIdentifier(e){return re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ae.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ee}static keyField(){return new ae([ee])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new D(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new D(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new D(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(a(),r++)}if(a(),o)throw new D(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ae(t)}static emptyPath(){return new ae([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(ne.fromString(e))}static fromName(e){return new oe(ne.fromString(e).popFirst(5))}static empty(){return new oe(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new ne(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e,t,n){if(!n)throw new D(O.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function se(e,t,n,r){if(!0===t&&!0===r)throw new D(O.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function le(e){if(!oe.isDocumentKey(e))throw new D(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ue(e){if(oe.isDocumentKey(e))throw new D(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ce(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function de(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":V(12329,{type:typeof e})}function he(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=de(e);throw new D(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function fe(e,t){if(!ce(e))throw new D(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const i=e[r];if(a&&typeof i!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(void 0!==o&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new D(O.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve=-62135596800,me=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*me);return new ge(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ve)throw new D(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/me}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fe(e,ge._jsonSchema))return new ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ve;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:pe("string",ge._jsonSchemaVersion),seconds:pe("number"),nanoseconds:pe("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ge(0,0))}static max(){return new ye(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=-1;class _e{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_e.UNKNOWN_ID=-1;function we(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=ye.fromTimestamp(1e9===r?new ge(n+1,0):new ge(n,r));return new ke(a,oe.empty(),t)}function Ee(e){return new ke(e.readTime,e.key,be)}class ke{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ke(ye.min(),oe.empty(),be)}static max(){return new ke(ye.max(),oe.empty(),be)}}function Ce(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=oe.comparator(e.documentKey,t.documentKey),0!==n?n:q(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}const Se="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Re{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Te(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==Se)throw e;T("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&V(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(e){return Ie.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,n)=>{t(e)})}static reject(e){return new Ie((t,n)=>{n(e)})}static waitFor(e){return new Ie((t,n)=>{let r=0,a=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++a,o&&a===r&&t()},e=>n(e))}),o=!0,a===r&&t()})}static or(e){let t=Ie.resolve(!1);for(const n of e)t=t.next(e=>e?Ie.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ie((n,r)=>{const a=e.length,o=new Array(a);let i=0;for(let s=0;s<a;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++i,i===a&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Ie((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ae(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ve{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ve.ue=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $e=-1;function Ne(e){return null==e}function Le(e){return 0===e&&1/e==-1/0}function Oe(e){return"number"==typeof e&&Number.isInteger(e)&&!Le(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De="";function Be(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Me(t)),t=Pe(e.get(n),t);return Me(t)}function Pe(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="";break;case De:n+="";break;default:n+=t}}return n}function Me(e){return e+De+""}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const We="remoteDocuments",Fe="owner",Ue="mutationQueues",je="mutations";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze="documentMutations",Ke="remoteDocumentsV14",Ge="remoteDocumentGlobal",Xe="targets",He="targetDocuments",qe="targetGlobal",Qe="collectionParents",Ye="clientMetadata",Je="bundles",Ze="namedQueries",et="indexConfiguration",tt="indexState",nt="indexEntries",rt="documentOverlays",at="globals",ot=[Ue,je,ze,We,Xe,Fe,qe,He,Ye,Ge,Qe,Je,Ze],it=[Ue,je,ze,Ke,Xe,Fe,qe,He,Ye,Ge,Qe,Je,Ze,rt],st=it,lt=[...st,et,tt,nt];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ut(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ct(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||ft.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pt(this.root,e,this.comparator,!1)}getReverseIterator(){return new pt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pt(this.root,e,this.comparator,!0)}}class pt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:ft.RED,this.left=null!=r?r:ft.EMPTY,this.right=null!=a?a:ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new ft(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ft.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw V(43730,{key:this.key,value:this.value});if(this.right.isRed())throw V(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw V(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1,ft.EMPTY=new class{constructor(){this.size=0}get key(){throw V(57766)}get value(){throw V(16141)}get color(){throw V(16727)}get left(){throw V(29726)}get right(){throw V(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mt(this.data.getIterator())}getIteratorFrom(e){return new mt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof vt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vt(this.comparator);return t.data=e,t}}class mt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gt{constructor(e){this.fields=e,e.sort(ae.comparator)}static empty(){return new gt([])}unionWith(e){let t=new vt(ae.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new yt("Invalid base64 string: "+e):e}}(e);return new bt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const _t=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wt(e){if(N(!!e,39018),"string"==typeof e){let t=0;const n=_t.exec(e);if(N(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Et(e.seconds),nanos:Et(e.nanos)}}function Et(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kt(e){return"string"==typeof e?bt.fromBase64String(e):bt.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="server_timestamp",St="__type__",Rt="__previous_value__",Tt="__local_write_time__";function It(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[St])||void 0===n?void 0:n.stringValue)===Ct}function xt(e){const t=e.mapValue.fields[Rt];return It(t)?xt(t):t}function At(e){const t=wt(e.mapValue.fields[Tt].timestampValue);return new ge(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t,n,r,a,o,i,s,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=i,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=u}}const $t="(default)";class Nt{constructor(e,t){this.projectId=e,this.database=t||$t}static empty(){return new Nt("","")}get isDefaultDatabase(){return this.database===$t}isEqual(e){return e instanceof Nt&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="__type__",Ot="__max__",Dt={mapValue:{fields:{__type__:{stringValue:Ot}}}},Bt="__vector__",Pt="value";function Mt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?It(e)?4:nn(e)?9007199254740991:en(e)?10:11:V(28295,{value:e})}function Wt(e,t){if(e===t)return!0;const n=Mt(e);if(n!==Mt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return At(e).isEqual(At(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wt(e.timestampValue),r=wt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kt(e.bytesValue).isEqual(kt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Et(e.geoPointValue.latitude)===Et(t.geoPointValue.latitude)&&Et(e.geoPointValue.longitude)===Et(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Et(e.integerValue)===Et(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Et(e.doubleValue),r=Et(t.doubleValue);return n===r?Le(n)===Le(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],Wt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ut(n)!==ut(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Wt(n[a],r[a])))return!1;return!0}(e,t);default:return V(52216,{left:e})}}function Ft(e,t){return void 0!==(e.values||[]).find(e=>Wt(e,t))}function Ut(e,t){if(e===t)return 0;const n=Mt(e),r=Mt(t);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Et(e.integerValue||e.doubleValue),r=Et(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jt(e.timestampValue,t.timestampValue);case 4:return jt(At(e),At(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){const n=kt(e),r=kt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=q(n[a],r[a]);if(0!==e)return e}return q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=q(Et(e.latitude),Et(t.latitude));return 0!==n?n:q(Et(e.longitude),Et(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,o;const i=e.fields||{},s=t.fields||{},l=null===(n=i[Pt])||void 0===n?void 0:n.arrayValue,u=null===(r=s[Pt])||void 0===r?void 0:r.arrayValue,c=q((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(o=null==u?void 0:u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:zt(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Dt.mapValue&&t===Dt.mapValue)return 0;if(e===Dt.mapValue)return 1;if(t===Dt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},o=Object.keys(a);r.sort(),o.sort();for(let i=0;i<r.length&&i<o.length;++i){const e=Q(r[i],o[i]);if(0!==e)return e;const t=Ut(n[r[i]],a[o[i]]);if(0!==t)return t}return q(r.length,o.length)}(e.mapValue,t.mapValue);default:throw V(23264,{le:n})}}function jt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return q(e,t);const n=wt(e),r=wt(t),a=q(n.seconds,r.seconds);return 0!==a?a:q(n.nanos,r.nanos)}function zt(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Ut(n[a],r[a]);if(e)return e}return q(n.length,r.length)}function Kt(e){return Gt(e)}function Gt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wt(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return kt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return oe.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+=`${a}:${Gt(e.fields[a])}`;return n+"}"}(e.mapValue):V(61005,{value:e})}function Xt(e){switch(Mt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xt(e);return t?16+Xt(t):16;case 5:return 2*e.stringValue.length;case 6:return kt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Xt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ct(e.fields,(e,n)=>{t+=e.length+Xt(n)}),t}(e.mapValue);default:throw V(13486,{value:e})}}function Ht(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function qt(e){return!!e&&"integerValue"in e}function Qt(e){return!!e&&"arrayValue"in e}function Yt(e){return!!e&&"nullValue"in e}function Jt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zt(e){return!!e&&"mapValue"in e}function en(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Lt])||void 0===n?void 0:n.stringValue)===Bt}function tn(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ct(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=tn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tn(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ot}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tn(t)}setAll(e){let t=ae.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=tn(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Zt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ct(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new rn(tn(this.value))}}function an(e){const t=[];return ct(e.fields,(e,n)=>{const r=new ae([e]);if(Zt(n)){const e=an(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new gt(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class on{constructor(e,t,n,r,a,o,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=o,this.documentState=i}static newInvalidDocument(e){return new on(e,0,ye.min(),ye.min(),ye.min(),rn.empty(),0)}static newFoundDocument(e,t,n,r){return new on(e,1,t,ye.min(),n,r,0)}static newNoDocument(e,t){return new on(e,2,t,ye.min(),ye.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,ye.min(),ye.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t){this.position=e,this.inclusive=t}}function ln(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const o=t[a],i=e.position[a];if(r=o.field.isKeyField()?oe.comparator(oe.fromName(i.referenceValue),n.key):Ut(i,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function un(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wt(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t="asc"){this.field=e,this.dir=t}}function dn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{}class pn extends hn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wn(e,t,n):"array-contains"===t?new Sn(e,n):"in"===t?new Rn(e,n):"not-in"===t?new Tn(e,n):"array-contains-any"===t?new In(e,n):new pn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new En(e,n):new kn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ut(t,this.value)):null!==t&&Mt(this.value)===Mt(t)&&this.matchesComparison(Ut(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends hn{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new fn(e,t)}matches(e){return vn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function vn(e){return"and"===e.op}function mn(e){return gn(e)&&vn(e)}function gn(e){for(const t of e.filters)if(t instanceof fn)return!1;return!0}function yn(e){if(e instanceof pn)return e.field.canonicalString()+e.op.toString()+Kt(e.value);if(mn(e))return e.filters.map(e=>yn(e)).join(",");{const t=e.filters.map(e=>yn(e)).join(",");return`${e.op}(${t})`}}function bn(e,t){return e instanceof pn?function(e,t){return t instanceof pn&&e.op===t.op&&e.field.isEqual(t.field)&&Wt(e.value,t.value)}(e,t):e instanceof fn?function(e,t){return t instanceof fn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&bn(n,t.filters[r]),!0)}(e,t):void V(19439)}function _n(e){return e instanceof pn?function(e){return`${e.field.canonicalString()} ${e.op} ${Kt(e.value)}`}(e):e instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(_n).join(" ,")+"}"}(e):"Filter"}class wn extends pn{constructor(e,t,n){super(e,t,n),this.key=oe.fromName(n.referenceValue)}matches(e){const t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class En extends pn{constructor(e,t){super(e,"in",t),this.keys=Cn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kn extends pn{constructor(e,t){super(e,"not-in",t),this.keys=Cn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>oe.fromName(e.referenceValue))}class Sn extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qt(t)&&Ft(t.arrayValue,this.value)}}class Rn extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ft(this.value.arrayValue,t)}}class Tn extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ft(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ft(this.value.arrayValue,t)}}class In extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ft(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,t=null,n=[],r=[],a=null,o=null,i=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=o,this.endAt=i,this.Pe=null}}function An(e,t=null,n=[],r=[],a=null,o=null,i=null){return new xn(e,t,n,r,a,o,i)}function Vn(e){const t=L(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>yn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ne(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Kt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Kt(e)).join(",")),t.Pe=e}return t.Pe}function $n(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!un(e.startAt,t.startAt)&&un(e.endAt,t.endAt)}function Nn(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ln{constructor(e,t=null,n=[],r=[],a=null,o="F",i=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=o,this.startAt=i,this.endAt=s,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function On(e,t,n,r,a,o,i,s){return new Ln(e,t,n,r,a,o,i,s)}function Dn(e){return new Ln(e)}function Bn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pn(e){return null!==e.collectionGroup}function Mn(e){const t=L(e);if(null===t.Te){t.Te=[];const e=new Set;for(const a of t.explicitOrderBy)t.Te.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new vt(ae.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new cn(r,n))}),e.has(ae.keyField().canonicalString())||t.Te.push(new cn(ae.keyField(),n))}return t.Te}function Wn(e){const t=L(e);return t.Ie||(t.Ie=Fn(t,Mn(e))),t.Ie}function Fn(e,t){if("F"===e.limitType)return An(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new cn(e.field,t)});const n=e.endAt?new sn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new sn(e.startAt.position,e.startAt.inclusive):null;return An(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Un(e,t){const n=e.filters.concat([t]);return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jn(e,t,n){return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zn(e,t){return $n(Wn(e),Wn(t))&&e.limitType===t.limitType}function Kn(e){return`${Vn(Wn(e))}|lt:${e.limitType}`}function Gn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>_n(e)).join(", ")}]`),Ne(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Kt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Kt(e)).join(",")),`Target(${t})`}(Wn(e))}; limitType=${e.limitType})`}function Xn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oe.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Mn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mn(e),t))&&!(e.endAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mn(e),t))}(e,t)}function Hn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qn(e){return(t,n)=>{let r=!1;for(const a of Mn(e)){const e=Qn(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function Qn(e,t,n){const r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Ut(r,a):V(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return V(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ct(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return dt(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new ht(oe.comparator);function Zn(){return Jn}const er=new ht(oe.comparator);function tr(...e){let t=er;for(const n of e)t=t.insert(n.key,n);return t}function nr(e){let t=er;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rr(){return or()}function ar(){return or()}function or(){return new Yn(e=>e.toString(),(e,t)=>e.isEqual(t))}const ir=new ht(oe.comparator),sr=new vt(oe.comparator);function lr(...e){let t=sr;for(const n of e)t=t.add(n);return t}const ur=new vt(q);function cr(){return ur}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Le(t)?"-0":t}}function hr(e){return{integerValue:""+e}}function pr(e,t){return Oe(t)?hr(t):dr(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this._=void 0}}function vr(e,t,n){return e instanceof yr?function(e,t){const n={fields:{[St]:{stringValue:Ct},[Tt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&It(t)&&(t=xt(t)),t&&(n.fields[Rt]=t),{mapValue:n}}(n,t):e instanceof br?_r(e,t):e instanceof wr?Er(e,t):function(e,t){const n=gr(e,t),r=Cr(n)+Cr(e.Ee);return qt(n)&&qt(e.Ee)?hr(r):dr(e.serializer,r)}(e,t)}function mr(e,t,n){return e instanceof br?_r(e,t):e instanceof wr?Er(e,t):n}function gr(e,t){return e instanceof kr?function(e){return qt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class yr extends fr{}class br extends fr{constructor(e){super(),this.elements=e}}function _r(e,t){const n=Sr(t);for(const r of e.elements)n.some(e=>Wt(e,r))||n.push(r);return{arrayValue:{values:n}}}class wr extends fr{constructor(e){super(),this.elements=e}}function Er(e,t){let n=Sr(t);for(const r of e.elements)n=n.filter(e=>!Wt(e,r));return{arrayValue:{values:n}}}class kr extends fr{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Cr(e){return Et(e.integerValue||e.doubleValue)}function Sr(e){return Qt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof br&&t instanceof br||e instanceof wr&&t instanceof wr?Z(e.elements,t.elements,Wt):e instanceof kr&&t instanceof kr?Wt(e.Ee,t.Ee):e instanceof yr&&t instanceof yr}(e.transform,t.transform)}class Tr{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ar{}function Vr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Fr(e.key,Ir.none()):new Dr(e.key,e.data,Ir.none());{const n=e.data,r=rn.empty();let a=new vt(ae.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new Br(e.key,r,new gt(a.toArray()),Ir.none())}}function $r(e,t,n){e instanceof Dr?function(e,t,n){const r=e.value.clone(),a=Mr(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Br?function(e,t,n){if(!xr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Mr(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Pr(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nr(e,t,n,r){return e instanceof Dr?function(e,t,n,r){if(!xr(e.precondition,t))return n;const a=e.value.clone(),o=Wr(e.fieldTransforms,r,t);return a.setAll(o),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Br?function(e,t,n,r){if(!xr(e.precondition,t))return n;const a=Wr(e.fieldTransforms,r,t),o=t.data;return o.setAll(Pr(e)),o.setAll(a),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return xr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Lr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=gr(r.transform,e||null);null!=a&&(null===n&&(n=rn.empty()),n.set(r.field,a))}return n||null}function Or(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,(e,t)=>Rr(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dr extends Ar{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Br extends Ar{constructor(e,t,n,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Pr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Mr(e,t,n){const r=new Map;N(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let a=0;a<n.length;a++){const o=e[a],i=o.transform,s=t.data.field(o.field);r.set(o.field,mr(i,s,n[a]))}return r}function Wr(e,t,n){const r=new Map;for(const a of e){const e=a.transform,o=n.data.field(a.field);r.set(a.field,vr(e,o,t))}return r}class Fr extends Ar{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ur extends Ar{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&$r(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Nr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Nr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ar();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let i=this.applyToLocalView(o,a.mutatedFields);i=t.has(r.key)?null:i;const s=Vr(o,i);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(ye.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lr())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,(e,t)=>Or(e,t))&&Z(this.baseMutations,e.baseMutations,(e,t)=>Or(e,t))}}class zr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){N(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=function(){return ir}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,n[o].version);return new zr(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gr{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr,Hr;function qr(e){switch(e){case O.OK:return V(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return V(15467,{code:e})}}function Qr(e){if(void 0===e)return I("GRPC error has no .code"),O.UNKNOWN;switch(e){case Xr.OK:return O.OK;case Xr.CANCELLED:return O.CANCELLED;case Xr.UNKNOWN:return O.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return O.INTERNAL;case Xr.UNAVAILABLE:return O.UNAVAILABLE;case Xr.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Xr.NOT_FOUND:return O.NOT_FOUND;case Xr.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Xr.ABORTED:return O.ABORTED;case Xr.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Xr.DATA_LOSS:return O.DATA_LOSS;default:return V(39323,{code:e})}}(Hr=Xr||(Xr={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Yr=null;
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new r([4294967295,4294967295],0);function Zr(e){const t=X().encode(e),n=new a;return n.update(t),new Uint8Array(n.digest())}function ea(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new r([n,a],0),new r([o,i],0)]}class ta{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new na(`Invalid padding: ${t}`);if(n<0)throw new na(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new na(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new na(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=r.fromNumber(this.fe)}pe(e,t,n){let a=e.add(t.multiply(r.fromNumber(n)));return 1===a.compare(Jr)&&(a=new r([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Zr(e),[n,r]=ea(t);for(let a=0;a<this.hashCount;a++){const e=this.pe(n,r,a);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new ta(a,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.fe)return;const t=Zr(e),[n,r]=ea(t);for(let a=0;a<this.hashCount;a++){const e=this.pe(n,r,a);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,aa.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ra(ye.min(),r,new ht(q),Zn(),lr())}}class aa{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new aa(n,t,lr(),lr(),lr())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class ia{constructor(e,t){this.targetId=e,this.De=t}}class sa{constructor(e,t,n=bt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class la{constructor(){this.ve=0,this.Ce=da(),this.Fe=bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=lr(),t=lr(),n=lr();return this.Ce.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:V(38017,{changeType:a})}}),new aa(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=da()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,N(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ua{constructor(e){this.We=e,this.Ge=new Map,this.ze=Zn(),this.je=ca(),this.Je=ca(),this.He=new ht(q)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:V(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const a=r.target;if(Nn(a))if(0===n){const e=new oe(a.path);this.Xe(t,e,on.newNoDocument(e,ye.min()))}else N(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),a=n?this.ut(n,e,r):1;if(0!==a){this.rt(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Yr||Yr.ct(function(e,t,n,r,a){var o,i,s,l,u,c;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===a,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(i=null==h?void 0:h.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,e.De,this.We.lt(),n,a))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let o,i;try{o=kt(n).toUint8Array()}catch(e){if(e instanceof yt)return x("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new ta(o,r,a)}catch(e){return x(e instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.fe?null:i}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const a=this.st(r);if(a){if(n.current&&Nn(a.target)){const t=new oe(a.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,on.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=lr();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new ra(e,t,this.He,this.ze,n);return this.ze=Zn(),this.je=ca(),this.Je=ca(),this.He=new ht(q),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new la,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new vt(q),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new vt(q),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new la),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ca(){return new ht(oe.comparator)}function da(){return new ht(oe.comparator)}const ha=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),pa=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})(),fa=(()=>{const e={and:"AND",or:"OR"};return e})();class va{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ma(e,t){return e.useProto3Json||Ne(t)?t:{value:t}}function ga(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ya(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ba(e,t){return ga(e,t.toTimestamp())}function _a(e){return N(!!e,49232),ye.fromTimestamp(function(e){const t=wt(e);return new ge(t.seconds,t.nanos)}(e))}function wa(e,t){return Ea(e,t).canonicalString()}function Ea(e,t){const n=function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ka(e){const t=ne.fromString(e);return N(Ga(t),10190,{key:t.toString()}),t}function Ca(e,t){return wa(e.databaseId,t.path)}function Sa(e,t){const n=ka(t);if(n.get(1)!==e.databaseId.projectId)throw new D(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(xa(n))}function Ra(e,t){return wa(e.databaseId,t)}function Ta(e){const t=ka(e);return 4===t.length?ne.emptyPath():xa(t)}function Ia(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xa(e){return N(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Aa(e,t,n){return{name:Ca(e,t),fields:n.value.mapValue.fields}}function Va(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:V(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(N(void 0===t||"string"==typeof t,58123),bt.fromBase64String(t||"")):(N(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),bt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,s=i&&function(e){const t=void 0===e.code?O.UNKNOWN:Qr(e.code);return new D(t,e.message||"")}(i);n=new sa(r,a,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Sa(e,r.document.name),o=_a(r.document.updateTime),i=r.document.createTime?_a(r.document.createTime):ye.min(),s=new rn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(a,o,i,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new oa(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Sa(e,r.document),o=r.readTime?_a(r.readTime):ye.min(),i=on.newNoDocument(a,o),s=r.removedTargetIds||[];n=new oa([],s,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Sa(e,r.document),o=r.removedTargetIds||[];n=new oa([],o,a,null)}else{if(!("filter"in t))return V(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,o=new Gr(r,a),i=e.targetId;n=new ia(i,o)}}return n}function $a(e,t){let n;if(t instanceof Dr)n={update:Aa(e,t.key,t.value)};else if(t instanceof Fr)n={delete:Ca(e,t.key)};else if(t instanceof Br)n={update:Aa(e,t.key,t.data),updateMask:Ka(t.fieldMask)};else{if(!(t instanceof Ur))return V(16599,{Rt:t.type});n={verify:Ca(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof yr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof br)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kr)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw V(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ba(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:V(27497)}(e,t.precondition)),n}function Na(e,t){return e&&e.length>0?(N(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?_a(e.updateTime):_a(t);return n.isEqual(ye.min())&&(n=_a(t)),new Tr(n,e.transformResults||[])}(e,t))):[]}function La(e,t){return{documents:[Ra(e,t.path)]}}function Oa(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ra(e,a);const o=function(e){if(0!==e.length)return za(fn.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ua(e.field),direction:Ma(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const s=ma(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:a}}function Da(e){let t=Ta(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){N(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Pa(e);return t instanceof fn&&mn(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map(e=>function(e){return new cn(ja(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Ne(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new sn(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new sn(n,t)}(n.endAt)),On(t,a,i,o,s,"F",l,u)}function Ba(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}function Pa(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ja(e.unaryFilter.field);return pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ja(e.unaryFilter.field);return pn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ja(e.unaryFilter.field);return pn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ja(e.unaryFilter.field);return pn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return V(61313);default:return V(60726)}}(e):void 0!==e.fieldFilter?function(e){return pn.create(ja(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return V(58110);default:return V(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fn.create(e.compositeFilter.filters.map(e=>Pa(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return V(1026)}}(e.compositeFilter.op))}(e):V(30097,{filter:e})}function Ma(e){return ha[e]}function Wa(e){return pa[e]}function Fa(e){return fa[e]}function Ua(e){return{fieldPath:e.canonicalString()}}function ja(e){return ae.fromServerFormat(e.fieldPath)}function za(e){return e instanceof pn?function(e){if("=="===e.op){if(Jt(e.value))return{unaryFilter:{field:Ua(e.field),op:"IS_NAN"}};if(Yt(e.value))return{unaryFilter:{field:Ua(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jt(e.value))return{unaryFilter:{field:Ua(e.field),op:"IS_NOT_NAN"}};if(Yt(e.value))return{unaryFilter:{field:Ua(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(e.field),op:Wa(e.op),value:e.value}}}(e):e instanceof fn?function(e){const t=e.getFilters().map(e=>za(e));return 1===t.length?t[0]:{compositeFilter:{op:Fa(e.op),filters:t}}}(e):V(54877,{filter:e})}function Ka(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ga(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,n,r,a=ye.min(),o=ye.min(),i=bt.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=i,this.expectedCount=s}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.gt=e}}function qa(e){const t=Da({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jn(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qa{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Et(e.integerValue));else if("doubleValue"in e){const n=Et(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Le(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=wt(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(kt(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?nn(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):en(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):V(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const a=e.fields||{};this.Ct(t,53);const o=Pt,i=(null===(r=null===(n=a[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Et(i)),this.xt(o,t),this.Dt(a[o],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),oe.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Qa.Ut=new Qa;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ya{constructor(){this.Dn=new Ja}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getIndexType(e,t){return Ie.resolve(0)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,t){return Ie.resolve(ke.min())}getMinOffsetFromCollectionGroup(e,t){return Ie.resolve(ke.min())}updateCollectionGroup(e,t,n){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class Ja{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vt(ne.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new vt(ne.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uint8Array(0);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Za={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eo=41943040;class to{static withCacheSize(e){return new to(e,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to.DEFAULT_COLLECTION_PERCENTILE=10,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,to.DEFAULT=new to(eo,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),to.DISABLED=new to(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class no{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new no(0)}static ur(){return new no(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ro="LruGarbageCollector",ao=1048576;function oo([e,t],[n,r]){const a=q(e,n);return 0===a?q(t,r):a}class io{constructor(e){this.Tr=e,this.buffer=new vt(oo),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();oo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class so{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){T(ro,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ae(e)?T(ro,"Ignoring IndexedDB error during garbage collection: ",e):await Te(e)}await this.Rr(3e5)})}}class lo{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ie.resolve(Ve.ue);const n=new io(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(Za)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Za):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,a,o,i,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,i=Date.now(),this.removeTargets(e,n,t))).next(t=>(a=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),R()<=s.$b.DEBUG&&T("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(i-o)+"ms\n"+`\tRemoved ${a} targets in `+(l-i)+"ms\n"+`\tRemoved ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})))}}function uo(e,t){return new lo(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class co{constructor(){this.changes=new Yn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ho{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Nr(n.mutation,e,gt.empty(),ge.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lr()).next(()=>t))}getLocalViewOfDocuments(e,t,n=lr()){const r=rr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=tr();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=rr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,lr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=Zn();const o=or(),i=function(){return or()}();return t.forEach((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof Br)?a=a.insert(t.key,t):void 0!==i?(o.set(t.key,i.mutation.getFieldMask()),Nr(i.mutation,t,i.mutation.getFieldMask(),ge.now())):o.set(t.key,gt.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return i.set(e,new ho(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),i))}recalculateAndSaveOverlays(e,t){const n=or();let r=new ht((e,t)=>e-t),a=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let i=n.get(e)||gt.empty();i=a.applyToLocalView(o,i),n.set(e,i);const s=(r.get(a.batchId)||lr()).add(e);r=r.insert(a.batchId,s)})}).next(()=>{const o=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),s=r.key,l=r.value,u=ar();l.forEach(e=>{if(!a.has(e)){const r=Vr(t.get(e),n.get(e));null!==r&&u.set(e,r),a=a.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return Ie.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ie.resolve(rr());let i=be,s=a;return o.next(t=>Ie.forEach(t,(t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),a.get(t)?Ie.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,s,t,lr())).next(e=>({batchId:i,changes:nr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next(e=>{let t=tr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let o=tr();return this.indexManager.getCollectionParents(e,a).next(i=>Ie.forEach(i,i=>{const s=function(e,t){return new Ln(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(a));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,on.newInvalidDocument(r)))});let n=tr();return e.forEach((e,r)=>{const o=a.get(e);void 0!==o&&Nr(o.mutation,r,gt.empty(),ge.now()),Xn(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ie.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_a(e.createTime)}}(t)),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:qa(e.bundledQuery),readTime:_a(e.readTime)}}(t)),Ie.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.overlays=new ht(oe.comparator),this.kr=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rr();return Ie.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Ie.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Ie.resolve()}getOverlaysForCollection(e,t,n){const r=rr(),a=t.length+1,o=new oe(t.child("")),i=this.overlays.getIteratorFrom(o);for(;i.hasNext();){const e=i.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ie.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new ht((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=rr(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=rr(),s=a.getIterator();for(;s.hasNext();)if(s.getNext().value.forEach((e,t)=>i.set(e,t)),i.size()>=r)break;return Ie.resolve(i)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kr(t,n));let a=this.kr.get(t);void 0===a&&(a=lr(),this.kr.set(t,a)),this.kr.set(t,a.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ie.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.qr=new vt(yo.Qr),this.$r=new vt(yo.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new yo(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new yo(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new oe(new ne([])),n=new yo(t,e),r=new yo(t,e+1),a=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),a.push(e.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new oe(new ne([])),n=new yo(t,e),r=new yo(t,e+1);let a=lr();return this.$r.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new yo(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class yo{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return oe.comparator(e.key,t.key)||q(e.Hr,t.Hr)}static Ur(e,t){return q(e.Hr,t.Hr)||oe.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new vt(yo.Qr)}checkEmpty(e){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jr(a,t,n,r);this.mutationQueue.push(o);for(const i of r)this.Yr=this.Yr.add(new yo(i.key,a)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(e,t){return Ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),a=r<0?0:r;return Ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?$e:this.er-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new yo(t,0),r=new yo(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);a.push(t)}),Ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new vt(q);return t.forEach(e=>{const t=new yo(e,0),r=new yo(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Ie.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;oe.isDocumentKey(a)||(a=a.child(""));const o=new yo(new oe(a),0);let i=new vt(q);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.Hr)),!0)},o),Ie.resolve(this.ei(i))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){N(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Ie.forEach(t.mutations,r=>{const a=new yo(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new yo(t,0),r=this.Yr.firstAfterOrEqual(n);return Ie.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.ni=e,this.docs=function(){return new ht(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,o=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ie.resolve(n?n.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let n=Zn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():on.newInvalidDocument(e))}),Ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=Zn();const o=t.path,i=new oe(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Ce(Ee(i),n)<=0||(r.has(i.key)||Xn(t,i))&&(a=a.insert(i.key,i.mutableCopy()))}return Ie.resolve(a)}getAllFromCollectionGroup(e,t,n,r){V(9500)}ri(e,t){return Ie.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new wo(this)}getSize(e){return Ie.resolve(this.size)}}class wo extends co{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Ie.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.persistence=e,this.ii=new Yn(e=>Vn(e),$n),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.si=0,this.oi=new go,this.targetCount=0,this._i=no.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Ie.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new no(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.hr(t),Ie.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.ii.forEach((o,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)}),Ie.waitFor(a).next(()=>r)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Ie.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Ie.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),Ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Ie.resolve(n)}containsKey(e,t){return Ie.resolve(this.oi.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ve(0),this.ci=!1,this.ci=!0,this.li=new mo,this.referenceDelegate=e(this),this.hi=new Eo(this),this.indexManager=new Ya,this.remoteDocumentCache=function(e){return new _o(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Ha(t),this.Ti=new fo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new bo(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new Co(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Ie.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class Co extends Re{constructor(e){super(),this.currentSequenceNumber=e}}class So{constructor(e){this.persistence=e,this.Ai=new go,this.Ri=null}static Vi(e){return new So(e)}get mi(){if(this.Ri)return this.Ri;throw V(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Ie.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.mi,n=>{const r=oe.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,ye.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Ie.or([()=>Ie.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ro{constructor(e,t){this.persistence=e,this.gi=new Yn(e=>Be(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=uo(this,t)}static Vi(e,t){return new Ro(e,t)}Ii(){}di(e){return Ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Ie.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Ie.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,a.removeEntry(r,ye.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ie.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ie.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xt(e.data.value)),t}Sr(e,t,n){return Ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Ie.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class To{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=lr(),r=lr();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new To(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return(0,l.nr)()?8:xe((0,l.ZQ)())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ps(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.ys(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new Io;return this.ws(e,t,n).next(r=>{if(a.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>a.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(R()<=s.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Gn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ie.resolve()):(R()<=s.$b.DEBUG&&T("QueryEngine","Query:",Gn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(R()<=s.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Gn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(t))):Ie.resolve())}ps(e,t){if(Bn(t))return Ie.resolve(null);let n=Wn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=jn(t,null,"F"),n=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=lr(...r);return this.gs.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.bs(t,r);return this.Ds(t,o,a,n.readTime)?this.ps(e,jn(t,null,"F")):this.vs(e,o,t,n)}))})))}ys(e,t,n,r){return Bn(t)||r.isEqual(ye.min())?Ie.resolve(null):this.gs.getDocuments(e,n).next(a=>{const o=this.bs(t,a);return this.Ds(t,o,n,r)?Ie.resolve(null):(R()<=s.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gn(t)),this.vs(e,o,t,we(r,be)).next(e=>e))})}bs(e,t){let n=new vt(qn(e));return t.forEach((t,r)=>{Xn(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ws(e,t,n){return R()<=s.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Gn(t)),this.gs.getDocumentsMatchingQuery(e,t,ke.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="LocalStore",Vo=3e8;class $o{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ht(q),this.Ms=new Yn(e=>Vn(e),$n),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new po(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function No(e,t,n,r){return new $o(e,t,n,r)}async function Lo(e,t){const n=L(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],o=[];let i=lr();for(const e of r){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next(e=>({Bs:e,removedBatchIds:a,addedBatchIds:o}))})})}function Oo(e,t){const n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,o=a.keys();let i=Ie.resolve();return o.forEach(e=>{i=i.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);N(null!==o,48541),t.version.compareTo(o)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),i.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}function Do(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Bo(e,t){const n=L(e),r=t.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const i=[];t.targetChanges.forEach((o,s)=>{const l=a.get(s);if(!l)return;i.push(n.hi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.hi.addMatchingKeys(e,o.addedDocuments,s)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?u=u.withResumeToken(bt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),a=a.insert(s,u),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;const r=t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds();if(r>=Vo)return!0;const a=n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size;return a>0}(l,u,o)&&i.push(n.hi.updateTargetData(e,u))});let s=Zn(),l=lr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),i.push(Po(e,o,t.documentUpdates).next(e=>{s=e.Ls,l=e.ks})),!r.isEqual(ye.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));i.push(t)}return Ie.waitFor(i).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Fs=a,e))}function Po(e,t,n){let r=lr(),a=lr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Zn();return n.forEach((n,o)=>{const i=e.get(n);o.isFoundDocument()!==i.isFoundDocument()&&(a=a.add(n)),o.isNoDocument()&&o.version.isEqual(ye.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!i.isValidDocument()||o.version.compareTo(i.version)>0||0===o.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):T(Ao,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",o.version)}),{Ls:r,ks:a}})}function Mo(e,t){const n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=$e),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Wo(e,t){const n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(a=>a?(r=a,Ie.resolve(r)):n.hi.allocateTargetId(e).next(a=>(r=new Xa(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function Fo(e,t,n){const r=L(e),a=r.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!Ae(e))throw e;T(Ao,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(a.target)}function Uo(e,t,n){const r=L(e);let a=ye.min(),o=lr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=L(e),a=r.Ms.get(n);return void 0!==a?Ie.resolve(r.Fs.get(a)):r.hi.getTargetData(t,n)}(r,e,Wn(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?a:ye.min(),n?o:lr())).next(e=>(jo(r,Hn(t),e),{documents:e,qs:o})))}function jo(e,t,n){let r=e.xs.get(t)||ye.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class zo{constructor(){this.activeTargetIds=cr()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ko{constructor(){this.Fo=new zo,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new zo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{xo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="ConnectivityMonitor";class Ho{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){T(Xo,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){T(Xo,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo=null;function Qo(){return null===qo?qo=function(){return 268435456+Math.round(2147483648*Math.random())}():qo++,"0x"+qo.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Yo="RestConnection",Jo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zo{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===$t?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,a){const o=Qo(),i=this.Go(e,t.toUriEncodedString());T(Yo,`Sending RPC '${e}' ${o}:`,i,n);const s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(s,r,a);const{host:u}=new URL(i),c=(0,l.zJ)(u);return this.jo(e,i,s,n,c).then(t=>(T(Yo,`Received RPC '${e}' ${o}: `,t),t),t=>{throw x(Yo,`RPC '${e}' ${o} failed with error: `,t,"url: ",i,"request:",n),t})}Jo(e,t,n,r,a,o){return this.Wo(e,t,n,r,a)}zo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+C}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Jo[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class ni extends Zo{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,a){const o=Qo();return new Promise((a,i)=>{const s=new d;s.setWithCredentials(!0),s.listenOnce(p.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case f.NO_ERROR:const t=s.getResponseJson();T(ti,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),a(t);break;case f.TIMEOUT:T(ti,`RPC '${e}' ${o} timed out`),i(new D(O.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const n=s.getStatus();if(T(ti,`RPC '${e}' ${o} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(t)>=0?t:O.UNKNOWN}(t.status);i(new D(e,t.message))}else i(new D(O.UNKNOWN,"Server responded with status "+s.getStatus()))}else i(new D(O.UNAVAILABLE,"Connection failed."));break;default:V(9055,{c_:e,streamId:o,l_:s.getLastErrorCode(),h_:s.getLastError()})}}finally{T(ti,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);T(ti,`RPC '${e}' ${o} sending request:`,r),s.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Qo(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=y(),i=g(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.zo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const u=a.join("");T(ti,`Creating RPC '${e}' stream ${r}: ${u}`,s);const c=o.createWebChannel(u,s);this.T_(c);let d=!1,p=!1;const f=new ei({Ho:t=>{p?T(ti,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(T(ti,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),T(ti,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Yo:()=>c.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(c,h.EventType.OPEN,()=>{p||(T(ti,`RPC '${e}' stream ${r} transport opened.`),f.s_())}),b(c,h.EventType.CLOSE,()=>{p||(p=!0,T(ti,`RPC '${e}' stream ${r} transport closed`),f.__(),this.I_(c))}),b(c,h.EventType.ERROR,t=>{p||(p=!0,x(ti,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.__(new D(O.UNAVAILABLE,"The operation could not be completed")))}),b(c,h.EventType.MESSAGE,t=>{var n;if(!p){const a=t.data[0];N(!!a,16349);const o=a,i=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(i){T(ti,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=Xr[e];if(void 0!==t)return Qr(t)}(t),a=i.message;void 0===n&&(n=O.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),p=!0,f.__(new D(n,a)),c.close()}else T(ti,`RPC '${e}' stream ${r} received:`,a),f.a_(a)}}),b(i,m.STAT_EVENT,t=>{t.stat===v.PROXY?T(ti,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===v.NOPROXY&&T(ti,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.o_()},0),f}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e){return new va(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t,n=1e3,r=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="PersistentStream";class si{constructor(e,t,n,r,a,o,i,s){this.Fi=e,this.w_=n,this.S_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=i,this.listener=s,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new oi(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(I(t.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===O.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.b_===t&&this.W_(e,n)},t=>{e(()=>{const e=new D(O.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return T(ii,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(T(ii,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class li extends si{constructor(e,t,n,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Va(this.serializer,e),n=function(e){if(!("targetChange"in e))return ye.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ye.min():t.readTime?_a(t.readTime):ye.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Ia(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Nn(r)?{documents:La(e,r)}:{query:Oa(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ya(e,t.resumeToken);const r=ma(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ye.min())>0){n.readTime=ga(e,t.snapshotVersion.toTimestamp());const r=ma(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=Ba(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Ia(this.serializer),t.removeTarget=e,this.k_(t)}}class ui extends si{constructor(e,t,n,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return N(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,N(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){N(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Na(e.writeResults,e.commitTime),n=_a(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Ia(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>$a(this.serializer,e))};this.k_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{}class di extends ci{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new D(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(e,Ea(t,n),r,a,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(O.UNKNOWN,e.toString())})}Jo(e,t,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Jo(e,Ea(t,n),r,o,i,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(O.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class hi{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(I(t),this._a=!1):T("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="RemoteStore";class fi{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{ki(this)&&(T(pi,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.Ia.add(4),await mi(t),t.Aa.set("Unknown"),t.Ia.delete(4),await vi(t)}(this))})}),this.Aa=new hi(n,r)}}async function vi(e){if(ki(e))for(const t of e.da)await t(!0)}async function mi(e){for(const t of e.da)await t(!1)}function gi(e,t){const n=L(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Ei(n)?wi(n):Ui(n).x_()&&bi(n,t))}function yi(e,t){const n=L(e),r=Ui(n);n.Ta.delete(t),r.x_()&&_i(n,t),0===n.Ta.size&&(r.x_()?r.B_():ki(n)&&n.Aa.set("Unknown"))}function bi(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ye.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ui(e).H_(t)}function _i(e,t){e.Ra.$e(t),Ui(e).Y_(t)}function wi(e){e.Ra=new ua({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Ui(e).start(),e.Aa.aa()}function Ei(e){return ki(e)&&!Ui(e).M_()&&e.Ta.size>0}function ki(e){return 0===L(e).Ia.size}function Ci(e){e.Ra=void 0}async function Si(e){e.Aa.set("Online")}async function Ri(e){e.Ta.forEach((t,n)=>{bi(e,t)})}async function Ti(e,t){Ci(e),Ei(e)?(e.Aa.la(t),wi(e)):e.Aa.set("Unknown")}async function Ii(e,t,n){if(e.Aa.set("Online"),t instanceof sa&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){T(pi,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await xi(e,n)}else if(t instanceof oa?e.Ra.Ye(t):t instanceof ia?e.Ra.it(t):e.Ra.et(t),!n.isEqual(ye.min()))try{const t=await Do(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ta.get(r);a&&e.Ta.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(bt.EMPTY_BYTE_STRING,r.snapshotVersion)),_i(e,t);const a=new Xa(r.target,t,n,r.sequenceNumber);bi(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T(pi,"Failed to raise snapshot:",t),await xi(e,t)}}async function xi(e,t,n){if(!Ae(t))throw t;e.Ia.add(1),await mi(e),e.Aa.set("Offline"),n||(n=()=>Do(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{T(pi,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await vi(e)})}function Ai(e,t){return t().catch(n=>xi(e,n,t))}async function Vi(e){const t=L(e),n=ji(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:$e;for(;$i(t);)try{const e=await Mo(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Ni(t,e)}catch(e){await xi(t,e)}Li(t)&&Oi(t)}function $i(e){return ki(e)&&e.Pa.length<10}function Ni(e,t){e.Pa.push(t);const n=ji(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Li(e){return ki(e)&&!ji(e).M_()&&e.Pa.length>0}function Oi(e){ji(e).start()}async function Di(e){ji(e).na()}async function Bi(e){const t=ji(e);for(const n of e.Pa)t.X_(n.mutations)}async function Pi(e,t,n){const r=e.Pa.shift(),a=zr.from(r,t,n);await Ai(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Vi(e)}async function Mi(e,t){t&&ji(e).Z_&&await async function(e,t){if(function(e){return qr(e)&&e!==O.ABORTED}(t.code)){const n=e.Pa.shift();ji(e).N_(),await Ai(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Vi(e)}}(e,t),Li(e)&&Oi(e)}async function Wi(e,t){const n=L(e);n.asyncQueue.verifyOperationInProgress(),T(pi,"RemoteStore received new credentials");const r=ki(n);n.Ia.add(3),await mi(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await vi(n)}async function Fi(e,t){const n=L(e);t?(n.Ia.delete(2),await vi(n)):t||(n.Ia.add(2),await mi(n),n.Aa.set("Unknown"))}function Ui(e){return e.Va||(e.Va=function(e,t,n){const r=L(e);return r.ia(),new li(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Zo:Si.bind(null,e),e_:Ri.bind(null,e),n_:Ti.bind(null,e),J_:Ii.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Ei(e)?wi(e):e.Aa.set("Unknown")):(await e.Va.stop(),Ci(e))})),e.Va}function ji(e){return e.ma||(e.ma=function(e,t,n){const r=L(e);return r.ia(),new ui(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Di.bind(null,e),n_:Mi.bind(null,e),ea:Bi.bind(null,e),ta:Pi.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Vi(e)):(await e.ma.stop(),e.Pa.length>0&&(T(pi,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class zi{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new B,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const o=Date.now()+n,i=new zi(e,t,o,r,a);return i.start(n),i}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ki(e,t){if(I("AsyncQueue",`${t}: ${e}`),Ae(e))return new D(O.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{static emptySet(e){return new Gi(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||oe.comparator(t.key,n.key):(e,t)=>oe.comparator(e.key,t.key),this.keyedMap=tr(),this.sortedSet=new ht(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gi))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gi;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.fa=new ht(oe.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):V(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Hi{constructor(e,t,n,r,a,o,i,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=i,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Hi(e,t,Gi.emptySet(t),o,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Qi{constructor(){this.queries=Yi(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=L(e),r=n.queries;n.queries=Yi(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new D(O.ABORTED,"Firestore shutting down"))}}function Yi(){return new Yn(e=>Kn(e),zn)}async function Ji(e,t){const n=L(e);let r=3;const a=t.query;let o=n.queries.get(a);o?!o.Sa()&&t.ba()&&(r=2):(o=new qi,r=t.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(a,!0);break;case 1:o.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=Ki(e,`Initialization of query '${Gn(t.query)}' failed`);return void t.onError(n)}n.queries.set(a,o),o.wa.push(t),t.va(n.onlineState),o.ya&&t.Ca(o.ya)&&ns(n)}async function Zi(e,t){const n=L(e),r=t.query;let a=3;const o=n.queries.get(r);if(o){const e=o.wa.indexOf(t);e>=0&&(o.wa.splice(e,1),0===o.wa.length?a=t.ba()?0:1:!o.Sa()&&t.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function es(e,t){const n=L(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(a)&&(r=!0);t.ya=a}}r&&ns(n)}function ts(e,t,n){const r=L(e),a=r.queries.get(t);if(a)for(const o of a.wa)o.onError(n);r.queries.delete(t)}function ns(e){e.Da.forEach(e=>{e.next()})}var rs,as;(as=rs||(rs={})).Fa="default",as.Cache="cache";class os{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hi(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Hi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==rs.Cache}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class is{constructor(e){this.key=e}}class ss{constructor(e){this.key=e}}class ls{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=lr(),this.mutatedKeys=lr(),this.Xa=qn(e),this.eu=new Gi(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Xi,r=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,o=r,i=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Xn(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let p=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),p=!0):this.iu(u,c)||(n.track({type:2,doc:c}),p=!0,(s&&this.Xa(c,s)>0||l&&this.Xa(c,l)<0)&&(i=!0)):!u&&c?(n.track({type:0,doc:c}),p=!0):u&&!c&&(n.track({type:1,doc:u}),p=!0,(s||l)&&(i=!0)),p&&(c?(o=o.add(c),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{eu:o,ru:n,Ds:i,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V(20277,{At:e})}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const i=t&&!r?this.ou():[],s=0===this.Za.size&&this.current&&!r?1:0,l=s!==this.Ya;return this.Ya=s,0!==o.length||l?{snapshot:new Hi(this.query,e.eu,a,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:i}:{_u:i}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Xi,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=lr(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new ss(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new is(n))}),t}uu(e){this.Ha=e.qs,this.Za=lr();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Hi.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const us="SyncEngine";class cs{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ds{constructor(e){this.key=e,this.lu=!1}}class hs{constructor(e,t,n,r,a,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Yn(e=>Kn(e),zn),this.Tu=new Map,this.Iu=new Set,this.du=new ht(oe.comparator),this.Eu=new Map,this.Au=new go,this.Ru={},this.Vu=new Map,this.mu=no.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function ps(e,t,n=!0){const r=Os(e);let a;const o=r.Pu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.cu()):a=await vs(r,t,n,!0),a}async function fs(e,t){const n=Os(e);await vs(n,t,!0,!1)}async function vs(e,t,n,r){const a=await Wo(e.localStore,Wn(t)),o=a.targetId,i=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await ms(e,t,o,"current"===i,a.resumeToken)),e.isPrimaryClient&&n&&gi(e.remoteStore,a),s}async function ms(e,t,n,r,a){e.gu=(t,n,r)=>async function(e,t,n,r){let a=t.view.nu(n);a.Ds&&(a=await Uo(e.localStore,t.query,!1).then(({documents:e})=>t.view.nu(e,a)));const o=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(a,e.isPrimaryClient,o,i);return xs(e,t.targetId,s._u),s.snapshot}(e,t,n,r);const o=await Uo(e.localStore,t,!0),i=new ls(t,o.qs),s=i.nu(o.documents),l=aa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),u=i.applyChanges(s,e.isPrimaryClient,l);xs(e,n,u._u);const c=new cs(t,n,i);return e.Pu.set(t,c),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),u.snapshot}async function gs(e,t,n){const r=L(e),a=r.Pu.get(t),o=r.Tu.get(a.targetId);if(o.length>1)return r.Tu.set(a.targetId,o.filter(e=>!zn(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Fo(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&yi(r.remoteStore,a.targetId),Ts(r,a.targetId)}).catch(Te)):(Ts(r,a.targetId),await Fo(r.localStore,a.targetId,!0))}async function ys(e,t){const n=L(e),r=n.Pu.get(t),a=n.Tu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yi(n.remoteStore,r.targetId))}async function bs(e,t,n){const r=Ds(e);try{const e=await function(e,t){const n=L(e),r=ge.now(),a=t.reduce((e,t)=>e.add(t.key),lr());let o,i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Zn(),l=lr();return n.Os.getEntries(e,a).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(a=>{o=a;const i=[];for(const e of t){const t=Lr(e,o.get(e.key).overlayedDocument);null!=t&&i.push(new Br(e.key,t,an(t.value.mapValue),Ir.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)}).next(t=>{i=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:i.batchId,changes:nr(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new ht(q)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await $s(r,e.changes),await Vi(r.remoteStore)}catch(e){const t=Ki(e,"Failed to persist write");n.reject(t)}}async function _s(e,t){const n=L(e);try{const e=await Bo(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?N(r.lu,14607):e.removedDocuments.size>0&&(N(r.lu,42227),r.lu=!1))}),await $s(n,e,t)}catch(e){await Te(e)}}function ws(e,t,n){const r=L(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const a=r.view.va(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=L(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.wa)a.va(t)&&(r=!0)}),r&&ns(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Es(e,t,n){const r=L(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Eu.get(t),o=a&&a.key;if(o){let e=new ht(oe.comparator);e=e.insert(o,on.newNoDocument(o,ye.min()));const n=lr().add(o),a=new ra(ye.min(),new Map,new ht(q),e,n);await _s(r,a),r.du=r.du.remove(o),r.Eu.delete(t),Vs(r)}else await Fo(r.localStore,t,!1).then(()=>Ts(r,t,n)).catch(Te)}async function ks(e,t){const n=L(e),r=t.batch.batchId;try{const e=await Oo(n.localStore,t);Rs(n,r,null),Ss(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $s(n,e)}catch(e){await Te(e)}}async function Cs(e,t,n){const r=L(e);try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(N(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Rs(r,t,n),Ss(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $s(r,e)}catch(n){await Te(n)}}function Ss(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Rs(e,t,n){const r=L(e);let a=r.Ru[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Ru[r.currentUser.toKey()]=a}}function Ts(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Is(e,t)})}function Is(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(yi(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Vs(e))}function xs(e,t,n){for(const r of n)r instanceof is?(e.Au.addReference(r.key,t),As(e,r)):r instanceof ss?(T(us,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Is(e,r.key)):V(19791,{yu:r})}function As(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(T(us,"New document in limbo: "+n),e.Iu.add(r),Vs(e))}function Vs(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new oe(ne.fromString(t)),r=e.mu.next();e.Eu.set(r,new ds(n)),e.du=e.du.insert(n,r),gi(e.remoteStore,new Xa(Wn(Dn(n.path)),r,"TargetPurposeLimboResolution",Ve.ue))}}async function $s(e,t,n){const r=L(e),a=[],o=[],i=[];r.Pu.isEmpty()||(r.Pu.forEach((e,s)=>{i.push(r.gu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,a?"current":"not-current")}if(e){a.push(e);const t=To.Es(s.targetId,e);o.push(t)}}))}),await Promise.all(i),r.hu.J_(a),await async function(e,t){const n=L(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ie.forEach(t,t=>Ie.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ie.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ae(e))throw e;T(Ao,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,a)}}}(r.localStore,o))}async function Ns(e,t){const n=L(e);if(!n.currentUser.isEqual(t)){T(us,"User change. New user:",t.toKey());const e=await Lo(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new D(O.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $s(n,e.Bs)}}function Ls(e,t){const n=L(e),r=n.Eu.get(t);if(r&&r.lu)return lr().add(r.key);{let e=lr();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Os(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_s.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ls.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Es.bind(null,t),t.hu.J_=es.bind(null,t.eventManager),t.hu.pu=ts.bind(null,t.eventManager),t}function Ds(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ks.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cs.bind(null,t),t}class Bs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ai(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return No(this.persistence,new xo,e.initialUser,this.serializer)}Du(e){return new ko(So.Vi,this.serializer)}bu(e){return new Ko}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bs.provider={build:()=>new Bs};class Ps extends Bs{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){N(this.persistence.referenceDelegate instanceof Ro,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new so(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?to.withCacheSize(this.cacheSizeBytes):to.DEFAULT;return new ko(e=>Ro.Vi(e,t),this.serializer)}}class Ms{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ws(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ns.bind(null,this.syncEngine),await Fi(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qi}()}createDatastore(e){const t=ai(e.databaseInfo.databaseId),n=function(e){return new ni(e)}(e.databaseInfo);return function(e,t,n,r){return new di(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new fi(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>ws(this.syncEngine,e,0),function(){return Ho.C()?new Ho:new Go}())}createSyncEngine(e,t){return function(e,t,n,r,a,o,i){const s=new hs(e,t,n,r,a,o);return i&&(s.fu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);T(pi,"RemoteStore shutting down."),t.Ia.add(5),await mi(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ms.provider={build:()=>new Ms};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ws{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):I("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Fs="FirestoreClient";class Us{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=H.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{T(Fs,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(T(Fs,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new B;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ki(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function js(e,t){e.asyncQueue.verifyOperationInProgress(),T(Fs,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Lo(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{x("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{T("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{x("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function zs(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ks(e);T(Fs,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Wi(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Wi(t.remoteStore,n)),e._onlineComponents=t}async function Ks(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T(Fs,"Using user provided OfflineComponentProvider");try{await js(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;x("Error using user provided cache. Falling back to memory cache: "+n),await js(e,new Bs)}}else T(Fs,"Using default OfflineComponentProvider"),await js(e,new Ps(void 0));return e._offlineComponents}async function Gs(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T(Fs,"Using user provided OnlineComponentProvider"),await zs(e,e._uninitializedComponentsProvider._online)):(T(Fs,"Using default OnlineComponentProvider"),await zs(e,new Ms))),e._onlineComponents}function Xs(e){return Gs(e).then(e=>e.syncEngine)}async function Hs(e){const t=await Gs(e),n=t.eventManager;return n.onListen=ps.bind(null,t.syncEngine),n.onUnlisten=gs.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fs.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ys.bind(null,t.syncEngine),n}function qs(e,t,n={}){const r=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const o=new Ws({next:s=>{o.Ou(),t.enqueueAndForget(()=>Zi(e,i));const l=s.docs.has(n);!l&&s.fromCache?a.reject(new D(O.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?a.reject(new D(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(s)},error:e=>a.reject(e)}),i=new os(Dn(n.path),o,{includeMetadataChanges:!0,ka:!0});return Ji(e,i)}(await Hs(e),e.asyncQueue,t,n,r)),r.promise}function Qs(e,t,n={}){const r=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const o=new Ws({next:n=>{o.Ou(),t.enqueueAndForget(()=>Zi(e,i)),n.fromCache&&"server"===r.source?a.reject(new D(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),i=new os(n,o,{includeMetadataChanges:!0,ka:!0});return Ji(e,i)}(await Hs(e),e.asyncQueue,t,n,r)),r.promise}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ys(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Js=new Map,Zs="firestore.googleapis.com",el=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zs,this.ssl=el}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:el;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=eo;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ao)throw new D(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}se("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ys(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new D(O.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new D(O.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new D(O.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nl{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new D(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tl(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new M;switch(e.type){case"firstParty":return new j(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Js.get(e);t&&(T("ComponentProvider","Removing Datastore"),Js.delete(e),t.terminate())}(this),Promise.resolve()}}function rl(e,t,n,r={}){var a;e=he(e,nl);const o=(0,l.zJ)(t),i=e._getSettings(),s=Object.assign(Object.assign({},i),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;o&&((0,l.gE)(`https://${u}`),(0,l.P1)("Firestore",!0)),i.host!==Zs&&i.host!==u&&x("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},i),{host:u,ssl:o,emulatorOptions:r});if(!(0,l.bD)(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new D(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(o)}e._authCredentials=new W(new P(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new al(this.firestore,e,this._query)}}class ol{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ol(this.firestore,e,this._key)}toJSON(){return{type:ol._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(fe(t,ol._jsonSchema))return new ol(e,n||null,new oe(ne.fromString(t.referencePath)))}}ol._jsonSchemaVersion="firestore/documentReference/1.0",ol._jsonSchema={type:pe("string",ol._jsonSchemaVersion),referencePath:pe("string")};class il extends al{constructor(e,t,n){super(e,t,Dn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ol(this.firestore,null,new oe(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function sl(e,t,...n){if(e=(0,l.Ku)(e),ie("collection","path",t),e instanceof nl){const r=ne.fromString(t,...n);return ue(r),new il(e,null,r)}{if(!(e instanceof ol||e instanceof il))throw new D(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ne.fromString(t,...n));return ue(r),new il(e.firestore,null,r)}}function ll(e,t,...n){if(e=(0,l.Ku)(e),1===arguments.length&&(t=H.newId()),ie("doc","path",t),e instanceof nl){const r=ne.fromString(t,...n);return le(r),new ol(e,null,new oe(r))}{if(!(e instanceof ol||e instanceof il))throw new D(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ne.fromString(t,...n));return le(r),new ol(e.firestore,e instanceof il?e.converter:null,new oe(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ul="AsyncQueue";class cl{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new oi(this,"async_queue_retry"),this.oc=()=>{const e=ri();e&&T(ul,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=ri();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ri();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new B;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ae(e))throw e;T(ul,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,I("INTERNAL UNHANDLED ERROR: ",dl(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=zi.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&V(47125,{hc:dl(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function dl(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class hl extends nl{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new cl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cl(e),this._firestoreClient=void 0,await e}}}function pl(e,t){const n="object"==typeof e?e:(0,o.Sx)(),r="string"==typeof e?e:t||$t,a=(0,o.j6)(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=(0,l.yU)("firestore");e&&rl(a,...e)}return a}function fl(e){if(e._terminated)throw new D(O.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||vl(e),e._firestoreClient}function vl(e){var t,n,r;const a=e._freezeSettings(),o=function(e,t,n,r){return new Vt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ys(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Us(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(bt.fromBase64String(e))}catch(e){throw new D(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ml(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ml._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fe(e,ml._jsonSchema))return ml.fromBase64String(e.bytes)}}ml._jsonSchemaVersion="firestore/bytes/1.0",ml._jsonSchema={type:pe("string",ml._jsonSchemaVersion),bytes:pe("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ae(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yl{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bl._jsonSchemaVersion}}static fromJSON(e){if(fe(e,bl._jsonSchema))return new bl(e.latitude,e.longitude)}}bl._jsonSchemaVersion="firestore/geoPoint/1.0",bl._jsonSchema={type:pe("string",bl._jsonSchemaVersion),latitude:pe("number"),longitude:pe("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _l{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_l._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fe(e,_l._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new _l(e.vectorValues);throw new D(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_l._jsonSchemaVersion="firestore/vectorValue/1.0",_l._jsonSchema={type:pe("string",_l._jsonSchemaVersion),vectorValues:pe("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const wl=/^__.*__$/;class El{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Br(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dr(e,this.data,t,this.fieldTransforms)}}class kl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Br(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V(40011,{Ec:e})}}class Sl{constructor(e,t,n,r,a,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Sl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wl(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(Cl(this.Ec)&&wl.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Rl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ai(e)}Dc(e,t,n,r=!1){return new Sl({Ec:e,methodName:t,bc:n,path:ae.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tl(e){const t=e._freezeSettings(),n=ai(e._databaseId);return new Rl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Il(e,t,n,r,a,o={}){const i=e.Dc(o.merge||o.mergeFields?2:0,t,n,a);Dl("Data must be an object, but it was:",i,r);const s=Ll(r,i);let l,u;if(o.merge)l=new gt(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const a=Bl(t,r,n);if(!i.contains(a))throw new D(O.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);Fl(e,a)||e.push(a)}l=new gt(e),u=i.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=i.fieldTransforms;return new El(new rn(s),l,u)}class xl extends yl{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xl}}function Al(e,t,n,r){const a=e.Dc(1,t,n);Dl("Data must be an object, but it was:",a,r);const o=[],i=rn.empty();ct(r,(e,r)=>{const s=Ml(t,e,n);r=(0,l.Ku)(r);const u=a.gc(s);if(r instanceof xl)o.push(s);else{const e=Nl(r,u);null!=e&&(o.push(s),i.set(s,e))}});const s=new gt(o);return new kl(i,s,a.fieldTransforms)}function Vl(e,t,n,r,a,o){const i=e.Dc(1,t,n),s=[Bl(t,r,n)],u=[a];if(o.length%2!=0)throw new D(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<o.length;l+=2)s.push(Bl(t,o[l])),u.push(o[l+1]);const c=[],d=rn.empty();for(let p=s.length-1;p>=0;--p)if(!Fl(c,s[p])){const e=s[p];let t=u[p];t=(0,l.Ku)(t);const n=i.gc(e);if(t instanceof xl)c.push(e);else{const r=Nl(t,n);null!=r&&(c.push(e),d.set(e,r))}}const h=new gt(c);return new kl(d,h,i.fieldTransforms)}function $l(e,t,n,r=!1){return Nl(n,e.Dc(r?4:3,t))}function Nl(e,t){if(Ol(e=(0,l.Ku)(e)))return Dl("Unsupported field value:",t,e),Ll(e,t);if(e instanceof yl)return function(e,t){if(!Cl(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=Nl(a,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ge.fromDate(e);return{timestampValue:ga(t.serializer,n)}}if(e instanceof ge){const n=new ge(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ga(t.serializer,n)}}if(e instanceof bl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ml)return{bytesValue:ya(t.serializer,e._byteString)};if(e instanceof ol){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:wa(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof _l)return function(e,t){const n={fields:{[Lt]:{stringValue:Bt},[Pt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return dr(t.serializer,e)})}}}};return{mapValue:n}}(e,t);throw t.wc(`Unsupported field value: ${de(e)}`)}(e,t)}function Ll(e,t){const n={};return dt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ct(e,(e,r)=>{const a=Nl(r,t.Vc(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function Ol(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ge||e instanceof bl||e instanceof ml||e instanceof ol||e instanceof yl||e instanceof _l)}function Dl(e,t,n){if(!Ol(n)||!ce(n)){const r=de(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Bl(e,t,n){if((t=(0,l.Ku)(t))instanceof gl)return t._internalPath;if("string"==typeof t)return Ml(e,t);throw Wl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pl=new RegExp("[~\\*/\\[\\]]");function Ml(e,t,n){if(t.search(Pl)>=0)throw Wl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new gl(...t.split("."))._internalPath}catch(r){throw Wl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wl(e,t,n,r,a){const o=r&&!r.isEmpty(),i=void 0!==a;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${a}`),l+=")"),new D(O.INVALID_ARGUMENT,s+e+l)}function Fl(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ol(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jl extends Ul{data(){return super.data()}}function zl(e,t){return"string"==typeof t?Ml(e,t):t instanceof gl?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gl{}class Xl extends Gl{}function Hl(e,t,...n){let r=[];t instanceof Gl&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof Ql).length,n=e.filter(e=>e instanceof ql).length;if(t>1||t>0&&n>0)throw new D(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);for(const a of r)e=a._apply(e);return e}class ql extends Xl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ql(e,t,n)}_apply(e){const t=this._parse(e);return tu(e._query,t),new al(e.firestore,e.converter,Un(e._query,t))}_parse(e){const t=Tl(e.firestore),n=function(e,t,n,r,a,o,i){let s;if(a.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new D(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){eu(i,o);const t=[];for(const n of i)t.push(Zl(r,e,n));s={arrayValue:{values:t}}}else s=Zl(r,e,i)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||eu(i,o),s=$l(n,t,i,"in"===o||"not-in"===o);const l=pn.create(a,o,s);return l}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ql extends Gl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ql(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const a of r)tu(n,a),n=Un(n,a)}(e._query,t),new al(e.firestore,e.converter,Un(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yl extends Xl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yl(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new D(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new D(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new cn(t,n);return r}(e._query,this._field,this._direction);return new al(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ln(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Jl(e,t="asc"){const n=t,r=zl("orderBy",e);return Yl._create(r,n)}function Zl(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new D(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pn(t)&&-1!==n.indexOf("/"))throw new D(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!oe.isDocumentKey(r))throw new D(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ht(e,new oe(r))}if(n instanceof ol)return Ht(e,n._key);throw new D(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${de(n)}.`)}function eu(e,t){if(!Array.isArray(e)||0===e.length)throw new D(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tu(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new D(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new D(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class nu{convertValue(e,t="none"){switch(Mt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw V(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ct(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Pt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Et(e.doubleValue));return new _l(a)}convertGeoPoint(e){return new bl(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(At(e));default:return null}}convertTimestamp(e){const t=wt(e);return new ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ne.fromString(e);N(Ga(n),9688,{name:e});const r=new Nt(n.get(1),n.get(3)),a=new oe(n.popFirst(5));return r.isEqual(t)||I(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ou extends Ul{constructor(e,t,n,r,a,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(zl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new D(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ou._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",ou._jsonSchema={type:pe("string",ou._jsonSchemaVersion),bundleSource:pe("string","DocumentSnapshot"),bundleName:pe("string"),bundle:pe("string")};class iu extends ou{data(e={}){return super.data(e)}}class su{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new au(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new iu(this._firestore,this._userDataWriter,n.key,n,new au(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new iu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new au(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new iu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new au(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,o=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:lu(t.type),doc:r,oldIndex:a,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new D(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V(61501,{type:e})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function uu(e){e=he(e,ol);const t=he(e.firestore,hl);return qs(fl(t),e._key).then(n=>gu(t,e,n))}su._jsonSchemaVersion="firestore/querySnapshot/1.0",su._jsonSchema={type:pe("string",su._jsonSchemaVersion),bundleSource:pe("string","QuerySnapshot"),bundleName:pe("string"),bundle:pe("string")};class cu extends nu{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ol(this.firestore,null,t)}}function du(e){e=he(e,al);const t=he(e.firestore,hl),n=fl(t),r=new cu(t);return Kl(e._query),Qs(n,e._query).then(n=>new su(t,r,e,n))}function hu(e,t,n){e=he(e,ol);const r=he(e.firestore,hl),a=ru(e.converter,t,n);return mu(r,[Il(Tl(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Ir.none())])}function pu(e,t,n,...r){e=he(e,ol);const a=he(e.firestore,hl),o=Tl(a);let i;return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof gl?Vl(o,"updateDoc",e._key,t,n,r):Al(o,"updateDoc",e._key,t),mu(a,[i.toMutation(e._key,Ir.exists(!0))])}function fu(e){return mu(he(e.firestore,hl),[new Fr(e._key,Ir.none())])}function vu(e,t){const n=he(e.firestore,hl),r=ll(e),a=ru(e.converter,t);return mu(n,[Il(Tl(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function mu(e,t){return function(e,t){const n=new B;return e.asyncQueue.enqueueAndForget(async()=>bs(await Xs(e),t,n)),n.promise}(fl(e),t)}function gu(e,t,n){const r=n.docs.get(t._key),a=new cu(e);return new ou(e,a,t._key,r,new au(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,t=!0){!function(e){C=e}(o.MF),(0,o.om)(new i.uA("firestore",(e,{instanceIdentifier:n,options:r})=>{const a=e.getProvider("app").getImmediate(),o=new hl(new F(e.getProvider("auth-internal")),new K(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nt(e.options.projectId,t)}(a,n),a);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(w,E,e),(0,o.KO)(w,E,"esm2017")}()},928:(e,t,n)=>{n.d(t,{MF:()=>be,j6:()=>fe,xZ:()=>ve,om:()=>pe,Sx:()=>we,Wp:()=>_e,KO:()=>Ee});var r=n(125),a=n(424),o=n(72);const i=(e,t)=>t.some(t=>e instanceof t);let s,l;function u(){return s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap;function m(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{t(E(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&d.set(t,e)}).catch(()=>{}),v.set(t,e),t}function g(e){if(h.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});h.set(e,t)}let y={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||p.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function b(e){y=e(y)}function _(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?c().includes(e)?function(...t){return e.apply(k(this),t),E(d.get(this))}:function(...t){return E(e.apply(k(this),t))}:function(t,...n){const r=e.call(k(this),t,...n);return p.set(r,t.sort?t.sort():[t]),E(r)}}function w(e){return"function"===typeof e?_(e):(e instanceof IDBTransaction&&g(e),i(e,u())?new Proxy(e,y):e)}function E(e){if(e instanceof IDBRequest)return m(e);if(f.has(e))return f.get(e);const t=w(e);return t!==e&&(f.set(e,t),v.set(t,e)),t}const k=e=>v.get(e);function C(e,t,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const i=indexedDB.open(e,t),s=E(i);return r&&i.addEventListener("upgradeneeded",e=>{r(E(i.result),e.oldVersion,e.newVersion,E(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const S=["get","getKey","getAll","getAllKeys","count"],R=["put","add","delete","clear"],T=new Map;function I(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(T.get(t))return T.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=R.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!S.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,a?"readwrite":"readonly");let i=o.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),a&&o.done]))[0]};return T.set(t,o),o}b(e=>({...e,get:(t,n,r)=>I(t,n)||e.get(t,n,r),has:(t,n)=>!!I(t,n)||e.has(t,n)}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class x{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if(A(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}function A(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const V="@firebase/app",$="0.13.2",N=new a.Vy("@firebase/app"),L="@firebase/app-compat",O="@firebase/analytics-compat",D="@firebase/analytics",B="@firebase/app-check-compat",P="@firebase/app-check",M="@firebase/auth",W="@firebase/auth-compat",F="@firebase/database",U="@firebase/data-connect",j="@firebase/database-compat",z="@firebase/functions",K="@firebase/functions-compat",G="@firebase/installations",X="@firebase/installations-compat",H="@firebase/messaging",q="@firebase/messaging-compat",Q="@firebase/performance",Y="@firebase/performance-compat",J="@firebase/remote-config",Z="@firebase/remote-config-compat",ee="@firebase/storage",te="@firebase/storage-compat",ne="@firebase/firestore",re="@firebase/ai",ae="@firebase/firestore-compat",oe="firebase",ie="11.10.0",se="[DEFAULT]",le={[V]:"fire-core",[L]:"fire-core-compat",[D]:"fire-analytics",[O]:"fire-analytics-compat",[P]:"fire-app-check",[B]:"fire-app-check-compat",[M]:"fire-auth",[W]:"fire-auth-compat",[F]:"fire-rtdb",[U]:"fire-data-connect",[j]:"fire-rtdb-compat",[z]:"fire-fn",[K]:"fire-fn-compat",[G]:"fire-iid",[X]:"fire-iid-compat",[H]:"fire-fcm",[q]:"fire-fcm-compat",[Q]:"fire-perf",[Y]:"fire-perf-compat",[J]:"fire-rc",[Z]:"fire-rc-compat",[ee]:"fire-gcs",[te]:"fire-gcs-compat",[ne]:"fire-fst",[ae]:"fire-fst-compat",[re]:"fire-vertex","fire-js":"fire-js",[oe]:"fire-js-all"},ue=new Map,ce=new Map,de=new Map;function he(e,t){try{e.container.addComponent(t)}catch(n){N.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function pe(e){const t=e.name;if(de.has(t))return N.debug(`There were multiple attempts to register component ${t}.`),!1;de.set(t,e);for(const n of ue.values())he(n,e);for(const n of ce.values())he(n,e);return!0}function fe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ve(e){return null!==e&&void 0!==e&&void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const me={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},ge=new o.FA("app","Firebase",me);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ye{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ge.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const be=ie;function _e(e,t={}){let n=e;if("object"!==typeof t){const e=t;t={name:e}}const a=Object.assign({name:se,automaticDataCollectionEnabled:!0},t),i=a.name;if("string"!==typeof i||!i)throw ge.create("bad-app-name",{appName:String(i)});if(n||(n=(0,o.T9)()),!n)throw ge.create("no-options");const s=ue.get(i);if(s){if((0,o.bD)(n,s.options)&&(0,o.bD)(a,s.config))return s;throw ge.create("duplicate-app",{appName:i})}const l=new r.h1(i);for(const r of de.values())l.addComponent(r);const u=new ye(n,a,l);return ue.set(i,u),u}function we(e=se){const t=ue.get(e);if(!t&&e===se&&(0,o.T9)())return _e();if(!t)throw ge.create("no-app",{appName:e});return t}function Ee(e,t,n){var a;let o=null!==(a=le[e])&&void 0!==a?a:e;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${o}" with version "${t}":`];return i&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void N.warn(e.join(" "))}pe(new r.uA(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ke="firebase-heartbeat-database",Ce=1,Se="firebase-heartbeat-store";let Re=null;function Te(){return Re||(Re=C(ke,Ce,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Se)}catch(n){console.warn(n)}}}}).catch(e=>{throw ge.create("idb-open",{originalErrorMessage:e.message})})),Re}async function Ie(e){try{const t=await Te(),n=t.transaction(Se),r=await n.objectStore(Se).get(Ae(e));return await n.done,r}catch(t){if(t instanceof o.g)N.warn(t.message);else{const e=ge.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});N.warn(e.message)}}}async function xe(e,t){try{const n=await Te(),r=n.transaction(Se,"readwrite"),a=r.objectStore(Se);await a.put(t,Ae(e)),await r.done}catch(n){if(n instanceof o.g)N.warn(n.message);else{const e=ge.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});N.warn(e.message)}}}function Ae(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=1024,$e=30;class Ne{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new De(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),a=Le();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(e=>e.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>$e){const e=Pe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){N.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Le(),{heartbeatsToSend:n,unsentEntries:r}=Oe(this._heartbeatsCache.heartbeats),a=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return N.warn(t),""}}}function Le(){const e=new Date;return e.toISOString().substring(0,10)}function Oe(e,t=Ve){const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Be(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Be(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class De{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await Ie(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return xe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return xe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Be(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}function Pe(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(e){pe(new r.uA("platform-logger",e=>new x(e),"PRIVATE")),pe(new r.uA("heartbeat",e=>new Ne(e),"PRIVATE")),Ee(V,$,e),Ee(V,$,"esm2017"),Ee("fire-js","")}Me("")},951:()=>{},953:(e,t,n)=>{n.d(t,{C4:()=>S,EW:()=>qe,Gc:()=>we,IG:()=>Ae,IJ:()=>Oe,KR:()=>Le,Kh:()=>_e,Pr:()=>We,QW:()=>je,R1:()=>Pe,Tm:()=>Re,X2:()=>c,a1:()=>$e,bl:()=>R,fE:()=>Te,g8:()=>Se,hV:()=>tt,hZ:()=>B,i9:()=>Ne,jr:()=>l,ju:()=>Ie,lJ:()=>Ve,lW:()=>Ge,nD:()=>ke,o5:()=>s,qA:()=>W,rY:()=>Ue,u4:()=>D,ux:()=>xe,wB:()=>et,yC:()=>i});var r=n(33);
/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let a,o;class i{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=a,!e&&a&&(this.index=(a.scopes||(a.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=a;try{return a=this,e()}finally{a=t}}else 0}on(){1===++this._on&&(this.prevScope=a,a=this)}off(){this._on>0&&0===--this._on&&(a=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function s(){return a}function l(e,t=!1){a&&a.cleanups.push(e)}const u=new WeakSet;class c{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,a&&a.active&&a.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,u.has(this)&&(u.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||f(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,T(this),g(this);const e=o,t=k;o=this,k=!0;try{return this.fn()}finally{0,y(this),o=e,k=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)w(e);this.deps=this.depsTail=void 0,T(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?u.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){b(this)&&this.run()}get dirty(){return b(this)}}let d,h,p=0;function f(e,t=!1){if(e.flags|=8,t)return e.next=h,void(h=e);e.next=d,d=e}function v(){p++}function m(){if(--p>0)return;if(h){let e=h;h=void 0;while(e){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;while(d){let n=d;d=void 0;while(n){const r=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=r}}if(e)throw e}function g(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function y(e){let t,n=e.depsTail,r=n;while(r){const e=r.prevDep;-1===r.version?(r===n&&(n=e),w(r),E(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function b(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(_(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function _(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===I)return;if(e.globalVersion=I,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!b(e)))return;e.flags|=2;const t=e.dep,n=o,a=k;o=e,k=!0;try{g(e);const n=e.fn(e._value);(0===t.version||(0,r.$H)(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(i){throw t.version++,i}finally{o=n,k=a,y(e),e.flags&=-3}}function w(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)w(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function E(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let k=!0;const C=[];function S(){C.push(k),k=!1}function R(){const e=C.pop();k=void 0===e||e}function T(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=o;o=void 0;try{t()}finally{o=e}}}let I=0;class x{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class A{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!o||!k||o===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==o)t=this.activeLink=new x(o,this),o.deps?(t.prevDep=o.depsTail,o.depsTail.nextDep=t,o.depsTail=t):o.deps=o.depsTail=t,V(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=o.depsTail,t.nextDep=void 0,o.depsTail.nextDep=t,o.depsTail=t,o.deps===t&&(o.deps=e)}return t}trigger(e){this.version++,I++,this.notify(e)}notify(e){v();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{m()}}}function V(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)V(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const $=new WeakMap,N=Symbol(""),L=Symbol(""),O=Symbol("");function D(e,t,n){if(k&&o){let t=$.get(e);t||$.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new A),r.map=t,r.key=n),r.track()}}function B(e,t,n,a,o,i){const s=$.get(e);if(!s)return void I++;const l=e=>{e&&e.trigger()};if(v(),"clear"===t)s.forEach(l);else{const o=(0,r.cy)(e),i=o&&(0,r.yI)(n);if(o&&"length"===n){const e=Number(a);s.forEach((t,n)=>{("length"===n||n===O||!(0,r.Bm)(n)&&n>=e)&&l(t)})}else switch((void 0!==n||s.has(void 0))&&l(s.get(n)),i&&l(s.get(O)),t){case"add":o?i&&l(s.get("length")):(l(s.get(N)),(0,r.CE)(e)&&l(s.get(L)));break;case"delete":o||(l(s.get(N)),(0,r.CE)(e)&&l(s.get(L)));break;case"set":(0,r.CE)(e)&&l(s.get(N));break}}m()}function P(e,t){const n=$.get(e);return n&&n.get(t)}function M(e){const t=xe(e);return t===e?t:(D(t,"iterate",O),Te(e)?t:t.map(Ve))}function W(e){return D(e=xe(e),"iterate",O),e}const F={__proto__:null,[Symbol.iterator](){return U(this,Symbol.iterator,Ve)},concat(...e){return M(this).concat(...e.map(e=>(0,r.cy)(e)?M(e):e))},entries(){return U(this,"entries",e=>(e[1]=Ve(e[1]),e))},every(e,t){return z(this,"every",e,t,void 0,arguments)},filter(e,t){return z(this,"filter",e,t,e=>e.map(Ve),arguments)},find(e,t){return z(this,"find",e,t,Ve,arguments)},findIndex(e,t){return z(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return z(this,"findLast",e,t,Ve,arguments)},findLastIndex(e,t){return z(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return z(this,"forEach",e,t,void 0,arguments)},includes(...e){return G(this,"includes",e)},indexOf(...e){return G(this,"indexOf",e)},join(e){return M(this).join(e)},lastIndexOf(...e){return G(this,"lastIndexOf",e)},map(e,t){return z(this,"map",e,t,void 0,arguments)},pop(){return X(this,"pop")},push(...e){return X(this,"push",e)},reduce(e,...t){return K(this,"reduce",e,t)},reduceRight(e,...t){return K(this,"reduceRight",e,t)},shift(){return X(this,"shift")},some(e,t){return z(this,"some",e,t,void 0,arguments)},splice(...e){return X(this,"splice",e)},toReversed(){return M(this).toReversed()},toSorted(e){return M(this).toSorted(e)},toSpliced(...e){return M(this).toSpliced(...e)},unshift(...e){return X(this,"unshift",e)},values(){return U(this,"values",Ve)}};function U(e,t,n){const r=W(e),a=r[t]();return r===e||Te(e)||(a._next=a.next,a.next=()=>{const e=a._next();return e.value&&(e.value=n(e.value)),e}),a}const j=Array.prototype;function z(e,t,n,r,a,o){const i=W(e),s=i!==e&&!Te(e),l=i[t];if(l!==j[t]){const t=l.apply(e,o);return s?Ve(t):t}let u=n;i!==e&&(s?u=function(t,r){return n.call(this,Ve(t),r,e)}:n.length>2&&(u=function(t,r){return n.call(this,t,r,e)}));const c=l.call(i,u,r);return s&&a?a(c):c}function K(e,t,n,r){const a=W(e);let o=n;return a!==e&&(Te(e)?n.length>3&&(o=function(t,r,a){return n.call(this,t,r,a,e)}):o=function(t,r,a){return n.call(this,t,Ve(r),a,e)}),a[t](o,...r)}function G(e,t,n){const r=xe(e);D(r,"iterate",O);const a=r[t](...n);return-1!==a&&!1!==a||!Ie(n[0])?a:(n[0]=xe(n[0]),r[t](...n))}function X(e,t,n=[]){S(),v();const r=xe(e)[t].apply(e,n);return m(),R(),r}const H=(0,r.pD)("__proto__,__v_isRef,__isVue"),q=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(r.Bm));function Q(e){(0,r.Bm)(e)||(e=String(e));const t=xe(this);return D(t,"has",e),t.hasOwnProperty(e)}class Y{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e["__v_skip"];const a=this._isReadonly,o=this._isShallow;if("__v_isReactive"===t)return!a;if("__v_isReadonly"===t)return a;if("__v_isShallow"===t)return o;if("__v_raw"===t)return n===(a?o?ge:me:o?ve:fe).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=(0,r.cy)(e);if(!a){let e;if(i&&(e=F[t]))return e;if("hasOwnProperty"===t)return Q}const s=Reflect.get(e,t,Ne(e)?e:n);return((0,r.Bm)(t)?q.has(t):H(t))?s:(a||D(e,"get",t),o?s:Ne(s)?i&&(0,r.yI)(t)?s:s.value:(0,r.Gv)(s)?a?Ee(s):_e(s):s)}}class J extends Y{constructor(e=!1){super(!1,e)}set(e,t,n,a){let o=e[t];if(!this._isShallow){const t=Re(o);if(Te(n)||Re(n)||(o=xe(o),n=xe(n)),!(0,r.cy)(e)&&Ne(o)&&!Ne(n))return!t&&(o.value=n,!0)}const i=(0,r.cy)(e)&&(0,r.yI)(t)?Number(t)<e.length:(0,r.$3)(e,t),s=Reflect.set(e,t,n,Ne(e)?e:a);return e===xe(a)&&(i?(0,r.$H)(n,o)&&B(e,"set",t,n,o):B(e,"add",t,n)),s}deleteProperty(e,t){const n=(0,r.$3)(e,t),a=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&B(e,"delete",t,void 0,a),o}has(e,t){const n=Reflect.has(e,t);return(0,r.Bm)(t)&&q.has(t)||D(e,"has",t),n}ownKeys(e){return D(e,"iterate",(0,r.cy)(e)?"length":N),Reflect.ownKeys(e)}}class Z extends Y{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ee=new J,te=new Z,ne=new J(!0),re=new Z(!0),ae=e=>e,oe=e=>Reflect.getPrototypeOf(e);function ie(e,t,n){return function(...a){const o=this["__v_raw"],i=xe(o),s=(0,r.CE)(i),l="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,c=o[e](...a),d=n?ae:t?$e:Ve;return!t&&D(i,"iterate",u?L:N),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function se(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function le(e,t){const n={get(n){const a=this["__v_raw"],o=xe(a),i=xe(n);e||((0,r.$H)(n,i)&&D(o,"get",n),D(o,"get",i));const{has:s}=oe(o),l=t?ae:e?$e:Ve;return s.call(o,n)?l(a.get(n)):s.call(o,i)?l(a.get(i)):void(a!==o&&a.get(n))},get size(){const t=this["__v_raw"];return!e&&D(xe(t),"iterate",N),Reflect.get(t,"size",t)},has(t){const n=this["__v_raw"],a=xe(n),o=xe(t);return e||((0,r.$H)(t,o)&&D(a,"has",t),D(a,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)},forEach(n,r){const a=this,o=a["__v_raw"],i=xe(o),s=t?ae:e?$e:Ve;return!e&&D(i,"iterate",N),o.forEach((e,t)=>n.call(r,s(e),s(t),a))}};(0,r.X$)(n,e?{add:se("add"),set:se("set"),delete:se("delete"),clear:se("clear")}:{add(e){t||Te(e)||Re(e)||(e=xe(e));const n=xe(this),r=oe(n),a=r.has.call(n,e);return a||(n.add(e),B(n,"add",e,e)),this},set(e,n){t||Te(n)||Re(n)||(n=xe(n));const a=xe(this),{has:o,get:i}=oe(a);let s=o.call(a,e);s||(e=xe(e),s=o.call(a,e));const l=i.call(a,e);return a.set(e,n),s?(0,r.$H)(n,l)&&B(a,"set",e,n,l):B(a,"add",e,n),this},delete(e){const t=xe(this),{has:n,get:r}=oe(t);let a=n.call(t,e);a||(e=xe(e),a=n.call(t,e));const o=r?r.call(t,e):void 0,i=t.delete(e);return a&&B(t,"delete",e,void 0,o),i},clear(){const e=xe(this),t=0!==e.size,n=void 0,r=e.clear();return t&&B(e,"clear",void 0,void 0,n),r}});const a=["keys","values","entries",Symbol.iterator];return a.forEach(r=>{n[r]=ie(r,e,t)}),n}function ue(e,t){const n=le(e,t);return(t,a,o)=>"__v_isReactive"===a?!e:"__v_isReadonly"===a?e:"__v_raw"===a?t:Reflect.get((0,r.$3)(n,a)&&a in t?n:t,a,o)}const ce={get:ue(!1,!1)},de={get:ue(!1,!0)},he={get:ue(!0,!1)},pe={get:ue(!0,!0)};const fe=new WeakMap,ve=new WeakMap,me=new WeakMap,ge=new WeakMap;function ye(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function be(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ye((0,r.Zf)(e))}function _e(e){return Re(e)?e:Ce(e,!1,ee,ce,fe)}function we(e){return Ce(e,!1,ne,de,ve)}function Ee(e){return Ce(e,!0,te,he,me)}function ke(e){return Ce(e,!0,re,pe,ge)}function Ce(e,t,n,a,o){if(!(0,r.Gv)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const i=be(e);if(0===i)return e;const s=o.get(e);if(s)return s;const l=new Proxy(e,2===i?a:n);return o.set(e,l),l}function Se(e){return Re(e)?Se(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Re(e){return!(!e||!e["__v_isReadonly"])}function Te(e){return!(!e||!e["__v_isShallow"])}function Ie(e){return!!e&&!!e["__v_raw"]}function xe(e){const t=e&&e["__v_raw"];return t?xe(t):e}function Ae(e){return!(0,r.$3)(e,"__v_skip")&&Object.isExtensible(e)&&(0,r.yQ)(e,"__v_skip",!0),e}const Ve=e=>(0,r.Gv)(e)?_e(e):e,$e=e=>(0,r.Gv)(e)?Ee(e):e;function Ne(e){return!!e&&!0===e["__v_isRef"]}function Le(e){return De(e,!1)}function Oe(e){return De(e,!0)}function De(e,t){return Ne(e)?e:new Be(e,t)}class Be{constructor(e,t){this.dep=new A,this["__v_isRef"]=!0,this["__v_isShallow"]=!1,this._rawValue=t?e:xe(e),this._value=t?e:Ve(e),this["__v_isShallow"]=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this["__v_isShallow"]||Te(e)||Re(e);e=n?e:xe(e),(0,r.$H)(e,t)&&(this._rawValue=e,this._value=n?e:Ve(e),this.dep.trigger())}}function Pe(e){return Ne(e)?e.value:e}const Me={get:(e,t,n)=>"__v_raw"===t?e:Pe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return Ne(a)&&!Ne(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function We(e){return Se(e)?e:new Proxy(e,Me)}class Fe{constructor(e){this["__v_isRef"]=!0,this._value=void 0;const t=this.dep=new A,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Ue(e){return new Fe(e)}function je(e){const t=(0,r.cy)(e)?new Array(e.length):{};for(const n in e)t[n]=Xe(e,n);return t}class ze{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this["__v_isRef"]=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return P(xe(this._object),this._key)}}class Ke{constructor(e){this._getter=e,this["__v_isRef"]=!0,this["__v_isReadonly"]=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ge(e,t,n){return Ne(e)?e:(0,r.Tn)(e)?new Ke(e):(0,r.Gv)(e)&&arguments.length>1?Xe(e,t,n):Le(e)}function Xe(e,t,n){const r=e[t];return Ne(r)?r:new ze(e,t,n)}class He{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new A(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=I-1,this.next=void 0,this.effect=this,this["__v_isReadonly"]=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags||o===this))return f(this,!0),!0}get value(){const e=this.dep.track();return _(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qe(e,t,n=!1){let a,o;(0,r.Tn)(e)?a=e:(a=e.get,o=e.set);const i=new He(a,o,n);return i}const Qe={},Ye=new WeakMap;let Je;function Ze(e,t=!1,n=Je){if(n){let t=Ye.get(n);t||Ye.set(n,t=[]),t.push(e)}else 0}function et(e,t,n=r.MZ){const{immediate:a,deep:o,once:i,scheduler:l,augmentJob:u,call:d}=n,h=e=>o?e:Te(e)||!1===o||0===o?tt(e,1):tt(e);let p,f,v,m,g=!1,y=!1;if(Ne(e)?(f=()=>e.value,g=Te(e)):Se(e)?(f=()=>h(e),g=!0):(0,r.cy)(e)?(y=!0,g=e.some(e=>Se(e)||Te(e)),f=()=>e.map(e=>Ne(e)?e.value:Se(e)?h(e):(0,r.Tn)(e)?d?d(e,2):e():void 0)):f=(0,r.Tn)(e)?t?d?()=>d(e,2):e:()=>{if(v){S();try{v()}finally{R()}}const t=Je;Je=p;try{return d?d(e,3,[m]):e(m)}finally{Je=t}}:r.tE,t&&o){const e=f,t=!0===o?1/0:o;f=()=>tt(e(),t)}const b=s(),_=()=>{p.stop(),b&&b.active&&(0,r.TF)(b.effects,p)};if(i&&t){const e=t;t=(...t)=>{e(...t),_()}}let w=y?new Array(e.length).fill(Qe):Qe;const E=e=>{if(1&p.flags&&(p.dirty||e))if(t){const e=p.run();if(o||g||(y?e.some((e,t)=>(0,r.$H)(e,w[t])):(0,r.$H)(e,w))){v&&v();const n=Je;Je=p;try{const n=[e,w===Qe?void 0:y&&w[0]===Qe?[]:w,m];w=e,d?d(t,3,n):t(...n)}finally{Je=n}}}else p.run()};return u&&u(E),p=new c(f),p.scheduler=l?()=>l(E,!1):E,m=e=>Ze(e,!1,p),v=p.onStop=()=>{const e=Ye.get(p);if(e){if(d)d(e,4);else for(const t of e)t();Ye.delete(p)}},t?a?E(!0):w=p.run():l?l(E.bind(null,!0),!0):p.run(),_.pause=p.pause.bind(p),_.resume=p.resume.bind(p),_.stop=_,_}function tt(e,t=1/0,n){if(t<=0||!(0,r.Gv)(e)||e["__v_skip"])return e;if(n=n||new Set,n.has(e))return e;if(n.add(e),t--,Ne(e))tt(e.value,t,n);else if((0,r.cy)(e))for(let r=0;r<e.length;r++)tt(e[r],t,n);else if((0,r.vM)(e)||(0,r.CE)(e))e.forEach(e=>{tt(e,t,n)});else if((0,r.Qd)(e)){for(const r in e)tt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&tt(e[r],t,n)}return e}}}]);